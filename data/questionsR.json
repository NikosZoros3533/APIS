{
	"backoff": 0,
	"has_more": true,
	"page": 5,
	"quota_max": 10000,
	"quota_remaining": 9904,
	"total": 0,
	"items": [{
		"tags": ["r", "function"],
		"owner": {
			"reputation": 21,
			"user_id": 17123969,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJwWlU8fnx0EUER956eU1w_aEGftEiHPGWjhVbpR=k-s256",
			"display_name": "xin hwa",
			"link": "https://stackoverflow.com/users/17123969/xin-hwa"
		},
		"is_answered": false,
		"view_count": 3,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676765877,
		"creation_date": 1676765877,
		"question_id": 75497233,
		"link": "https://stackoverflow.com/questions/75497233/reordering-elements-of-a-list",
		"title": "Reordering elements of a list",
		"body": "<p>I'm trying to create a function in R that takes a list as an input and reorder its elements based on the mean of each element (for example, the first element will be the one with the largest mean value, etc.) I'm trying to find the easiest way to do it without having to use any loops. I tried to sort the mean like below but couldn't figure out how to have the elements associated with the mean to move along. Any suggestions or advice would be appreciated.</p>\n<pre><code>function1 &lt;- function(x){\n  return(sort(mean(x), decreasing = T))\n}\nfunction2 &lt;- function(x) {\n  return(lapply(function1, x))\n}\n\ntestlist &lt;- list(c(10, 5, 1), c(3, 2), c(77, 90, 1), c(23, 34), c(2, 35, 22))\nfunction2(testlist)\n</code></pre>\n"
	}, {
		"tags": ["c++", "r"],
		"owner": {
			"reputation": 9,
			"user_id": 10797316,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/917379218409552/picture?type=large",
			"display_name": "Slangevar",
			"link": "https://stackoverflow.com/users/10797316/slangevar"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676765806,
		"creation_date": 1676764870,
		"last_edit_date": 1676765806,
		"question_id": 75497172,
		"link": "https://stackoverflow.com/questions/75497172/r-session-crashes-when-using-so-file-that-uses-openblas",
		"title": "R session crashes when using .so file that uses OpenBLAS",
		"body": "<p>I tried to write some simple matrix calculation code in c++ with OpenBLAS and then import my program into R. I did not use any Rcpp related things.</p>\n<p>When compiled alone, the c++ program works perfectly. When I commented the few lines with OpenBLAS functions, used <code>R CMD SHLIB</code> to compile it and used <code>dyn.load</code> to import the .so file into my R program, R works fine.</p>\n<p>However, if I uncommented the OpenBLAS-involved part, R crashes every time. When run from terminal, the following error message was reported:</p>\n<pre><code>R(90544,0x16bd7f000) malloc: Heap corruption detected, free list is damaged at 0x6000033d0620\n*** Incorrect guard value: 0\nR(90544,0x16bd7f000) malloc: *** set a breakpoint in malloc_error_break to debug\nzsh: abort      R\n</code></pre>\n<p>Do I miss something? I do need some help since I struggled with this for a long time. Thank you guys.</p>\n"
	}, {
		"tags": ["r", "cluster-analysis", "hierarchical-clustering", "pvclust"],
		"owner": {
			"reputation": 63,
			"user_id": 18497691,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJxaaF445dYvunMd9xjGqxhpT1zM8QmdEfKQoL1C=k-s256",
			"display_name": "N.F.F.",
			"link": "https://stackoverflow.com/users/18497691/n-f-f"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676765570,
		"creation_date": 1676744737,
		"last_edit_date": 1676765570,
		"question_id": 75495466,
		"link": "https://stackoverflow.com/questions/75495466/pvcluster-with-different-sample-amounts-in-each-cluster",
		"title": "PVcluster with different sample amounts in each cluster",
		"body": "<p>I am using pvclust do do some hierarchical cluster analysis, of different locations I sampled. While the primary sampling unit is the same throughout, due to logistical reasons there are different number of samples at each site. I want to do a cluster analysis by site to see which places have similar species composition. Do I need to subset my data so I have the same number of samples at each site?</p>\n<p>Thanks very much!</p>\n<p>Edit: I am specifically planing to use the default (correlation as my distance method (method.dist = &quot;correlation&quot;)</p>\n"
	}, {
		"tags": ["r", "json", "dataframe", "file"],
		"owner": {
			"reputation": 1005,
			"user_id": 7753635,
			"user_type": "registered",
			"accept_rate": 90,
			"profile_image": "https://www.gravatar.com/avatar/6a2b919a0a99c3871be42969fec98db5?s=256&d=identicon&r=PG&f=1",
			"display_name": "beginner",
			"link": "https://stackoverflow.com/users/7753635/beginner"
		},
		"is_answered": true,
		"view_count": 9,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676764943,
		"creation_date": 1676764251,
		"question_id": 75497144,
		"link": "https://stackoverflow.com/questions/75497144/how-to-convert-information-in-a-json-file-into-a-dataframe-in-r",
		"title": "How to convert information in a JSON file into a dataframe in R?",
		"body": "<p>I have some information in the <code>JSON</code> file named <code>data.json</code> like below:</p>\n<pre><code>{\n  &quot;header&quot; : {\n    &quot;apiVersion&quot; : &quot;v1&quot;,\n    &quot;code&quot; : &quot;200&quot;,\n    &quot;service&quot; : &quot;catalogwebservice&quot;,\n    &quot;developerMessage&quot; : &quot;&quot;,\n    &quot;userMessage&quot; : &quot;OK&quot;,\n    &quot;errorCode&quot; : &quot;1&quot;,\n    &quot;docLink&quot; : &quot;https://ega-archive.org&quot;,\n    &quot;errorStack&quot; : &quot;&quot;\n  },\n  &quot;response&quot; : {\n    &quot;numTotalResults&quot; : 12,\n    &quot;resultType&quot; : &quot;SampleData&quot;,\n    &quot;result&quot; : [ {\n      &quot;alias&quot; : &quot;JKDFG093.T2&quot;,\n      &quot;egaStableId&quot; : &quot;EGAN00003456789&quot;,\n      &quot;centerName&quot; : &quot;Novartis&quot;,\n      &quot;creationTime&quot; : &quot;2016-05-13Y17:08.001Z&quot;,\n      &quot;title&quot; : &quot;JKDFG093.T2&quot;,\n      &quot;bioSampleId&quot; : &quot;MADFG110656789&quot;,\n      &quot;subjectId&quot; : &quot;JKDFG093&quot;,\n      &quot;gender&quot; : &quot;male&quot;,\n      &quot;phenotype&quot; : &quot;Cancer&quot;,\n      &quot;attributes&quot; : null\n    }, {\n      &quot;alias&quot; : &quot;JKDFG093.T1&quot;,\n      &quot;egaStableId&quot; : &quot;EGAN00003456780&quot;,\n      &quot;centerName&quot; : &quot;Novartis&quot;,\n      &quot;creationTime&quot; : &quot;2016-05-13Y17:08.001Z&quot;,\n      &quot;title&quot; : &quot;JKDFG093.T1&quot;,\n      &quot;bioSampleId&quot; : &quot;MADFG110656790&quot;,\n      &quot;subjectId&quot; : &quot;JKDFG093&quot;,\n      &quot;gender&quot; : &quot;female&quot;,\n      &quot;phenotype&quot; : &quot;Cancer&quot;,\n      &quot;attributes&quot; : null\n    }, {\n      &quot;alias&quot; : &quot;JKDFG087.T1&quot;,\n      &quot;egaStableId&quot; : &quot;EGAN00003456781&quot;,\n      &quot;centerName&quot; : &quot;Novartis&quot;,\n      &quot;creationTime&quot; : &quot;2016-05-13Y17:08.001Z&quot;,\n      &quot;title&quot; : &quot;JKDFG087.T1&quot;,\n      &quot;bioSampleId&quot; : &quot;MADFG110656791&quot;,\n      &quot;subjectId&quot; : &quot;JKDFG087&quot;,\n      &quot;gender&quot; : &quot;male&quot;,\n      &quot;phenotype&quot; : &quot;Cancer&quot;,\n      &quot;attributes&quot; : null\n    } ]\n  }\n}\n</code></pre>\n<p>I want to convert the information in a <code>JSON</code> file into a data frame. I need information like <code>alias, egaStableId, centerName, creationTime, title, bioSampleId, subjectId, gender, phenotype, and attributes</code> from the above JSON file as column names and their respective information showing in the data frame.</p>\n<p>I loaded the <code>JSON file in R</code> and tried converting it into a data frame, but ended up with some errors.</p>\n<pre><code>library(rjson)\ndata &lt;- rjson::fromJSON(file = &quot;data.json&quot;)\njson_data_frame &lt;- as.data.frame(data)\n</code></pre>\n<p>The error I got:</p>\n<pre><code>Error in (function (..., row.names = NULL, check.rows = FALSE, check.names = TRUE,  : \n  arguments imply differing number of rows: 1, 0\n</code></pre>\n<p>Any help is appreciated. Thank you !!</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 311,
			"user_id": 13002697,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3d557c7c6ca064063c419f3ded839012?s=256&d=identicon&r=PG&f=1",
			"display_name": "kam",
			"link": "https://stackoverflow.com/users/13002697/kam"
		},
		"is_answered": true,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676764071,
		"creation_date": 1676763054,
		"question_id": 75497046,
		"link": "https://stackoverflow.com/questions/75497046/exchange-the-values-between-two-columns-based-on-a-condition-using-r",
		"title": "Exchange the values between two columns based on a condition using R",
		"body": "<p>I have got the following df. I want if the value in the dm column is less than 20000, then that value should go to the nd column. Similarly, if the value in the nd column is greater then 20000 then that value should go to the dm column</p>\n<pre><code>structure(list(id = c(1, 2, 3), nd = c(NA, 20076, NA), dm = c(10113, \nNA, 10188)), class = &quot;data.frame&quot;, row.names = c(NA, -3L))\n</code></pre>\n<p>I want my final df to look like this</p>\n<pre><code>structure(list(id = c(1, 2, 3), nd = c(10113, NA, 10188), dm = c(NA, \n20076, NA)), class = &quot;data.frame&quot;, row.names = c(NA, -3L))\n</code></pre>\n<p>Thank you</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 9202,
			"user_id": 1818713,
			"user_type": "registered",
			"accept_rate": 89,
			"profile_image": "https://www.gravatar.com/avatar/62d34c70ac72915919cb256db6c05b24?s=256&d=identicon&r=PG",
			"display_name": "Dean MacGregor",
			"link": "https://stackoverflow.com/users/1818713/dean-macgregor"
		},
		"is_answered": false,
		"view_count": 98,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676763727,
		"creation_date": 1632492784,
		"question_id": 69316465,
		"link": "https://stackoverflow.com/questions/69316465/does-r-have-an-equivalent-to-pythons-io-for-saving-file-like-objects-to-memory",
		"title": "Does R have an equivalent to python&#39;s io for saving file like objects to memory?",
		"body": "<p>In python we can <code>import io</code> and then make make a file like object with <code>some_variable=io.BytesIO()</code> and then download any type of file to that and interact with it like it were a locally saved file except that it's in memory.  Does R have something like that?  To be clear I'm not asking about what any particular OS does when you save some R object to a temp file.</p>\n<p>This is kind of a duplicate of <a href=\"https://stackoverflow.com/questions/12940343/can-i-write-to-and-access-a-file-in-memory-in-r\">Can I write to and access a file in memory in R?</a> but that is about 9 years old so maybe the functionality exists now either in base or with a package.</p>\n"
	}, {
		"tags": ["r", "regression", "interpolation", "np"],
		"owner": {
			"reputation": 1,
			"user_id": 21242033,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/60c9f652a2cbf3c023371e430f777bf9?s=256&d=identicon&r=PG",
			"display_name": "eor",
			"link": "https://stackoverflow.com/users/21242033/eor"
		},
		"is_answered": false,
		"view_count": 3,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676763713,
		"creation_date": 1676763713,
		"question_id": 75497097,
		"link": "https://stackoverflow.com/questions/75497097/how-can-i-manually-set-bandwidth-values-in-each-direction-for-2d-kernel-regressi",
		"title": "How can I manually set bandwidth values in each direction for 2D kernel regression?",
		"body": "<p>I currently have working code that interpolates the x and y components of velocity vectors. The current code uses npregbw to optimize the bandwidth values. I would like to manually override the values and choose my own bandwidths but none of my attempts have been successful:</p>\n<p>This is the current code:</p>\n<pre><code>\nkrViridisColors &lt;- function(xs, a=min(xs), b=max(xs), palette=&quot;viridis&quot;) {\n  colour_values(c(xs, a, b), palette=palette)[1:length(xs)]\n}\n\nkrInterpolation &lt;- function(xObs, vObs, xPred, bandwidth_x1, bandwidth_x2) {\n  bandwidth &lt;- list(bw=c(bandwidth_x1, bandwidth_x2))\n  regression &lt;- npreg(list(bw=c(bandwidth_x1, bandwidth_x2)), exdat=xPred, xdat=xObs, ydat=vObs)\n  show(bandwidth)\n  vPred &lt;- regression$mean\n  vPred\n}\n\ndataFrame &lt;- read.table(&quot;randomized125_v1.csv&quot;, header=TRUE, sep=&quot;,&quot;)\nxObs &lt;- cbind(dataFrame$x1, dataFrame$x2)\nv1Obs &lt;- dataFrame$v1\nv2Obs &lt;- dataFrame$v2\n\nx1Pred &lt;- seq(from=min(xObs[,1]), to=max(xObs[,1]), length.out=24)\nx2Pred &lt;- seq(from=min(xObs[,2]), to=max(xObs[,2]), length.out=46)\nxPred &lt;- as.matrix(expand.grid(x1Pred, x2Pred))\n\nv1Pred &lt;- krInterpolation(xObs, v1Obs, xPred, bandwidth_x1 = 200, bandwidth_x2 = 200)\n\nv2Pred &lt;- krInterpolation(xObs, v2Obs, xPred, bandwidth_x1 = 200, bandwidth_x2 = 200)\n\n</code></pre>\n<p>Most of this is not relevant, but I don't get why it is not using the set bandwidths for smoothing and still using the optimized values.</p>\n<p>I tried modifying the original code:</p>\n<pre><code>krInterpolation &lt;- function(xObs, vObs, xPred, bandwidth) {\n  bandwidth &lt;- np::npregbw(xdat=xObs, ydat=vObs, regtype=&quot;lc&quot;)\n  show(bandwidth)\n  regression &lt;- np::npreg(bws=bandwidth, exdat=xPred)\n  vPred &lt;- regression$mean\n  vPred\n}\n</code></pre>\n<p>to instead specify the two bandwidth values manually, but the results are identical.</p>\n"
	}, {
		"tags": ["r", "for-loop", "indexing"],
		"owner": {
			"reputation": 55,
			"user_id": 5837662,
			"user_type": "registered",
			"accept_rate": 17,
			"profile_image": "https://www.gravatar.com/avatar/2bb59a2b7e91df23012ed35102a3bf9a?s=256&d=identicon&r=PG&f=1",
			"display_name": "Log On",
			"link": "https://stackoverflow.com/users/5837662/log-on"
		},
		"is_answered": true,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75497087,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676763637,
		"creation_date": 1676761632,
		"question_id": 75496940,
		"link": "https://stackoverflow.com/questions/75496940/using-table-with-for-loop",
		"title": "using table() with for loop",
		"body": "<pre><code>class&lt;- c('A','B')\nvar2&lt;- c(1,0)\nvar3 &lt;- c(0,1)\n\ndf&lt;- data.frame(class,var2,var3)\n\n\n\nfor (i in colnames(df)[2:3])\n{\n#print(i)\ntable(paste0('df$',i), df$class)\n}\n</code></pre>\n<p>results in error 'all arguments must have the same length'. Also tried putting <code>get(paste0('df$',i))</code></p>\n<p>Is there a way to loop through these columns and tabulate?</p>\n"
	}, {
		"tags": ["r", "sequence", "categorization"],
		"owner": {
			"reputation": 1,
			"user_id": 11018908,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/41d2d62cc42a41dfcfccc9e6e53db36c?s=256&d=identicon&r=PG",
			"display_name": "cathalcom",
			"link": "https://stackoverflow.com/users/11018908/cathalcom"
		},
		"is_answered": false,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676763340,
		"creation_date": 1676747087,
		"last_edit_date": 1676747241,
		"question_id": 75495724,
		"link": "https://stackoverflow.com/questions/75495724/identify-sequences-of-approximately-equivalent-values-in-a-series-using-r",
		"title": "identify sequences of approximately equivalent values in a series using R",
		"body": "<p>I have a series of values that includes strings of values that are close to each other, for example the sequences below. Note that roughly around the places I have categorized the values in V1 with distinct values in V2, the range of the values changes. That is, all the values called 1 in V2 are within 20 points of each other. All the values marked 2 in V2 are within 20 points of each other. All the values marked 3 are within 20 points of each other, etc. Notice that the values are not identical (they are all different). But instead, they cluster around a common value.</p>\n<p>I identified these clusters manually. How could I automate it?</p>\n<pre><code>        V1 V2\n1  399.710  1\n2  403.075  1\n3  405.766  1\n4  407.112  1\n5  408.458  1\n6  409.131  1\n7  410.477  1\n8  411.150  1\n9  412.495  1\n10 332.419  2\n11 330.400  2\n12 329.054  2\n13 327.708  2\n14 326.363  2\n15 325.017  2\n16 322.998  2\n17 319.633  2\n18 314.923  2\n19 288.680  3\n20 285.315  3\n21 283.969  3\n22 281.950  3\n23 279.932  3\n24 276.567  3\n25 273.875  3\n26 272.530  3\n27 271.857  3\n28 272.530  3\n29 273.875  3\n30 274.548  3\n31 275.894  3\n32 275.894  3\n33 276.567  3\n34 277.240  3\n35 278.586  3\n36 279.932  3\n37 281.950  3\n38 284.642  3\n39 288.007  3\n40 291.371  3\n41 294.063  4\n42 295.409  4\n43 296.754  4\n44 297.427  4\n45 298.100  4\n46 299.446  4\n47 300.792  4\n48 303.484  4\n49 306.848  4\n50 327.708  5\n51 309.540  6\n52 310.213  6\n53 309.540  6\n54 306.848  6\n55 304.156  6\n56 302.811  6\n57 302.811  6\n58 304.156  6\n59 305.502  6\n60 306.175  6\n61 306.175  6\n62 304.829  6\n</code></pre>\n<p>I haven't tried anything yet, I don't know how to do this.</p>\n"
	}, {
		"tags": ["r", "select", "na", ".when"],
		"owner": {
			"reputation": 1,
			"user_id": 21241986,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/30001f998d9d75811b90de9ceffb9b19?s=256&d=identicon&r=PG",
			"display_name": "Rach B. ",
			"link": "https://stackoverflow.com/users/21241986/rach-b"
		},
		"is_answered": false,
		"view_count": 6,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676763096,
		"creation_date": 1676763017,
		"last_edit_date": 1676763096,
		"question_id": 75497044,
		"link": "https://stackoverflow.com/questions/75497044/selecting-specific-data-in-an-data-frame-to-replace-using-the-row-and-column-nam",
		"title": "Selecting Specific Data in an Data Frame to replace using the Row and Column names",
		"body": "<p>I am attempting to replace specific NA values with 0 in my data table. I do not want all NAs replaces, only those under certain conditions. For example, &quot;replace NA with Zeros when the row is Cole_1 and the Column includes the designation 'Fall1'&quot;. I have a huge data set, so I need as little manual designating as possible, numbering each column is not an option. Basically, I want to be able to target the cells like playing battleship.</p>\n<p>I have tried: whentest &lt;- count_order_site %&gt;%\nwhen(select(contains(&quot;Fall1&quot;)) &amp; count_order_site[count_order_site$Point_Name == &quot;Cole_1&quot;,], count_order_site[is.na(count_order_site)] &lt;- 0 )\nbut get an error &quot;<code>contains()</code> must be used within a <em>selecting</em> function.&quot;\nI'm not even sure if this is the right path to get what I want.</p>\n<p>The basic layout idea (Sorry it's stacked weird, I can't figure out how to make them next to each other):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Point Name</th>\n<th>ACWO_Fall1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cole_1</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>Cole_2</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ACWO_FAll2</th>\n<th>HOSP_FAll1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>3</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>NA</td>\n<td>5</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>After the functions the data would look like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Point Name</th>\n<th>ACWO_Fall1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cole_1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>Cole_2</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ACWO_FAll2</th>\n<th>HOSP_FAll1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>3</td>\n<td>0</td>\n</tr>\n<tr>\n<td>NA</td>\n<td>5</td>\n</tr>\n</tbody>\n</table>\n</div>"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 787,
			"user_id": 6441508,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://www.gravatar.com/avatar/c0f51ce1cc462d6a8794759638d3100e?s=256&d=identicon&r=PG&f=1",
			"display_name": "l0110",
			"link": "https://stackoverflow.com/users/6441508/l0110"
		},
		"is_answered": true,
		"view_count": 55,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75491070,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676762734,
		"creation_date": 1676691076,
		"last_edit_date": 1676729435,
		"question_id": 75491003,
		"link": "https://stackoverflow.com/questions/75491003/parse-text-files-with-r",
		"title": "Parse text files with R",
		"body": "<p>I am trying to parse a text file with lines like this:</p>\n<pre><code>QUERY   Query_3 Peptide 528 AT1G01110.2\nDOMAINS\n1   Query_3 Specific    404128  374 470 8.74687e-20 84.2155 pfam13178   DUF4005 C   45\n1   Query_3 Non-specific    412094  93  173 0.000607039 42.1551 cd22307 Adgb_C_mid-like NC  45\nENDDOMAINS\nSITES\nENDSITES\nMOTIFS\n1   Query_3 globin helix H  G93 101P    412094\n1   Query_3 IQ motif    V125    143L    412094\n1   Query_3 globin helix A  Q161    173V    412094\nENDMOTIFS\nENDQUERY\nQUERY   Query_4 Peptide 196 AT1G01160.1\nDOMAINS\n1   Query_4 Specific    428268  22  73  8.8084e-19  76.1579 pfam05030   SSXT    -   45\nENDDOMAINS\nENDQUERY\nQUERY   Query_5 Peptide 308 AT1G01180.1\nDOMAINS\n1   Query_5 Specific    433324  139 268 3.13921e-13 64.6367 pfam13578   Methyltransf_24 -   450167\nENDDOMAINS\nENDQUERY\n</code></pre>\n<p>It is essentially tab delimited rows separated by descriptions (e.g. QUERY, DOMAINS, ENDDOMAINS ...). I want to make two data frames for <strong>QUERY</strong> and <strong>DOMAINS</strong> like:</p>\n<pre><code>#data frame 1 (&quot;QUERY&quot; rows):\nQUERY   Query_3 Peptide 528 AT1G01110.2\nQUERY   Query_4 Peptide 196 AT1G01160.1\nQUERY   Query_5 Peptide 308 AT1G01180.1\n\n#data frame 2 (rows after &quot;DOMAINS&quot;):\n1   Query_3 Specific    404128  374 470 8.74687e-20 84.2155 pfam13178   DUF4005 C   45\n1   Query_3 Non-specific    412094  93  173 0.000607039 42.1551 cd22307 Adgb_C_mid-like NC  45\n1   Query_4 Specific    428268  22  73  8.8084e-19  76.1579 pfam05030   SSXT    -   45\n1   Query_5 Specific    433324  139 268 3.13921e-13 64.6367 pfam13578   Methyltransf_24 -   450167\n</code></pre>\n<p>Is there a way to do this in R? Thanks!\n(BTW, this is an output from rpsbproc, a bioinformatics tool for parsing RPS-BLAST output, just in case someone also needs to parse the output.)</p>\n"
	}, {
		"tags": ["r", "installation", "rstudio"],
		"owner": {
			"reputation": 3,
			"user_id": 16795817,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJy_7mH0k_7UOTnGB0SHIT5lBJvUDC3RxQT74h2f=k-s256",
			"display_name": "prickypineapple",
			"link": "https://stackoverflow.com/users/16795817/prickypineapple"
		},
		"is_answered": false,
		"view_count": 6,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676762405,
		"creation_date": 1676759736,
		"question_id": 75496803,
		"link": "https://stackoverflow.com/questions/75496803/error-in-installing-disgenet2r-package-for-rstudio",
		"title": "Error in Installing disgenet2r package for Rstudio",
		"body": "<p>library(devtools)\ninstall_bitbucket(&quot;ibi_group/disgenet2r&quot;)</p>\n<p>Unable to install dependencies such as SPARQL\nERROR: dependency \u2018SPARQL\u2019 is not available for package \u2018disgenet2r\u2019</p>\n<ul>\n<li>removing \u2018/Library/Frameworks/R.framework/Versions/4.2/Resources/library/disgenet2r\u2019\nWarning messages:\n1: package \u2018SPARQL\u2019 is not available for this version of R</li>\n</ul>\n<p>A version of this package for your version of R might be available elsewhere,\nsee the ideas at\n<a href=\"https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages\" rel=\"nofollow noreferrer\">https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages</a>\n2: In i.p(...) :\ninstallation of package \u2018/var/folders/43/7hr3j7q17tn0ns1g67l5vbq80000gn/T//Rtmptk5KoF/file2d1b24460f94/disgenet2r_0.99.2.tar.gz\u2019 had non-zero exit status</p>\n<p>Intalling of library(disgenet2r) for further OMIM research</p>\n"
	}, {
		"tags": ["r", "stargazer"],
		"owner": {
			"reputation": 2472,
			"user_id": 7498328,
			"user_type": "registered",
			"accept_rate": 92,
			"profile_image": "https://www.gravatar.com/avatar/1c2dd368382879485b3e6b60a0c3ba65?s=256&d=identicon&r=PG&f=1",
			"display_name": "user321627",
			"link": "https://stackoverflow.com/users/7498328/user321627"
		},
		"is_answered": false,
		"view_count": 6,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676762299,
		"creation_date": 1676762299,
		"question_id": 75496992,
		"link": "https://stackoverflow.com/questions/75496992/in-the-stargazer-package-in-r-how-can-one-add-a-line-separator-for-the-resultin",
		"title": "In the Stargazer package in R, how can one add a line separator for the resulting output table?",
		"body": "<p>I have two regressions to report in <code>stargazer</code> in <code>R</code>, with <code>add.lines()</code> adding a predicted table at the end. My table currently looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/3Uv0Hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Uv0Hm.png\" alt=\"enter image description here\" /></a></p>\n<p>but I want to add a line right below &quot;Predicted Values on x Values&quot;, so that it is its own row like we have in the &quot;Observations&quot; row. Is there a way to do this?</p>\n<p>Code to generate regression data:</p>\n<pre><code>x &lt;- 1:100\ny &lt;- rnorm(100, 4*x, 5)\nmod1 &lt;- lm(y ~ x)\nmod2 &lt;- lm(y ~ 1)\nse1 &lt;- summary(mod1)$coef[2,2]\nse2 &lt;- summary(mod2)$coef[1,2]\nmod1.pred1 &lt;- predict(mod1, newdata=data.frame(x=1))\nmod2.pred1 &lt;- predict(mod2, newdata=data.frame(x=1))\nmod1.pred2 &lt;- predict(mod1, newdata=data.frame(x=2))\nmod2.pred2 &lt;- predict(mod2, newdata=data.frame(x=2))\n</code></pre>\n<p>Stargazer output with table:</p>\n<pre><code>stargazer(mod1, mod2, se = list(se1, se2), out=&quot;Results.html&quot;, notes=&quot;Two Models&quot;, keep.stat=&quot;n&quot;, type = &quot;text&quot;, \n      table.layout =&quot;ldmc#-t-s-a=n&quot;,\n      add.lines = list(\n        c(&quot;Predicted Values on x Values&quot;),\n        c(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;), # add empty list element\n        c(&quot;Predict when x=1&quot;,mod1.pred1,mod2.pred1),\n        c(&quot;Predict when x=2&quot;,mod1.pred2,mod2.pred2)),\n      add.lines.separator = c(1) # add separator after fourth element)\n</code></pre>\n"
	}, {
		"tags": ["r", "subset", "spatial", "r-raster"],
		"owner": {
			"reputation": 1,
			"user_id": 21239471,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7hIaZRXovO_4La1cMEtM3huivRGZb8B8TwViG4=k-s256",
			"display_name": "JoeG",
			"link": "https://stackoverflow.com/users/21239471/joeg"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676762277,
		"creation_date": 1676722445,
		"last_edit_date": 1676762277,
		"question_id": 75493260,
		"link": "https://stackoverflow.com/questions/75493260/reading-in-a-subset-of-rasters-based-on-filenames-in-a-csv-in-r",
		"title": "Reading in a subset of rasters based on filenames in a csv in R",
		"body": "<p>I have around 4000 rasters (tif) all in a single folder. Each tif shows the distribution of a species. The filename of the tif is the species name. I want to make species richness maps from subsets of the species in the folder. I have a csv file with the filenames of the species i want to subset. How do i read into r the subset of tifs based on the filenames listed in a csv? I also need to export the subset of tifs to another folder.</p>\n<p>I have done a lot of searching online but can't find anything that helps.</p>\n<p>Thanks so much for your help!!</p>\n"
	}, {
		"tags": ["r", "rust", "pivot", "melt", "rust-polars"],
		"owner": {
			"reputation": 381,
			"user_id": 15848470,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/099f30bed715bd1345cca5c2eab14954?s=256&d=identicon&r=PG&f=1",
			"display_name": "Jage",
			"link": "https://stackoverflow.com/users/15848470/jage"
		},
		"is_answered": true,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676762128,
		"creation_date": 1676595557,
		"question_id": 75479341,
		"link": "https://stackoverflow.com/questions/75479341/polars-rust-melt-significantly-slower-than-r-stack",
		"title": "Polars Rust melt() significantly slower than R stack()",
		"body": "<p>I have some R code that takes a wide data.frame and stacks it into a narrow one. I rewrote this in Rust, but am finding it to be painfully slow. I am wondering if I am using bad practice or something here that is killing speed.</p>\n<p>Original R version:</p>\n<pre><code>df = cbind(df[ncol(df)], df[ncol(df)-3], df[ncol(df)-2], df[ncol(df)-1], stack(df[1:(ncol(df)-4)]))\n</code></pre>\n<p>The <code>stack(df[1:(ncol(df)-4)])</code> part takes all but the last 4 columns (usually 1,000) and stacks them. It also creates a second column which indicates which column a row came from. Then I cbind the other 4 columns back to it. R automatically repeats them to match the new length of the narrow df.</p>\n<p>Here is my Polars eager version:</p>\n<pre><code>let n = 1000;\nlet sample_cols = (0..n).collect::&lt;Vec&lt;i32&gt;&gt;()\n    .par_iter()\n    .map(|l| format!(&quot;{}&quot;, l))\n    .collect::&lt;Vec&lt;String&gt;&gt;();\n\nlet mut df = df.melt(&amp;[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;], sample_cols).unwrap();\n</code></pre>\n<p>sample_cols is a Vec containing the column names to be stacked, which are strings from 0 to 999, for the 1000 samples.</p>\n<p>Here is the lazy version:</p>\n<pre><code>let n = 1000;\nlet sample_cols = (0..n).collect::&lt;Vec&lt;i32&gt;&gt;()\n    .par_iter()\n    .map(|l| format!(&quot;{}&quot;, l))\n    .collect::&lt;Vec&lt;String&gt;&gt;();\n\nlet melt_args = MeltArgs {\n    id_vars: vec![&quot;A&quot;.into(), &quot;B&quot;.into(), &quot;C&quot;.into(), &quot;D&quot;.into()],\n    value_vars: sample_cols,\n    variable_name: None,\n    value_name: None,\n};\n\nlet mut df = df.lazy().melt(melt_args).collect()?;\n</code></pre>\n<p>Both Rust versions are similar speed, but much slower than R. With n = 100,000 the R code takes 0.45s on average, but sometimes as little as .23s, while both Rust versions take 13.5s to 14.5s.</p>\n<p>If you would like to run it yourself this should generate dummy data and run it,just make sure to use only the eager or lazy version at a time:</p>\n<pre><code>use rand_distr::{Normal, Distribution};\nuse rayon::prelude::*;\nuse ndarray::Array2;\n#[macro_use]\nextern crate fstrings;\nuse polars::prelude::*;\nuse std::time::Instant;\n\nfn multi_rnorm(n: usize, means: Vec&lt;f64&gt;, sds: Vec&lt;f64&gt;) -&gt; Array2&lt;f64&gt; {\n\n    let mut preds: Array2&lt;f64&gt; = Array2::zeros((means.len(), n));\n\n    preds.axis_iter_mut(ndarray::Axis(0)).into_par_iter().enumerate().for_each(|(i, mut row)| {\n\n        let mut rng = rand::thread_rng();\n        (0..n).into_iter().for_each(|j| {\n            let normal = Normal::new(means[i], sds[i]).unwrap();\n            row[j as usize] = normal.sample(&amp;mut rng);\n        })\n    });\n    preds\n}\n\nlet n = 100000;\n\nlet means: Vec&lt;f64&gt; = vec![0.0; 15];\nlet sds: Vec&lt;f64&gt; = vec![1.0; 15];\nlet preds = rprednorm(n as usize, means, sds);\n\nlet mut df: DataFrame = DataFrame::new(\n    preds.axis_iter(ndarray::Axis(1))\n        .into_par_iter()\n        .enumerate()\n        .map(|(i, col)| {\n            Series::new(\n                &amp;f!(&quot;{i}&quot;),\n                col.to_vec()\n            )\n        })\n        .collect::&lt;Vec&lt;Series&gt;&gt;()\n    )?;\n\nlet start = Instant::now();\nlet sample_cols= (0..n).collect::&lt;Vec&lt;i32&gt;&gt;()\n    .par_iter()\n    .map(|l| format!(&quot;{}&quot;, l))\n    .collect::&lt;Vec&lt;String&gt;&gt;();\n\ndf.with_column(Series::new(&quot;A&quot;, &amp;[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3'&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;]));\ndf.with_column(Series::new(&quot;B&quot;, &amp;[&quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;4&quot;, &quot;4&quot;, &quot;4&quot;, &quot;5&quot;, &quot;5&quot;, &quot;5&quot;]));\ndf.with_column(Series::new(&quot;C&quot;, &amp;[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3'&quot;, &quot;1&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3'&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;]));\ndf.with_column(Series::new(&quot;D&quot;, (0..df.shape().0 as i32).collect::&lt;Vec&lt;i32&gt;&gt;()));\n\nlet melt_args = MeltArgs {\n    id_vars: vec![&quot;A&quot;.into(), &quot;B&quot;.into(), &quot;C&quot;.into(), &quot;D&quot;.into()],\n    value_vars: sample_cols,\n    variable_name: None,\n    value_name: None,\n};\n\nlet start = Instant::now();\nlet mut df = df.lazy().melt(melt_args).collect()?;\nlet duration = start.elapsed();\nprintln!(&quot;{:?}&quot;, duration);\n\nlet start = Instant::now();\nlet mut df = df.melt(&amp;[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;], &amp;sample_cols).unwrap();\nlet duration = start.elapsed();\nprintln!(&quot;{:?}&quot;, duration);\n</code></pre>\n"
	}, {
		"tags": ["r", "format", "anytime"],
		"owner": {
			"reputation": 55,
			"user_id": 15244208,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/3883520101740164/picture?type=large",
			"display_name": "Pratik Mullick",
			"link": "https://stackoverflow.com/users/15244208/pratik-mullick"
		},
		"is_answered": true,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"closed_date": 1676761144,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676761891,
		"creation_date": 1676759757,
		"question_id": 75496804,
		"link": "https://stackoverflow.com/questions/75496804/using-anytime-function-in-r",
		"closed_reason": "Duplicate",
		"title": "Using anytime() function in R",
		"body": "<p>I am trying to convert a string of date and time in R using <code>anytime()</code> function. The string have the format 'date-month-year hour-minute-second'. It seems that the <code>anytime()</code> function does not work for a few cases, as shown in the example below.</p>\n<pre><code>library(lubridate)\nx1&lt;-&quot;03-01-2019 01:00:00&quot;\nx2&lt;-&quot;23-01-2019 17:00:00&quot;\n\nanytime(x1)\n[1] &quot;2019-03-01 01:00:00 CET&quot;\nanytime(x2)\n[1] NA\n</code></pre>\n<p>I am trying to figure out how to get rid of this problem. Thanks for your help :)</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 5293,
			"user_id": 13203841,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-HvRPkbZ2fww/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmIukuXG4_xNEC7bwKps7j_IsLrwQ/s96-c/photo.jpg?sz=256",
			"display_name": "stats_noob",
			"link": "https://stackoverflow.com/users/13203841/stats-noob"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676761765,
		"creation_date": 1676761133,
		"last_edit_date": 1676761765,
		"question_id": 75496896,
		"link": "https://stackoverflow.com/questions/75496896/r-simulating-correlated-coin-flips",
		"title": "R: Simulating Correlated Coin Flips",
		"body": "<p>I am working with the R programming language.</p>\n<p>I want to simulate coin flips such that:</p>\n<ul>\n<li>If heads, then next head with p = 0.6 and tail = 0.4</li>\n<li>if tails, the next tails with p = 0.6 and heads = 0.4</li>\n</ul>\n<p>Using the 'markovchain' package in R, I did this as follows:</p>\n<pre><code>library(markovchain)\n\n# transition matrix\nP &lt;- matrix(c(0.6, 0.4, 0.4, 0.6), byrow = TRUE, nrow = 2)\nrownames(P) &lt;- colnames(P) &lt;- c(&quot;H&quot;, &quot;T&quot;)\n\n\nmc &lt;- new(&quot;markovchain&quot;, states = c(&quot;H&quot;, &quot;T&quot;), transitionMatrix = P)\n\n# Generate states\nstates &lt;- rmarkovchain(n = 100, object = mc, t0 = &quot;H&quot;)\n\n# Print \ntable(states)\n</code></pre>\n<p>The output looks something like this:</p>\n<pre><code>&gt; states\n  [1] &quot;H&quot; &quot;T&quot; &quot;T&quot; &quot;H&quot; &quot;T&quot; &quot;T&quot; &quot;T&quot; &quot;H&quot; &quot;H&quot; \n</code></pre>\n<p><strong>My Question:</strong> Can someone please show me how I can do this in base R?</p>\n<p>I think I need to:</p>\n<ul>\n<li>create an empty list of size &quot;n&quot;</li>\n<li>assign n[1] = H or T with prob 0.5</li>\n<li>write an IFELSE statement that says <code>n[i] = ifelse(n[i-1] == &quot;H&quot;, sample(c(&quot;H&quot;, &quot;T&quot;), prob = c(0.6, 0.4), sample(c(&quot;H&quot;, &quot;T&quot;), prob = c(0.4, 0.6))</code></li>\n</ul>\n<p>But I am not sure how to do this.</p>\n<p>Can someone please show me how to do this?</p>\n<p>Thanks!</p>\n"
	}, {
		"tags": ["r", "machine-learning", "ggplot2", "roc"],
		"owner": {
			"reputation": 359,
			"user_id": 17148496,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1faea53ded948506f8e317c333cb6c38?s=256&d=identicon&r=PG&f=1",
			"display_name": "Kev",
			"link": "https://stackoverflow.com/users/17148496/kev"
		},
		"is_answered": true,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676761640,
		"creation_date": 1676757534,
		"question_id": 75496646,
		"link": "https://stackoverflow.com/questions/75496646/how-to-make-beautiful-roc-curves-for-two-models-in-the-same-plot",
		"title": "How to make beautiful ROC curves for two models in the same plot?",
		"body": "<p>I've trained two xgboost models, say model1 and model2. I have the AUC scores for each model and I want them to appear in the plot. I want to make beautiful ROC curves for both models in the same plot. Something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/fn2QC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fn2QC.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I do that?</p>\n<p>I usually use the library <code>pROC</code>, and I know I need to extract the scores, and the truth from each model, right?</p>\n<p>so something like this maybe:</p>\n<pre><code>roc1 = roc(model1$truth, model1$scores)\nroc2 = roc(model2$truth, model2$scores)\n</code></pre>\n<p>I also need the fpr and tpr for each model:</p>\n<pre><code>D1 = data.frame = (fpr = 1 - roc1$specificities, tpr = roc1$sensitivities)\nD2 = data.frame = (fpr = 1 - roc2$specificities, tpr = roc2$sensitivities)\n</code></pre>\n<p>Then I can maybe add arrows to point out which curve is which:</p>\n<pre><code>arrows = tibble(x1 = c(0.5, 0.13) , x2 = c(0.32, 0.2), y1 = c(0.52, 0.83), y2 = c(0.7,0.7) )\n</code></pre>\n<p>And finally <code>ggplot</code>: (this part is missing)</p>\n<pre><code>ggplot(data = D1, aes(x = fpr, y = tpr)) + \ngeom_smooth(se = FALSE) + \ngeom_smooth(data = D2, color = 'red', se = FALSE) + \nannotate(&quot;text&quot;, x = 0.5, 0.475, label = 'score of model 1') + \nannotate(&quot;text&quot;, x = 0.13, y = 0.9, label = scores of model 2') +\n</code></pre>\n<p>So I need help with two things:</p>\n<ol>\n<li><p>How do I get the right information out from the models, to make ROC curves? How do I get the <code>truth</code> and the <code>prediction scores</code>? The <code>truth</code> are just the labels of the target feature in the training set maybe?</p>\n</li>\n<li><p>How do I continue the code? and is my code right so far?</p>\n</li>\n</ol>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 2615,
			"user_id": 4922844,
			"user_type": "registered",
			"accept_rate": 83,
			"profile_image": "https://www.gravatar.com/avatar/f8613932f642712b27768d9813954e02?s=256&d=identicon&r=PG&f=1",
			"display_name": "Eduardo Bergel",
			"link": "https://stackoverflow.com/users/4922844/eduardo-bergel"
		},
		"is_answered": true,
		"view_count": 3025,
		"down_vote_count": 0,
		"up_vote_count": 9,
		"accepted_answer_id": 38862184,
		"answer_count": 1,
		"score": 9,
		"last_activity_date": 1676761387,
		"creation_date": 1470652209,
		"last_edit_date": 1470655957,
		"question_id": 38826893,
		"link": "https://stackoverflow.com/questions/38826893/shinydashboard-does-not-work-with-uioutput",
		"title": "shinydashboard does not work with uiOutput",
		"body": "<p>I setup the UI in server.R for more control, but shinyDashboard does not work when defined in server.R.\nI use this method with navBarPage without problems. </p>\n\n<p>This code works</p>\n\n<pre><code>library(shiny)     \nlibrary(shinydashboard)\n\nui     &lt;- dashboardPage(  dashboardHeader( ), \n                          dashboardSidebar(),\n                          dashboardBody()   )\n\nserver &lt;- shinyServer(function(input, output) {   })\nrunApp(list(ui= ui, server = server))\n</code></pre>\n\n<p>But this one just show an empty page</p>\n\n<pre><code>ui     &lt;-  uiOutput('dash')\nserver &lt;- shinyServer(function(input, output) { \n  output$dash &lt;- renderUI({   \n    dashboardPage(dashboardHeader( ), \n                  dashboardSidebar(),\n                  dashboardBody()  )\n  }) \n})\nrunApp(list(ui= ui, server = server))\n</code></pre>\n\n<p>This is an example using navBarPage, that works fine</p>\n\n<pre><code>ui     &lt;-  uiOutput('nav')\nserver &lt;- shinyServer(function(input, output) { \n  output$nav &lt;- renderUI({   \n    navbarPage(\"App Title\",  \n               tabPanel(\"Tab 1\"),    \n               tabPanel(\"Tab 2\")  ) \n  })\n})  \nrunApp(list(ui= ui, server = server))\n</code></pre>\n"
	}, {
		"tags": ["r", "sorting", "heatmap", "pheatmap"],
		"owner": {
			"reputation": 89,
			"user_id": 15995966,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a655d227501bc98c759d45cedbeb9bca?s=256&d=identicon&r=PG&f=1",
			"display_name": "violetl",
			"link": "https://stackoverflow.com/users/15995966/violetl"
		},
		"is_answered": true,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75496809,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676759796,
		"creation_date": 1676758788,
		"question_id": 75496742,
		"link": "https://stackoverflow.com/questions/75496742/r-pheatmap-determine-column-order",
		"title": "R pheatmap determine column order",
		"body": "<p>Hi Stack Overflow community,</p>\n<p>I am creating heatmap using pheatmap() and have difficulty ordering columns in a sorted order. My data 'matrix' is already sorted in the desired order for display on the plot.</p>\n<p>I tried save my desired order (ascending order) into 'col_order' and use 'column_order = col_order' as an option in pheatmap(). However, it doesn't work. I also tried set 'cluster_cols = F' but R returns error message 'formal argument &quot;cluster_cols&quot; matched by multiple actual arguments'</p>\n<p>I appreciate any comment!</p>\n<p>Here is my code:</p>\n<pre><code>pheatmap(matrix,\n         annotation_row=groupmatrix,\n         cluster_cols = T,\n         color = colorRampPalette(c(&quot;blue&quot;, &quot;white&quot;, &quot;red&quot;))(50),\n         show_colnames = T,\n         scale=&quot;row&quot;,  \n         border_color =&quot;NA&quot;,\n         fontsize =8,\n         fontsize_row=6,\n         fontsize_col=6,\n         treeheight_row = 0,\n         treeheight_col = 0, # remove dendrogram\n         cluster_rows = F,\n         cluster_cols = F)\n</code></pre>\n<p>Here is what my plot looks like right now, the x-axis order is all mess up and I want it to go from 1 to 48 in order.</p>\n<p><a href=\"https://i.stack.imgur.com/TJSwe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TJSwe.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 55,
			"user_id": 20512737,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/655dc69003c9550d03dee7f01b32362d?s=256&d=identicon&r=PG",
			"display_name": "Aaron Morris",
			"link": "https://stackoverflow.com/users/20512737/aaron-morris"
		},
		"is_answered": true,
		"view_count": 50,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75493532,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676759461,
		"creation_date": 1676687906,
		"last_edit_date": 1676759461,
		"question_id": 75490846,
		"link": "https://stackoverflow.com/questions/75490846/trying-to-calculate-the-expected-value-of-an-observation",
		"title": "Trying to calculate the Expected Value of an observation",
		"body": "<p>I have a tibble and am trying to use values from two specific rows (Pinnacle book) to perform a calculation.  The values of the calculation will be written to a new column.  Here is the output of dput</p>\n<pre><code>structure(list(id = c(&quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, &quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, \n&quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, &quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, \n&quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, &quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;\n), start = structure(c(1676691000, 1676691000, 1676691000, 1676691000, \n1676691000, 1676691000), tzone = &quot;UTC&quot;, class = c(&quot;POSIXct&quot;, \n&quot;POSIXt&quot;)), book = c(&quot;BetUS&quot;, &quot;BetUS&quot;, &quot;Bovada&quot;, &quot;Bovada&quot;, &quot;Pinnacle&quot;, \n&quot;Pinnacle&quot;), home = c(&quot;San Jos\u00e9 St Spartans&quot;, &quot;San Jos\u00e9 St Spartans&quot;, \n&quot;San Jos\u00e9 St Spartans&quot;, &quot;San Jos\u00e9 St Spartans&quot;, &quot;San Jos\u00e9 St Spartans&quot;, \n&quot;San Jos\u00e9 St Spartans&quot;), away = c(&quot;New Mexico Lobos&quot;, &quot;New Mexico Lobos&quot;, \n&quot;New Mexico Lobos&quot;, &quot;New Mexico Lobos&quot;, &quot;New Mexico Lobos&quot;, &quot;New Mexico Lobos&quot;\n), team = c(&quot;San Jos\u00e9 St Spartans&quot;, &quot;New Mexico Lobos&quot;, &quot;San Jos\u00e9 St Spartans&quot;, \n&quot;New Mexico Lobos&quot;, &quot;San Jos\u00e9 St Spartans&quot;, &quot;New Mexico Lobos&quot;\n), price = c(-140, 120, -140, 120, -138, 117), update = c(&quot;2023-02-18T00:24:43Z&quot;, \n&quot;2023-02-18T00:24:43Z&quot;, &quot;2023-02-18T00:25:10Z&quot;, &quot;2023-02-18T00:25:10Z&quot;, \n&quot;2023-02-18T00:25:04Z&quot;, &quot;2023-02-18T00:25:04Z&quot;), bep = c(0.58333, \n0.45455, 0.58333, 0.45455, 0.57983, 0.46083), no_vig = c(-128.33333, \n128.33333, -128.33333, 128.33333, -125.82353, 125.82353), no_vig_bep = c(0.56204, \n0.43796, 0.56204, 0.43796, 0.55718, 0.44282), win = c(71.43, \n120, 71.43, 120, 72.46, 117)), class = c(&quot;grouped_df&quot;, &quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -6L), groups = structure(list(\nid = c(&quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, &quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, \n&quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, &quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, \n&quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;, &quot;5d8f6b2536fbdc4ab6a3e9759ebc6c51&quot;\n), book = c(&quot;BetUS&quot;, &quot;BetUS&quot;, &quot;Bovada&quot;, &quot;Bovada&quot;, &quot;Pinnacle&quot;, \n&quot;Pinnacle&quot;), team = c(&quot;New Mexico Lobos&quot;, &quot;San Jos\u00e9 St Spartans&quot;, \n&quot;New Mexico Lobos&quot;, &quot;San Jos\u00e9 St Spartans&quot;, &quot;New Mexico Lobos&quot;, \n&quot;San Jos\u00e9 St Spartans&quot;), .rows = structure(list(2L, 1L, \n    4L, 3L, 6L, 5L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n&quot;vctrs_vctr&quot;, &quot;list&quot;))), row.names = c(NA, -6L), class = c(&quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;), .drop = TRUE))\n</code></pre>\n<p>The following is the calculation</p>\n<pre><code>-4.482633 = (.55718 * 71.43) - (.44282 * 100)\n</code></pre>\n<p>The values in the calculation above correspond with the following variables</p>\n<pre><code>-4.482633 = Expected Value I am trying to derive\n.55718 = &quot;no_vig_bep&quot; of Pinnacle\n71.43 = &quot;win&quot; of observation 1\n.44282 = 1 - &quot;no_vig_bep&quot; of Pinnacle or the last row\n100 = a set amount\n</code></pre>\n<p>I Would then like to calculate the other side of the odds as follow</p>\n<pre><code>-2.5796 = (.44282 * 120.00) - (.55718 * 100)\n</code></pre>\n<p>The ultimate goal is to use the values of the Pinnacle book to perform the above calculation against all other books.  The EV will be written to a new column.</p>\n<h4>Included additional id for further clarification</h4>\n<pre><code>structure(list(id = c(&quot;073c154f3c8586868a3ba21522161a70&quot;, \n&quot;073c154f3c8586868a3ba21522161a70&quot;, \n&quot;073c154f3c8586868a3ba21522161a70&quot;, &quot;073c154f3c8586868a3ba21522161a70&quot;, \n&quot;073c154f3c8586868a3ba21522161a70&quot;, &quot;073c154f3c8586868a3ba21522161a70&quot;\n), book = c(&quot;Bovada&quot;, &quot;Pinnacle&quot;, &quot;MyBookie.ag&quot;, &quot;MyBookie.ag&quot;, \n&quot;Pinnacle&quot;, &quot;Bovada&quot;), home = c(&quot;Western Michigan Broncos&quot;, &quot;Western \nMichigan Broncos&quot;, \n&quot;Western Michigan Broncos&quot;, &quot;Western Michigan Broncos&quot;, &quot;Western \nMichigan Broncos&quot;, \n&quot;Western Michigan Broncos&quot;), away = c(&quot;Ball State Cardinals&quot;, \n&quot;Ball State Cardinals&quot;, &quot;Ball State Cardinals&quot;, &quot;Ball State Cardinals&quot;, \n&quot;Ball State Cardinals&quot;, &quot;Ball State Cardinals&quot;), team = c(&quot;Western \nMichigan Broncos&quot;, \n&quot;Ball State Cardinals&quot;, &quot;Western Michigan Broncos&quot;, &quot;Ball State \nCardinals&quot;, \n&quot;Western Michigan Broncos&quot;, &quot;Ball State Cardinals&quot;), price = c(-185, \n-143, -142, 100, 108, 140), bep = c(0.64912, 0.58848, 0.58678, \n0.5, 0.48077, 0.41667), no_vig = c(-155.78947, -122.40329, -117.35537, \n117.35537, 122.40329, 155.78947), no_vig_bep = c(0.60905, 0.55037, \n0.53992, 0.46008, 0.44963, 0.39095), win = c(54.05, 69.93, 70.42, \n100, 108, 140), EV_1 = c(-15.2155015, -6.47562589999999, \n-6.20594459999999, \n-10.074, -6.47696000000001, 7.91119999999999)), class = c(&quot;grouped_df&quot;, \n&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -6L), groups = \nstructure(list(\nbook = c(&quot;Bovada&quot;, &quot;MyBookie.ag&quot;, &quot;Pinnacle&quot;), .rows = structure(list(\n    c(1L, 6L), 3:4, c(2L, 5L)), ptype = integer(0), class = \nc(&quot;vctrs_list_of&quot;, \n&quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -3L), .drop = TRUE))\n</code></pre>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 127,
			"user_id": 19060810,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d5ee1386d4db2d27d966ff05beece82d?s=256&d=identicon&r=PG",
			"display_name": "nesta1992",
			"link": "https://stackoverflow.com/users/19060810/nesta1992"
		},
		"is_answered": false,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676759442,
		"creation_date": 1676655014,
		"last_edit_date": 1676759442,
		"question_id": 75487474,
		"link": "https://stackoverflow.com/questions/75487474/converting-observational-data-indicator-into-a-panel-format-per-id-dplyr",
		"title": "Converting observational-data indicator into a panel format per id (dplyr)",
		"body": "<p>I have a data based on reddit posts where each row represents a single reddit post, along with the username and whether a the month_year at which the post was written.\nI also a binary variable, &quot;collective action,&quot; that is coded 1 if a post contains a collective action call and 0 otherwise. And another variable &quot;directed_to_whom&quot; that predicts to whom is the post directed at (e.g. different branches of government).\nHowever, I am trying to convert such measures into a panel-format where they are measured at the username-level, rather than per post.</p>\n<p>I have a variable &quot;id&quot; that uniquely identifies each username, and for the &quot;collective action,&quot; indicator I am interested in computing the proportion of posts written by username, Eric Cartman, that include mentions of collective action. For example, if Eric Cartman wrote 7 posts on reddit but only 5 of which were labelled as containing collective action, then Cartman would have a collective action proportion of 0.71= 5 collective action posts/ 7 total posts.\nSimilarly, if Cartman only mentions Congress in 4 out of 7 posts, then the proportion for Congress for username, Cartman, would be 0.571= 4 mentions of Congress/ 7 total posts.</p>\n<p>Here is a data example:</p>\n<pre><code>dput(df[1:10,c(1,4,7,8,14)]) # Print data example with specific columns\n</code></pre>\n<p>output:</p>\n<pre><code>structure(list(id = c(213L, 365L, 411L, 192L, 154L, 443L, 453L, \n462L, 213L, 213L), username = c(&quot;Cartman&quot;, &quot;Cartman&quot;, \n&quot;Cartman&quot;, &quot;Kyle profleski&quot;, &quot;Kyle profleski&quot;, \n&quot;Cartman&quot;, &quot;Kyle profleski Kyle profleski&quot;, &quot;Kyle profleski&quot;, \n&quot;Cartman&quot;, &quot;Cartman&quot;), collective_action = c(0, 1, 0, 0, \n1, 1, 0, 0, 0, 1), directed_to_whom = c(&quot;Private employers&quot;, \n&quot;Private employers&quot;, &quot;Non-critical&quot;, &quot;MoL&quot;, &quot;MoL&quot;, &quot;Non-critical&quot;, \n&quot;Private employers&quot;, &quot;Private employers&quot;, &quot;MoL&quot;, &quot;MoL&quot;), month_year = structure(c(2011.41666666667, \n2011.41666666667, 2011.41666666667, 2011.41666666667, 2011.41666666667, \n2011.41666666667, 2011.41666666667, 2011.41666666667, 2011.41666666667, \n2011.41666666667), class = &quot;yearmon&quot;)), class = c(&quot;grouped_df&quot;, \n&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -10L), groups = structure(list(\n    uusername = c(&quot;Cartman&quot;, &quot;Cartman&quot;, \n&quot;Cartman&quot;, &quot;Kyle profleski&quot;, &quot;Kyle profleski&quot;, \n&quot;Cartman&quot;, &quot;Kyle profleski Kyle profleski&quot;, &quot;Kyle profleski&quot;, \n&quot;Cartman&quot;, &quot;Cartman&quot;), .rows = structure(list(\n        5L, 4L, c(1L, 9L, 10L), 2L, 3L, 6L, 7L, 8L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n    &quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -8L), .drop = TRUE))\n</code></pre>\n<p>My expected output is as follows:</p>\n<pre><code>id.    username        collec_action_prop   direc_to_Congress__prop\n521.   Cartman            0.71                        0.57\n501.   Mr.Mackey            0.4                       .32\n499    Kyle profleski       0.3                       0.09\n</code></pre>\n"
	}, {
		"tags": ["r", "macos", "bioconductor"],
		"owner": {
			"reputation": 13430,
			"user_id": 3416349,
			"user_type": "registered",
			"accept_rate": 88,
			"profile_image": "https://i.stack.imgur.com/QYZrW.jpg?s=256&g=1",
			"display_name": "jalapic",
			"link": "https://stackoverflow.com/users/3416349/jalapic"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676759393,
		"creation_date": 1674669911,
		"question_id": 75238053,
		"link": "https://stackoverflow.com/questions/75238053/error-loading-glimma-and-edger-packages-on-mac",
		"title": "Error loading Glimma and edgeR packages on Mac",
		"body": "<p>we are trying to load the <code>edgeR</code> and <code>Glimma</code> packages on a Mac OS version 11.0.  We have installed and loaded other packages successfully from Bioconductor including <code>limma</code>.  It appears that the install of both was successful, but when trying to load the packages we get the following error messages:</p>\n<pre><code>library(edgeR)\nError: package or namespace load failed for \u2018edgeR\u2019 in dyn.load(file, DLLpath = DLLpath, ...):\n unable to load shared object '/Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/edgeR/libs/edgeR.so':\n  dlopen(/Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/edgeR/libs/edgeR.so, 6): Symbol not found: __ZNKSt3__115basic_stringbufIcNS_11char_traitsIcEENS_9allocatorIcEEE3strEv\n  Referenced from: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/edgeR/libs/edgeR.so (which was built for Mac OS X 13.0)\n  Expected in: /usr/lib/libc++.1.dylib\n</code></pre>\n<pre><code>&gt; library(Glimma)\nError: package or namespace load failed for \u2018Glimma\u2019 in dyn.load(file, DLLpath = DLLpath, ...):\n unable to load shared object '/Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/DESeq2/libs/DESeq2.so':\n  dlopen(/Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/DESeq2/libs/DESeq2.so, 6): Symbol not found: __ZNKSt3__115basic_stringbufIcNS_11char_traitsIcEENS_9allocatorIcEEE3strEv\n  Referenced from: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library/DESeq2/libs/DESeq2.so (which was built for Mac OS X 13.0)\n  Expected in: /usr/lib/libc++.1.dylib\n</code></pre>\n<p>The RStudio version is 2022.12.0+353\nThe macOS is 11.2.2 BigSur</p>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 2282,
			"user_id": 1612892,
			"user_type": "registered",
			"accept_rate": 85,
			"profile_image": "https://www.gravatar.com/avatar/bc680ed8d2555accacebc0fe2d8c9691?s=256&d=identicon&r=PG",
			"display_name": "mat",
			"link": "https://stackoverflow.com/users/1612892/mat"
		},
		"is_answered": false,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"bounty_amount": 50,
		"bounty_closes_date": 1677358499,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676758671,
		"creation_date": 1676579690,
		"last_edit_date": 1676620828,
		"question_id": 75477649,
		"link": "https://stackoverflow.com/questions/75477649/non-sequential-input-choice-filtering-in-r-shiny",
		"title": "Non-sequential input choice filtering in R Shiny",
		"body": "<p>I'm trying to generalize the <a href=\"https://mastering-shiny.org/action-dynamic.html#hierarchical-select\" rel=\"nofollow noreferrer\">Hierarchical select boxes</a> approach described in the Mastering Shiny book to enable non-sequential filtering. Currently, the drill-down approach only works if the user selects categories in a specific order, for example, Terriority -&gt; Customer -&gt; Order number. However, I would like the drill-down to work regardless of the initial input the user provides. Additionally, my application involves approximately 10 inputs, so I want the code to be scalable.</p>\n<p>I have been following the example in the Mastering Shiny book, but I'm having difficulty adapting the code to allow for non-sequential filtering. Specifically, when I try to modify the code to accommodate non-sequential filtering, the select boxes become unresponsive.</p>\n<p>Any suggestions for how to modify the code to allow for non-sequential filtering would be greatly appreciated.</p>\n"
	}, {
		"tags": ["r", "algorithm", "tidyverse", "igraph"],
		"owner": {
			"reputation": 197,
			"user_id": 5512469,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/9a8262a56f07adfa2803d19a43dbcef4?s=256&d=identicon&r=PG&f=1",
			"display_name": "msunij",
			"link": "https://stackoverflow.com/users/5512469/msunij"
		},
		"is_answered": true,
		"view_count": 391,
		"down_vote_count": 1,
		"up_vote_count": 12,
		"closed_date": 1676758467,
		"answer_count": 4,
		"score": 11,
		"last_activity_date": 1676758492,
		"creation_date": 1676655080,
		"last_edit_date": 1676659924,
		"question_id": 75487491,
		"link": "https://stackoverflow.com/questions/75487491/algorithmic-way-to-combine-different-contact-number-and-emails-for-same-contact",
		"closed_reason": "Duplicate",
		"title": "Algorithmic way to combine different contact number and emails for same contact",
		"body": "<p>I have the following tibble,</p>\n<pre><code>contact &lt;- tribble(\n  ~name, ~phone, ~email,\n  'John', 123, 'john_abc@gmail.com',\n  'John', 456, 'john_abc@gmail.com',\n  'John', 456, 'john_xyz@gmail.com',\n  'John', 789, 'john_pqr@gmail.com'\n)\n</code></pre>\n<p>I'd like to combine the phone numbers and emails if phone or email are the same, the desired output is the following,</p>\n<pre><code>contact_combined &lt;- tribble(\n  ~name, ~phone, ~email,\n  'John', '123;456', 'john_abc@gmail.com;john_xyz@gmail.com',\n  'John', '789', 'john_pqr@gmail.com'\n)\n</code></pre>\n<p>I've tried grouping it first by name and phone and then by name and emails but it's not giving me the expected results. I'm stuck on finding an algorithmic way to solve this problem, could someone please give me an advice?</p>\n<p>Note: The collapsing of the values in a column is not the question here. It's about selecting the records for the collapsing.</p>\n"
	}, {
		"tags": ["r", "rstudio"],
		"owner": {
			"reputation": 91,
			"user_id": 18246859,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjLpsX2Qqqb1G0Jd4lFV0XeyoYnzCzfOG7jQbIIZg=k-s256",
			"display_name": "G&#233;nesis Monroy",
			"link": "https://stackoverflow.com/users/18246859/g%c3%a9nesis-monroy"
		},
		"is_answered": true,
		"view_count": 1846,
		"down_vote_count": 0,
		"up_vote_count": 9,
		"answer_count": 2,
		"score": 9,
		"last_activity_date": 1676758414,
		"creation_date": 1671747962,
		"last_edit_date": 1671755970,
		"question_id": 74894455,
		"link": "https://stackoverflow.com/questions/74894455/what-does-error-in-file-existspythonpath-file-name-conversion-problem-na",
		"title": "What does &quot;Error in file.exists(pythonPath) : file name conversion problem -- name too long?&quot; mean?",
		"body": "<p>I uninstalled and reinstalled R and RStudio. I installed R v.4.2.2 and RStudio 2022.12.0+353. And when I start a new R session or restart the session, I get that message with the error in the console.<br />\nScreenshot:<br />\n<img src=\"https://i.stack.imgur.com/M3Qvs.png\" alt=\"Screenshot here.\" /></p>\n<p>It doesn't seem to generate problems with my markdowns when I run the codes, but I'd like to know what this error means. I only use the R programming language, I don't use Python.</p>\n"
	}, {
		"tags": ["r", "anova"],
		"owner": {
			"reputation": 1,
			"user_id": 21232506,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4c386335b7ec4d48da0232e7c5a9d6c9?s=256&d=identicon&r=PG",
			"display_name": "Teresa",
			"link": "https://stackoverflow.com/users/21232506/teresa"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676758409,
		"creation_date": 1676624610,
		"last_edit_date": 1676758409,
		"question_id": 75482161,
		"link": "https://stackoverflow.com/questions/75482161/why-do-i-get-different-results-for-p-value-using-tableby-vs-aov",
		"title": "Why do I get different results for p-value using tableby vs aov?",
		"body": "<p>I'm trying to understand the different results I obtain when performing an anova test using different approaches.</p>\n<p>Ultimately, I want to compare the mean of multiple variables (e.g. age, height, weight) across three groups. ( My dataset is much bigger but I tried to produce a reproducible example)</p>\n<pre><code>df &lt;- data.frame(Group = c(1,2,3,3,2,1),\n             Age = c(23, 41, 32, 58, 26, 66),\n             Height = c(165, 188, 190, 201, 171, 178),\n             Weight = c(55, 78, 100, 99, 66, 85))\n</code></pre>\n<p>My first approach was to use the <code>tableby</code> function from the <code>arsenal</code> package, which outputs the p value of the anova:</p>\n<pre><code>    df_tablby&lt;- tableby(Group~ ., data = df, digits= 1,  control =        tableby.control(numeric.stats=c( &quot;meansd&quot;,&quot;Nmiss&quot;)))\n\n    df_tablby_adj&lt;- padjust(df_tablby, method = &quot;bonferroni&quot;)\n\n    tablesummary_df&lt;- summary(df_tablby_adj)\n</code></pre>\n<p>However, I was unable to extract the F-statistics using this function, therefore I ran the anova function instead:</p>\n<pre><code>anova &lt;- aov(Group ~ ., data = df)\nsummary(anova)\n</code></pre>\n<p>The p values are different from what I obtained for the tableby option. Of note, I ran the tableby option without adjusting the p value as well and that will produce a third results.</p>\n<p>I additionally ran the anova, looping through each variable instead of writing it within one function ( my statistical knowledge is very limited so I genuinely tried not knowing what to expect):</p>\n<pre><code>formulae &lt;- lapply(colnames(df)[2:ncol(df)], function(x) as.formula(paste0(x, &quot; ~ Group&quot;)))\nres &lt;- lapply(formulae, function(x) summary(aov(x, data = df)))\nnames(res) &lt;- format(formulae)\nres\n</code></pre>\n<p>With this approach I get yet another results for the p-values.\nI would greatly appreciate if someone could help me understand the differences between the above approaches and ultimately which one is the correct one to use?</p>\n<p>Many thanks!!!</p>\n"
	}, {
		"tags": ["r", "random-forest", "raster", "spatial", "distance-matrix"],
		"owner": {
			"reputation": 215,
			"user_id": 13087048,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/uoFQg.jpg?s=256&g=1",
			"display_name": "Nikos",
			"link": "https://stackoverflow.com/users/13087048/nikos"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676758403,
		"creation_date": 1676744684,
		"last_edit_date": 1676758403,
		"question_id": 75495462,
		"link": "https://stackoverflow.com/questions/75495462/how-to-compute-distance-matrix-for-the-spatialrfrf-spatial-function",
		"title": "How to compute distance.matrix for the spatialRF::rf_spatial function",
		"body": "<p>I am using the package <code>spatialRF</code> in <code>R</code> to perform a regression task. From the <a href=\"https://blasbenito.github.io/spatialRF/\" rel=\"nofollow noreferrer\">example</a> provided by the package, the have precomputed the <code>distance.matrix</code> and they use it in the function <code>spatialRF::rf</code>. Here is an example:</p>\n<pre><code>library(spatialRF)\n\n#loading training data\ndata(block.data)\n\n#names of the response variable and the predictors\ndependent.variable.name &lt;- &quot;ntl&quot;\npredictor.variable.names &lt;- colnames(block.data)[2:4]\n\n#coordinates of the cases\nxy &lt;- block.data[, c(&quot;x&quot;, &quot;y&quot;)]\n\n#distance matrix\ndistance.matrix &lt;- dist(subset(block.data, select = -c(x, y)))\n\n#random seed for reproducibility\nrandom.seed &lt;- 1\n\nmodel.non.spatial &lt;- spatialRF::rf(\n  data = block.data,\n  dependent.variable.name = dependent.variable.name,\n  predictor.variable.names = predictor.variable.names,\n  distance.matrix = distance.matrix,\n  distance.thresholds = 0,\n  xy = xy,\n  seed = random.seed,\n  verbose = FALSE)\n</code></pre>\n<p>When running the spatialRF::rf function I am getting this error: <code>Error in </code>diag&lt;-<code>(</code><em>tmp</em><code>, value = NA): only matrix diagonals can be replaced</code></p>\n<p>My dataset:</p>\n<pre><code>block.data = structure(list(ntl = c(11.4058170318604, 13.7000455856323, 16.0420398712158, \n17.4475727081299, 26.263370513916, 30.658130645752, 19.8927211761475, \n20.917688369751, 23.7149887084961, 25.2641334533691), pop = c(111.031448364258, \n145.096557617188, 166.351989746094, 193.804962158203, 331.787200927734, \n382.979248046875, 237.971466064453, 276.575958251953, 334.015289306641, \n345.376617431641), tirs = c(35.392936706543, 34.4172630310059, \n33.7765464782715, 35.3224639892578, 40.4262886047363, 39.6619148254395, \n38.6306076049805, 36.752326965332, 37.2010040283203, 36.1100578308105\n), agbh = c(1.15364360809326, 0.177780777215958, 0.580717206001282, \n0.647109687328339, 3.84336423873901, 5.6310133934021, 2.10894227027893, \n3.9533429145813, 2.7016019821167, 4.36041164398193), lc = c(40L, \n40L, 40L, 126L, 50L, 50L, 50L, 50L, 40L, 50L)), class = &quot;data.frame&quot;, row.names = c(NA, \n-10L))\n</code></pre>\n<p>For reference, in the example in the link I provided, the distance matrix and the dataset the authors are using it's the same.</p>\n"
	}, {
		"tags": ["r", "dataset", "simulation", "distribution", "replicate"],
		"owner": {
			"reputation": 83,
			"user_id": 1357062,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/ee7d6dea935383fb467205365583e8ae?s=256&d=identicon&r=PG",
			"display_name": "user1357062",
			"link": "https://stackoverflow.com/users/1357062/user1357062"
		},
		"is_answered": true,
		"view_count": 3310,
		"down_vote_count": 0,
		"up_vote_count": 6,
		"answer_count": 4,
		"score": 6,
		"last_activity_date": 1676758353,
		"creation_date": 1335383470,
		"last_edit_date": 1676758353,
		"question_id": 10322742,
		"link": "https://stackoverflow.com/questions/10322742/in-r-how-to-generate-a-dataset-consisting-of-the-means-of-all-column-of-a-dataf",
		"title": "In R, how to generate a dataset consisting of the means of all column of a dataframe?",
		"body": "<p>I can generate 20 observations of a uniform distribution with the runif function : <code> runif(n=20)</code>\nand 100 replicates of the same distribution as following.</p>\n<pre><code>df &lt;- replicate( 100, runif(n=20))\n</code></pre>\n<p>This creates <code>df</code> a matrix of dimensions <code>[20,100]</code> which I can convert into a data frame with 100 columns and 20 rows.</p>\n<p>How can I generate a new data frame consisting of the means of each column of <code>df</code> ?</p>\n<p>Thank you for your help.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 21,
			"user_id": 20290723,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/78c8ae475aef906f0fa36842a8352381?s=256&d=identicon&r=PG",
			"display_name": "not_ginn",
			"link": "https://stackoverflow.com/users/20290723/not-ginn"
		},
		"is_answered": true,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676758295,
		"creation_date": 1676754768,
		"last_edit_date": 1676754826,
		"question_id": 75496426,
		"link": "https://stackoverflow.com/questions/75496426/r-how-to-arrange-in-custom-order-character-vectors-of-a-df-column",
		"title": "R | How to arrange in custom order character vectors of a df column?",
		"body": "<p>I have a dataframe that looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Fruit</th>\n<th>X</th>\n<th>Y</th>\n<th>Z</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>apple, banana, orange, papaya</td>\n<td>a</td>\n<td>f</td>\n<td>k</td>\n</tr>\n<tr>\n<td>banana, orange, grape</td>\n<td>b</td>\n<td>g</td>\n<td>l</td>\n</tr>\n<tr>\n<td>orange, banana</td>\n<td>c</td>\n<td>h</td>\n<td>m</td>\n</tr>\n<tr>\n<td>grape</td>\n<td>d</td>\n<td>i</td>\n<td>n</td>\n</tr>\n<tr>\n<td>banana, grape, orange, apple, papaya</td>\n<td>e</td>\n<td>j</td>\n<td>o</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And I want to set a custom order of appearance in each row. Like:</p>\n<ol>\n<li>Apple</li>\n<li>Orange</li>\n<li>Papaya</li>\n<li>Banana</li>\n<li>Grape</li>\n</ol>\n<p>So the column would look like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Fruit</th>\n<th>X</th>\n<th>Y</th>\n<th>Z</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>apple, orange, papaya, banana</td>\n<td>a</td>\n<td>f</td>\n<td>k</td>\n</tr>\n<tr>\n<td>orange, banana, grape</td>\n<td>b</td>\n<td>g</td>\n<td>l</td>\n</tr>\n<tr>\n<td>orange, banana</td>\n<td>c</td>\n<td>h</td>\n<td>m</td>\n</tr>\n<tr>\n<td>grape</td>\n<td>d</td>\n<td>i</td>\n<td>n</td>\n</tr>\n<tr>\n<td>apple, orange, papaya, banana, grape</td>\n<td>e</td>\n<td>j</td>\n<td>o</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>How can I do this??? I've tried suggestions from other posts, but they're all about arranging dataframe rows, which isn't what I need...</p>\n<p>P.S.: is there any way to do this inside a pipe?</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 143,
			"user_id": 2738483,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "user2738483",
			"link": "https://stackoverflow.com/users/2738483/user2738483"
		},
		"is_answered": true,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676757634,
		"creation_date": 1676669124,
		"question_id": 75489365,
		"link": "https://stackoverflow.com/questions/75489365/r-filtering-rows-based-on-a-group-criterion",
		"title": "R: Filtering rows based on a group criterion",
		"body": "<p>I have a data frame with over 100,000 rows and with about 40 columns. The schools column has about 100 distinct schools. I have data from 1980 to 2023.\nI want to keep all data from schools that have at least 10 rows for each of the years 2018 through 2022. Schools that do not meet that criterion should have all rows deleted.\nIn my minimal example, Schools, I have three schools.\nComputing a table makes it apparent that only Washington should be retained. Adams only has 5 rows for 2018 and Jefferson has 0 for 2018.\nSchools2 is what the result should look like.\nHow do I use the table computation or a dplyr computation to perform the filter?</p>\n<pre><code>Schools = \n  data.frame(school = c(rep('Washington', 60),\n                        rep('Adams',70),\n                        rep('Jefferson', 100)), \n             year = c(rep(2016, 5), rep(2018:2022, each = 10), rep(2023, 5), \n                      rep(2017, 25), rep(2018, 5), rep(2019:2022, each = 10),\n                      rep(2019:2023, each = 20)),\n             stuff = rnorm(230)\n             )\n\nSchools2 = \n  data.frame(school = c(rep('Washington', 60)),\n             year = c(rep(2016, 5), rep(2018:2022, each = 10), rep(2023, 5)), \n             stuff = rnorm(60)\n  )\n\ntable(Schools$school, Schools$year)\n\nSchools |&gt; group_by(school, year) |&gt; summarize(counts = n())\n\n</code></pre>\n"
	}, {
		"tags": ["r", "group-by"],
		"owner": {
			"reputation": 21,
			"user_id": 19149659,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4b3a0da3f79a2da50258aa8fb688bd91?s=256&d=identicon&r=PG",
			"display_name": "TMHRLA3",
			"link": "https://stackoverflow.com/users/19149659/tmhrla3"
		},
		"is_answered": true,
		"view_count": 37,
		"down_vote_count": 1,
		"up_vote_count": 2,
		"accepted_answer_id": 75496446,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676757316,
		"creation_date": 1676753118,
		"last_edit_date": 1676753289,
		"question_id": 75496297,
		"link": "https://stackoverflow.com/questions/75496297/is-there-a-way-to-collapse-rows-based-on-multiple-column-conditions-grouped-by",
		"title": "Is there a way to collapse rows based on multiple column conditions, grouped by ID in R?",
		"body": "<p>I have a df of episodic antibiotic data (long form). For each patient, I\u2019m looking to combine specific antibiotics into \u201ccombo\u201d therapies based on 1) a specific list of antibiotics that would be of interest, and 2) ONLY if those specific antibiotics had the same start dates. The specific therapies of interest are:</p>\n<ul>\n<li>Ampicillin and ceftriaxone</li>\n<li>Ampicillin and gentamicin</li>\n<li>Ampicillin and streptomycin</li>\n</ul>\n<p>I don\u2019t need any other combinations (e.g. if ampicillin and daptomycin start on the same day, I don\u2019t want that combined).</p>\n<p>I have a patient ID by which the antibiotic episodes can be grouped. My start_date variable has already been coerced into date class (YYYY-MM-DD). All other variables are character.</p>\n<p>Here\u2019s a sample set of data. In my actual dataframe, have over 1,000 rows.</p>\n<pre><code>ID &lt;- c(&quot;C1&quot;, &quot;C1&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;, &quot;C3&quot;, &quot;C3&quot;, &quot;C4&quot;, &quot;C4&quot;, &quot;C5&quot;, &quot;C5&quot;, &quot;C5&quot;, &quot;C6&quot;, &quot;C6&quot;)\n\nabx &lt;- c(&quot;ampicillin&quot;, &quot;ceftriaxone&quot;, &quot;vancomycin&quot;, &quot;linezolid&quot;, &quot;ampicillin&quot;, &quot;gentamicin&quot;, &quot;vancomycin&quot;, &quot;piptazo&quot;, &quot;daptomycin&quot;, &quot;ampicillin&quot;, &quot;streptomycin&quot;, &quot;vancomycin&quot;, &quot;ampicillin&quot;, &quot;daptomycin&quot;) \n\ndate &lt;- c(as.Date(&quot;2020-02-01&quot;), as.Date(&quot;2020-02-01&quot;), as.Date(&quot;2020-01-28&quot;), as.Date(&quot;2020-03-01&quot;), as.Date(&quot;2020-02-17&quot;), as.Date(&quot;2020-02-17&quot;), as.Date(&quot;2020-03-01&quot;), as.Date(&quot;2020-01-11&quot;), as.Date(&quot;2020-01-05&quot;), as.Date(&quot;2020-01-05&quot;), as.Date(&quot;2020-01-05&quot;), as.Date(&quot;2020-01-01&quot;), as.Date(&quot;2020-01-14&quot;), as.Date(&quot;2020-01-14&quot;))\n\ndf_abx &lt;- data.frame(ID, abx, date)\n</code></pre>\n<p>This is the solution I\u2019m hoping for:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>abx</th>\n<th>start_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>C1</td>\n<td>ampicillin, ceftriaxone</td>\n<td>2020-02-01</td>\n</tr>\n<tr>\n<td>C1</td>\n<td>vancomycin</td>\n<td>2020-01-28</td>\n</tr>\n<tr>\n<td>C2</td>\n<td>linezolid</td>\n<td>2020-03-01</td>\n</tr>\n<tr>\n<td>C3</td>\n<td>ampicillin, gentamicin</td>\n<td>2020-02-17</td>\n</tr>\n<tr>\n<td>C3</td>\n<td>vancomycin</td>\n<td>2020-03-01</td>\n</tr>\n<tr>\n<td>C4</td>\n<td>piptazo</td>\n<td>2020-01-11</td>\n</tr>\n<tr>\n<td>C4</td>\n<td>daptomycin</td>\n<td>2020-01-05</td>\n</tr>\n<tr>\n<td>C5</td>\n<td>ampicillin, streptomycin</td>\n<td>2020-01-05</td>\n</tr>\n<tr>\n<td>C5</td>\n<td>vancomycin</td>\n<td>2020-01-01</td>\n</tr>\n<tr>\n<td>C6</td>\n<td>ampicillin</td>\n<td>2020-01-14</td>\n</tr>\n<tr>\n<td>C6</td>\n<td>daptomycin</td>\n<td>2020-01-14</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I suspect the solution includes &quot;group_by&quot; for the patient ID, and I've been toying around with summarize and case_when but I haven't gotten to where I want to be.</p>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 6381,
			"user_id": 6447399,
			"user_type": "registered",
			"accept_rate": 54,
			"profile_image": "https://www.gravatar.com/avatar/46f7288222024483b021c1c106c2f0cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "user113156",
			"link": "https://stackoverflow.com/users/6447399/user113156"
		},
		"is_answered": true,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676757112,
		"creation_date": 1676742957,
		"question_id": 75495297,
		"link": "https://stackoverflow.com/questions/75495297/cleaning-up-my-understanding-of-shiny-modules",
		"title": "cleaning up my understanding of Shiny modules",
		"body": "<p>I have a project and I would like to start modularising my code in my Shiny App. I would like to get my head around a few things regarding modules.</p>\n<ol>\n<li><p>I can pass the <code>UI</code> modules to the user interface without any issue <code>ui_MODULE</code> and <code>ui_MODULE_LOCATIONS</code>. My problem arises when I try to pass the server module to the App <code>server_location_dropdown_filter</code>. <strong>How can I fix this issue?</strong></p>\n</li>\n<li><p>My modules are called <code>ui_MODULE(&quot;myMODUEL&quot;)</code> and <code>ui_MODULE_LOCATIONS(&quot;myMODULE2&quot;)</code> - I know the <code>myMODULE</code> and <code>myMODULE2</code> are passed to the <code>NS</code> but I am still having a little difficulty understanding how this part works intuitively - I thought we could reuse the modules by calling them again but this time passing a new <code>NS</code> to the module - i.e. in the App I pass <code>ui_MODULE_LOCATIONS(&quot;USE_AGAIN&quot;)</code> - but I do not get the location dropdowns again... <strong>How can I correctly re-use the modules?</strong></p>\n</li>\n<li><p>I would like to understand a bit better how I can correctly modularise my projects. I read a lot about modules online but I find it easier to learn by applying it to my own code. Can you help modularise the following App?</p>\n</li>\n</ol>\n<p>Shiny App:</p>\n<pre><code>library(bslib)\nlibrary(shiny)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(reactable)\n\n################ GENERATE DATA ##############################\n# Define the US states and cities\nus_states &lt;- c(&quot;Alabama&quot;, &quot;Alaska&quot;, &quot;Arizona&quot;, &quot;Arkansas&quot;, &quot;California&quot;)\nalabama_cities &lt;- c(&quot;Birmingham&quot;, &quot;Huntsville&quot;, &quot;Mobile&quot;, &quot;Montgomery&quot;, &quot;Tuscaloosa&quot;)\nalaska_cities &lt;- c(&quot;Anchorage&quot;, &quot;Fairbanks&quot;, &quot;Juneau&quot;, &quot;Sitka&quot;, &quot;Wasilla&quot;)\narizona_cities &lt;- c(&quot;Phoenix&quot;, &quot;Tucson&quot;, &quot;Mesa&quot;, &quot;Chandler&quot;, &quot;Scottsdale&quot;)\narkansas_cities &lt;- c(&quot;Little Rock&quot;, &quot;Fort Smith&quot;, &quot;Fayetteville&quot;, &quot;Springdale&quot;, &quot;Jonesboro&quot;)\ncalifornia_cities &lt;- c(&quot;Los Angeles&quot;, &quot;San Francisco&quot;, &quot;San Diego&quot;, &quot;San Jose&quot;, &quot;Fresno&quot;)\n\n# Set the seed for reproducibility\nset.seed(123)\n\n# Generate random price and quantity data\ndata &lt;- tibble(\n  state = sample(us_states, 5000, replace = TRUE),\n  city = case_when(\n    state == &quot;Alabama&quot; ~ sample(alabama_cities, 5000, replace = TRUE),\n    state == &quot;Alaska&quot; ~ sample(alaska_cities, 5000, replace = TRUE),\n    state == &quot;Arizona&quot; ~ sample(arizona_cities, 5000, replace = TRUE),\n    state == &quot;Arkansas&quot; ~ sample(arkansas_cities, 5000, replace = TRUE),\n    state == &quot;California&quot; ~ sample(california_cities, 5000, replace = TRUE)\n  ),\n  price = runif(5000, 10, 100),\n  quantity = sample(1:10, 5000, replace = TRUE)\n)\n#############################################################\n\n################# UI ###################\n\nui_MODULE &lt;- function(id) {\n  ns &lt;- NS(id)\n\n  tagList(\n    tags$div(\n      class = &quot;panel-header&quot;,\n      numericInput(&quot;price&quot;, label = &quot;Price?&quot;, value = 10, min = 1, step = 500),\n      numericInput(&quot;quantity&quot;, label = &quot;Quantity?&quot;, value = 10000, min = 1, step = 50),\n      sliderInput(&quot;discount&quot;, label = &quot;Discount&quot;, min = 0, max = 0.25, post  = &quot; %&quot;, value = 0.08, step = 0.001),\n      actionButton(&quot;compute&quot;, &quot;Compute!&quot;)\n\n    )\n  )\n}\n\n################# UI LOCATIONS ###############\nui_MODULE_LOCATIONS = function(id){\n  ns &lt;- NS(id)\n  tagList(\n    tags$div(\n      class = &quot;panel-header-locations&quot;,\n      selectInput(&quot;stateSelect&quot;, label = &quot;Select State Data&quot;, choices = c()),\n      selectInput(&quot;citySelect&quot;, label = &quot;Select City Variable&quot;, choices = c()),\n    )\n  )\n\n}\n\n################## SERVER MODUEL ############\n# This doesn't work correctly...\nserver_location_dropdown_filter &lt;- function(id){\n  moduleServer(id, function(input, output, session){\n    # Changes with changes in the slider input\n\n    updatedTable = reactive(\n      data %&gt;%\n        filter(state == input$stateSelect) %&gt;%\n        filter(city == input$citySelect)\n    )\n\n    output$table = DT::renderDT({\n      updatedTable()\n    })\n  })\n}\n\n############### FUNCTIONS ###################\n\nmyFUNCTION = function(interest){\n  data %&gt;%\n    mutate(\n      p_q = price * quantity,\n      someOtherCalc = p_q*interest\n      )\n}\n\n# myFUNCTION(0.08)\n\n#############################################\n\n\nui &lt;- bootstrapPage(\n  theme = bs_theme(version = 5, bootswatch = 'minty'),\n  #titlePanel(&quot;Old Faithful Geyser Data&quot;),\n\n  navbarPage(&quot;App Title&quot;,\n             tabPanel(&quot;Plot&quot;,\n                      fluidPage(\n                        fluidRow(\n                          column(6,\n                                 ##### UI #######\n                                 ui_MODULE(&quot;myMODUEL&quot;)\n\n                          ),\n                          column(6,\n                                 #### UI Locations ####\n                                 ui_MODULE_LOCATIONS(&quot;myMODULE2&quot;)\n                                 )\n                        ),\n                        fluidRow(\n                          column(6,\n                                 DT::DTOutput('table')\n                                 ),\n                          column(6,\n                                 DT::DTOutput('newTableOUT')\n                                 )\n                        )\n                      )\n             ),\n             tabPanel(&quot;use_UI_Again&quot;,\n                      fluidPage(\n                        fluidRow(\n                          column(12,\n                                 ui_MODULE_LOCATIONS(&quot;USE_AGAIN&quot;)\n                                 )\n                        )\n                      )\n                      )\n  )\n)\n\nserver &lt;- function(input, output, session) {\n  # (1) First observe the states unique values in the data\n  observe({\n    choices = data %&gt;% select(state) %&gt;% unique() %&gt;% pull(state)\n\n    updateSelectInput(\n      session,\n      &quot;stateSelect&quot;,\n      choices = choices\n    )\n  })\n\n  ## (2) ## The cities are then updated to reflect the states selection\n  observeEvent(input$stateSelect,{\n\n    choices = data %&gt;% filter(state == input$stateSelect) %&gt;% select(city) %&gt;% unique() %&gt;% pull(city)\n\n    updateSelectInput(\n      session,\n      &quot;citySelect&quot;,\n      choices = choices\n    )\n  })\n\n  #server_location_dropdown_filter(&quot;myFILTERS&quot;) # here I can't get this working...so I have to run the updatedTable and output$table here\n  updatedTable = reactive(\n    data %&gt;%\n      filter(state == input$stateSelect) %&gt;%\n      filter(city == input$citySelect)\n  )\n\n  output$table = DT::renderDT({\n    updatedTable()\n  })\n\n  # Now I want to update the table by using a function...\n\n  newTable = reactive(\n    updatedTable() %&gt;%\n      myFUNCTION(input$discount)\n  )\n\n  output$newTableOUT = DT::renderDT({\n    newTable()\n  })\n\n}\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "matrix"],
		"owner": {
			"reputation": 63,
			"user_id": 18497691,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJxaaF445dYvunMd9xjGqxhpT1zM8QmdEfKQoL1C=k-s256",
			"display_name": "N.F.F.",
			"link": "https://stackoverflow.com/users/18497691/n-f-f"
		},
		"is_answered": true,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75491221,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676756500,
		"creation_date": 1676691322,
		"question_id": 75491011,
		"link": "https://stackoverflow.com/questions/75491011/creating-a-triangle-corrlation-matrix-style-plot-for-species-pairwise-comparison",
		"title": "Creating a Triangle Corrlation Matrix Style plot for Species Pairwise comparison",
		"body": "<p>I have been doing a series of pairwise chi-squared comparisons of species, and have a data frame with the p_values for each species pair. I would like to create a visualization using ggplot similar to a correlation matrix so we can see what species pairs have significant p-values. With values &gt;.05 in one color and values &lt; or = 0.5 in another. Something similar to this: (<a href=\"https://www.researchgate.net/publication/293654442_cooccur_Probabilistic_Species_Co-Occurrence_Analysis_in_R\" rel=\"nofollow noreferrer\">https://www.researchgate.net/publication/293654442_cooccur_Probabilistic_Species_Co-Occurrence_Analysis_in_R</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/6C7uY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6C7uY.png\" alt=\"\" /></a></p>\n<p>I have tried following these guide:</p>\n<p><a href=\"http://www.sthda.com/english/wiki/ggplot2-quick-correlation-matrix-heatmap-r-software-and-data-visualization\" rel=\"nofollow noreferrer\">http://www.sthda.com/english/wiki/ggplot2-quick-correlation-matrix-heatmap-r-software-and-data-visualization</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=E3De2A73ako\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=E3De2A73ako</a></p>\n<p>Without much success. I am having trouble 1) getting it into a triangle and 2) having the colors be binary rather than a gradient. I would prefer to maintain the order of the species as I have them in my data frames. Any advice would be amazing. I have been driving myself bandannas with this one.</p>\n<p>I have attached dputs of data frames both in wide and long formats!</p>\n<p>Thanks very much!</p>\n<p>Wide.df:</p>\n<pre><code>structure(list(Species1 = c(NA, 8.29661485364936e-14, 0.197328035330918, \n3.73447143215061e-05, 0.0200245227839388, 0.000158518795659732, \n0.999999999999999, 0.999999999999999, 0.200661174254572, 0.0259711510883781, \n0.624415639985824, 0.999999999999995, 0.999999999999991), Species2 = c(8.29661485364936e-14, \nNA, 0.911548596172133, 0.0808672833723648, 0.00232408080140171, \n0.00257625010714883, 0.999999999999777, 0.999999999999777, 0.789829339795786, \n0.198077829941541, 0.768466049890891, 0.999999999999885, 0.999999999999994\n), Species3 = c(0.197328035330918, 0.911548596172133, NA, 0.181696316252709, \n0.575238254258972, 0.939866701307512, 0.999999999999999, 0.999999999999999, \n0.999999999999999, 0.507611967012476, 0.673527222144056, 0.999999999999996, \n1), Species4 = c(3.73447143215061e-05, 0.0808672833723648, 0.181696316252709, \nNA, 1.40996305374498e-10, 0.405410680293625, 0.999999999999999, \n0.999999999999999, 1.56797538624063e-08, 8.50447159522988e-05, \n0.00644405295214749, 0.88381428087806, 0.99999999999993), Species5 = c(0.0200245227839388, \n0.00232408080140171, 0.575238254258972, 1.40996305374498e-10, \nNA, 0.622095128306733, 0.999999999999959, 0.999999999999959, \n0.000115476294641169, 1.60499061530966e-19, 4.67520836455185e-05, \n0.528580893876124, 0.795044191844885), Species6 = c(0.000158518795659732, \n0.00257625010714883, 0.939866701307512, 0.405410680293625, 0.622095128306733, \nNA, 0.999999999999999, 0.999999999999999, 0.200661174254572, \n0.410636112084533, 0.999999999999929, 0.999999999999995, 0.999999999999991\n), Species7 = c(0.999999999999999, 0.999999999999777, 0.999999999999999, \n0.999999999999999, 0.999999999999959, 0.999999999999999, NA, \n0.999999999999299, 0.779426832974571, 0.999999999999933, 0.999999999999999, \n0.999999999999998, 0.999999999999687), Species8 = c(0.999999999999999, \n0.999999999999777, 0.999999999999999, 0.999999999999999, 0.999999999999959, \n0.999999999999999, 0.999999999999299, NA, 0.999999999999999, \n0.611136265859179, 0.999999999999999, 0.999999999999998, 0.999999999999687\n), Species9 = c(0.200661174254572, 0.789829339795786, 0.999999999999999, \n1.56797538624063e-08, 0.000115476294641169, 0.200661174254572, \n0.779426832974571, 0.999999999999999, NA, 0.0311037604732729, \n0.0122054515551129, 0.999999999999984, 0.999999999999999), Species10 = c(0.0259711510883781, \n0.198077829941541, 0.507611967012476, 8.50447159522988e-05, 1.60499061530966e-19, \n0.410636112084533, 0.999999999999933, 0.611136265859179, 0.0311037604732729, \nNA, 0.0403275386741277, 0.508244635418544, 0.999999999999999), \n    Species11 = c(0.624415639985824, 0.768466049890891, 0.673527222144056, \n    0.00644405295214749, 4.67520836455185e-05, 0.999999999999929, \n    0.999999999999999, 0.999999999999999, 0.0122054515551129, \n    0.0403275386741277, NA, 1, 0.999999999999823), Species12 = c(0.999999999999995, \n    0.999999999999885, 0.999999999999996, 0.88381428087806, 0.528580893876124, \n    0.999999999999995, 0.999999999999998, 0.999999999999998, \n    0.999999999999984, 0.508244635418544, 1, NA, 0.999999999998991\n    ), Species13 = c(0.999999999999991, 0.999999999999994, 1, \n    0.99999999999993, 0.795044191844885, 0.999999999999991, 0.999999999999687, \n    0.999999999999687, 0.999999999999999, 0.999999999999999, \n    0.999999999999823, 0.999999999998991, NA)), row.names = c(&quot;Species1&quot;, \n&quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, \n&quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, \n&quot;Species13&quot;), class = &quot;data.frame&quot;)\n</code></pre>\n<p>long.df:</p>\n<pre><code>structure(list(SpeciesA = c(&quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, \n&quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, \n&quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, \n&quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, \n&quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, \n&quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, \n&quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, \n&quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, \n&quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, \n&quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, \n&quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, \n&quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, \n&quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, \n&quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, \n&quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, \n&quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, \n&quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, \n&quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, \n&quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, \n&quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, \n&quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, \n&quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, \n&quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, \n&quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, \n&quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, \n&quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, \n&quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;, &quot;Species1&quot;, \n&quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, \n&quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, \n&quot;Species13&quot;, &quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, &quot;Species4&quot;, \n&quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, &quot;Species10&quot;, \n&quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;), SpeciesB = structure(c(1L, \n1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, \n2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, \n3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, \n4L, 4L, 4L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, 5L, \n6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 7L, 7L, 7L, \n7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 8L, \n8L, 8L, 8L, 8L, 8L, 8L, 8L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, \n9L, 9L, 9L, 9L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, \n10L, 10L, 10L, 10L, 11L, 11L, 11L, 11L, 11L, 11L, 11L, 11L, 11L, \n11L, 11L, 11L, 11L, 12L, 12L, 12L, 12L, 12L, 12L, 12L, 12L, 12L, \n12L, 12L, 12L, 12L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, \n13L, 13L, 13L, 13L), .Label = c(&quot;Species1&quot;, &quot;Species2&quot;, &quot;Species3&quot;, \n&quot;Species4&quot;, &quot;Species5&quot;, &quot;Species6&quot;, &quot;Species7&quot;, &quot;Species8&quot;, &quot;Species9&quot;, \n&quot;Species10&quot;, &quot;Species11&quot;, &quot;Species12&quot;, &quot;Species13&quot;), class = &quot;factor&quot;), \n    p_value = c(NA, 8.29661485364936e-14, 0.197328035330918, \n    3.73447143215061e-05, 0.0200245227839388, 0.000158518795659732, \n    0.999999999999999, 0.999999999999999, 0.200661174254572, \n    0.0259711510883781, 0.624415639985824, 0.999999999999995, \n    0.999999999999991, 8.29661485364936e-14, NA, 0.911548596172133, \n    0.0808672833723648, 0.00232408080140171, 0.00257625010714883, \n    0.999999999999777, 0.999999999999777, 0.789829339795786, \n    0.198077829941541, 0.768466049890891, 0.999999999999885, \n    0.999999999999994, 0.197328035330918, 0.911548596172133, \n    NA, 0.181696316252709, 0.575238254258972, 0.939866701307512, \n    0.999999999999999, 0.999999999999999, 0.999999999999999, \n    0.507611967012476, 0.673527222144056, 0.999999999999996, \n    1, 3.73447143215061e-05, 0.0808672833723648, 0.181696316252709, \n    NA, 1.40996305374498e-10, 0.405410680293625, 0.999999999999999, \n    0.999999999999999, 1.56797538624063e-08, 8.50447159522988e-05, \n    0.00644405295214749, 0.88381428087806, 0.99999999999993, \n    0.0200245227839388, 0.00232408080140171, 0.575238254258972, \n    1.40996305374498e-10, NA, 0.622095128306733, 0.999999999999959, \n    0.999999999999959, 0.000115476294641169, 1.60499061530966e-19, \n    4.67520836455185e-05, 0.528580893876124, 0.795044191844885, \n    0.000158518795659732, 0.00257625010714883, 0.939866701307512, \n    0.405410680293625, 0.622095128306733, NA, 0.999999999999999, \n    0.999999999999999, 0.200661174254572, 0.410636112084533, \n    0.999999999999929, 0.999999999999995, 0.999999999999991, \n    0.999999999999999, 0.999999999999777, 0.999999999999999, \n    0.999999999999999, 0.999999999999959, 0.999999999999999, \n    NA, 0.999999999999299, 0.779426832974571, 0.999999999999933, \n    0.999999999999999, 0.999999999999998, 0.999999999999687, \n    0.999999999999999, 0.999999999999777, 0.999999999999999, \n    0.999999999999999, 0.999999999999959, 0.999999999999999, \n    0.999999999999299, NA, 0.999999999999999, 0.611136265859179, \n    0.999999999999999, 0.999999999999998, 0.999999999999687, \n    0.200661174254572, 0.789829339795786, 0.999999999999999, \n    1.56797538624063e-08, 0.000115476294641169, 0.200661174254572, \n    0.779426832974571, 0.999999999999999, NA, 0.0311037604732729, \n    0.0122054515551129, 0.999999999999984, 0.999999999999999, \n    0.0259711510883781, 0.198077829941541, 0.507611967012476, \n    8.50447159522988e-05, 1.60499061530966e-19, 0.410636112084533, \n    0.999999999999933, 0.611136265859179, 0.0311037604732729, \n    NA, 0.0403275386741277, 0.508244635418544, 0.999999999999999, \n    0.624415639985824, 0.768466049890891, 0.673527222144056, \n    0.00644405295214749, 4.67520836455185e-05, 0.999999999999929, \n    0.999999999999999, 0.999999999999999, 0.0122054515551129, \n    0.0403275386741277, NA, 1, 0.999999999999823, 0.999999999999995, \n    0.999999999999885, 0.999999999999996, 0.88381428087806, 0.528580893876124, \n    0.999999999999995, 0.999999999999998, 0.999999999999998, \n    0.999999999999984, 0.508244635418544, 1, NA, 0.999999999998991, \n    0.999999999999991, 0.999999999999994, 1, 0.99999999999993, \n    0.795044191844885, 0.999999999999991, 0.999999999999687, \n    0.999999999999687, 0.999999999999999, 0.999999999999999, \n    0.999999999999823, 0.999999999998991, NA)), row.names = c(NA, \n-169L), class = &quot;data.frame&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "linux", "r-package", "termius"],
		"owner": {
			"reputation": 43,
			"user_id": 14579647,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6977b61afc77f224af918fe0b1a240c5?s=256&d=identicon&r=PG&f=1",
			"display_name": "Phoebe",
			"link": "https://stackoverflow.com/users/14579647/phoebe"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676756112,
		"creation_date": 1676745402,
		"question_id": 75495539,
		"link": "https://stackoverflow.com/questions/75495539/how-to-install-the-r-packages-hydropso-and-sf",
		"title": "How to install the R packages hydroPSO and sf?",
		"body": "<p>I am using Linux with a version CentOS Linux release 7.9.2009 (Core) in Termius. I was trying to install hydroPSO, but always encountered an error shown below:</p>\n<pre><code>proj.cpp: In function \u2018Rcpp::NumericMatrix CPL_proj_direct(Rcpp::CharacterVector, \nRcpp::NumericMatrix, bool, bool, bool)\u2019:\nproj.cpp:281:14: error: \u2018proj_normalize_for_visualization\u2019 was not declared in this scope\nPJ *NewP = proj_normalize_for_visualization(PJ_DEFAULT_CTX, P);\n          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ha6Ao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ha6Ao.png\" alt=\"error message\" /></a> <a href=\"https://i.stack.imgur.com/L1mdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1mdf.png\" alt=\"enter image description here\" /></a></p>\n<p>The hydroPSO requires a successful installation of the dependency package sf and I think this error came from sf. I loaded the module proj with version 6.0.0.</p>\n<p><a href=\"https://i.stack.imgur.com/xvTlp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvTlp.png\" alt=\"enter image description here\" /></a></p>\n<p>This error keeps repeating no matter what I tried. May I ask how to solve this in my Linux environment?</p>\n"
	}, {
		"tags": ["r", "flextable"],
		"owner": {
			"reputation": 433,
			"user_id": 11353092,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-MB8RjAy42VE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfomzgy3bnLPNEK0l7NH_wjbA9VvQ/mo/photo.jpg?sz=256",
			"display_name": "Anonymous",
			"link": "https://stackoverflow.com/users/11353092/anonymous"
		},
		"is_answered": true,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75496526,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676756059,
		"creation_date": 1676752123,
		"last_edit_date": 1676752471,
		"question_id": 75496209,
		"link": "https://stackoverflow.com/questions/75496209/how-can-i-reorder-a-flextables-headers-when-using-tabulator-in-r",
		"title": "How can I reorder a flextable&#39;s headers when using tabulator() in R?",
		"body": "<p>Here is the current flextable:</p>\n<p><a href=\"https://i.stack.imgur.com/n5hia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n5hia.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the general example data:</p>\n<p><a href=\"https://i.stack.imgur.com/Y4Naj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4Naj.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>library(flextable)\n\ndat &lt;- data.frame(question = c(&quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;, &quot;Food Satisfaction&quot;),\n                 column_one = c(&quot;Portion Size&quot;, &quot;Portion Size&quot;, &quot;Portion Size&quot;, &quot;Portion Size&quot;, &quot;Portion Size&quot;, &quot;Portion Size&quot;, &quot;Region&quot;, &quot;Region&quot;, &quot;Region&quot;, &quot;Region&quot;),\n                 column_one_order = c(1, 1, 1, 1, 1, 1, 2, 2, 2, 2),\n                 column_two = c(&quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot;, &quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot;, &quot;West&quot;, &quot;East&quot;, &quot;West&quot;, &quot;East&quot;),\n                 column_two_order = c(1, 2, 3, 1, 2, 3, 1, 2, 1, 2),\n                 row_name = c(&quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;, &quot;Food&quot;),\n                 row = c(&quot;Pizza&quot;, &quot;Pizza&quot;, &quot;Pizza&quot;, &quot;Hamburger&quot;, &quot;Hamburger&quot;, &quot;Hamburger&quot;, &quot;Pizza&quot;, &quot;Pizza&quot;, &quot;Hamburger&quot;, &quot;Hamburger&quot;),\n                 percent = c(0.83679353, 0.341159874, 0.084278807, 0.071733007, 0.363397833, 0.405083242, 0.094760815, 0.762002269, 0.782725923, 0.657853129),\n                 standardError = c(0.824884898, 0.69073481, 0.664255159, 0.099570678, 0.735837865, 0.940523571, 0.933454698, 0.669219927, 0.669924278, 0.537262473))\n\ndat\n\ncft &lt;- tabulator(\n  x = dat,\n  rows = &quot;row&quot;,\n  columns = c(&quot;question&quot;, &quot;column_one&quot;,&quot;column_two&quot;),\n  `P` = as_paragraph(percent),\n  `SE` = as_paragraph(standardError)\n)\n\nft &lt;- as_flextable(cft)\nft\n</code></pre>\n<p>Is there a parameter or a method where I can rearrange the header based on columns: <em><strong>[column_one_order]</strong></em> and <em><strong>[column_two_order]</strong></em>? So I would want to see <strong>Portion Size</strong> before <strong>Region</strong> (which flextable automatically does) and below that would be <strong>Small</strong>, <strong>Medium</strong>, <strong>Large</strong> and then <strong>West</strong> and <strong>East</strong>.</p>\n<p>My understanding is that tabulator() is automatically arranging it alphabetically when I would like to have it in a more specific order.</p>\n"
	}, {
		"tags": ["r", "list", "dplyr", "parquet", "nested-lists"],
		"owner": {
			"reputation": 3118,
			"user_id": 1307866,
			"user_type": "registered",
			"accept_rate": 60,
			"profile_image": "https://i.stack.imgur.com/IlmMz.jpg?s=256&g=1",
			"display_name": "tiwo",
			"link": "https://stackoverflow.com/users/1307866/tiwo"
		},
		"is_answered": false,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676753928,
		"creation_date": 1670770151,
		"question_id": 74761804,
		"link": "https://stackoverflow.com/questions/74761804/parquet-arrow-filtering-on-a-column-of-a-list-of-flags",
		"title": "Parquet/arrow: Filtering on a column of (a list of) flags",
		"body": "<p>I am working in R, applying dplyr pipelines to large-ish Parquet files (hundreds of GB) in R. One of the columns contains lists of flags (mostly for data issues at the row level).</p>\n<p>I want to filter or group the dataset based on the presence/absence combinations of certain strings in this list. Ideally, I would like to do so from within the dplyr pipeline; but since Parquet datasets don't support all the methods (<code>unnest</code> for example, and <code>%in%</code>), this might not be possible - in which case I'll work with batches of rows in dataframes.</p>\n<p>For a small example, consider the Parquet file (or the data frame) created by</p>\n<pre><code>library(dplyr)\nlibrary(arrow)\n\nexample_data &lt;- tibble(\n  i=c(10, 11, 12, 13, 14),\n  flags=list(\n    list(),\n    list(&quot;QUESTIONABLE&quot;),\n    list(&quot;MANUALLY_CHECKED&quot;, &quot;QUESTIONABLE&quot;),\n    NULL,\n    list(&quot;QUESTIONABLE&quot;, &quot;UNRELATEDFLAG&quot;)\n  )\n)\n\nwrite_parquet(example_data, &quot;withlistcol.parquet&quot;)\nexample_data %&gt;% unnest(flags, keep_empty=T)\n</code></pre>\n<p>and re-read with</p>\n<pre><code>ds &lt;- open_dataset(&quot;withlistcol.parquet&quot;)\n</code></pre>\n<p>How do I filter the subset of rows of <code>ds</code> that have the flag &quot;MANUALLY_CHECKED&quot; or don't have the flag &quot;QUESTIONABLE&quot;?</p>\n<p>Readability is more important to me than performance.</p>\n"
	}, {
		"tags": ["r", "nonlinear-optimization"],
		"owner": {
			"reputation": 13,
			"user_id": 21240440,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/25900248f7545bdde3bc1d2cb9ed9fa1?s=256&d=identicon&r=PG",
			"display_name": "MrBegeer",
			"link": "https://stackoverflow.com/users/21240440/mrbegeer"
		},
		"is_answered": true,
		"view_count": 38,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75494955,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676753800,
		"creation_date": 1676737358,
		"last_edit_date": 1676753800,
		"question_id": 75494696,
		"link": "https://stackoverflow.com/questions/75494696/solving-a-system-of-non-linear-equations-with-only-one-unknown",
		"title": "Solving a system of non-linear equations with only one unknown",
		"body": "<p>I am trying to pin down the barrier between high-skill technology and low-skill technology industries in the Task-Based model of the labor market. This takes place in the task in which the price of production is equal to each other.</p>\n<p><a href=\"https://i.stack.imgur.com/vUHRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUHRC.png\" alt=\"The definition of I\" /></a></p>\n<pre><code>    I is equal to P1 - P2 = 0    \n    P1 &lt;- (mu_L[i]^(-1)*(w_L/delta)^delta)\n    P2 &lt;- (mu_H[i]^(-1)*(w_H/alpha)^alpha)\n</code></pre>\n<p>It is part of a dynamic problem in which wage is dependent on I and I on wage. The relevant further equations are wage high and low: <a href=\"https://i.stack.imgur.com/l4mxZ.png\" rel=\"nofollow noreferrer\">wage high</a> and <a href=\"https://i.stack.imgur.com/NeKe2.png\" rel=\"nofollow noreferrer\">wage low</a>. L_L, the labour supply linked to low and high-skill is based on data and around 0.8 for L_L and 0.2 for L_H. Y is for now set on 40,000 also based on data.</p>\n<pre><code>task &lt;- seq(0.01,1, by = 0.01)\nalpha &lt;-  0.55 \ndelta &lt;- 0.83\nmu_H &lt;- task\nmu_L &lt;- 1-task\nL_L &lt;- 0.8\nL_H &lt;- 0.2\nY &lt;- 40000\nI_start &lt;- 0.5\nI &lt;- I_start\n   \nw_H &lt;- alpha * I * (Y / L_H) \nw_L &lt;- delta*(1-I)*(Y / L_L)\n</code></pre>\n<p>In the definition of I, it is the task (i) in which the price of low-skill production minus the price of high-skill production is zero. the value of mu is dependent on the industry and by finding for which value of mu, the equation equals zero, one can find which industry I is. mu high is equal to i, while mu low is (1-i). i indicating the task from a uniform distribution between 0 and 1.</p>\n<p>I have written a for loop to account for the dynamic modelling but cannot figure out how to pin down I in this, all non-linear system solvers require two unknown for two equations and I cannot figure out how to code it in such a way that it is equal to zero as a condition.</p>\n<p>I have tried the following approaches:</p>\n<p>using range:</p>\n<pre><code>range2 &lt;- seq(0.01,1, by = 0.001)\nrange &lt;- (1 - range2)\nrange[which(range^(-1)*(w_L/delta)^delta == range2^(-1)*(w_H/alpha)^alpha)]\n</code></pre>\n<p>The issue is that the answer lies between step 14 and 15, and as the steps are too large there is no exact match found. Also not when I increase the steps to 1e-8, at some point I get an error that there are too many steps. If I could at a tolerance level here that might be the solution, however, I dont know how I can do that. I tried it like this:</p>\n<pre><code>r &lt;- range^(-1)*(w_L/delta)^delta - range2^(-1)*(w_H/alpha)^alpha\nrr &lt;- ifelse(r&lt;0.01, print(TRUE), print(FALSE))\ndata.r &lt;- data.frame(r, rr)\nlength(unique(data.r$rr))\n</code></pre>\n<p>but the tolerance might be too small, at the same time, the difference must be between 0 and 1, as the mu is limited between 0 and 1. So I feel that a tolerance of 0.01 is not asking too much. In the theory that should work.</p>\n<p>I tried the nleqslv package but it gives me answers outside of the range [0,1].</p>\n<pre><code>dslnex &lt;- function(x) {\n  y &lt;- numeric(2)\n  y[1] &lt;- (x[1]^(-1)*(w_L/delta)^delta)\n  y[2] &lt;- (x[2]^(-1)*(w_H/alpha)^alpha)\n  y \n}\nxstart=c(0.5, 0.5)\nnleqslv(xstart, dslnex, control = list())\n</code></pre>\n<p>I am hoping to find for which value of mu such that the two equations for price are equal to each other so I can pin down the task (i) in which this is.</p>\n"
	}, {
		"tags": ["r", "dataframe", "date", "na", "zero"],
		"owner": {
			"reputation": 11,
			"user_id": 13637458,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b35a2e018b1b58896b6c6a0bc992e1d0?s=256&d=identicon&r=PG&f=1",
			"display_name": "bigblue5295",
			"link": "https://stackoverflow.com/users/13637458/bigblue5295"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676753233,
		"creation_date": 1676751873,
		"question_id": 75496181,
		"link": "https://stackoverflow.com/questions/75496181/how-can-i-add-zeros-or-nas-to-each-species-that-does-not-have-a-corresponding-da",
		"title": "How can I add zeros or NAs to each species that does not have a corresponding date in R?",
		"body": "<p>I have a database what looks like this (although it has more species and dates):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date</th>\n<th>Species</th>\n<th>Count</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2022/06/01</td>\n<td>AMAV</td>\n<td>50</td>\n</tr>\n<tr>\n<td>2022/06/05</td>\n<td>AMAV</td>\n<td>20</td>\n</tr>\n<tr>\n<td>2022/06/07</td>\n<td>SESA</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2022/06/07</td>\n<td>AMAV</td>\n<td>8</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want each date to include each species at a count of 0 if there is origninally no species listed for that date. When there is no species listed, it just means that the species was not detected and therefore it should be a count of zero.</p>\n<p>So for this example, I would want it to look like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date</th>\n<th>Species</th>\n<th>Count</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2022/06/01</td>\n<td>AMAV</td>\n<td>50</td>\n</tr>\n<tr>\n<td>2022/06/01</td>\n<td>SESA</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2022/06/05</td>\n<td>AMAV</td>\n<td>20</td>\n</tr>\n<tr>\n<td>2022/06/05</td>\n<td>SESA</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2022/06/07</td>\n<td>SESA</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2022/06/07</td>\n<td>AMAV</td>\n<td>8</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So I want all of my species listed for each date.</p>\n<p>I'm wondering if anyone knows a way to accomplish this in R. I honestly have no idea how to tackle this problem, so would appreciate any tips!</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 1,
			"user_id": 20994717,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7ueey97VzyaIpC5TmkMmGEUASZ66ZE2wRhItuS=k-s256",
			"display_name": "Shreyas Akode",
			"link": "https://stackoverflow.com/users/20994717/shreyas-akode"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676752245,
		"creation_date": 1676748927,
		"last_edit_date": 1676749098,
		"question_id": 75495909,
		"link": "https://stackoverflow.com/questions/75495909/i-not-able-to-run-r-code-via-dplyr-library",
		"title": "I not able to run R code via dplyr library",
		"body": "<p>I am trying to run this code:</p>\n<pre class=\"lang-r prettyprint-override\"><code>data(&quot;ToothGrowth&quot;)\nView(ToothGrowth)\n\nfiltered_tg &lt;- filter(ToothGrowth, dose == 0,5)\n</code></pre>\n<p>but the following error is causing me problems:</p>\n<blockquote>\n<p>Error in <code>filter()</code>:\n\u2139 In argument: <code>5</code>.\nCaused by error:\n! <code>..2</code> must be a logical vector, not the number 5.\nRun <code>rlang::last_error()</code> to see where the error occurred.</p>\n</blockquote>\n<p>I have already run the following in the RStudio console:</p>\n<pre class=\"lang-r prettyprint-override\"><code>&gt; install.packages(&quot;dplyr&quot;)\n&gt; library(dplyr)\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 37,
			"user_id": 7659381,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/10153464580597709/picture?type=large",
			"display_name": "Teodoro Marinucci",
			"link": "https://stackoverflow.com/users/7659381/teodoro-marinucci"
		},
		"is_answered": true,
		"view_count": 36,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676752099,
		"creation_date": 1676748031,
		"last_edit_date": 1676752099,
		"question_id": 75495804,
		"link": "https://stackoverflow.com/questions/75495804/behavour-of-the-rpois-function",
		"title": "Behavour of the rpois function",
		"body": "<p>I'm trying to understand a proposed solution for a University test.\nLet me assume that we have created a random variable with</p>\n<pre><code>set.seed(123)\nR &lt;- 5\nX &lt;- rexp(R, 2)\n</code></pre>\n<p>So the content of <code>X</code> is</p>\n<pre><code>0.42172863 0.28830514 0.66452743 0.01578868 0.02810549\n</code></pre>\n<p>In the solutions of the problem I find</p>\n<pre><code>Y &lt;- rpois(R, exp(X / 4))\n</code></pre>\n<p>where the content of <code>exp(X / 4)</code> is</p>\n<pre><code>1.111191 1.074737 1.180729 1.003955 1.007051\n</code></pre>\n<p>where, contrary to my expectations the second argument is an array instead of being a scalar.</p>\n<p>If I calculate</p>\n<pre><code>print(rpois(R, 1.111191))\nprint(rpois(R, 1.074737))\nprint(rpois(R, 1.180729))\nprint(rpois(R, 1.003955))\nprint(rpois(R, 1.007051))\n</code></pre>\n<p>I get</p>\n<pre><code>2 1 1 3 1\n1 1 0 2 0\n0 1 3 3 2\n1 4 1 1 1\n1 0 0 3 2\n</code></pre>\n<p>while for <code>rpois(R, exp(X / 4))</code> I get</p>\n<pre><code>1 2 0 1 2\n</code></pre>\n<p>How are the two results related?</p>\n<p>It's a behaviour I can't find explained anywhere.</p>\n"
	}, {
		"tags": ["r", "line-breaks"],
		"owner": {
			"reputation": 1,
			"user_id": 21229091,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/11bd96f546cc3780a51e03c0608d6bcf?s=256&d=identicon&r=PG&f=1",
			"display_name": "L.Borealis",
			"link": "https://stackoverflow.com/users/21229091/l-borealis"
		},
		"is_answered": true,
		"view_count": 50,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676751742,
		"creation_date": 1676573990,
		"last_edit_date": 1676577185,
		"question_id": 75476784,
		"link": "https://stackoverflow.com/questions/75476784/how-to-solve-r-not-recognizing-white-space-after-long-line-of-code",
		"title": "How to solve R not recognizing white-space after long line of code?",
		"body": "<p>I am trying to add equations to my code which are quite long. When I do so, R does not quite grasp where the end of the equation is and when I go to the next line filled with whitespace, it puts the cursor to the middle of the line rather than the beginning, as usually.</p>\n<p><a href=\"https://i.stack.imgur.com/qMBnq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMBnq.png\" alt=\"enter image description here\" /></a></p>\n<p>When I run the code, it ignores the end of the long equation, as one can tell from the console output</p>\n<pre><code>+ # 3.b) Initialize ODEs\n+ initialstate &lt;- c( \nError: unexpected symbol in:\n&quot;# 3.b) Initialize ODEs\ninitialstate&quot;\n</code></pre>\n<p>-- so using + rather than &gt; -- following this input:</p>\n<pre><code>C_PL_s_ss = (Rin_s*(CL_dis_s*T1*T2*V_IS + CL_dis_s*T1*T2*V_PE + CL_dis_s*T1*T2*V_PL + CL_dis_s*T1*T3_s*V_IS + CL_dis_s*T1*T4_s*V_IS + CL_dis_s*T2*T3_s*V_IS + CL_dis_s*T2*T4_s*V_IS + CL_dis_s*T2*T5_s*V_IS + CL_dis_s*T2*T6_s*V_IS + CL_dis_s*T1*T3_s*V_PE + CL_dis_s*T1*T4_s*V_PE + CL_dis_s*T2*T3_s*V_PE + CL_dis_s*T2*T4_s*V_PE + CL_dis_s*T2*T5_s*V_PE + CL_dis_s*T2*T6_s*V_PE + CL_dis_s*T1*T3_s*V_PL + CL_dis_s*T1*T4_s*V_PL + CL_dis_s*T2*T3_s*V_PL + CL_dis_s*T2*T4_s*V_PL + CL_dis_s*T2*T5_s*V_PL + CL_dis_s*T2*T6_s*V_PL + CL_dis_s*T1*T2*V_IS*delta_Rin_s_TI + CL_dis_s*T1*T3_s*V_IS*delta_Rin_s_TI + CL_dis_s*T1*T4_s*V_IS*delta_Rin_s_TI + CL_dis_s*T2*T3_s*V_IS*delta_Rin_s_TI + CL_dis_s*T2*T4_s*V_IS*delta_Rin_s_TI + CL_dis_s*T2*T5_s*V_IS*delta_Rin_s_TI + CL_dis_s*T2*T6_s*V_IS*delta_Rin_s_TI + CL_dis_s*CLup_s^2*V_IS*V_PE*V_VC + CL_dis_s*CLup_s^2*V_IS*V_PL*V_VC + CLup_s^2*T1*V_IS*V_PE*V_PL + CLup_s^2*T2*V_IS*V_PE*V_VC + CLup_s^2*T2*V_PE*V_PL*V_VC + CLup_s^2*T3_s*V_IS*V_PE*V_PL + CLup_s^2*T4_s*V_IS*V_PE*V_PL + CLup_s^2*T5_s*V_IS*V_PE*V_PL + CLup_s^2*T6_s*V_IS*V_PE*V_PL + CLup_s^2*T3_s*V_PE*V_PL*V_VC + CLup_s^2*T4_s*V_PE*V_PL*V_VC + CLup_s^3*V_IS*V_PE*V_PL*V_VC + CL_dis_s*CLup_s*T1*V_IS*V_PE + CL_dis_s*CLup_s*T1*V_IS*V_PL + CL_dis_s*CLup_s*T2*V_IS*V_VC + CL_dis_s*CLup_s*T2*V_PE*V_VC + CL_dis_s*CLup_s*T2*V_PL*V_VC + CL_dis_s*CLup_s*T3_s*V_IS*V_PE + CL_dis_s*CLup_s*T4_s*V_IS*V_PE + CL_dis_s*CLup_s*T5_s*V_IS*V_PE + CL_dis_s*CLup_s*T6_s*V_IS*V_PE + CL_dis_s*CLup_s*T3_s*V_IS*V_PL + CL_dis_s*CLup_s*T4_s*V_IS*V_PL + CL_dis_s*CLup_s*T5_s*V_IS*V_PL + CL_dis_s*CLup_s*T6_s*V_IS*V_PL + CL_dis_s*CLup_s*T3_s*V_PE*V_VC + CL_dis_s*CLup_s*T4_s*V_PE*V_VC + CL_dis_s*CLup_s*T3_s*V_PL*V_VC + CL_dis_s*CLup_s*T4_s*V_PL*V_VC + CLup_s*T1*T2*V_IS*V_PE + CLup_s*T1*T2*V_PE*V_PL + CLup_s*T1*T3_s*V_IS*V_PE + CLup_s*T1*T4_s*V_IS*V_PE + CLup_s*T2*T3_s*V_IS*V_PE + CLup_s*T2*T4_s*V_IS*V_PE + CLup_s*T2*T5_s*V_IS*V_PE + CLup_s*T2*T6_s*V_IS*V_PE + CLup_s*T1*T3_s*V_PE*V_PL + CLup_s*T1*T4_s*V_PE*V_PL + CLup_s*T2*T3_s*V_PE*V_PL + CLup_s*T2*T4_s*V_PE*V_PL + CLup_s*T2*T5_s*V_PE*V_PL + CLup_s*T2*T6_s*V_PE*V_PL + CL_dis_s*CLup_s*T2*V_IS*V_VC*delta_Rin_s_TI + CLup_s*T1*T2*V_IS*V_PE*delta_Rin_s_TI + CLup_s*T1*T3_s*V_IS*V_PE*delta_Rin_s_TI + CLup_s*T1*T4_s*V_IS*V_PE*delta_Rin_s_TI + CLup_s*T2*T3_s*V_IS*V_PE*delta_Rin_s_TI + CLup_s*T2*T4_s*V_IS*V_PE*delta_Rin_s_TI + CLup_s*T2*T5_s*V_IS*V_PE*delta_Rin_s_TI + CLup_s*T2*T6_s*V_IS*V_PE*delta_Rin_s_TI + CLup_s^2*T2*V_IS*V_PE*V_VC*delta_Rin_s_TI))/(CLR_s*CL_dis_s*T1*T2 + CLR_s*CL_dis_s*T1*T3_s + CLR_s*CL_dis_s*T1*T4_s + CLR_s*CL_dis_s*T2*T3_s + CLR_s*CL_dis_s*T2*T4_s + CLR_s*CL_dis_s*T2*T5_s + CLR_s*CL_dis_s*T2*T6_s + CLR_s*CL_dis_s*CLup_s^2*V_IS*V_VC + CL_dis_s*CLup_s^2*Q*V_IS*V_VC + CLR_s*CLup_s^2*T1*V_IS*V_PE + CLR_s*CLup_s^2*T2*V_PE*V_VC + CL_dis_s*CLup_s^2*T1*V_IS*V_PE + CL_dis_s*CLup_s^2*T1*V_IS*V_PL + CL_dis_s*CLup_s^2*T2*V_PE*V_VC + CL_dis_s*CLup_s^2*T2*V_PL*V_VC + CLR_s*CLup_s^2*T3_s*V_IS*V_PE + CLR_s*CLup_s^2*T4_s*V_IS*V_PE + CLR_s*CLup_s^2*T5_s*V_IS*V_PE + CLR_s*CLup_s^2*T6_s*V_IS*V_PE + CLR_s*CLup_s^2*T3_s*V_PE*V_VC + CLR_s*CLup_s^2*T4_s*V_PE*V_VC + CL_dis_s*CLup_s^2*T3_s*V_IS*V_PE + CL_dis_s*CLup_s^2*T4_s*V_IS*V_PE + CL_dis_s*CLup_s^2*T5_s*V_IS*V_PE + CL_dis_s*CLup_s^2*T6_s*V_IS*V_PE + CL_dis_s*CLup_s^2*T3_s*V_IS*V_PL + CL_dis_s*CLup_s^2*T4_s*V_IS*V_PL + CL_dis_s*CLup_s^2*T5_s*V_IS*V_PL + CL_dis_s*CLup_s^2*T6_s*V_IS*V_PL + CL_dis_s*CLup_s^2*T3_s*V_PE*V_VC + CL_dis_s*CLup_s^2*T4_s*V_PE*V_VC + CL_dis_s*CLup_s^2*T3_s*V_PL*V_VC + CL_dis_s*CLup_s^2*T4_s*V_PL*V_VC + CLR_s*CLup_s^3*V_IS*V_PE*V_VC + CL_dis_s*CLup_s^3*V_IS*V_PE*V_VC + CL_dis_s*CLup_s^3*V_IS*V_PL*V_VC + CLup_s^2*Q*T2*V_PE*V_VC + CLup_s^2*Q*T3_s*V_IS*V_PE + CLup_s^2*Q*T4_s*V_IS*V_PE + CLup_s^2*Q*T5_s*V_IS*V_PE + CLup_s^2*Q*T6_s*V_IS*V_PE + CLup_s^2*Q*T3_s*V_PE*V_VC + CLup_s^2*Q*T4_s*V_PE*V_VC + CLup_s^3*Q*V_IS*V_PE*V_VC + CLup_s^2*T1*T2*V_PE*V_PL + CLup_s^2*T1*T3_s*V_PE*V_PL + CLup_s^2*T1*T4_s*V_PE*V_PL + CLup_s^2*T2*T3_s*V_PE*V_PL + CLup_s^2*T2*T4_s*V_PE*V_PL + CLup_s^2*T2*T5_s*V_PE*V_PL + CLup_s^2*T2*T6_s*V_PE*V_PL + CLup_s^3*T1*V_IS*V_PE*V_PL + CLup_s^3*T2*V_PE*V_PL*V_VC + CLup_s^3*T3_s*V_IS*V_PE*V_PL + CLup_s^3*T4_s*V_IS*V_PE*V_PL + CLup_s^3*T5_s*V_IS*V_PE*V_PL + CLup_s^3*T6_s*V_IS*V_PE*V_PL + CLup_s^3*T3_s*V_PE*V_PL*V_VC + CLup_s^3*T4_s*V_PE*V_PL*V_VC + CLup_s^4*V_IS*V_PE*V_PL*V_VC + CLR_s*CL_dis_s*CLup_s*T1*V_IS + CLR_s*CL_dis_s*CLup_s*T2*V_VC + CLR_s*CL_dis_s*CLup_s*T3_s*V_IS + CLR_s*CL_dis_s*CLup_s*T4_s*V_IS + CLR_s*CL_dis_s*CLup_s*T5_s*V_IS + CLR_s*CL_dis_s*CLup_s*T6_s*V_IS + CLR_s*CL_dis_s*CLup_s*T3_s*V_VC + CLR_s*CL_dis_s*CLup_s*T4_s*V_VC + CL_dis_s*CLup_s*Q*T2*V_VC + CL_dis_s*CLup_s*Q*T3_s*V_IS + CL_dis_s*CLup_s*Q*T4_s*V_IS + CL_dis_s*CLup_s*Q*T5_s*V_IS + CL_dis_s*CLup_s*Q*T6_s*V_IS + CL_dis_s*CLup_s*Q*T3_s*V_VC + CL_dis_s*CLup_s*Q*T4_s*V_VC + CLR_s*CLup_s*T1*T2*V_PE + CL_dis_s*CLup_s*T1*T2*V_PE + CL_dis_s*CLup_s*T1*T2*V_PL + CLR_s*CLup_s*T1*T3_s*V_PE + CLR_s*CLup_s*T1*T4_s*V_PE + CLR_s*CLup_s*T2*T3_s*V_PE + CLR_s*CLup_s*T2*T4_s*V_PE + CLR_s*CLup_s*T2*T5_s*V_PE + CLR_s*CLup_s*T2*T6_s*V_PE + CL_dis_s*CLup_s*T1*T3_s*V_PE + CL_dis_s*CLup_s*T1*T4_s*V_PE + CL_dis_s*CLup_s*T2*T3_s*V_PE + CL_dis_s*CLup_s*T2*T4_s*V_PE + CL_dis_s*CLup_s*T2*T5_s*V_PE + CL_dis_s*CLup_s*T2*T6_s*V_PE + CL_dis_s*CLup_s*T1*T3_s*V_PL + CL_dis_s*CLup_s*T1*T4_s*V_PL + CL_dis_s*CLup_s*T2*T3_s*V_PL + CL_dis_s*CLup_s*T2*T4_s*V_PL + CL_dis_s*CLup_s*T2*T5_s*V_PL + CL_dis_s*CLup_s*T2*T6_s*V_PL)\n\n\n# 3.b) Initialize ODEs\ninitialstate &lt;- c(*[...some other cade that work unless you add the long equation above...])*\n</code></pre>\n<p>Bizarrely, if I write more than one of these longer equations, it recognises the end of exactly every second one, i.e. it pairs two, which leads to the issue. For the ones that it does not pair, it also has the &gt; rather than + in the respective place in the console. I could get it to work fine for 5 short equations.</p>\n<p>As I am exporting the equations from Matlab (as I need to use the symbolics toolbox to find the solution), I checked whether any of</p>\n<ul>\n<li>cutting whitespaces out online, incl. equation by equation, so line by line</li>\n<li>pasting the many equations into Word to see whether there is a difference in the tabs/new lines etc. between the equations for which the pasting interrupts between equations appropriately versus not (no both are the same)</li>\n<li>past into text editor before moving to R, incl. equation by equation, so line by line</li>\n<li>using my local version of R studio rather than the R studio workbench I was using previously</li>\n</ul>\n<p>would help but they did not.</p>\n<p>I have tried for a long time now and would be super grateful for any insight!</p>\n"
	}, {
		"tags": ["r", "loops", "stata"],
		"owner": {
			"reputation": 33,
			"user_id": 19475322,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/l4M4O.jpg?s=256&g=1",
			"display_name": "Abo7aneen",
			"link": "https://stackoverflow.com/users/19475322/abo7aneen"
		},
		"is_answered": false,
		"view_count": 26,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676751679,
		"creation_date": 1676747736,
		"last_edit_date": 1676748652,
		"question_id": 75495788,
		"link": "https://stackoverflow.com/questions/75495788/alternative-of-statas-foreach-command-in-r",
		"title": "Alternative of Stata&#39;s foreach command in R",
		"body": "<p>I am a new user of R and am used to using Stata software.</p>\n<p>I used to loop through multiple variables by <code>foreach</code> command in Stata. So, for example, I can convert multiple numerical variables to factor ones.</p>\n<p>In Stata, first, define the label:</p>\n<p><code>label define NoYes 0 &quot;No&quot; 1 &quot;Yes&quot;</code></p>\n<p>Then, apply the loop command:</p>\n<pre><code>foreach x in var1 var2 var3 {\n    label values `x' NoYes\n}\n</code></pre>\n<p>I am figuring out how I can do so in R; any help would be appreciated.</p>\n"
	}, {
		"tags": ["r", "random", "dplyr", "sample", "data-processing"],
		"owner": {
			"reputation": 1,
			"user_id": 15034226,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d59b9a34e26bbc0ade1b7de691c67d94?s=256&d=identicon&r=PG&f=1",
			"display_name": "Kevin Short",
			"link": "https://stackoverflow.com/users/15034226/kevin-short"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 3,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -3,
		"last_activity_date": 1676751666,
		"creation_date": 1676751577,
		"last_edit_date": 1676751666,
		"question_id": 75496151,
		"link": "https://stackoverflow.com/questions/75496151/how-to-take-a-random-sample-from-mutliple-groups-with-unequal-sample-sizes-in-r",
		"title": "How to take a random sample from mutliple groups with unequal sample sizes (in R)",
		"body": "<p>I have a dataset that I want to randomly sample up to 6 rows for each animal ID per day. Not every animal ID was sampled each day, and some animals were sampled less than 6 times per day. For example - if an animal was only sampled 2 times in a given day, then I want to retain both those samples. I want to retain all the info in the sampled row.</p>\n<p>in the image:</p>\n<ul>\n<li>New_ID is the animal Id</li>\n<li>New_Date_Hour is the hour of the day (this is the variable that I want to randomly sample 6 times per day)</li>\n</ul>\n<p>There are 13 different animal IDs</p>\n<p>[<a href=\"https://i.stack.imgur.com/g5d9k.png\" rel=\"nofollow noreferrer\">Image of Example data</a>]</p>\n<p>I have tried a few different approaches but without success.</p>\n"
	}, {
		"tags": ["r", "plotly", "arrows"],
		"owner": {
			"reputation": 5878,
			"user_id": 5548896,
			"user_type": "registered",
			"accept_rate": 50,
			"profile_image": "https://www.gravatar.com/avatar/7a00eff514fcfe835c7f2e862cc9791e?s=256&d=identicon&r=PG&f=1",
			"display_name": "dan",
			"link": "https://stackoverflow.com/users/5548896/dan"
		},
		"is_answered": true,
		"view_count": 8290,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"accepted_answer_id": 53624173,
		"answer_count": 1,
		"score": 3,
		"last_activity_date": 1676751648,
		"creation_date": 1543972791,
		"last_edit_date": 1543973757,
		"question_id": 53623808,
		"link": "https://stackoverflow.com/questions/53623808/adding-arrow-segments-to-a-scatter-plot-in-plotly",
		"title": "Adding arrow segments to a scatter plot in plotly",
		"body": "<p>I have <code>XY</code> data I want to plot in a scatter plot using <code>R</code>'s <code>plotly</code> <code>package</code>. \nFor some of the points I have arrows, defined by their X and Y start and end coordinates, which I also want to plot.</p>\n\n<p>Here are the data:</p>\n\n<pre><code>set.seed(1)\n\ndf &lt;- data.frame(x=rnorm(100),y=rnorm(100),\n                 arrow.x.start=NA,arrow.y.start=NA,\n                 arrow.x.end=NA,arrow.y.end=NA)\n\narrow.idx &lt;- sample(100,20,replace = F)\n\ndf$arrow.x.start[arrow.idx] &lt;- df$x[arrow.idx]\ndf$arrow.x.end[arrow.idx] &lt;- df$arrow.x.start[arrow.idx]+runif(length(arrow.idx),-0.5,0.5)\ndf$arrow.y.start[arrow.idx] &lt;- df$y[arrow.idx]\ndf$arrow.y.end[arrow.idx] &lt;- df$arrow.y.start[arrow.idx]+runif(length(arrow.idx),-0.5,0.5)\n</code></pre>\n\n<p>Using <code>ggplot2</code> this is achieved using:</p>\n\n<pre><code>library(ggplot2)\n\nggplot(df,aes(x=x,y=y))+geom_point()+theme_minimal()+\n  geom_segment(aes(x=arrow.x.start,y=arrow.y.start,xend=arrow.x.end,yend=arrow.y.end),arrow=arrow())\n</code></pre>\n\n<p>Which gives:\n<a href=\"https://i.stack.imgur.com/CqH1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CqH1c.png\" alt=\"enter image description here\"></a></p>\n\n<p>In <code>plotly</code> this will plot the points:</p>\n\n<pre><code>plotly::plot_ly(marker=list(size=5,color=\"black\"),type='scatter',mode=\"markers\",x=df$x,y=df$y,showlegend=F) %&gt;%\n  plotly::layout(xaxis=list(title=\"x\",zeroline=F,showticklabels=F,showgrid=F,showgrid=F),yaxis=list(title=\"y\",zeroline=F,showticklabels=F,showgrid=F,showgrid=F))\n</code></pre>\n\n<p>So I'm trying to figure out how to add the arrows.</p>\n\n<p>The <code>add_segments</code> has the <code>x</code>, <code>xend</code>, <code>y</code>, and <code>yend</code> arguments and adding that:</p>\n\n<pre><code>plotly::plot_ly(marker=list(size=5,color=\"black\"),type='scatter',mode=\"markers\",x=df$x,y=df$y,showlegend=F) %&gt;%\n  plotly::layout(xaxis=list(title=\"x\",zeroline=F,showticklabels=F,showgrid=F,showgrid=F),yaxis=list(title=\"y\",zeroline=F,showticklabels=F,showgrid=F,showgrid=F)) %&gt;%\n  plotly::add_segments(x=df$arrow.x.start,xend=df$arrow.x.end,y=df$arrow.y.start,yend=df$arrow.y.end,line=list(color=\"blue\"))\n</code></pre>\n\n<p>Seems to add a point at the end of the line:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nnDNt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nnDNt.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I couldn't find in its documentation an argument that will add arrow head at the end of the line.</p>\n\n<p>Any idea?</p>\n"
	}, {
		"tags": ["r", "matrix-multiplication", "log-likelihood"],
		"owner": {
			"reputation": 256827,
			"user_id": 1855677,
			"user_type": "registered",
			"accept_rate": 83,
			"profile_image": "https://i.stack.imgur.com/5ufQP.png?s=256&g=1",
			"display_name": "IRTFM",
			"link": "https://stackoverflow.com/users/1855677/irtfm"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676751575,
		"creation_date": 1676664468,
		"last_edit_date": 1676751575,
		"question_id": 75488820,
		"link": "https://stackoverflow.com/questions/75488820/implementing-a-particular-approach-to-calculating-a-log-likelihood-using-matrix",
		"title": "Implementing a particular approach to calculating a log-likelihood using matrix operations",
		"body": "<p>I cam across a mathematical expression for log-likelihood in a <a href=\"https://stats.stackexchange.com/questions/351549/maximum-likelihood-estimators-multivariate-gaussian\">CrossValidated.com answer</a>  and am unclear how I should implement in R. I'm not sure if SO can represent MathML the same as CV, but this is the first equation in the second (not accepted) anser:</p>\n<pre><code>$$\n\\begin{eqnarray}\n    \\ell(\\mu, \\Sigma) &amp;=&amp; C - \\frac{m}{2}\\log|\\Sigma|-\\frac{1}{2} \\sum_{i=1}^m \\text{tr}\\left[(\\mathbf{x}^{(i)}-\\mu)^T \\Sigma^{-1} (\\mathbf{x}^{(i)}-\\mu)\\right]\\\\\n$$\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Fkyar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fkyar.png\" alt=\"enter image description here\" /></a></p>\n<p>I focusing on the 3rd term in that equation and I do not think the trace operation is necessary according to another answer on that page. I suppose I could look at one of the several implementations in the various packages that exist, but I'm thinking they use more economical approaches that don't clearly follow that equation's procedure, as did @onyambu in the <a href=\"https://stackoverflow.com/questions/75479505/how-do-you-code-the-likelihood-of-the-normal-distribution-kernel-in-r-manually\">answer here:</a></p>\n<p>I'm ripping out code from an earlier SO example:</p>\n<pre><code>library(MASS)\n# Make covariance matrix. See note above re the implications of using a correlation matrix.\nS = matrix(c(1.0, 0.2, 0.1, 0.35, 0.0,\n0.2, 1.0, 0.0, 0.4, 0.0,\n0.1, 0.0, 1.0, 0.0, 0.4,\n0.35, 0.4, 0.0, 1.0, 0.6,\n0.0, 0.0, 0.4, 0.6, 1.0), ncol = 5)\ncolnames(S) = c(&quot;Y1&quot;, &quot;X1&quot;, &quot;X2&quot;, &quot;Z1&quot; ,&quot;Z2&quot;)\nrownames(S) = colnames(S)\n# Make mean vector\nmus = c(1, 2, 3, 4, 5); names(mus) = colnames(S)\n# Generate 5347 observations\nobs = mvrnorm(n = 200, mu = mus, Sigma = S)\n</code></pre>\n<p>This effort was in response to a question correctly answered now but not using a summation of a matrix expression. I think I can do it with a  for-loop to create individual contributions for each data point:</p>\n<pre><code>llmat.term3 &lt;- matrix(NA, 200,1)\nfor(n in 1:200) {\n     llmat.term3[n] &lt;- t(obs[n,]-mus) %*% solve(S) %*% (obs[n,]-mus) }\nsum(llmat.term3)\n#[1] 982.7356\n</code></pre>\n<p>.... but I'm wondering if there is a more compact matrix approach?  Or I suppose, filled in the gaps in my linear algebra knowledge that explains why <code>sum(u * solve(sig, u)</code> is the same as <code>sum{i=1,N} ( t(obs[n,]-mu) %*% S^-1 %*%  (obs[n,]-mu) )</code>.</p>\n"
	}, {
		"tags": ["r", "kableextra", "reactable"],
		"owner": {
			"reputation": 4528,
			"user_id": 14137004,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5c5541bc4665f190e7e02b7bc07a2544?s=256&d=identicon&r=PG&f=1",
			"display_name": "Julian",
			"link": "https://stackoverflow.com/users/14137004/julian"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676751199,
		"creation_date": 1676751199,
		"question_id": 75496120,
		"link": "https://stackoverflow.com/questions/75496120/how-to-implement-expand-collapse-rows-in-html-table",
		"title": "How to implement expand/collapse rows in HTML table",
		"body": "<p>I would like to make some rows expand on click, i.e. by clicking on the arrow. Is there a way in <code>kableExtra</code> to add java script code to specific rows? There exists and option for expanding/collapsing all rows on click in <code>reactable</code> (see <a href=\"https://glin.github.io/reactable/articles/examples.html#row-expansion-toggle-button\" rel=\"nofollow noreferrer\">here</a>), but it does not do exactly what I need. Is there any reactable/js guru out there who has an idea how this might be feasible.</p>\n<pre><code>df_open &lt;- tibble::tibble(\n  Category = c(&quot;Fruits &amp;#x25bc;&amp;#xFE0E;&quot;, &quot;Apple&quot;, &quot;Banana&quot;,\n               &quot;Kiwi&quot;, &quot;Vegetable &amp;#x25bc;&amp;#xFE0E;&quot;, &quot;Carrots &amp;#x25bc;&amp;#xFE0E;&quot;, &quot;Red Carrots&quot;, &quot;Orange Carrots&quot;, &quot;Diary&quot;), \n  Value_sum = c(1:9), \n  Value_one = c(10:18),\n  Value_two = c(200:208)\n)\n\ndf_closed &lt;- tibble::tibble(\n  Category = c(&quot;Fruits &amp;#x25b6;&amp;#xFE0E&quot;,&quot;Vegetable &amp;#x25b6;&amp;#xFE0E;&quot;,  &quot;Diary&quot;), \n  Value_sum = c(1, 5,9), \n  Value_one = c(10,14,18),\n  Value_two = c(200, 204,208)\n)\n\n\nlibrary(kableExtra)\n\n# all collapsed, everything shown\nkbl(df_open, escape = FALSE) |&gt; \n  kable_styling(bootstrap_options = &quot;bordered&quot;) |&gt; \n  row_spec(row = c(2:4, 6), extra_css = &quot;padding-left:30px;&quot;) |&gt; \n  row_spec(row = c(7,8), extra_css = &quot;padding-left:50px&quot;)\n</code></pre>\n<p><strong>Completely unfolded table:</strong>\n<a href=\"https://i.stack.imgur.com/dbzl7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dbzl7.png\" alt=\"enter image description here\" /></a></p>\n<pre><code># all closed\nkbl(df_closed, escape = FALSE) |&gt; \n  kable_styling(bootstrap_options = &quot;bordered&quot;) \n</code></pre>\n<p><strong>Completely folded table:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KUqwu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KUqwu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Raw Data</strong>:</p>\n<pre><code>df &lt;- tibble::tibble(\n  Category = c(&quot;Fruits&quot;, &quot;Apple&quot;, &quot;Banana&quot;, &quot;Kiwi&quot;, &quot;Vegetable&quot;, &quot;Carrots&quot;, &quot;Red Carrots&quot;, &quot;Orange Carrots&quot;, &quot;Diary&quot;), \n  Value_sum = c(1:9), \n  Value_one = c(10:18),\n  Value_two = c(200:208), \n  Another_column = &quot;ABC&quot;\n)\n</code></pre>\n"
	}, {
		"tags": ["r", "visualization", "heatmap", "complexheatmap"],
		"owner": {
			"reputation": 475,
			"user_id": 18090706,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/467ac6f050d6974027141337d657873f?s=256&d=identicon&r=PG",
			"display_name": "melolili",
			"link": "https://stackoverflow.com/users/18090706/melolili"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676750985,
		"creation_date": 1676749913,
		"last_edit_date": 1676750985,
		"question_id": 75496009,
		"link": "https://stackoverflow.com/questions/75496009/error-length-of-labels-should-be-as-same-as-number-of-slices",
		"title": "Error: Length of `labels` should be as same as number of slices",
		"body": "<p>I want to use <a href=\"https://jokergoo.github.io/ComplexHeatmap-reference/book/heatmap-annotations.html\" rel=\"nofollow noreferrer\">ComplexHeatmap</a> to plot the &quot;types&quot; (type 1, type 2) and &quot;subtypes&quot; as top annotations using block annotation.\nThe row annotations would be the column names of <code>met.resolv</code>.</p>\n<p>Code Part 1:</p>\n<pre><code>library(ComplexHeatmap)\nlibrary(GetoptLong)\n\nclust.col &lt;- c(&quot;#003f5c&quot;, &quot;#374c80&quot;,&quot;#7a5195&quot;,&quot;#bc5090&quot;,&quot;#ef5675&quot;,&quot;#ff764a&quot;, &quot;#ffa600&quot;, &quot;#84E4F7&quot;, &quot;#FFB480&quot;,&quot;#FDFD86&quot;, &quot;#00a692&quot;)\nmeth.col &lt;- c(&quot;#ff816f&quot;, &quot;#ffbaae&quot;, &quot;#f1f1f1&quot;, &quot;#7e959e&quot;, &quot;#004252&quot;)\nmet.immune.col &lt;- c(&quot;#01444f&quot;, &quot;#01575e&quot;, &quot;#0d6a6a&quot;, &quot;#217d74&quot;, &quot;#38917c&quot;, &quot;#52a482&quot;, &quot;#6eb786&quot;, &quot;#8eca89&quot;, &quot;#b0dc8c&quot;, &quot;#d5ed90&quot;, &quot;#fdfd96&quot;)\n\n\npdf(&quot;Plots/heatmap_methylresolver.pdf&quot;)\nha = HeatmapAnnotation(\n  name = &quot;Sub-Cluster&quot;, empty = anno_empty(border = TRUE, height = unit(8, &quot;mm&quot;)),\n  foo = anno_block(gp = gpar(fill = clust.col), labels = unique(meta$clust))\n)\nla = rowAnnotation(foo = anno_block(gp = gpar(col=met.immune.col),\n                                                 labels = colnames(met.resolv), \n                                                 labels_gp = gpar(col = &quot;white&quot;, fontsize = 10)))\nHeatmap(met.resolv, name = &quot;SubClust&quot;, top_annotation = ha, \n        left_annotation = la, column_title = NULL)\n</code></pre>\n<p>Traceback:</p>\n<pre><code>Error: Length of `labels` should be as same as number of slices.\n</code></pre>\n<p>Code part 2:</p>\n<pre><code>group_block_anno = function(group, empty_anno, gp = gpar(), \n                            label = NULL, label_gp = gpar()) {\n  \n  seekViewport(qq(&quot;annotation_@{empty_anno}_@{min(group)}&quot;))\n  loc1 = deviceLoc(x = unit(0, &quot;npc&quot;), y = unit(0, &quot;npc&quot;))\n  seekViewport(qq(&quot;annotation_@{empty_anno}_@{max(group)}&quot;))\n  loc2 = deviceLoc(x = unit(1, &quot;npc&quot;), y = unit(1, &quot;npc&quot;))\n  \n  seekViewport(&quot;global&quot;)\n  grid.rect(loc1$x, loc1$y, width = loc2$x - loc1$x, height = loc2$y - loc1$y, \n            just = c(&quot;left&quot;, &quot;bottom&quot;), gp = gp)\n  if(!is.null(label)) {\n    grid.text(label, x = (loc1$x + loc2$x)*0.5, y = (loc1$y + loc2$y)*0.5, gp = label_gp)\n  }\n}\ngroup_block_anno(meta[meta$type==1,], &quot;empty&quot;, gp = gpar(fill = &quot;#003f5c&quot;), label = &quot;type 1&quot;)\ngroup_block_anno(meta[meta$type==2,], &quot;empty&quot;, gp = gpar(fill = &quot;#ffa600&quot;), label = &quot;type 2&quot;)\n\ndev.off()\n</code></pre>\n<p>Data:</p>\n<p><code>met.resolv</code></p>\n<pre><code>&gt; dput(met.resolv[1:20,])\nstructure(list(Monocytes = c(0, 0, 0, 0, 0.0691477875220381, \n0.0461824156116519, 0.00777223000960038, 0, 0, 0, 0.00165316191239164, \n0.0245461060386295, 0.026342142484403, 0, 0, 0, 0.0362473177899938, \n0, 0, 0.0615459951223746), `Dendritic Cells` = c(0, 0, 0.00772620422001257, \n0, 0, 0, 0.0480402297895918, 0, 0, 0.00898992233305366, 0.057888955860833, \n0.0362367878235371, 0, 0.0472205793224695, 0.0286203273050095, \n0, 0, 0, 0, 0), Macrophages = c(0, 0.0664642500649833, 0, 0, \n0.0371204658284402, 0, 0, 0.0225187084795453, 0.0603416047052193, \n0, 0, 0, 0, 0, 0, 0.0313730144635087, 0.0704265029977412, 0, \n0.00934366999330129, 0.0411264824824766), Neutrophils = c(0.173202855063056, \n0, 0, 0.0643464479529596, 0, 0.0187142163615865, 0.0117918312263748, \n0, 0, 0.115244141262919, 0.0520653071278115, 0.00997874098002133, \n0, 0.00754706466322519, 0.0885236230551497, 0.0144246971006176, \n0.000602296924347016, 0, 0.0195266392400734, 0.00343527794086701\n), Eosinophils = c(0, 0.00809451621782635, 0, 0, 0, 0, 0, 0.0026662337469062, \n0.0126433025837339, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00796674767545607, \n0), `Regulatory T cells` = c(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n0, 0, 0, 0, 0, 0, 0, 0, 0), `Naive T cells` = c(0, 0.00984426904423764, \n0, 0.111694279700795, 0.0123267828167452, 0.0121761009946946, \n0.015487451006506, 0, 0.0231848393777138, 0, 0.00278269237244245, \n0.0200645732264692, 0, 0.0147361795082149, 0.0526711496398388, \n0, 0.00992032127196248, 0, 0, 0.030586635289606), `Memory T cells` = c(0, \n0.0312258875142767, 0.124409625779986, 0, 0.0135351004994425, \n0.0537156172200875, 0.0540049513012593, 0.0297542571267331, 0, \n0.0363411597373587, 0.0464268327265193, 0.0397546685980086, 0.0425232243321057, \n0.0491394530734343, 0, 0.0512205034016493, 0.023265025230139, \n0.130162735781893, 0, 0.00172924583134173), `CD8 T cells` = c(0.00282626493694126, \n0.0225524838253428, 0, 0.0030508623462426, 0, 0.0128041131453121, \n0, 0.102208367313482, 0, 0, 0, 0, 0.0668565430396047, 0.0343785834326558, \n0, 0.0418137510155405, 0.0039045724524825, 0.0142647475514386, \n0.0757110710314276, 0), `NK cells` = c(0, 0, 0, 0, 0, 0, 0, 0, \n0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), `B cells` = c(0, 0, 0, 0, \n0, 0, 0, 0, 0, 0, 0, 0, 0.0158949534772194, 0, 0, 0.0174286273520171, \n0, 0, 0.0240398020597407, 0)), row.names = c(&quot;TCGA.2K.A9WE.01A&quot;, \n&quot;TCGA.2Z.A9J1.01A&quot;, &quot;TCGA.2Z.A9J3.01A&quot;, &quot;TCGA.2Z.A9J5.01A&quot;, &quot;TCGA.2Z.A9J6.01A&quot;, \n&quot;TCGA.2Z.A9J7.01A&quot;, &quot;TCGA.2Z.A9J8.01A&quot;, &quot;TCGA.2Z.A9JD.01A&quot;, &quot;TCGA.2Z.A9JI.01A&quot;, \n&quot;TCGA.2Z.A9JJ.01A&quot;, &quot;TCGA.2Z.A9JO.01A&quot;, &quot;TCGA.2Z.A9JQ.01A&quot;, &quot;TCGA.4A.A93W.01A&quot;, \n&quot;TCGA.4A.A93X.01A&quot;, &quot;TCGA.4A.A93Y.01A&quot;, &quot;TCGA.5P.A9JU.01A&quot;, &quot;TCGA.5P.A9JY.01A&quot;, \n&quot;TCGA.5P.A9KE.01A&quot;, &quot;TCGA.A4.7288.01A&quot;, &quot;TCGA.A4.7583.01A&quot;), class = &quot;data.frame&quot;)\n</code></pre>\n<p><code>meta</code></p>\n<pre><code>&gt; dput(meta[1:20,])\nstructure(list(clust = c(&quot;1a&quot;, &quot;2a&quot;, &quot;2b&quot;, &quot;1b&quot;, &quot;2a&quot;, &quot;2c&quot;, \n&quot;1c&quot;, &quot;1c&quot;, &quot;1b&quot;, &quot;1d&quot;, &quot;1e&quot;, &quot;2c&quot;, &quot;2b&quot;, &quot;1c&quot;, &quot;1e&quot;, &quot;1c&quot;, &quot;2c&quot;, \n&quot;1f&quot;, &quot;1c&quot;, &quot;2a&quot;), type = c(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;, \n&quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;2&quot;, &quot;1&quot;, &quot;1&quot;, &quot;2&quot;\n)), row.names = c(&quot;TCGA.2K.A9WE.01A&quot;, &quot;TCGA.2Z.A9J1.01A&quot;, &quot;TCGA.2Z.A9J3.01A&quot;, \n&quot;TCGA.2Z.A9J5.01A&quot;, &quot;TCGA.2Z.A9J6.01A&quot;, &quot;TCGA.2Z.A9J7.01A&quot;, &quot;TCGA.2Z.A9J8.01A&quot;, \n&quot;TCGA.2Z.A9JD.01A&quot;, &quot;TCGA.2Z.A9JI.01A&quot;, &quot;TCGA.2Z.A9JJ.01A&quot;, &quot;TCGA.2Z.A9JO.01A&quot;, \n&quot;TCGA.2Z.A9JQ.01A&quot;, &quot;TCGA.4A.A93W.01A&quot;, &quot;TCGA.4A.A93X.01A&quot;, &quot;TCGA.4A.A93Y.01A&quot;, \n&quot;TCGA.5P.A9JU.01A&quot;, &quot;TCGA.5P.A9JY.01A&quot;, &quot;TCGA.5P.A9KE.01A&quot;, &quot;TCGA.A4.7288.01A&quot;, \n&quot;TCGA.A4.7583.01A&quot;), class = &quot;data.frame&quot;)\n</code></pre>\n<p>Expected output (Example):</p>\n<p><a href=\"https://i.stack.imgur.com/PeOC9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PeOC9.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "function", "correlation", "r-caret"],
		"owner": {
			"reputation": 607,
			"user_id": 12649684,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/455ebd2f74c5db32275c4d4138202513?s=256&d=identicon&r=PG&f=1",
			"display_name": "nickolakis",
			"link": "https://stackoverflow.com/users/12649684/nickolakis"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676750135,
		"creation_date": 1676749528,
		"last_edit_date": 1676750135,
		"question_id": 75495970,
		"link": "https://stackoverflow.com/questions/75495970/cross-validation-pca-with-different-correlation-matrix-in-r",
		"title": "Cross validation PCA with different correlation matrix in R",
		"body": "<p>I want to evaluate in terms of <code>MSE</code>, <code>AIC</code>, and <code>Adjusted R squared</code>, various Principal Component models based on different correlation coefficients (e.g., Pearson, Kendall) in R. I have created the following function however I can't find the way to &quot;force&quot; the function to perform principal component regression based on the given correlation matrix <code>cor1</code> and <code>cor2</code>. Therefore, I end up with the exact same results. Can someone help me?</p>\n<pre><code>library(caret)\n    \nset.seed(123)\ndf &lt;- data.frame(Y = rnorm(100), X1 = rnorm(100), X2 = rnorm(100), X3 = rnorm(100), X4 = rnorm(100), X5 = rnorm(100))\n\nX &lt;- df[,-1]\nY &lt;- df[,1]\n\n# compute Pearson's and Kendall's correlation matrices\ncor1 &lt;- cor(X, method = &quot;pearson&quot;)\ncor2 &lt;- cor(X, method = &quot;kendall&quot;)\n\n# define function to compute PCA with cross-validation and return MSE, AIC, and adjusted R-squared\npca_cv_mse_aic_r2 &lt;- function(X, Y, cor_mat, ncomp, nfolds) {\n  \n  # create empty vectors to store results\n  mse &lt;- rep(0, ncomp)\n  aic &lt;- rep(0, ncomp)\n  adj_r2 &lt;- rep(0, ncomp)\n  \n  # loop over the number of components\n  for (i in 1:ncomp) {\n    \n    # perform PCA with cross-validation\n    pca &lt;- caret::train(X, Y, method = &quot;pcr&quot;, preProc = c(&quot;center&quot;, &quot;scale&quot;),\n                        tuneLength = nfolds, trControl = trainControl(method = &quot;cv&quot;, number = nfolds),\n                        tuneGrid = data.frame(ncomp = i))\n    \n    # compute MSE, AIC, and adjusted R-squared\n    pred &lt;- predict(pca, newdata = X)\n    mse[i] &lt;- mean((pred - Y)^2)\n    aic[i] &lt;- AIC(lm(Y ~ pred + 1))\n    adj_r2[i] &lt;- summary(lm(Y ~ pred))$adj.r.squared\n  }\n  \n  # return a list of results\n  return(list(mse = mse, aic = aic, adj_r2 = adj_r2))\n}\n\n# compute the MSE, AIC, and adjusted R-squared of PCA models with different correlation matrices and numbers of components\nresults1 &lt;- pca_cv_mse_aic_r2(X, Y, cor1, 5, 10)\nresults2 &lt;- pca_cv_mse_aic_r2(X, Y, cor2, 5, 10)\n</code></pre>\n"
	}, {
		"tags": ["c++", "r", "windows", "rcpp"],
		"owner": {
			"reputation": 31,
			"user_id": 18184594,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0f3d1b289fcc9b730a443e018540a0b5?s=256&d=identicon&r=PG",
			"display_name": "shaelebrown",
			"link": "https://stackoverflow.com/users/18184594/shaelebrown"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676748713,
		"creation_date": 1676748713,
		"question_id": 75495882,
		"link": "https://stackoverflow.com/questions/75495882/c-code-compiles-with-rcpp-on-mac-but-not-windows",
		"title": "C++ code compiles with Rcpp on Mac but not Windows",
		"body": "<p>I'm working on an R software package involving C++ code written by someone else, and on my Mac everything loads and works properly. However, when I migrate the same code to Windows, everything breaks during compilation. I have received two suggestions on how to fix the problem:</p>\n<ol>\n<li><p>In the C++ package it says that I need to add certain CFLAGS to their Makefile to run on Windows, however I don't have a Makefile in my src folder and everything still works on Mac.. is there a proper way to add CFLAGS for Rcpp to run on Windows? Do I need to add a Makefile.win?</p>\n</li>\n<li><p>The C++ package calls another C++ package (in its external directory) which has compiled Windows binaries in a .vcproj file (besides their actual C++ code). Should this file be included in my src directory for Rcpp to use on Windows?</p>\n</li>\n</ol>\n<p>Thanks!!</p>\n"
	}, {
		"tags": ["r", "ggplot2", "plot"],
		"owner": {
			"reputation": 1,
			"user_id": 18069825,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiEw5q-3oECSb7a7EGuXZENxoHE7GpmyeJguPeQDg=k-s256",
			"display_name": "pcm1113",
			"link": "https://stackoverflow.com/users/18069825/pcm1113"
		},
		"is_answered": true,
		"view_count": 47,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676748628,
		"creation_date": 1676684190,
		"last_edit_date": 1676748628,
		"question_id": 75490649,
		"link": "https://stackoverflow.com/questions/75490649/trying-to-make-a-line-plot-with-multiple-lines-but-get-an-empty-plot",
		"title": "Trying to make a line plot with multiple lines, but get an empty plot",
		"body": "<p>So, I'm wanting to graph this baseball player's batting average, on base percentage, slugging percentage, and on base plus slugging on one graph across the years 2017-2022. The dataframe has the years, then the aforementioned statistics in that same order. My code for the line plot is this:</p>\n<pre><code>library(ggplot2)\n\nggplot(slashline, aes(x = Year)) +\n  geom_line(aes(y = BA), color = &quot;BA&quot;) +\n  geom_line(aes(y = OBP), color = &quot;OBP&quot;) +\n  geom_line(aes(y = SLG), color = &quot;SLG&quot;) +\n  geom_line(aes(y = OPS), color = &quot;OPS&quot;)\n</code></pre>\n<p>From what I've seen, this should work, but instead it just plots BA, OBP, SLG, and OPS on the Y axis and doesn't plot any numbers or actual data, and so the lines obviously don't show up either. Any help would be appreciated.</p>\n<p>Edit: So thanks to the answer from Moliz, I was able to get most of the problem solved. Here is my code thus far:</p>\n<pre><code>happData &lt;- read_csv(&quot;my pathfile&quot;)\n\nslashline &lt;- happData %&gt;% \nselect(Year, &quot;BA&quot;, &quot;OBP&quot;, &quot;SLG&quot;, &quot;OPS&quot;)\n\nslashline &lt;- slashline[-c(7, 8),]\n\nslashline2 &lt;- slashline %&gt;% \ngather(key=&quot;type&quot;,value=&quot;value&quot;,BA,OBP,SLG,OPS)\nslashline2\n\n# Here's the code for the graph\nggplot(slashline2,aes(x=Year,y= value,color=type))+\ngeom_point()+\ngeom_line(alpha = .5)+\nlabs(y = &quot;&quot;,\n   title = &quot;Ian Happ's Statistics, 2017-2022&quot;,\n   key = &quot;&quot;)+\ntheme(plot.title = element_text(hjust = 0.5))+\nguides(color = guide_legend(title = &quot;&quot;))+\nscale_color_discrete(labels = c(&quot;Batting Average&quot;, &quot;On-Base Percentage&quot;, \n&quot;Slugging Percentage&quot;, &quot;On-Base Plus Slugging&quot;))\n</code></pre>\n<p>Here's the output for this graph:</p>\n<p><a href=\"https://i.stack.imgur.com/XVHZb.png\" rel=\"nofollow noreferrer\">Ian Happ Statistics</a></p>\n<p>Obviously, the problem is that there's no lines to connect the dots even though there should be. I'm not really sure why this is. When I plug in group = 1, it makes the graph messy with lines going all over the place. Any help would be appreciated.</p>\n"
	}, {
		"tags": ["r", "excel", "copy", "summary"],
		"owner": {
			"reputation": 35,
			"user_id": 21066243,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/347f5ed2e14b532a94454624f7eefc59?s=256&d=identicon&r=PG",
			"display_name": "CorinnaW",
			"link": "https://stackoverflow.com/users/21066243/corinnaw"
		},
		"is_answered": false,
		"view_count": 6,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676747292,
		"creation_date": 1676721776,
		"last_edit_date": 1676747292,
		"question_id": 75493212,
		"link": "https://stackoverflow.com/questions/75493212/copy-summary-of-linear-regression-from-r-studio-to-excel-or-word",
		"title": "Copy Summary of Linear Regression from R-Studio to Excel or Word",
		"body": "<p>I'd like to copy the summary of a linear Regression from RStudio to either Excel or Word, since I need the results for my research paper.\nI've read some posts about this topic but I wasn't able to do it by myself.\nI don't know anything about LaTex or whatsoever so I'm looking for an easy and quick way to do it.</p>\n<p>Thanks in advance!</p>\n"
	}, {
		"tags": ["r", "plotly"],
		"owner": {
			"reputation": 402,
			"user_id": 15371240,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-gsc82fM7aCM/AAAAAAAAAAI/AAAAAAAATYg/AMZuucnyyMjY0si9nLp3hETS6wa4URK6_w/s96-c/photo.jpg?sz=256",
			"display_name": "CyG",
			"link": "https://stackoverflow.com/users/15371240/cyg"
		},
		"is_answered": false,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676746984,
		"creation_date": 1676743116,
		"last_edit_date": 1676746984,
		"question_id": 75495313,
		"link": "https://stackoverflow.com/questions/75495313/segments-connecting-points-disappear-in-r-plotly-animation",
		"title": "Segments connecting points disappear in R plotly animation",
		"body": "<p>I am trying to connect points over time using a R plotly animation.</p>\n<p>Several issues appear with the code below:</p>\n<ol>\n<li>The segments float from one connection to another.</li>\n<li>The segments disappear from one day to another even though the connection still exists on the consecutive days (see <code>df</code>).</li>\n<li>Not all connections were plotted.</li>\n<li>I tried to exchange <code>add_segments</code> with <code>add_annotations</code> <a href=\"https://stackoverflow.com/questions/53623808/adding-arrow-segments-to-a-scatter-plot-in-plotly\">to have arrows instead of segments</a> but the <code>frame</code> argument would not work.</li>\n</ol>\n<p>Note that removing the <code>color</code> and <code>symbol</code> arguments help with point #2 and #3.</p>\n<pre><code>library(dplyr)\nlibrary(plotly)\n\nset.seed(12)\ndf &lt;- tibble(\n  day = rep(1:8, each = 10),\n  id = rep(paste0(&quot;ID&quot;, 1:10), 8),\n  infector = NA\n) %&gt;%\n  group_by(id) %&gt;%\n  mutate(x = rnorm(1),\n         y = rnorm(1),\n         group =  sample(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), 1)) %&gt;%\n  ungroup() %&gt;%\n  mutate(\n    infector = case_when(\n      id == &quot;ID2&quot; &amp; day &gt;= 1 ~ &quot;ID4&quot;,\n      id == &quot;ID3&quot; &amp; day &gt;= 2 ~ &quot;ID4&quot;,\n      id == &quot;ID1&quot; &amp; day &gt;= 3 ~ &quot;ID2&quot;,\n      id == &quot;ID5&quot; &amp; day &gt;= 3 ~ &quot;ID3&quot;,\n      id == &quot;ID6&quot; &amp; day &gt;= 3 ~ &quot;ID4&quot;,\n      id == &quot;ID10&quot; &amp; day &gt;= 4 ~ &quot;ID2&quot;,\n      id == &quot;ID9&quot; &amp; day &gt;= 7 ~ &quot;ID5&quot;\n    )\n  )\ninfectors &lt;- df %&gt;% filter(day == 1 &amp; id %in% .$infector) %&gt;%\n  select(id, x, y, group) %&gt;%\n  rename(infector.x = x,\n         infector.y = y,\n         infector_group = group)\n\ndf &lt;- left_join(df, infectors, by = c(&quot;infector&quot; = &quot;id&quot;))\n\npal &lt;- c(&quot;A&quot; = &quot;blue&quot;, &quot;B&quot; = &quot;green&quot;, &quot;C&quot; = &quot;red&quot;)\n\nplot_ly(df) %&gt;%\n  add_markers(\n    x = ~ x,\n    y = ~ y,\n    frame = ~ day,\n    hoverinfo = &quot;text&quot;,\n    text = ~ paste(&quot;ID:&quot;, id),\n    symbol = ~group,\n    color = ~group,\n    colors = pal\n  ) %&gt;%\n  add_segments(\n    x = ~infector.x,\n    xend = ~x,\n    y = ~infector.y,\n    yend = ~y,\n    color = ~infector_group,\n    colors = pal,\n    frame = ~day)\n</code></pre>\n"
	}, {
		"tags": ["r", "data-structures"],
		"owner": {
			"reputation": 13,
			"user_id": 19888115,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/ed4c69e8486c2fde5e1f41094941e991?s=256&d=identicon&r=PG",
			"display_name": "GimenezEGT",
			"link": "https://stackoverflow.com/users/19888115/gimenezegt"
		},
		"is_answered": true,
		"view_count": 39,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75495589,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676745880,
		"creation_date": 1676744796,
		"question_id": 75495474,
		"link": "https://stackoverflow.com/questions/75495474/could-someone-explain-me-the-output-of-strhello-strworld-in-r-i-w",
		"title": "Could someone explain me the output of &quot;str(&quot;Hello&quot;) == str(&quot;World!&quot;)&quot; in R. I was expecting &quot;TRUE&quot;",
		"body": "<p>I'm just learning R, and I tried this:\n<code>str(&quot;Hello&quot;) == str(&quot;World!&quot;)</code></p>\n<p>I was expecting an logical output, like TRUE or FALSE, but instead, it returned this:\n<code> chr &quot;Hello&quot; chr &quot;World!&quot; logical(0)</code></p>\n<p>I didn't understand why, bacause the str() function should print the class and whatever is inside parenthesis...\nCould someone help me in understanding this, please?</p>\n<p>Many thanks.</p>\n<p>Tried: <code>str(&quot;Hello&quot;) == str(&quot;World!&quot;)</code>\nExpected: &quot;TRUE&quot; or &quot;FALSE&quot;\nReality:\n<code> chr &quot;Hello&quot; chr &quot;World!&quot; logical(0)</code></p>\n"
	}, {
		"tags": ["r", "mathematical-optimization", "cvxr"],
		"owner": {
			"reputation": 185,
			"user_id": 12322285,
			"user_type": "registered",
			"profile_image": "https://lh6.googleusercontent.com/-QkPo8Ss_8Gg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remo1BiYwikyKdLtWatR-PPtnhttw/photo.jpg?sz=256",
			"display_name": "Auronus Ben",
			"link": "https://stackoverflow.com/users/12322285/auronus-ben"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676745833,
		"creation_date": 1676745833,
		"question_id": 75495586,
		"link": "https://stackoverflow.com/questions/75495586/how-to-find-k-solutions-of-an-optimization-with-cvxr",
		"title": "How to find k solutions of an optimization with CVXR",
		"body": "<p>I'm trying to find multiple solutions (TXs[1],TXs[2],TXs[3],TXs[4],TXs[5],TZs) that respect the following conditions:</p>\n<pre><code># Variables :\nTXs &lt;- Variable(5)\nTZs &lt;- Variable(1)\n\n\n# Objectif :\nobj = abs(TXs[1] + TXs[2] + TXs[3] + TXs[4] + TXs[5] + TZs - 100)\n\n# Conditions :\nabs(TXs[1] - 2) &lt;=1\nabs(TXs[2] - 55) &lt;= 2\nabs(TXs[3] - 25) &lt;= 0.5\nabs(TXs[4] - 8) &lt;= 1\nabs(TXs[5] - 7) &lt;= 1\nabs(TZs[1] - 1.5) &lt;= 1\n\ncor(TXs[1], TXs[2]) = 0.77\ncor(TXs[3], TXs[2]) = 0.85\ncor(TXs[4], TXs[2]) = 0.88\ncor(TXs[5], TXs[2]) = 0.99\ncor(TZs, TXs[2]) = 0.4\n\nabs(TXs[1] + TXs[2] + TXs[3] + TXs[4] + TXs[5] + TZs[1] - 100) &lt;=  0.001)\n</code></pre>\n<p>I've written the following code that tries to find k solutions but it fails as I always get the same result:</p>\n<pre><code>library(CVXR)\n\n# k solutions\nk &lt;- 10\nsolutions &lt;- matrix(NA, nrow = k, ncol = 6)\n\n\n# Variables\nTXs &lt;- Variable(5)\nTZs &lt;- Variable(1)\n\n# Objectif\nobj = abs(TXs[1] + TXs[2] + TXs[3] + TXs[4] + TXs[5] + TZs - 100)\n\nfor (i in 1:k) {\n  print(i)\n  \n  # Problem\n  prob = Problem(Minimize(obj),\n                 list(abs(TXs[1] - 2) &lt;= 1,  ((TXs[1] - 2)/ 1) == (0.77 * (TXs[2] - 55)/ 2), \n                      abs(TXs[3] - 25) &lt;= 2,  ((TXs[3] - 25)/ 2) == (0.85 * (TXs[2] - 55)/ 2),\n                      abs(TXs[4] - 8) &lt;= 0.5,  ((TXs[4] - 8)/ 0.5) == (0.88 * (TXs[2] - 55)/ 2),\n                      abs(TXs[5] - 7) &lt;= 1,  ((TXs[5] - 7)/ 1) == (0.99 * (TXs[2] - 55)/ 2),\n                      abs(TZs[1] - 1.5) &lt;= 1.2,  ((TZs - 1.5)/ 1.2) == (0.4 * (TXs[2] - 55)/ 2),\n                      abs(TXs[1] + TXs[2] + TXs[3] + TXs[4] + TXs[5] + TZs[1] - 100) &lt;=  0.001))\n  \n  result = solve(prob, verbose = TRUE )\n  solutions[i,] &lt;- c(result$getValue(TXs[1]),\n                     result$getValue(TXs[2]),#TXs[2],\n                     result$getValue(TXs[3]),\n                     result$getValue(TXs[4]),\n                     result$getValue(TXs[5]),\n                     result$getValue(TZs[1]))\n}\n\nsolutions = as.data.frame(solutions)\ncolnames(solutions) = c(&quot;TXs[1]&quot;,&quot;TXs[2]&quot;,&quot;TXs[3]&quot;,&quot;TXs[4]&quot;,&quot;TXs[5]&quot;,&quot;TZs&quot; )\nsolutions$Somme = rowSums(solutions)\n\n</code></pre>\n<p>Is there a way to modify my code to get multiple solutions? I am also open to other alternatives to &quot;CVXR&quot;.</p>\n"
	}, {
		"tags": ["r", "arrays", "dataframe", "matrix-multiplication"],
		"owner": {
			"reputation": 11,
			"user_id": 12798199,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/147c003fb042e3806d6431fb6c5dac0e?s=256&d=identicon&r=PG&f=1",
			"display_name": "bhaskarvishal",
			"link": "https://stackoverflow.com/users/12798199/bhaskarvishal"
		},
		"is_answered": true,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676745773,
		"creation_date": 1676744651,
		"question_id": 75495457,
		"link": "https://stackoverflow.com/questions/75495457/matrix-array-multiplication-in-r-data-frame",
		"title": "Matrix/array multiplication in R data frame",
		"body": "<p>I am trying to to do a matrix multiplication from a data frame in R.\nThe multiplication is such a way that 1st array is all elements from each column from data frame (1x6). Then we multiply it with a correlation matrix (6x6) and again with a transpose of 1st array (6x1) to give a final result. This has to be done on all rows of a data frame</p>\n<p>here is the image of how i do it in excel</p>\n<p><a href=\"https://i.stack.imgur.com/wcnQs.png\" rel=\"nofollow noreferrer\">snapshot of calculation in excel</a></p>\n<pre><code>A &lt;- c(2,3,4,5,6)\n   B &lt;- c(4,5,6,7,8)\n   C &lt;- c(6,7,8,9,10)\n   D &lt;- c(8,9,10,11,12)\n   E &lt;- c(10,11,12,13,14)\n   F &lt;- c(12,13,14,15,16)\n\n   df &lt;- data.frame (A,B,C,D,E,F)\n\n   ## 6x6 correlation matrix \n\n    corr &lt;- matrix(       \n        c(1,0,0,0,0,0,\n          0,1,0,0,0,0,\n          0,0,1,.6,.6,.5,\n          0,0,.6,1,.6,.7,\n          0,0,.6,.6,1,.6,\n          0,0,.5,.7,.6,1),\n          nrow = 6,ncol =6, byrow = TRUE) \n</code></pre>\n<p>What i need is to add another col in df with result for row 1 =   [2,4,6,8,10,12]* corr * transpose[2,4,6,8,10,12]</p>\n"
	}, {
		"tags": ["r", "shiny", "bs4dash"],
		"owner": {
			"reputation": 719,
			"user_id": 3193927,
			"user_type": "registered",
			"accept_rate": 79,
			"profile_image": "https://i.stack.imgur.com/R8gE1.jpg?s=256&g=1",
			"display_name": "CallumH",
			"link": "https://stackoverflow.com/users/3193927/callumh"
		},
		"is_answered": false,
		"view_count": 54,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676745769,
		"creation_date": 1666863821,
		"question_id": 74219972,
		"link": "https://stackoverflow.com/questions/74219972/how-to-update-a-shiny-bs4dash-descriptionblock-server-side",
		"title": "How to Update a Shiny bs4Dash descriptionBlock server side",
		"body": "<p>Can I have some guidance please in how to update the <code>descriptionBlock</code> in a shiny app with a bs4Dash dashboard? Thanks in advance.</p>\n<p>I have tried multiple approaches but can\u2019t seem to get the <code>descriptionBlock</code> values to change on the server and send to the UI; some have resulted in strange width behaviour and for that reason I have included a placeholder box to the left of width 9, beside my target box (width = 3) to the right.</p>\n<p>It would seem that there should be an easy server side way to update these values and send to the UI but I just can\u2019t find it. To keep it simple\u2026 I am looking to update on an event (actionButton click).</p>\n<pre><code>library(shiny)\nlibrary(bs4Dash)\n\nui &lt;- dashboardPage(\n  dashboardHeader(title = &quot;Basic dashboard&quot;),\n  dashboardSidebar(),\n  dashboardBody(\n    fluidRow(\n      column(12, actionButton('btn_update', 'UPDATE right box'))\n    ),\n    br(),\n    fluidRow(\n      box(\n        title = textOutput(&quot;box_state&quot;),\n        &quot;Box body&quot;,\n        id = &quot;mybox1&quot;,\n        collapsible = F,\n        closable = F,\n        width = 9\n      ),\n      box(\n        title = textOutput(&quot;box_state&quot;),\n        id = &quot;mybox2&quot;,\n        collapsible = F,\n        closable = F,\n        width = 3,\n        descriptionBlock(\n          number = '100',\n          numberColor = 'success',\n          numberIcon = icon(&quot;caret-up&quot;),\n          header = NULL,\n          text = 'stuff',\n          rightBorder = TRUE,\n          marginBottom = FALSE\n        )\n      )\n    )\n  )\n)\n\nserver &lt;- function(input, output) {\n  \n  \n  observeEvent(input$btn_update,{\n    \n    # How is this sent as an update to the UI please?\n    descriptionBlock(\n      number = '-999',\n      numberColor = 'danger',\n      numberIcon = icon(&quot;caret-down&quot;),\n      header = NULL,\n      text = 'different stuff',\n      rightBorder = TRUE,\n      marginBottom = FALSE\n    )\n    \n  })\n\n}\n\nshinyApp(ui, server)\n</code></pre>\n"
	}, {
		"tags": ["r", "apache-spark", "parquet", "sparkr"],
		"owner": {
			"reputation": 4693,
			"user_id": 296509,
			"user_type": "registered",
			"accept_rate": 95,
			"profile_image": "https://i.stack.imgur.com/7UBZJ.png?s=256&g=1",
			"display_name": "metasim",
			"link": "https://stackoverflow.com/users/296509/metasim"
		},
		"is_answered": true,
		"view_count": 52367,
		"down_vote_count": 0,
		"up_vote_count": 57,
		"accepted_answer_id": 55165288,
		"answer_count": 10,
		"score": 57,
		"last_activity_date": 1676745125,
		"creation_date": 1432314323,
		"last_edit_date": 1512115981,
		"question_id": 30402253,
		"link": "https://stackoverflow.com/questions/30402253/how-do-i-read-a-parquet-in-r-and-convert-it-to-an-r-dataframe",
		"title": "How do I read a Parquet in R and convert it to an R DataFrame?",
		"body": "<p>I'd like to process <a href=\"http://parquet.apache.org\" rel=\"noreferrer\">Apache Parquet</a> files (in my case, generated in Spark) in the R programming language. </p>\n\n<p>Is an R reader available? Or is work being done on one?</p>\n\n<p>If not, what would be the most expedient way to get there? Note: There are Java and C++ bindings: <a href=\"https://github.com/apache/parquet-mr\" rel=\"noreferrer\">https://github.com/apache/parquet-mr</a></p>\n"
	}, {
		"tags": ["r", "regression", "raster", "xgboost", "xgbregressor"],
		"owner": {
			"reputation": 215,
			"user_id": 13087048,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/uoFQg.jpg?s=256&g=1",
			"display_name": "Nikos",
			"link": "https://stackoverflow.com/users/13087048/nikos"
		},
		"is_answered": false,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676744934,
		"creation_date": 1676458857,
		"last_edit_date": 1676652855,
		"question_id": 75458808,
		"link": "https://stackoverflow.com/questions/75458808/extract-residuals-from-an-xgboost-regression-as-a-single-raster",
		"title": "Extract residuals from an XGBoost regression as a single raster",
		"body": "<p>In <code>R</code>, using the <code>caret</code> and <code>xgboost</code> packages and <a href=\"https://www.kaggle.com/code/pelkoja/visual-xgboost-tuning-with-caret\" rel=\"nofollow noreferrer\">this</a> tutorial, I am running an XGBoost regression (XGBR) and I want to extract the residuals of the XGBR. I hyper-tuned the model using the <code>caret</code> package and then, using the 'best' model parameters I used the <code>xgboost</code> package to perform the regression.</p>\n<p>My dataset has the <em>ntl</em>, <em>pop</em>, <em>tirs</em>, <em>agbh</em> variables stored in <code>data.frame</code> (ntl is the dependent variable while the other three are the independent). Assuming that my XGBR model is called <em>m</em> and my <code>data.frame</code> is called <em>block.data</em>, I did:</p>\n<pre><code>library(caret)\nlibrary(terra)\nlibrary(xgboost)\nlibrary(doParallel)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(glue)\nlibrary(ModelMetrics)\nlibrary(readr)\n\nwd = &quot;path/&quot;\n\nblock.data = read.csv(paste0(wd, &quot;block.data.csv&quot;))\n\nblock.data = subset(block.data, select = c(ntl, tirs, pop, agbh))\n\nset.seed(1123)\n\nsamp &lt;- sample(nrow(block.data), 0.80 * nrow(block.data))\n\ntrain &lt;- block.data[samp, ]\ntrain_x &lt;- as.matrix(select(train, -ntl))\ntrain_y &lt;- train$ntl\n\ntest &lt;- block.data[-samp, ]\ntest_x &lt;- select(test, -ntl)\ntest_y &lt;- test$ntl\n\nno_cores &lt;- detectCores() - 1\ncl = makePSOCKcluster(no_cores)\nregisterDoParallel(cl)\n\n# default model\ngrid_default &lt;- expand.grid(\n  nrounds = 100,\n  max_depth = 6,\n  eta = 0.3,\n  gamma = 0,\n  colsample_bytree = 1,\n  min_child_weight = 1,\n  subsample = 1\n)\n\ntrain_control &lt;- caret::trainControl(\n  method = &quot;none&quot;,\n  verboseIter = FALSE, # no training log\n  allowParallel = TRUE # FALSE for reproducible results \n)\n\nxgb_base &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = train_control,\n  tuneGrid = grid_default,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n)\n\n# hyperparameter tuning\n# setting up the maximum number of trees\nnrounds &lt;- 1000\n\n# note to start nrounds from 200, as smaller learning rates result in errors so\n# big with lower starting points that they'll mess the scales\ntune_grid &lt;- expand.grid(\n  nrounds = seq(from = 200, to = nrounds, by = 50),\n  eta = c(0.025, 0.05, 0.1, 0.3),\n  max_depth = c(2, 3, 4, 5, 6),\n  gamma = 0,\n  colsample_bytree = 1,\n  min_child_weight = 1,\n  subsample = 1\n)\n\ntune_control &lt;- caret::trainControl(\n  method = &quot;cv&quot;, # cross-validation\n  number = 3, # with n folds \n  #index = createFolds(tr_treated$Id_clean), # fix the folds\n  verboseIter = FALSE, # no training log\n  allowParallel = TRUE # FALSE for reproducible results \n)\n\nxgb_tune &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = tune_control,\n  tuneGrid = tune_grid,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n)\n\ntuneplot &lt;- function(x, probs = .90) {\n  ggplot(x) +\n    coord_cartesian(ylim = c(quantile(x$results$RMSE, probs = probs), min(x$results$RMSE))) +\n    theme_bw()\n}\n\ntuneplot(xgb_tune)\n\nxgb_tune$bestTune\n\n# find maximum depth\ntune_grid2 &lt;- expand.grid(\n  nrounds = seq(from = 50, to = nrounds, by = 50),\n  eta = xgb_tune$bestTune$eta,\n  max_depth = ifelse(xgb_tune$bestTune$max_depth == 2,\n                     c(xgb_tune$bestTune$max_depth:4),\n                     xgb_tune$bestTune$max_depth - 1:xgb_tune$bestTune$max_depth + 1),\n  gamma = 0,\n  colsample_bytree = 1,\n  min_child_weight = c(1, 2, 3),\n  subsample = 1\n)\n\nxgb_tune2 &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = tune_control,\n  tuneGrid = tune_grid2,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n)\n\ntuneplot(xgb_tune2)\n\nxgb_tune2$bestTune\n\n# different values for row and column sampling\ntune_grid3 &lt;- expand.grid(\n  nrounds = seq(from = 50, to = nrounds, by = 50),\n  eta = xgb_tune$bestTune$eta,\n  max_depth = xgb_tune2$bestTune$max_depth,\n  gamma = 0,\n  colsample_bytree = c(0.4, 0.6, 0.8, 1.0),\n  min_child_weight = xgb_tune2$bestTune$min_child_weight,\n  subsample = c(0.5, 0.75, 1.0)\n)\n\nxgb_tune3 &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = tune_control,\n  tuneGrid = tune_grid3,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n)\n\ntuneplot(xgb_tune3, probs = .95)\n\nxgb_tune3$bestTune\n\nset.seed(57)\nomp_set_num_threads(2) # caret parallel processing threads\n\n# gamma\ntune_grid4 &lt;- expand.grid(\n  nrounds = seq(from = 50, to = nrounds, by = 50),\n  eta = xgb_tune$bestTune$eta,\n  max_depth = xgb_tune2$bestTune$max_depth,\n  gamma = c(0, 0.05, 0.1, 0.5, 0.7, 0.9, 1.0),\n  colsample_bytree = xgb_tune3$bestTune$colsample_bytree,\n  min_child_weight = xgb_tune2$bestTune$min_child_weight,\n  subsample = xgb_tune3$bestTune$subsample\n)\n\nxgb_tune4 &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = tune_control,\n  tuneGrid = tune_grid4,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n)\n\ntuneplot(xgb_tune4)\n\nxgb_tune4$bestTune\n\n# Reducing the Learning Rate\ntune_grid5 &lt;- expand.grid(\n  nrounds = seq(from = 100, to = 10000, by = 100),\n  eta = c(0.01, 0.015, 0.025, 0.05, 0.1),\n  max_depth = xgb_tune2$bestTune$max_depth,\n  gamma = xgb_tune4$bestTune$gamma,\n  colsample_bytree = xgb_tune3$bestTune$colsample_bytree,\n  min_child_weight = xgb_tune2$bestTune$min_child_weight,\n  subsample = xgb_tune3$bestTune$subsample\n)\n\nxgb_tune5 &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = tune_control,\n  tuneGrid = tune_grid5,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n)\n\ntuneplot(xgb_tune5)\n\nxgb_tune5$bestTune\n\n# Fitting the Model\n(final_grid &lt;- expand.grid(\n  nrounds = xgb_tune5$bestTune$nrounds,\n  eta = xgb_tune5$bestTune$eta,\n  max_depth = xgb_tune5$bestTune$max_depth,\n  gamma = xgb_tune5$bestTune$gamma,\n  colsample_bytree = xgb_tune5$bestTune$colsample_bytree,\n  min_child_weight = xgb_tune5$bestTune$min_child_weight,\n  subsample = xgb_tune5$bestTune$subsample\n))\n\n(xgb_model &lt;- caret::train(\n  x = train_x,\n  y = train_y,\n  trControl = train_control,\n  tuneGrid = final_grid,\n  method = &quot;xgbTree&quot;,\n  verbose = TRUE\n))\n\nstopCluster(cl)\n\n# apply model to the whole data set using xgboost\nxgb_m &lt;- xgb.DMatrix(data = data.matrix(block.data), label = block.data$ntl)\n\nm = xgb.train(data = xgb_m, \n            max.depth = xgb_tune5$bestTune$max_depth, \n            # watchlist = watchlist, \n            nrounds = xgb_tune5$bestTune$nrounds, \n            min_child_weight = xgb_tune5$bestTune$min_child_weight, \n            subsample = xgb_tune5$bestTune$subsample, \n            eta = xgb_tune5$bestTune$eta, \n            gamma = xgb_tune5$bestTune$gamma,\n            colsample_bytree = xgb_tune5$bestTune$colsample_bytree, \n            objective = &quot;reg:squarederror&quot;)\n\nm\n\n# export xgb residuals\nxgb_resids = predict(m, xgb_m, na.rm = TRUE)\n\nsb = c(ntl, pop_res, tirs_res, agbh_res)\n\nxgb_resids = sb$ntl - xgb_resids\nplot(xgb_resids)\n</code></pre>\n<p>The plot looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/fGByu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGByu.png\" alt=\"residuals\" /></a></p>\n<p>Obviously, I am doing something very wrong. How can I export the residuals of an XGBR as a single raster?</p>\n<p>Here is a very small sample of my dataset:</p>\n<pre><code>block.data = structure(list(x = c(11880750L, 11879250L, 11879750L, 11880250L, \n11880750L, 11881250L, 11879250L, 11879750L, 11880250L, 11880750L, \n11881250L, 11878750L, 11879250L, 11879750L, 11880250L, 11880750L, \n11881250L, 11879250L, 11879750L, 11880250L, 11880750L, 11881250L, \n11881750L, 11882250L, 11879250L, 11879750L, 11880250L, 11880750L, \n11881250L, 11881750L, 11882250L, 11882750L, 11879250L, 11879750L\n), y = c(1802250L, 1801750L, 1801750L, 1801750L, 1801750L, 1801750L, \n1801250L, 1801250L, 1801250L, 1801250L, 1801250L, 1800750L, 1800750L, \n1800750L, 1800750L, 1800750L, 1800750L, 1800250L, 1800250L, 1800250L, \n1800250L, 1800250L, 1800250L, 1800250L, 1799750L, 1799750L, 1799750L, \n1799750L, 1799750L, 1799750L, 1799750L, 1799750L, 1799250L, 1799250L\n), ntl = c(18.7969169616699, 25.7222957611084, 23.4188251495361, \n25.4322757720947, 16.4593601226807, 12.7868213653564, 30.9337253570557, \n29.865758895874, 30.4080600738525, 29.5479888916016, 24.3493347167969, \n35.2427635192871, 38.989933013916, 34.6536979675293, 29.4607238769531, \n30.7469024658203, 34.3946380615234, 42.8660278320312, 34.7930717468262, \n30.9516315460205, 32.20654296875, 39.999755859375, 46.6002235412598, \n38.6480979919434, 60.5214920043945, 33.1799964904785, 31.8498134613037, \n30.9209423065186, 32.2269744873047, 53.7062034606934, 45.5225944519043, \n38.3570976257324, 123.040382385254, 73.0528182983398), pop = c(19.6407718658447, \n610.009216308594, 654.812622070312, 426.475830078125, 66.3839492797852, \n10.6471328735352, 443.848846435547, 602.677429199219, 488.478454589844, \n387.470947265625, 58.2341117858887, 413.888488769531, 315.057678222656, \n354.082946777344, 602.827758789062, 463.518829345703, 296.713928222656, \n923.920593261719, 434.436645507812, 799.562927246094, 404.709564208984, \n265.043304443359, 366.697235107422, 399.851684570312, 952.2314453125, \n870.356994628906, 673.406616210938, 493.521606445312, 273.841888427734, \n371.428619384766, 383.057830810547, 320.986755371094, 991.131225585938, \n1148.87768554688), tirs = c(39.7242431640625, 44.9583969116211, \n41.4048385620117, 42.6056709289551, 40.0976028442383, 38.7490005493164, \n44.2747650146484, 43.5645370483398, 41.6180191040039, 40.3799781799316, \n38.8664817810059, 44.9089202880859, 44.414306640625, 44.560977935791, \n43.1288986206055, 40.9315185546875, 38.8918418884277, 46.3063850402832, \n45.5805702209473, 44.9196586608887, 42.2495613098145, 39.3051452636719, \n38.7914810180664, 38.6069412231445, 44.6782455444336, 46.4024772644043, \n44.4720573425293, 41.7361183166504, 42.3378067016602, 41.0018348693848, \n39.3579216003418, 41.6303863525391, 43.8207550048828, 46.0460357666016\n), agbh = c(3.32185006141663, 4.98925733566284, 4.35699367523193, \n4.94798421859741, 3.14325952529907, 2.93211793899536, 4.52736520767212, \n4.99723243713379, 5.13944292068481, 3.92965626716614, 3.43465113639832, \n3.55617475509644, 3.4659411907196, 5.24469566345215, 5.36995029449463, \n4.61549234390259, 4.82002925872803, 4.20452928543091, 4.71502685546875, \n5.20452785491943, 5.05676746368408, 5.9952244758606, 6.16778612136841, \n4.69053316116333, 2.62325501441956, 4.74775457382202, 4.93133020401001, \n5.02366256713867, 5.74016952514648, 6.28353786468506, 4.67424774169922, \n4.56812858581543, 1.88153350353241, 4.31531000137329)), class = &quot;data.frame&quot;, row.names = c(NA, \n-34L))\n</code></pre>\n<p>My raster layer:</p>\n<pre><code>r = new(&quot;RasterBrick&quot;, file = new(&quot;.RasterFile&quot;, name = &quot;&quot;, datanotation = &quot;FLT4S&quot;, \n    byteorder = &quot;little&quot;, nodatavalue = -Inf, NAchanged = FALSE, \n    nbands = 1L, bandorder = &quot;BIL&quot;, offset = 0L, toptobottom = TRUE, \n    blockrows = 0L, blockcols = 0L, driver = &quot;&quot;, open = FALSE), \n    data = new(&quot;.MultipleRasterData&quot;, values = structure(c(NA, \n    NA, NA, NA, 18.7969169616699, NA, NA, NA, NA, NA, 25.7222957611084, \n    23.4188251495361, 25.4322757720947, 16.4593601226807, 12.7868213653564, \n    NA, NA, NA, NA, 30.9337253570557, 29.865758895874, 30.4080600738525, \n    29.5479888916016, 24.3493347167969, NA, NA, NA, 35.2427635192871, \n    38.989933013916, 34.6536979675293, 29.4607238769531, 30.7469024658203, \n    34.3946380615234, NA, NA, NA, NA, 42.8660278320312, 34.7930717468262, \n    30.9516315460205, 32.20654296875, 39.999755859375, 46.6002235412598, \n    38.6480979919434, NA, NA, 60.5214920043945, 33.1799964904785, \n    31.8498134613037, 30.9209423065186, 32.2269744873047, 53.7062034606934, \n    45.5225944519043, 38.3570976257324, NA, 123.040382385254, \n    73.0528182983398, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \n    19.6407718658447, NA, NA, NA, NA, NA, 610.009216308594, 654.812622070312, \n    426.475830078125, 66.3839492797852, 10.6471328735352, NA, \n    NA, NA, NA, 443.848846435547, 602.677429199219, 488.478454589844, \n    387.470947265625, 58.2341117858887, NA, NA, NA, 413.888488769531, \n    315.057678222656, 354.082946777344, 602.827758789062, 463.518829345703, \n    296.713928222656, NA, NA, NA, NA, 923.920593261719, 434.436645507812, \n    799.562927246094, 404.709564208984, 265.043304443359, 366.697235107422, \n    399.851684570312, NA, NA, 952.2314453125, 870.356994628906, \n    673.406616210938, 493.521606445312, 273.841888427734, 371.428619384766, \n    383.057830810547, 320.986755371094, NA, 991.131225585938, \n    1148.87768554688, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \n    39.7242431640625, NA, NA, NA, NA, NA, 44.9583969116211, 41.4048385620117, \n    42.6056709289551, 40.0976028442383, 38.7490005493164, NA, \n    NA, NA, NA, 44.2747650146484, 43.5645370483398, 41.6180191040039, \n    40.3799781799316, 38.8664817810059, NA, NA, NA, 44.9089202880859, \n    44.414306640625, 44.560977935791, 43.1288986206055, 40.9315185546875, \n    38.8918418884277, NA, NA, NA, NA, 46.3063850402832, 45.5805702209473, \n    44.9196586608887, 42.2495613098145, 39.3051452636719, 38.7914810180664, \n    38.6069412231445, NA, NA, 44.6782455444336, 46.4024772644043, \n    44.4720573425293, 41.7361183166504, 42.3378067016602, 41.0018348693848, \n    39.3579216003418, 41.6303863525391, NA, 43.8207550048828, \n    46.0460357666016, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \n    3.32185006141663, NA, NA, NA, NA, NA, 4.98925733566284, 4.35699367523193, \n    4.94798421859741, 3.14325952529907, 2.93211793899536, NA, \n    NA, NA, NA, 4.52736520767212, 4.99723243713379, 5.13944292068481, \n    3.92965626716614, 3.43465113639832, NA, NA, NA, 3.55617475509644, \n    3.4659411907196, 5.24469566345215, 5.36995029449463, 4.61549234390259, \n    4.82002925872803, NA, NA, NA, NA, 4.20452928543091, 4.71502685546875, \n    5.20452785491943, 5.05676746368408, 5.9952244758606, 6.16778612136841, \n    4.69053316116333, NA, NA, 2.62325501441956, 4.74775457382202, \n    4.93133020401001, 5.02366256713867, 5.74016952514648, 6.28353786468506, \n    4.67424774169922, 4.56812858581543, NA, 1.88153350353241, \n    4.31531000137329, NA, NA, NA, NA, NA, NA), .Dim = c(63L, \n    4L)), offset = 0, gain = 1, inmemory = TRUE, fromdisk = FALSE, \n        nlayers = 4L, dropped = NULL, isfactor = c(FALSE, FALSE, \n        FALSE, FALSE), attributes = list(), haveminmax = TRUE, \n        min = c(12.7868213653564, 10.6471328735352, 38.6069412231445, \n        1.88153350353241), max = c(123.040382385254, 1148.87768554688, \n        46.4024772644043, 6.28353786468506), unit = &quot;&quot;, names = c(&quot;ntl&quot;, \n        &quot;pop&quot;, &quot;tirs&quot;, &quot;agbh&quot;)), legend = new(&quot;.RasterLegend&quot;, \n        type = character(0), values = logical(0), color = logical(0), \n        names = logical(0), colortable = logical(0)), title = character(0), \n    extent = new(&quot;Extent&quot;, xmin = 11878500, xmax = 11883000, \n        ymin = 1799000, ymax = 1802500), rotated = FALSE, rotation = new(&quot;.Rotation&quot;, \n        geotrans = numeric(0), transfun = function () \n        NULL), ncols = 9L, nrows = 7L, crs = new(&quot;CRS&quot;, projargs = NA_character_), \n    srs = character(0), history = list(), z = list())\n</code></pre>\n"
	}, {
		"tags": ["r", "scope", "nested", "predict"],
		"owner": {
			"reputation": 23,
			"user_id": 7795297,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2d44a878f1cc577e2ac4b139ddf20556?s=256&d=identicon&r=PG&f=1",
			"display_name": "Jeff Phillips",
			"link": "https://stackoverflow.com/users/7795297/jeff-phillips"
		},
		"is_answered": true,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75495423,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676744509,
		"creation_date": 1676743080,
		"last_edit_date": 1676744509,
		"question_id": 75495308,
		"link": "https://stackoverflow.com/questions/75495308/predict-lme-is-unable-to-interpret-a-formula-defined-from-a-variable",
		"title": "predict.lme is unable to interpret a formula defined from a variable",
		"body": "<p>I have been stymied by an error that traces back to predict.lme, running inside a function, failing to interpret a formula based on a variable that has been passed from outside the function. I know the issue has to do with variable scope and different environments, but I've been unable to fully understand it or find a workaround. Your help would be much appreciated.</p>\n<p>Here's a reproducible example:</p>\n<pre><code># This will be the nested function.\ntrain_test_perf &lt;- function(train_data, test_data, model, termLabels) {\n  fixForm &lt;- reformulate(termlabels=termLabels, response=&quot;Y&quot;)\n  fit &lt;- nlme::lme(fixForm, data=train_data, random=~ 1|ID)\n  train_pred &lt;- predict(fit, newdata=train_data, level=0, na.action=na.exclude)\n  rtrain &lt;- cor.test(train_data$Y, train_pred)\n  test_pred &lt;- predict(fit, newdata=test_data, level=0, na.action=na.exclude)\n  rtest &lt;- cor.test(test_data$Y, test_pred)\n  tmp &lt;- data.frame(Model=model, \n                    R_train=rtrain$estimate, \n                    R_test=rtest$estimate)\n  return(tmp)\n}\n\n# And here is the function that calls it.\nmyfunc &lt;- function(df, newdf, varList) {\n  for (v in varList) {\n    perf &lt;- train_test_perf(train_data=df, test_data=newdf, model=v, termLabels=v)\n    print(perf)\n  }\n}\n\n# The outer function call.\nmyfunc(df=dat, newdf=newdat, varList=list(&quot;W&quot;, &quot;X&quot;))\n</code></pre>\n<p>Running this gives the following error and traceback:</p>\n<pre><code>Error in eval(mCall$fixed) : object 'fixForm' not found\n7.\neval(mCall$fixed)\n6.\neval(mCall$fixed)\n5.\neval(eval(mCall$fixed)[-2])\n4.\npredict.lme(fit, newdata = train_data, level = 0, na.action = na.exclude)\n3.\npredict(fit, newdata = train_data, level = 0, na.action = na.exclude)\n2.\ntrain_test_perf(train_data = df, test_data = newdf, model = v, \ntermLabels = v)\n1.\nmyfunc(df = dat, newdf = newdat, varList = list(&quot;W&quot;, &quot;X&quot;))\n\n</code></pre>\n<p>It seems clear that predict.lme does not have access to the fixForm variable, but I haven't been able to work out a way to both define a formula based on a variable and have the value accessible to predict.lme. I'm not sure whether the nested function structure is part of the problem here--if it is, I would prefer to find a workaround that would maintain this structure, as my real-life code includes some other things inside myfunc that occur before and after the call to train_test_perf.</p>\n<p>Thanks,</p>\n<p>Jeff Phillips</p>\n"
	}, {
		"tags": ["r", "regression", "glm", "survey"],
		"owner": {
			"reputation": 141,
			"user_id": 13505312,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e51f26066534733e7b9123bcf67c0942?s=256&d=identicon&r=PG&f=1",
			"display_name": "IanH",
			"link": "https://stackoverflow.com/users/13505312/ianh"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676744469,
		"creation_date": 1676744469,
		"question_id": 75495441,
		"link": "https://stackoverflow.com/questions/75495441/use-of-svyglm-and-svydesign-with-r-for-multistage-stratified-cluster-design",
		"title": "Use of svyglm and svydesign with R for multistage stratified cluster design",
		"body": "<p>I have a complicated data set which was made by a multistage stratified cluster design. I had originally analysed this using glm, however now realise that I have to use svyglm. I'm not quite sure about how is best to model the data utilising svyglm. I was wondering if anyone could help shed some light.</p>\n<p>I am attempting to see the effect that a variety of covariates taken at time 1 have on a binary outcome taken at time 2.</p>\n<p>The sampling strategy was as follows: state -&gt; urban/rural -&gt; district -&gt; subdistrict -&gt; village. Within each village, individuals were randomly selected, with each of these having an id (uniqid).</p>\n<p>I have a variable in the df for each of these stages of the sampling strategy. I also have the following variables: outcome, age, sex, income, marital_status, urban_or_rural_area, uniqid, weights. The formula that I want for my regression equation is outcome ~ age + sex + income + marital_status + urban_or_rural_area . Weights are coded by the weights variable. I had set the family to binomial(link = logit).</p>\n<p>If anyone has any idea how such an approach could be coded in R with svyglm I would be most appreciative. I'm quite confused as to what should be inputted as ID, fpc and nest. Do I have to specify all levels of the stratified design or just some?</p>\n<p>Any direction, or resources which explain this well would be massively appreciated.</p>\n"
	}, {
		"tags": ["r", "shiny", "golem"],
		"owner": {
			"reputation": 171,
			"user_id": 6583972,
			"user_type": "registered",
			"accept_rate": 50,
			"profile_image": "https://www.gravatar.com/avatar/fd45357b301ed4067d064bc7bd40b380?s=256&d=identicon&r=PG&f=1",
			"display_name": "moremo",
			"link": "https://stackoverflow.com/users/6583972/moremo"
		},
		"is_answered": false,
		"view_count": 32,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676744420,
		"creation_date": 1675688911,
		"question_id": 75361735,
		"link": "https://stackoverflow.com/questions/75361735/run-testserver-w-golemget-golem-options",
		"title": "Run `testServer()` w/ `golem::get_golem_options()`",
		"body": "<p>I have set up a R Shiny app using the <a href=\"https://cran.r-project.org/web/packages/golem/index.html\" rel=\"nofollow noreferrer\">golem</a> R-package. In the <code>app_server()</code> I use some globally set golem options as follows:</p>\n<pre><code>app_server &lt;- function(input, output, session) {\n\n  myServer(\n    id = &quot;test&quot;,\n    global_variable = golem::get_golem_options()$global_variable,\n    other_variable = other_variable\n  )\n\n  ...\n\n}\n</code></pre>\n<p>Now the default test <code>testServer()</code> in <code>test-golem-recommended.R</code> throws an error because within <code>myServer()</code> it can't find the golem options or the <code>global_variable</code> is <code>NULL</code> (which also kind of makes sense):</p>\n<pre><code>testServer(app_server, {\n\n  # Set and test an input\n  session$setInputs(x = 2)\n  expect_equal(input$x, 2)\n\n})\n</code></pre>\n<p>However, is it possible to call <code>app_server()</code> so that the golem options are loaded first?</p>\n"
	}, {
		"tags": ["r", "aggregate-functions", "quart"],
		"owner": {
			"reputation": 1,
			"user_id": 7283098,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/1135416886578887/picture?type=large",
			"display_name": "Md Arbaj Meman",
			"link": "https://stackoverflow.com/users/7283098/md-arbaj-meman"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 2,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -2,
		"last_activity_date": 1676744171,
		"creation_date": 1676743627,
		"last_edit_date": 1676744171,
		"question_id": 75495359,
		"link": "https://stackoverflow.com/questions/75495359/aggregation-of-monthly-data-to-quarterly-data-in-r-using-aggregate-ts-function",
		"title": "Aggregation of monthly data to quarterly data in R using aggregate.ts function",
		"body": "<p>We want to aggregate monthly data to quarterly data but for third quarter we have data for only two months.<br />\nWe are using the  following code to aggregate but we are not getting aggregate of third quarter.</p>\n<pre><code>hf_cycle2 &lt;- aggregate.ts( hf_cycle1, nfrequency = 4, FUN = mean, na.rm = TRUE)\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "ggplot2", "boxplot"],
		"owner": {
			"reputation": 1,
			"user_id": 21194468,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4WEupjU0JD_n8On6WtKledT_LJgGyvl2OUax9X=k-s256",
			"display_name": "Liane Segers",
			"link": "https://stackoverflow.com/users/21194468/liane-segers"
		},
		"is_answered": false,
		"view_count": 39,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676743569,
		"creation_date": 1676141850,
		"last_edit_date": 1676142143,
		"question_id": 75422594,
		"link": "https://stackoverflow.com/questions/75422594/how-can-i-change-my-order-on-the-x-axis-of-a-boxplot",
		"title": "How can I change my order on the x axis of a boxplot",
		"body": "<p>This is my script:</p>\n<pre><code>library(readxl)\nlibrary(writexl)\nlibrary(ggplot2)\nlibrary(car)\nlibrary(writexl)\nlibrary(xlsx)\n\ndf1 &lt;- read_excel(&quot;C:/Users/seger_rjymtxc/Desktop/Statistiek/Map1.xlsx&quot;)\n\ndf1a &lt;- df1[df1$Voederbeurt == &quot;Voederbeurt 2&quot;,]\ndf1b &lt;- df1[df1$Voederbeurt == &quot;Voederbeurt 4&quot;,]\n\n# Voederbeurt 2\nuniekDiernummera &lt;- unique(df1a$Diernummer) \nprint(uniekDiernummera)\nlength(uniekDiernummera) # 14\nmaxdagen &lt;- 390\n\ndf2a &lt;- matrix(0,length(uniekDiernummera),maxdagen) \nfor (j in 1:length(uniekDiernummera)){\n  dierdata &lt;- which(df1a$Diernummer==uniekDiernummera[j])\n  for (k in 1:maxdagen){\n    leeftijdVoor &lt;- df1a$Leeftijd[dierdata[max(which(df1a$Leeftijd[dierdata]&lt;k))]]\n    leeftijdNa &lt;- df1a$Leeftijd[dierdata[min(which(df1a$Leeftijd[dierdata]&gt;=k))]]\n    if (!(is.na(leeftijdNa)|is.na(leeftijdVoor))){\n      df2a[j,k] &lt;- (df1a$Gewicht[(df1a$Diernummer==uniekDiernummera[j])&amp;(df1a$Leeftijd==leeftijdNa)]-\n                      df1a$Gewicht[(df1a$Diernummer==uniekDiernummera[j])&amp;      (df1a$Leeftijd==leeftijdVoor)])/(leeftijdNa-leeftijdVoor)\n    } else {\n      df2a[j,k] &lt;- NA\n    }\n  }\n}\n\nrownames(df2a) &lt;- c(uniekDiernummera)\n\nmatplot(t(df2a),type=&quot;l&quot;)\n\nperiode &lt;- rbind(c(1,15,29,43,57,71,121,181,241,301),\n                 c(14,28,42,56,70,120,180,240,300,390))\n\ndf3a &lt;- matrix(0,nrow(df2a),ncol(periode))\n\nfor (i in 1:ncol(periode)){\n  df3a[,i] &lt;- rowMeans(df2a[,c(periode[1,i]:periode[2,i])],na.rm=TRUE)\n}\n\nrownames(df3a) &lt;- c(uniekDiernummera)\n\nmatplot(t(df3a),type=&quot;l&quot;)\n\ncolnames (df3a) &lt;- c(&quot;Periode 0-14&quot;,&quot;Periode 15-28&quot;,&quot;Periode 29-42&quot;,&quot;Periode 43-56&quot;,\n                     &quot;Periode 57-70&quot;, &quot;Periode 71-120&quot;,&quot;Periode 121-180&quot;,&quot;Periode 181-240&quot;,&quot;Periode 241-300&quot;,&quot;Periode 301-390&quot;)\n\n# voederbeurt 4\nuniekDiernummerb &lt;- unique(df1b$Diernummer)\nprint(uniekDiernummerb)\nmaxdagen &lt;- 390\n\ndf2b &lt;- matrix(0,length(uniekDiernummerb),maxdagen)\nfor (j in 1:length(uniekDiernummerb)){\n  dierdata &lt;- which(df1b$Diernummer==uniekDiernummerb[j])\n  for (k in 1:maxdagen){\n    leeftijdVoor &lt;- df1b$Leeftijd[dierdata[max(which(df1b$Leeftijd[dierdata]&lt;k))]]\n    leeftijdNa &lt;- df1b$Leeftijd[dierdata[min(which(df1b$Leeftijd[dierdata]&gt;=k))]]\n    if (!(is.na(leeftijdNa)|is.na(leeftijdVoor))){\n      df2b[j,k] &lt;- (df1b$Gewicht[(df1b$Diernummer==uniekDiernummerb[j])&amp;(df1b$Leeftijd==leeftijdNa)]-\n                  df1b$Gewicht[(df1b$Diernummer==uniekDiernummerb[j])&amp;    (df1b$Leeftijd==leeftijdVoor)])/(leeftijdNa-leeftijdVoor)\n    } else {\n      df2b[j,k] &lt;- NA\n    }\n  }\n}\n\n\nmatplot(t(df2b),type=&quot;l&quot;)\n\nperiode &lt;- rbind(c(1,15,29,43,57,71,121,181,241,301),\n             c(14,28,42,56,70,120,180,240,300,390))\n\ndf3b &lt;- matrix(0,nrow(df2b),ncol(periode))\n\nfor (i in 1:ncol(periode)){\n  df3b[,i] &lt;- rowMeans(df2b[,c(periode[1,i]:periode[2,i])],na.rm=TRUE)\n}\n\nmatplot(t(df3b),type=&quot;l&quot;)\n\nrownames(df2b) &lt;- c(uniekDiernummerb)\nrownames(df3b) &lt;- c(uniekDiernummerb)\n\ncolnames (df3b) &lt;- c(&quot;Periode 0-14&quot;,&quot;Periode 15-28&quot;,&quot;Periode 29-42&quot;,&quot;Periode 43-56&quot;,\n                 &quot;Periode 57-70&quot;, &quot;Periode 71-120&quot;,&quot;Periode 121-180&quot;,&quot;Periode 181-240&quot;,&quot;Periode 241-300&quot;,&quot;Periode 301-390&quot;)\n\n## V2\nclass(df3a)\nclass(df1)\ndf3a_table=as.data.frame(df3a)\ndf3a_table[,11]=row.names(df3a_table)\ndf3a_table%&gt;%dplyr::select(-c(&quot;Periode 301-390&quot;))%&gt;%pivot_longer(cols = c(&quot;Periode 0-14&quot;,&quot;Periode 15-28&quot;,&quot;Periode 29-42&quot;,&quot;Periode 43-56&quot;,&quot;Periode 57-70&quot;,&quot;Periode 71-120&quot;,&quot;Periode 121-180&quot;,&quot;Periode 181-240&quot;,&quot;Periode 241-300&quot;),\n                                                             names_to = 'Periode',\n                                                             values_to = 'Waarden') -&gt; vb2\nlibrary(dplyr)\n\nvb2 %&gt;%\n  group_by(Periode) %&gt;%\n  summarise(min = min(na.exclude(Waarden)), max =   max(na.exclude(Waarden)),gem=mean(na.exclude(Waarden)),sdd=sd(na.exclude(Waarden)))-&gt;vb_data\n\nplot=ggplot(vb2,aes(as.character(Periode),as.numeric((Waarden))))\nplot+geom_boxplot()\n\n##V4\ndf3b_table=as.data.frame(df3b)\ndf3b_table[,11]=row.names(df3b_table)\ndf3b_table%&gt;%dplyr::select(-c(&quot;Periode 301-390&quot;))%&gt;%pivot_longer(cols = c(&quot;Periode 0-14&quot;,&quot;Periode 15-28&quot;,&quot;Periode 29-42&quot;,&quot;Periode 43-56&quot;,&quot;Periode 57-70&quot;,&quot;Periode 71-120&quot;,&quot;Periode 121-180&quot;,&quot;Periode 181-240&quot;,&quot;Periode 241-300&quot;),\n                                                             names_to = 'Periode',\n                                                             values_to = 'Waarden') -&gt; vb4\nlibrary(dplyr)\n\nvb4 %&gt;%\n  group_by(Periode) %&gt;%\n  summarise(min = min(na.exclude(Waarden)), max =    max(na.exclude(Waarden)),gem=mean(na.exclude(Waarden)),sdd=sd(na.exclude(Waarden)))-&gt;vb4_data\n\nplot=ggplot(vb4,aes(as.character(Periode),as.numeric((Waarden))))\nplot+geom_boxplot()\n\nvb2$voederbeurt=&quot;2&quot;\nvb4$voederbeurt=&quot;4&quot;\nvb=rbind(vb2,vb4)\nplot=ggplot(vb,aes(x=as.character(Periode),y=as.numeric((Waarden)),fill=voederbeurt))\nplot+geom_boxplot()\n</code></pre>\n<p>You can see the boxplot in the picture.\nBut I would like to put the values \u200b\u200bon the x-axis in order.</p>\n<p>Periode 0-14   Periode 15-28   Periode 29-42 ....</p>\n<p>instead of</p>\n<p>Periode 0-14  Periode 121-180   Periode 15-28 ...</p>\n"
	}, {
		"tags": ["r", "resampling", "mlr3"],
		"owner": {
			"reputation": 193,
			"user_id": 3973054,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://www.gravatar.com/avatar/b1651af1766883b622158551b62a381e?s=256&d=identicon&r=PG&f=1",
			"display_name": "googleplex101",
			"link": "https://stackoverflow.com/users/3973054/googleplex101"
		},
		"is_answered": false,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676743244,
		"creation_date": 1676648925,
		"last_edit_date": 1676650759,
		"question_id": 75486454,
		"link": "https://stackoverflow.com/questions/75486454/missing-value-handling-with-imputation-in-a-nested-resampling-procedure-such-tha",
		"title": "Missing value handling with imputation in a nested resampling procedure such that there is no information bleed from train to test",
		"body": "<p>I am looking through the documentation for the nested resampling procedure in the mlr3tuning package and I do not see any way that the package can handle NA values such that any information bleed between the training and hold-out sets is avoided, which would result in overly optimistic performance stats. I would ideally like a way to split my data in a nested resampling procedure such that:</p>\n<p>full_data = N</p>\n<p>train = N - holdout</p>\n<p>test = holdout</p>\n<p>Then I could perform an imputation on the train and test datasets separately and then run the model on train, predict on test and then select new holdouts and train from the full dataset, run the imputation on them separately and train, predict, repeat for the number of outer_loops.</p>\n<p>Is there a way of doing this? Am I missing something obvious?</p>\n"
	}, {
		"tags": ["r", "r-marginaleffects"],
		"owner": {
			"reputation": 6558,
			"user_id": 2817602,
			"user_type": "registered",
			"accept_rate": 61,
			"profile_image": "https://www.gravatar.com/avatar/3f8137dbd1ebebaf7b2f08827a517d1c?s=256&d=identicon&r=PG",
			"display_name": "Demetri Pananos",
			"link": "https://stackoverflow.com/users/2817602/demetri-pananos"
		},
		"is_answered": true,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75495288,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676742896,
		"creation_date": 1676741410,
		"question_id": 75495116,
		"link": "https://stackoverflow.com/questions/75495116/does-the-by-argument-in-avg-comparisons-compute-the-strata-specific-marginal",
		"title": "Does the `by` argument in `avg_comparisons` compute the strata specific marginal effect?",
		"body": "<p>I'm analyzing data from an AB test we just finished running.  Our outcome is binary, <code>y</code>, and we have stratified results by a third variable, <code>g</code>.</p>\n<p>Because the intervention could vary by <code>g</code>, I've fit a Poisson regression with robust covariance estimation as follows</p>\n<pre><code>library(tidyverse)\nlibrary(sandwich)\nlibrary(marginaleffects)\n\nfit &lt;- glm(y ~ treatment * g, data=model_data, family=poisson, offset=log(n_users))\n</code></pre>\n<p>From here, I'd like to know the strata specific causal risk ration (which we usually call &quot;lift&quot; in industry).  My approach is to use <code>avg_comparisons</code> as follows</p>\n<pre><code>avg_comparisons(fit, \n                variables = 'treatment',\n                newdata = model_data,\n                transform_pre = 'lnratioavg', \n                transform_post = exp, \n                by=c('g'),\n                vcov = 'HC')\n</code></pre>\n<p>The result seems to be consistent with calculations of the lift when I filter the data by groups in <code>g</code>.</p>\n<h2>Question</h2>\n<p>By passing <code>by=c('g')</code>, am I actually calculating the strata specific risk ratios as I suspect?  Is there any hidden &quot;gotchas&quot; or things I have failed to consider?</p>\n<p>I can provide data and a minimal working example if need be.</p>\n"
	}, {
		"tags": ["r", "json", "parsing"],
		"owner": {
			"reputation": 23,
			"user_id": 21209515,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3da5b54054410e728deff403b11b7a78?s=256&d=identicon&r=PG",
			"display_name": "Mahesh",
			"link": "https://stackoverflow.com/users/21209515/mahesh"
		},
		"is_answered": true,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676742789,
		"creation_date": 1676741582,
		"question_id": 75495134,
		"link": "https://stackoverflow.com/questions/75495134/reading-a-json-file-with-1-key-to-many-values-mapping-in-r",
		"title": "Reading a JSON file (with 1 key to many values mapping) in R",
		"body": "<p>I have a file named data.json.  It has the following contents:</p>\n<pre><code>{ \n   &quot;ID&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot; ],\n   &quot;Name&quot;:[&quot;Rick&quot;,&quot;Dan&quot;,&quot;Michelle&quot;,&quot;Ryan&quot;,&quot;Gary&quot;,&quot;Nina&quot;,&quot;Simon&quot;,&quot;Guru&quot; ],\n   &quot;Salary&quot;:[&quot;623.3&quot;,&quot;515.2&quot;,&quot;611&quot;,&quot;729&quot;,&quot;843.25&quot;,&quot;578&quot;,&quot;632.8&quot;,&quot;722.5&quot; ],\n   \n   &quot;StartDate&quot;:[ &quot;1/1/2012&quot;,&quot;9/23/2013&quot;,&quot;11/15/2014&quot;,&quot;5/11/2014&quot;,&quot;3/27/2015&quot;,&quot;5/21/2013&quot;,\n      &quot;7/30/2013&quot;,&quot;6/17/2014&quot;],\n   &quot;Dept&quot;:[ &quot;IT&quot;,&quot;Operations&quot;,&quot;IT&quot;,&quot;HR&quot;,&quot;Finance&quot;,&quot;IT&quot;,&quot;Operations&quot;,&quot;Finance&quot;]\n}\n</code></pre>\n<p>In RStudio, I have installed the 'rjson' package and have the following code:</p>\n<pre><code>library(&quot;rjson&quot;)\nmyData &lt;- fromJSON(file=&quot;data.json&quot;)\nprint(myData)\n</code></pre>\n<p>As per the description of the fromJSON() function, it should read the contents of 'data.json' file into a R object 'myData'. When I executed it, I got the following error:</p>\n<pre><code>Error in fromJSON(file = &quot;data.json&quot;) : \nnot all data was parsed (0 chars were parsed out of a total of 3 chars)\n</code></pre>\n<p>I validated the structure of the 'data.json' file on <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">https://jsonlint.com/</a>. It was valid.</p>\n<p>I searched stackoverflow.com and got the following page: <a href=\"https://stackoverflow.com/questions/70920663/error-in-fromjsonemployee-json-not-all-data-was-parsed-0-chars-were-parse\">Error in fromJSON(&quot;employee.json&quot;) : not all data was parsed (0 chars were parsed out of a total of 13 chars)</a></p>\n<p>My program already complies with the answers given here but the 'data.json' file is still not getting parsed.</p>\n<p>I would be grateful if you could point out what mistake I am making in the R program or JSON file as I am new to both.</p>\n<p>Thank You.</p>\n"
	}, {
		"tags": ["r", "parallel-processing", "mclapply"],
		"owner": {
			"reputation": 1130,
			"user_id": 2253047,
			"user_type": "registered",
			"accept_rate": 76,
			"profile_image": "https://www.gravatar.com/avatar/0c8ee3c21e1b9ce0b8bbcc56ee29864b?s=256&d=identicon&r=PG",
			"display_name": "A_Skelton73",
			"link": "https://stackoverflow.com/users/2253047/a-skelton73"
		},
		"is_answered": true,
		"view_count": 21434,
		"down_vote_count": 0,
		"up_vote_count": 30,
		"accepted_answer_id": 17201586,
		"answer_count": 3,
		"score": 30,
		"last_activity_date": 1676742712,
		"creation_date": 1371658596,
		"last_edit_date": 1475148163,
		"question_id": 17196261,
		"link": "https://stackoverflow.com/questions/17196261/understanding-the-differences-between-mclapply-and-parlapply-in-r",
		"title": "Understanding the differences between mclapply and parLapply in R",
		"body": "<p>I've recently started using parallel techniques in R for a project and have my program working on Linux systems using <a href=\"https://stat.ethz.ch/R-manual/R-devel/library/parallel/html/mclapply.html\" rel=\"noreferrer\">mclapply</a> from the <a href=\"https://stat.ethz.ch/R-manual/R-devel/library/parallel/doc/parallel.pdf\" rel=\"noreferrer\">parallel</a> package. However, I've hit a road block with my understanding of <code>parLapply</code> for Windows.</p>\n\n<p>Using <code>mclapply</code> I can set the number of cores, iterations, and pass that to an existing function in my workspace. </p>\n\n<pre><code>mclapply(1:8, function(z) adder(z, 100), mc.cores=4)\n</code></pre>\n\n<p>I don't seem to be able to achieve the same in windows using <code>parLapply</code>. As I understand it, I need to pass all the variables through using <code>clusterExport()</code> and pass the actual function I want to apply into the argument.</p>\n\n<p>Is this correct or is there something similar to the <code>mclapply</code> function that's applicable to Windows?</p>\n"
	}, {
		"tags": ["r", "filter"],
		"owner": {
			"reputation": 41,
			"user_id": 18290581,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/85a064ae3ddd2934f815bbae4f0aba9e?s=256&d=identicon&r=PG",
			"display_name": "SpecialK201",
			"link": "https://stackoverflow.com/users/18290581/specialk201"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 5,
		"score": 2,
		"last_activity_date": 1676742327,
		"creation_date": 1676741123,
		"question_id": 75495086,
		"link": "https://stackoverflow.com/questions/75495086/apply-filter-to-the-table-function",
		"title": "Apply filter to the table function",
		"body": "<p>I'm looking for a way to execute a simple task faster than I am currently able to.</p>\n<p>I want to use the <code>table</code> function in R on part of a dataframe. Of course it would be possible to first use <code>subset</code> and then <code>table</code>, but this is a bit tedious. (In my case, during a first inspection of the data, I want to check the frequency of NAs on individual variables in a multi-national survey for each of the 25 participating countries. So I'd need to create 25 subsets, make the table, and then remove the subsets again because I don't need them anymore.)</p>\n<p>Here is some example data:</p>\n<pre><code>a &lt;- c(1,1,1,1,1,2,2,2,2,2)\nb &lt;- c(1,3,99,99,2,3,2,99,1,1)\ndf &lt;- cbind.data.frame(a,b)\n</code></pre>\n<p>And this is the workaround solution.</p>\n<pre><code>df1 &lt;- subset(df, a == 1)\ntable(df1$b)\ndf2 &lt;- subset(df, a == 2)\ntable(df2$b)\nrm(df1, df2)\n</code></pre>\n<p>Is there a simpler way?</p>\n<p>Also, I feel like I am spamming with ultra-basic questions like these. If anyone has a suggestion on how I could have found the answer directly I'd be happy to hear it. Other than trying some code myself, I googled terms like 'r apply filter to table', 'r filter table function', 'r table subset dataframe', etc.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "plot", "montecarlo", "convergence"],
		"owner": {
			"reputation": 854,
			"user_id": 2281922,
			"user_type": "registered",
			"accept_rate": 78,
			"profile_image": "https://i.stack.imgur.com/QG2lL.jpg?s=256&g=1",
			"display_name": "Herr Student",
			"link": "https://stackoverflow.com/users/2281922/herr-student"
		},
		"is_answered": true,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75494957,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676741088,
		"creation_date": 1676739023,
		"question_id": 75494853,
		"link": "https://stackoverflow.com/questions/75494853/plot-mean-variance-over-number-of-simulations",
		"title": "Plot mean/variance over number of simulations",
		"body": "<p>Unfortunately I don't know the name of this kind of plot/calculation method:\nThere is an outcome from the single'runs' from a MCS. To show converence I want to plot the mean and/or variance of every adding step in R.\nE.g.</p>\n<pre><code>outcome &lt;- c(1,1.2,0.8,0.9)\n</code></pre>\n<p>In the graph: mean = 1 over step 1, mean = 1.1 over step 2... What is the standard method? How to perform this growing number of means/variance?\nThanks!</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "division"],
		"owner": {
			"reputation": 2671,
			"user_id": 6820344,
			"user_type": "registered",
			"accept_rate": 72,
			"profile_image": "https://www.gravatar.com/avatar/19e0a73d9bcb5bbf48ea214624eff34c?s=256&d=identicon&r=PG&f=1",
			"display_name": "Biotechgeek",
			"link": "https://stackoverflow.com/users/6820344/biotechgeek"
		},
		"is_answered": true,
		"view_count": 47,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"accepted_answer_id": 75492889,
		"answer_count": 4,
		"score": 0,
		"last_activity_date": 1676740975,
		"creation_date": 1676717327,
		"last_edit_date": 1676732791,
		"question_id": 75492805,
		"link": "https://stackoverflow.com/questions/75492805/how-to-divide-only-a-certain-factor-in-a-column-in-r-data-frame",
		"title": "How to divide only a certain factor in a column in R data frame?",
		"body": "<p>This is the sample dataset:</p>\n<pre><code>library(data.table)\ndf = data.table(x = c(1000,2000,10,2), y = c('A','A','B','B'))\n</code></pre>\n<p>I only want to divide <code>df$y == &quot;A&quot; by 1000</code>. The final dataset should appear as:</p>\n<pre><code>df = data.table(x = c(1,2,10,2), y = c('A','A','B','B'))\n</code></pre>\n"
	}, {
		"tags": ["r", "parquet"],
		"owner": {
			"reputation": 894,
			"user_id": 4927395,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/UEosT.png?s=256&g=1",
			"display_name": "Mark Neal",
			"link": "https://stackoverflow.com/users/4927395/mark-neal"
		},
		"is_answered": true,
		"view_count": 642,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 73132088,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676740687,
		"creation_date": 1658887301,
		"question_id": 73131505,
		"link": "https://stackoverflow.com/questions/73131505/r-reading-first-n-rows-from-parquet-file",
		"title": "R: Reading first n rows from parquet file?",
		"body": "<p>I realise parquet is a column format, but with large files, sometimes you don't want to read it all to memory in R before filtering, and the first 1000 or so rows may be enough for testing. I don't see an option in the read parquet documentation <a href=\"https://arrow.apache.org/docs/r/reference/read_parquet.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I see a solution for pandas <a href=\"https://stackoverflow.com/questions/53982871/pandas-reading-first-n-rows-from-parquet-file/69888274#69888274\">here</a>, and an option for c# <a href=\"https://stackoverflow.com/a/69481001/4927395\">here</a>, both of which are not obvious to me how they might translate to R. Suggestions?</p>\n"
	}, {
		"tags": ["r", "macos", "rstudio"],
		"owner": {
			"reputation": 21,
			"user_id": 20769725,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4Dob0bzSrhGfFGOhQ0I30Dk8vkIh0r4MA5o2q2=k-s256",
			"display_name": "Ryo Tanaka",
			"link": "https://stackoverflow.com/users/20769725/ryo-tanaka"
		},
		"is_answered": false,
		"view_count": 57,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 0,
		"score": 2,
		"last_activity_date": 1676739851,
		"creation_date": 1676675866,
		"last_edit_date": 1676739851,
		"question_id": 75490049,
		"link": "https://stackoverflow.com/questions/75490049/r-encountered-a-fatal-error-how-can-i-fix-it",
		"title": "R encountered a fatal error! How can I fix it?",
		"body": "<p>My RStudio says &quot;R encountered a fatal error.: Unexpected exception: basic_string</p>The session was terminated&quot;.</p>\n<p>I checked major information sources like stackoverflow, reddit,R community, but I'm still unable to figure this out. Thank you so much your time in advance!</p>\n<p>MacOS: 13.1\nR Studio: Version 2022.12.0+353 (2022.12.0+353)Version 2022.12.0+353 (2022.12.0+353)</p>\n<p>Error messages R shows\n&quot;R encountered a fatal error.: Unexpected exception: basic_string</p>The session was terminated&quot;\n&quot;<p>R encountered a fatal error.</p>The session was terminated.&quot;\n&quot;null&quot;</p>\n<p>I uninstalled R and RStudio multiple times and reinstalled again but they all showed the same error messages.</p>\n<p>Also, I installed an older version of RStudio but it didn't work either.</p>\n<p>This is the hardest challenge that I've ever faced in my data journey.</p>\n<pre><code>R version 4.2.2 (2022-10-31) -- &quot;Innocent and Trusting&quot;\nCopyright (C) 2022 The R Foundation for Statistical Computing\nPlatform: x86_64-apple-darwin17.0 (64-bit)\n\nR is free software and comes with ABSOLUTELY NO WARRANTY.\nYou are welcome to redistribute it under certain conditions.\nType 'license()' or 'licence()' for distribution details.\n\nNatural language support but running in an English locale\n\nR is a collaborative project with many contributors.\nType 'contributors()' for more information and\n'citation()' on how to cite R or R packages in publications.\n\nType 'demo()' for some demos, 'help()' for on-line help, or\n'help.start()' for an HTML browser interface to help.\nType 'q()' to quit R.\n\n[Previously saved workspace restored]\n\n&gt; sessionInfo()\nR version 4.2.2 (2022-10-31)\nPlatform: x86_64-apple-darwin17.0 (64-bit)\nRunning under: macOS Big Sur ... 10.16\n\nMatrix products: default\nBLAS:           /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib  \nLAPACK:/Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n[1] compiler_4.2.2\n</code></pre>\n"
	}, {
		"tags": ["r", "sparse-matrix", "sparse-file"],
		"owner": {
			"reputation": 17544,
			"user_id": 216064,
			"user_type": "registered",
			"accept_rate": 98,
			"profile_image": "https://i.stack.imgur.com/BRrqa.png?s=256&g=1",
			"display_name": "Karsten W.",
			"link": "https://stackoverflow.com/users/216064/karsten-w"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676739812,
		"creation_date": 1676739812,
		"question_id": 75494934,
		"link": "https://stackoverflow.com/questions/75494934/build-bigsparsersfbm-matrix-iteratively",
		"title": "Build bigsparser::SFBM matrix iteratively",
		"body": "<p>I wish to build a matrix with <code>10^7</code> columns and <code>2500</code> rows. Since this is too large for my computer, I thought I could create the matrix iteratively. I would like to use the <code>bigsparser</code> package for storing the matrix on disk.</p>\n<p>Here is how I create the first matrix:</p>\n<pre><code>library(bigsparser)\nlibrary(data.table)\nlibrary(Matrix)\nnvars &lt;- 10000000  # columns\nncons &lt;- 10        # rows\nn_nonzero &lt;- round(0.02*nvars*ncons) # approximate, there may be actually less values\nset.seed(13)\n\n# the first table\nAmat &lt;- data.frame(\n    i=sample.int(ncons, n_nonzero, replace=TRUE),\n    j=sample.int(nvars, n_nonzero, replace=TRUE),\n    x=runif(n_nonzero)\n)\nsetDT(Amat)\nAmat &lt;- unique(Amat, by=c(&quot;i&quot;, &quot;j&quot;))\nAmatSparse &lt;- sparseMatrix(\n    i=Amat[,get(&quot;i&quot;)], j=Amat[,get(&quot;j&quot;)], x=Amat[,get(&quot;x&quot;)],\n    dims=c(2500, 10^7L)\n)\nAmatSFBM &lt;- as_SFBM(AmatSparse, backingfile=&quot;sparsemat&quot;, compact = FALSE)\n</code></pre>\n<p>As you can see, I know the dimensions of the final matrix beforehand and have set it accordingly.</p>\n<p>Now I want to add some rows, like that:</p>\n<pre><code>for (iter in 2:250) {\n    Amat &lt;- data.frame(\n        i=sample.int(ncons, n_nonzero, replace=TRUE),\n        j=sample.int(nvars, n_nonzero, replace=TRUE),\n        x=runif(n_nonzero)\n    )\n    setDT(Amat)\n    Amat &lt;- unique(Amat, by=c(&quot;i&quot;, &quot;j&quot;))\n    Amat[,i:=i+(iter-1)*500]\n\n    # this does not work:\n    AmatSFBM[Amat[,get(&quot;i&quot;)], Amat[,get(&quot;j&quot;)]] &lt;- Amat[,get(&quot;x&quot;)]\n}\n</code></pre>\n<p>However, the <code>]&lt;-</code> operator seems not to work for <code>SFBM</code> objects.</p>\n<p>Is there any way to build a <code>SFBM</code> object other than <code>as_SFBM</code> from a sparse matrix? For example,</p>\n<ul>\n<li>can I add two SFBM objects of the same dimensions</li>\n<li>can I create a SFBM object from a CSV file or similar?</li>\n</ul>\n<p>Both would be fine.</p>\n"
	}, {
		"tags": ["python", "r", "jupyter-notebook", "google-colaboratory"],
		"owner": {
			"reputation": 175,
			"user_id": 5931362,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a988ce841f47cd24994d04f80688ab24?s=256&d=identicon&r=PG&f=1",
			"display_name": "jfrench",
			"link": "https://stackoverflow.com/users/5931362/jfrench"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676739505,
		"creation_date": 1676573213,
		"question_id": 75476664,
		"link": "https://stackoverflow.com/questions/75476664/force-google-colab-to-use-r-kernel-for-existing-notebook",
		"title": "Force Google Colab to use R kernel for existing notebook",
		"body": "<p>I have several existing Jupyter notebooks that use R instead of python.</p>\n<p>When I open these notebooks in Colab, sometimes it will automatically use the R kernel (ir), and other times it will use Jupyter3 (which results in all the code being broken). I can't figure out why it uses the R kernel for one notebook but not for another.</p>\n<p>Is there a way to manually change the kernel to R? Or some code to include that ensures Colab will recognize the notebook as being an R notebook and not a Python notebook?</p>\n<p>I know that I can start a new notebook with the R kernel using <a href=\"https://colab.research.google.com/#create=true&amp;language=r\" rel=\"nofollow noreferrer\">https://colab.research.google.com/#create=true&amp;language=r</a>. If you go to Runtime -&gt; Change runtime type, then you can select between the R and Python 3 kernels. However, that only works for new notebooks.</p>\n<p>If I open an existing notebook that doesn't use automatically use the R kernel, if I go to Runtime -&gt; Change runtime type, it only shows me options to change the Hardware acceleration options. It doesn't allow me to manually select the R kernel.</p>\n<p>Any help would be greatly appreciated.</p>\n"
	}, {
		"tags": ["r", "apache-arrow"],
		"owner": {
			"reputation": 932,
			"user_id": 9962870,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/71bbc2c179a91d704378ca256ec81e2a?s=256&d=identicon&r=PG&f=1",
			"display_name": "geoff",
			"link": "https://stackoverflow.com/users/9962870/geoff"
		},
		"is_answered": true,
		"view_count": 514,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 71490598,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676738934,
		"creation_date": 1647311287,
		"question_id": 71476353,
		"link": "https://stackoverflow.com/questions/71476353/writing-apache-arrow-dataset-in-batches-in-r",
		"title": "Writing Apache Arrow dataset in batches in R",
		"body": "<p>I'm wondering what the correct approach is to creating an Apache Arrow multi-file dataset as described <a href=\"https://arrow.apache.org/docs/r/articles/dataset.html\" rel=\"nofollow noreferrer\">here</a> in batches. The tutorial explains quite well how to write a new partitioned dataset from data in memory, but is it possible to do this in batches?</p>\n<p>My current approach is to simply write the datasets individually, but to the same directory. This <em>appears</em> to be working, but I have to imagine this causes issues with the metadata that powers the feature. Essentially, my logic is as follows (pseudocode):</p>\n<pre><code>data_ids &lt;- c(123, 234, 345, 456, 567)\n\n# write data in batches\nfor (id in data_ids) {\n  ## assume this is some complicated computation that returns 1,000,000 records\n  df &lt;- data_load_helper(id)\n\n  df &lt;- group_by(df, col_1, col_2, col_3)\n  arrow::write_dataset(df, &quot;arrow_dataset/&quot;, format = 'arrow')\n}\n\n# read in data\ndat &lt;- arrow::open_dataset(&quot;arrow_dataset/&quot;, format=&quot;arrow&quot;, partitioning=c(&quot;col_1&quot;, &quot;col_2&quot;, &quot;col_3&quot;))\n\n# check some data\ndat %&gt;%\n filter(col_1 == 123) %&gt;%\n collect()\n\n</code></pre>\n<p>What is the correct way of doing this? Or is my approach correct? Loading all of the data into one object and then writing it at once is not viable, and certain chunks of the data will update at different periods over time.</p>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 6381,
			"user_id": 6447399,
			"user_type": "registered",
			"accept_rate": 54,
			"profile_image": "https://www.gravatar.com/avatar/46f7288222024483b021c1c106c2f0cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "user113156",
			"link": "https://stackoverflow.com/users/6447399/user113156"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75494008,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676738672,
		"creation_date": 1676727234,
		"question_id": 75493691,
		"link": "https://stackoverflow.com/questions/75493691/renderhighchart-output-not-displaying-in-shiny-app",
		"title": "renderHighchart output not displaying in Shiny App",
		"body": "<p>I have some data which looks like:</p>\n<pre><code># A tibble: 100 \u00d7 4\n    price  habs  mts2 type    \n    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   \n 1 338000     3    92 comprar \n 2 288000     4    79 comprar \n 3   3000     2    55 alquiler\n 4    775     1    10 alquiler\n 5 288000     4    76 comprar \n</code></pre>\n<p>In R I can plot the data using the following:</p>\n<pre><code>library(highcharter)\nlibrary(tidyverse)\nlibrary(broom)\n\nhighcharterPlotterFunction = function(TYPE){\n  filteredDF = df %&gt;%\n    filter(type == TYPE)\n  \n  # formula = as.formula(y ~ x + I(x^2))\n  \n  lm.model &lt;- augment(lm(price ~ mts2, data = filteredDF)) %&gt;%\n    mutate(\n      .fitted = round(.fitted, 0)\n    )\n  \n  highchart() %&gt;%\n    hc_add_series(data = lm.model,\n                  type = &quot;scatter&quot;,\n                  hcaes(x = price, y = mts2, color = mts2),\n                  showInLegend = FALSE,\n                  dataLabels = list(enabled = TRUE, format='{point.games}')\n    ) %&gt;%\n    hc_add_series(data = lm.model,\n                  type = &quot;line&quot;,\n                  hcaes(x = .fitted, y = mts2),\n                  color = &quot;#0099F9&quot;,\n                  showInLegend = FALSE,\n                  dataLabels = list(enabled = TRUE, format='{point.games}')\n    ) %&gt;%\n    hc_title(text = str_to_title(TYPE))\n}\n\n\nc(&quot;comprar&quot;, &quot;alquiler&quot;) %&gt;%\n  map(., ~highcharterPlotterFunction(.x)) %&gt;%\n  hw_grid(rowheight = 300, ncol = 1) %&gt;%\n  htmltools::browsable()\n</code></pre>\n<p>Which plots two highercharter graphics on top of each other. However, when I try to put it into a shiny App I do not get any output:</p>\n<p>Shiny App:</p>\n<pre><code>library(shiny)\n\n\nui &lt;- fluidPage(\n  fluidRow(\n    p(&quot;plot goes below here&quot;),\n    highchartOutput('regressionPlots')\n  )\n)\n\n\nserver &lt;- function(input, output) {\n\n  highcharterPlotterFunction = function(TYPE){\n    filteredDF = reactive_regression_data() %&gt;%\n      filter(type == TYPE)\n\n    # formula = as.formula(y ~ x + I(x^2))\n\n    lm.model &lt;- augment(lm(price ~ mts2, data = filteredDF)) %&gt;%\n      mutate(\n        .fitted = round(.fitted, 0)\n      )\n\n    highchart() %&gt;%\n      hc_add_series(data = lm.model,\n                    type = &quot;scatter&quot;,\n                    hcaes(x = price, y = mts2, color = mts2),\n                    showInLegend = FALSE\n      ) %&gt;%\n      hc_add_series(data = lm.model,\n                    type = &quot;line&quot;,\n                    hcaes(x = .fitted, y = mts2),\n                    color = &quot;#0099F9&quot;,\n                    showInLegend = FALSE\n      ) %&gt;%\n      hc_title(text = str_to_title(TYPE))\n  }\n\n  reactive_regression_data = reactive(\n    df %&gt;%\n      # filter(provincia == input$provinceSelect) %&gt;%\n      # filter(municipio == input$municipioSelect) %&gt;%\n      # filter(distrito == input$distritoSelect) %&gt;%\n      filter(price &lt;= 1000000) %&gt;%\n      filter(mts2 &lt;= 200)\n  )\n\n  output$regressionPlots &lt;- renderHighchart({\n    c(&quot;comprar&quot;, &quot;alquiler&quot;) %&gt;%\n      map(., ~highcharterPlotterFunction(.x)) %&gt;%\n      hw_grid(rowheight = 300, ncol = 1) %&gt;%\n      htmltools::browsable()\n  })\n}\n\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n<p>Data:</p>\n<pre><code>df &lt;- structure(list(price = c(338000, 288000, 3000, 775, 288000, 230000, \n218000, 2900, 845000, 1250, 288000, 299000, 356000, 1500, 300000, \n1300, 1500, 288000, 405000, 715000, 225000, 294000, 790, 329000, \n320000, 1200, 1150, 715000, 415000, 715000, 295000, 1500, 348000, \n1100, 3000, 249000, 379000, 761000, 320000, 1995, 715000, 715000, \n229000, 1600, 389000, 330000, 212000, 415000, 288000, 950, 1850, \n365000, 1050, 1650, 1750, 350000, 288000, 715000, 1200, 990, \n260000, 234500, 1400, 288000, 1100, 1650, 348000, 332000, 288000, \n350000, 1350, 360000, 2800, 379000, 799000, 288000, 685000, 1700, \n890, 294000, 338000, 590000, 294000, 1050, 320000, 1990, 350000, \n1100, 365000, 365000, 294000, 299000, 288000, 490000, 229000, \n2095, 560000, 288000, 715000, 360000), habs = c(3, 4, 2, 1, 4, \n3, 2, 4, 3, 2, 4, 2, 2, 4, 2, 4, 2, 4, 3, 3, 1, 2, 1, 4, 3, 3, \nNA, NA, 3, NA, 3, 2, 4, 2, 4, 2, 3, 3, 2, 2, 3, 3, 3, 1, 4, 4, \n2, 4, 4, 1, 4, 3, 1, 2, 2, 4, 4, 3, 3, 2, NA, 3, 4, 4, 3, 1, \n4, 4, 4, 4, 3, 4, 2, 3, 4, 4, 4, 4, 2, 2, 3, 4, 2, 1, 3, 1, 4, \n3, 3, 3, 2, 2, 4, 4, 3, 3, 4, 4, 3, 2), mts2 = c(92, 79, 55, \n10, 76, 65, 57, 95, 121, 57, 76, 90, 70, 102, 74, 83, 88, 79, \n83, 109, 60, 75, 47, 75, 68, 70, 30, 109, 80, 109, 100, 75, 80, \n70, 135, 65, 95, 121, 68, 110, 109, 109, 63, 70, 100, 85, 54, \n100, 76, 45, 100, 94, 46, 71, 92, 87, 76, 109, 88, 68, 58, 65, \n104, 75, 75, 40, 80, 80, 76, 87, 75, 112, 95, 111, 135, 79, 88, \n115, 43, 75, 92, 145, 75, 46, 92, 47, 87, 75, 90, 63, 70, 85, \n76, 111, 60, 132, 140, 79, 109, 70), type = c(&quot;comprar&quot;, &quot;comprar&quot;, \n&quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;comprar&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;comprar&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;alquiler&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, \n&quot;alquiler&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, \n&quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;, &quot;comprar&quot;, &quot;alquiler&quot;, &quot;comprar&quot;, &quot;comprar&quot;, \n&quot;comprar&quot;, &quot;comprar&quot;)), row.names = c(NA, -100L), class = c(&quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n"
	}, {
		"tags": ["c++", "r", "build", "rcpp"],
		"owner": {
			"reputation": 53,
			"user_id": 18368054,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/16867d0802e804db49f794a9bcb898c3?s=256&d=identicon&r=PG",
			"display_name": "GTHB317",
			"link": "https://stackoverflow.com/users/18368054/gthb317"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676737324,
		"creation_date": 1676734129,
		"last_edit_date": 1676737324,
		"question_id": 75494361,
		"link": "https://stackoverflow.com/questions/75494361/how-to-get-rcpp-to-include-the-right-header-file-path",
		"title": "How to get Rcpp to include the right header file path",
		"body": "<p>I was trying to run a simple testing C++ file in my R package development directory with Rcpp located at say the directory <code>&quot;my_R_package_dir/src/my_file_location.cpp&quot;</code>:</p>\n<pre><code>#include &lt;Rcpp.h&gt;\n// [[Rcpp::export]]\nint plusone() {\n    return 1 + 1;\n}\n</code></pre>\n<p>But when running <code>Rcpp::sourceCpp(&quot;src/my_file_location.cpp&quot;)</code> the R console gives the following warning:</p>\n<pre><code>Warning message:\nIn normalizePath(path.expand(path), winslash, mustWork) :\n  path[1]=&quot;C:/Users/myself/my_R_package_dir/src/../inst/include&quot;: file not found\n</code></pre>\n<p>The function exported <code>plusone()</code> did work, but I can see clearly that its for some reason trying to access a non-existent file named &quot;include&quot; in the &quot;inst&quot; directory which I do have. I'm guessing it wants to access the Rcpp.h file but I probably need to somehow indicate it the path to point at? How do I do that?</p>\n<p>P.S. This also causes the package build to fail and part of the message also indicates that theres no such file or directory <code>Rcpp.h</code>.</p>\n<p>I thought I needed a <code>Makevars.win</code> and <code>Makevars</code> file, and I put them both into <code>src</code> and they look like this:</p>\n<pre><code>PKG_CPPFLAGS=`Rscript -e 'Rcpp:::CxxFlags()'`\nPKG_LIBS=`Rscript -e 'Rcpp:::LdFlags()'`\nCC=C:\\msys64\\mingw64\\bin\\g++.exe\nCXX=C:\\msys64\\mingw64\\bin\\gcc.exe\n</code></pre>\n<p>But with no avail. I am on a windows device with Rtools 4.3, gcc, and g++.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 21,
			"user_id": 19308455,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJye9yJoz75TLmriK85TBrJngFTnEy6sKy7XRgJZ=k-s256",
			"display_name": "Brian Scott",
			"link": "https://stackoverflow.com/users/19308455/brian-scott"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676736112,
		"creation_date": 1676685005,
		"last_edit_date": 1676736112,
		"question_id": 75490686,
		"link": "https://stackoverflow.com/questions/75490686/line-plot-error-with-ggplot2-and-geom-line",
		"title": "Line plot error with ggplot2 and geom_line",
		"body": "<p>I'm trying to run the code below which produces errors like:</p>\n<pre><code>In geom_line(stat = &quot;summary&quot;, fun.y = mean) :\n  Ignoring unknown parameters: `fun.y`\n</code></pre>\n<pre><code>ggplot(aes(x = age, y = friend_count), data = pf) +\n  coord_cartesian(xlim = c(13,90)) +\n  geom_point(alpha = 0.05,\n             position = position_jitter(h = 0),\n             color = 'orange') +\n  coord_trans(y = &quot;sqrt&quot;) +\n  geom_line(stat = 'summary', fun.y = mean) +\n  geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .1)) +\n  geom_line(stat = 'summary', fun.y = quantile, fun.args = list(probs = .9))\n</code></pre>\n<p>RStudio's linter isn't happy about <code>probs</code> in the <code>list()</code> either.</p>\n<p>I'd appreciate any help. All the googling I did led to this solution which isn't working.</p>\n<p>Thanks in advance,\nBrian</p>\n"
	}, {
		"tags": ["r", "dataframe", "label"],
		"owner": {
			"reputation": 35,
			"user_id": 20572724,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6a19c63e622628c137c5ca61ecf9305f?s=256&d=identicon&r=PG",
			"display_name": "Benedikt Franz",
			"link": "https://stackoverflow.com/users/20572724/benedikt-franz"
		},
		"is_answered": false,
		"view_count": 52,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676573762,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676735992,
		"creation_date": 1676569928,
		"last_edit_date": 1676735992,
		"question_id": 75476163,
		"link": "https://stackoverflow.com/questions/75476163/r-how-to-keep-labels-when-merging-two-dataframes-with-left-join",
		"closed_reason": "Not suitable for this site",
		"title": "R - How to keep labels when merging two dataframes with left_join?",
		"body": "<p>I have two dataframes with manually added labels. I want to merge these two dataframes while preserving labels from both dataframes. <a href=\"https://stackoverflow.com/questions/37096815/merging-and-keeping-variable-labels-in-r\">This post</a> suggets that <code>left_join()</code> does precisely that.</p>\n<p>I tried the following approach:</p>\n<pre><code>library(dplyr)\n\n# Create first sample dataframe\ndf1 = data.frame(matrix(1:10, nrow=5))\nattributes(df1)$variable.labels[1] &lt;- &quot;Reference Variable&quot;\nattributes(df1)$variable.labels[2] &lt;- &quot;Label 1&quot;\n\n# Create second sample dataframe\ndf2 = data.frame(matrix(1:30, nrow=10))\nnames(df2)[2] &lt;- &quot;Y2&quot;\nnames(df2)[3] &lt;- &quot;Y3&quot;\nattributes(df2)$variable.labels[2] &lt;- &quot;Label 2&quot;\nattributes(df2)$variable.labels[3] &lt;- &quot;Label 3&quot;\n\n# Merge both dataframes\nmerged_data &lt;- left_join(x = df1, y = df2, by = &quot;X1&quot;)\n\n# Labels of df1 still exist while the ones from df2 don't\nattributes(merged_data)$variable.labels[2]\nattributes(merged_data)$variable.labels[3]\nattributes(merged_data)$variable.labels[4]\n</code></pre>\n<p>In the merged dataframe the labels for <code>Y2</code> and <code>Y3</code> are missing. The desired outcome is to have the dataframe <code>merged_data</code> with all the labels from <code>df1</code> and <code>df2</code>.</p>\n<p>Is there a way to achieve that?</p>\n"
	}, {
		"tags": ["r", "dataframe", "for-loop", "circos"],
		"owner": {
			"reputation": 1,
			"user_id": 17995429,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/01d067e5c4f26b3d72bece7871d19d30?s=256&d=identicon&r=PG",
			"display_name": "mervebduman",
			"link": "https://stackoverflow.com/users/17995429/mervebduman"
		},
		"is_answered": true,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676735638,
		"creation_date": 1676732920,
		"last_edit_date": 1676735638,
		"question_id": 75494239,
		"link": "https://stackoverflow.com/questions/75494239/iterate-through-list-of-dfs-grab-their-listname-and-apply-a-function",
		"title": "Iterate through list of DFs, grab their listname and apply a function?",
		"body": "<p>I have a list of data frames which are named correctly in the list. I want to create circos plots using those data frames and save them using a for loop.</p>\n<p>Here is the script where I create the plot:</p>\n<pre><code>jpeg(&quot;df-name.jpeg&quot;)\ncircos.initialize(df$sectors, x = df$x)\ncircos.track(df$sectors, y = df$y,\n             panel.fun = function(x, y) {\n               circos.text(CELL_META$xcenter, \n                           CELL_META$cell.ylim[2] + mm_y(5), \n                           CELL_META$sector.index)\n               circos.axis(labels.cex = 0.6)\n             })\ndev.off()\n</code></pre>\n<p>I think I need to do something like this but it doesn't work because it can't grab list names:</p>\n<pre><code>for (df in dflist) {\n  jpeg(paste0(df, &quot;.jpeg&quot;))\n  circos.initialize(df$sectors, x = df$x)\n  circos.track(df$sectors, y = df$y,\n             panel.fun = function(x, y) {\n               circos.text(CELL_META$xcenter, \n                           CELL_META$cell.ylim[2] + mm_y(5), \n                           CELL_META$sector.index)\n               circos.axis(labels.cex = 0.6)\n             })\n  dev.off()\n}\n</code></pre>\n<p>Although this grabs list names, it can't grab data frames:</p>\n<pre><code>dfnames &lt;- names(dflist)\n\nfor (df in seq_along(dflist)) {\n  print(df.names[i])\n}\n</code></pre>\n<p>How can I both grab list names and data frames and use them in a for loop in R? I appreciate very much the answers.</p>\n<p>I found the answer, it was that simple:</p>\n<pre><code>for (name in names(dflist)) {\n  df &lt;- dflist[[name]]\n  drawCircos(df, name)\n}\n</code></pre>\n<p>I wrap the script in a function and applied the for loop above.</p>\n"
	}, {
		"tags": ["r", "excel"],
		"owner": {
			"reputation": 1,
			"user_id": 20852070,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6Z1K1n8AR8ZayimXst_8VSXYU4AURl--4GakGI=k-s256",
			"display_name": "Parvitha Ramesh Rao",
			"link": "https://stackoverflow.com/users/20852070/parvitha-ramesh-rao"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 3,
		"up_vote_count": 0,
		"closed_date": 1676711845,
		"answer_count": 0,
		"score": -3,
		"last_activity_date": 1676734676,
		"creation_date": 1676709943,
		"last_edit_date": 1676734676,
		"question_id": 75492174,
		"link": "https://stackoverflow.com/questions/75492174/how-to-input-two-way-data-tables-from-excel-into-r",
		"closed_reason": "Not suitable for this site",
		"title": "How to input two-way data tables from Excel into R?",
		"body": "<p>I have been trying to input a two way data table from Excel into R.\nI was using <code>read_excel</code> for this purpose, but it is not inputting the table correctly. Any ideas on which code to use?</p>\n"
	}, {
		"tags": ["r", "nan", "knn"],
		"owner": {
			"reputation": 1,
			"user_id": 21237778,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp53PTT5b0qSrB5H9G2n3g2CzuUrFs5kchBf8Voo=k-s256",
			"display_name": "Lutfi Sivana Ihzaniah",
			"link": "https://stackoverflow.com/users/21237778/lutfi-sivana-ihzaniah"
		},
		"is_answered": false,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676734489,
		"creation_date": 1676692900,
		"last_edit_date": 1676721026,
		"question_id": 75491088,
		"link": "https://stackoverflow.com/questions/75491088/missing-values-nan",
		"title": "missing values NaN",
		"body": "<p>please help me, there's an error when i'm trying to make output with testing data 10% (training data 90) with 1000 times simulation.</p>\n<pre><code>#pemanggilan paket yang digunakan\nlibrary(caret)\nlibrary(KernelKnn)\n\n#perhitungan akurasi prediksi dengan 100 kali simulasi\nsim = function(B, p1, k1)\n{\n  hasileu = matrix(0, B, 4)\n  for (i in 1:B)\n  {\n    #memanggil data boston\n    boston = MASS::Boston\n\n    #membagi data train dan data test\n    indexes = createDataPartition(boston$medv, p = p1, list = F)\n    train = boston[indexes, ]\n    test = boston[-indexes, ]\n    \n    train_x = train[, -14]\n    train_x = scale(train_x)[,]\n    train_y = train[,14]\n    \n    test_x = test[, -14]\n    test_x = scale(test[,-14])[,]\n    test_y = test[,14]\n    \n    #model prediksi regresi KNN\n    pred1 = KernelKnn(train_x, TEST_data = test_x, train_y, k = k1, method = 'euclidean', weights_function = NULL, regression = T)\n\n    #perhitungan akurasi\n    mse = mean((test_y - pred1)^2)\n    mae = mean(abs(test_y - pred1))\n    rmse = sqrt(mse)\n    mape = mean(abs((test_y - pred1)/test_y))\n    r2 = cor(test_y, pred1)^2\n    hasileu[i,1] = rmse\n    hasileu[i,2] = mape\n    hasileu[i,3] = mae\n    hasileu[i,4] = r2\n  }\n  return(apply(hasileu, 2, mean))\n}\n\n#penentuan rentang nilai K\nhitung.variasi.k = function(B,p,K)\n{\n  has11 = matrix(0,K,4)\n  for (i in 1:K)\n  {\n    has11[i,] = sim(B,p,i)\n  }\n  has11\n}\n\n#hasil akurasi berbagai proporsi data uji\nK = 10\nhas11 = hitung.variasi.k(1000, 0.9,K)\n\nError in KernelKnn(train_x, TEST_data = test_x, train_y, k = k1, method = &quot;euclidean&quot;, : \nthe TEST_data includes missing values\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "ggplot2", "pie-chart"],
		"owner": {
			"reputation": 1,
			"user_id": 18474062,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/8a96f3f583118dd3ef397c14b2efc0c7?s=256&d=identicon&r=PG&f=1",
			"display_name": "twoHRdrive",
			"link": "https://stackoverflow.com/users/18474062/twohrdrive"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676734106,
		"creation_date": 1676711859,
		"last_edit_date": 1676734106,
		"question_id": 75492326,
		"link": "https://stackoverflow.com/questions/75492326/dont-understand-simple-pie-chart-coord-polar",
		"title": "Don&#39;t understand simple pie chart (coord_polar())",
		"body": "<p>please consider the following simple data frame, where each observation/individual has multiple variables whose values add up to 1. For example, A through E could be different body parts, and each person's body parts all add up 100% of the person's total weight, but the proportions might be different between individuals:</p>\n<pre><code>library(ggplot2)\nlibrary(dplyr)\n\ntest.df &lt;- data.frame(&quot;Variable&quot; = LETTERS[1:5], &quot;Obs1&quot;  = c(0.1, 0, 0.5, 0.2, 0.2), \n                      &quot;Obs2&quot; = c(0.3, 0.7, 0, 0, 0))\n</code></pre>\n<p>This should produce the following data frame</p>\n<pre><code>&gt; test.df\n  Variable Obs1 Obs2\n1        A  0.1  0.3\n2        B  0.0  0.7\n3        C  0.5  0.0\n4        D  0.2  0.0\n5        E  0.2  0.0\n</code></pre>\n<p>I'd like a pie chart for each observation. So, a total of two pie charts, where all the variables are shown in a legend for each chart, and the color codes match between charts, and values of '0' are represented in the legend but not on the chart itself.</p>\n<p>I'm positive that what I'd like to do is simple, but there's some stumbling block that I'm not seeing. I've done this before successfully, but it seems I did not truly understand because now I'm having trouble. I have tried:</p>\n<pre><code>ggplot(test.df, aes(x='', y='Obs1', fill = Variable)) + \n    geom_bar(width = 1, stat = 'identity') + coord_polar(&quot;y&quot;, start = 0)\n</code></pre>\n<p>What I end up with is a pie chart where each of the five varibles take up equal amounts of space, even though I have specified that the values of 'y' should come from Obs1 in the data frame:</p>\n<p><img src=\"https://i.stack.imgur.com/p0R64.png\" alt=\"pie chart result\" /></p>\n<p>Can anyone please help me? This is driving me crazy!</p>\n<p>Best,</p>\n<p>A</p>\n"
	}, {
		"tags": ["r", "ggplot2", "shinyapps", "ggiraph"],
		"owner": {
			"reputation": 3,
			"user_id": 18231310,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJzyPdaopFIU9xmOxNBYNy1SQNYprBXU_C6frVfP=k-s256",
			"display_name": "fmoddy",
			"link": "https://stackoverflow.com/users/18231310/fmoddy"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676734071,
		"creation_date": 1676677514,
		"last_edit_date": 1676734071,
		"question_id": 75490197,
		"link": "https://stackoverflow.com/questions/75490197/map-plot-wont-show-in-shiny-app-no-error-shown",
		"title": "Map plot won&#39;t show in Shiny app, no error shown",
		"body": "<p>I am fairly new to R Shiny and I've been working on an app with an interactive world map which shows each country's performance at the Olympics, using scale_fill_gradient. The app user gets to choose the performance indicator (total medals won, gold only, weighted score) and the year (1996 to 2020).</p>\n<p>The problem is there's no more error shown, but the plot doesn't show either! I have tried to run the functions as normal R script and they worked fine there (the plot showed up in the viewer pane). I found a few others who have also run into problems with no plot or error showing, but their cases are different to mine (e.g. mismatch in Output and Render) so the resolutions don't work for me.</p>\n<p>It's a massive dataset so I've not included it here, I thought I might check first if the error could be spotted from the code alone. Here's what I've used:</p>\n<h1>function</h1>\n<pre><code>world_map1 &lt;- function(WorldMap, year, performance) {\n  \n  w_plot1 &lt;- WorldMap %&gt;%\n    filter(Year == year) %&gt;%\n    select(&quot;long&quot;, &quot;lat&quot;, &quot;group&quot;, &quot;region&quot;, all_of(performance)) %&gt;%\n    replace(is.na(.), 0) %&gt;%\n    rename_at(performance, ~ &quot;Value&quot;) %&gt;%\n    mutate(Value = as.numeric(as.character(Value)))\n  \n  tooltip_css &lt;- &quot;background-color:#2E2E2E; font-family: Calibri; color:#F2F2F2;&quot;\n  \n  w_g1 &lt;- ggplot() +\n    geom_polygon_interactive(data = subset(w_plot1, lat &gt;= -60 &amp; lat &lt;= 90), \n                             aes(x = long, \n                                 y = lat, \n                                 fill = Value, \n                                 group = group,\n                                 tooltip = sprintf(&quot;%s&lt;br/&gt;%s&quot;, region, Value))) +\n    scale_fill_gradient(name = &quot;Medals /Score&quot;,\n                        low = &quot;lightgoldenrodyellow&quot;,\n                        high = &quot;goldenrod1&quot;,\n                        na.value = &quot;white&quot;) \n  \n  return(\n    girafe(\n      ggobj = w_g1,\n      options = list(\n        opts_tooltip(\n          css = tooltip_css\n        )\n      ))\n  )\n}\n</code></pre>\n<h1>ui</h1>\n<pre><code>ui &lt;- fluidPage(\n  titlePanel(&quot;Title&quot;),\n  sidebarLayout(\n    sidebarPanel(\n      radioButtons(inputId = &quot;performance&quot;, label = &quot;Performance measure:&quot;,\n                   choices = c(&quot;Total medals won&quot; = &quot;Total&quot;,\n                               &quot;Gold medals won&quot; = &quot;Gold&quot;,\n                               &quot;Weighted points system&quot; = &quot;Weighted&quot;\n                   )),\n      width = 3\n      \n    ),\n    mainPanel(\n      girafeOutput(&quot;mapPlot1&quot;),\n      sliderInput(inputId = &quot;year&quot;, label = &quot;Year:&quot;,\n                  min = 1996, max = 2020, step = 4, value = 1996, ticks = FALSE, sep = &quot;&quot;\n      )\n    )\n  )\n)\n</code></pre>\n<h1>server</h1>\n<pre><code>server &lt;- function(input, output) {\n  output$mapPlot1 &lt;- renderGirafe({\n      ggiraph(code = print(world_map1(WorldMap, input$year, input$performance)))\n    } \n    \n  )\n}\n</code></pre>\n<h1>run app</h1>\n<pre><code>shinyApp(ui = ui, server = server)\n</code></pre>\n<p>Any help or insights appreciated!</p>\n<p>I thought it was my theme() block so I removed that, as shown above. Also checked other cases on no plot showing here, couldn't find one with fixes that would work for me because it seems the underlying problem is different?</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "filter", "tidyverse"],
		"owner": {
			"reputation": 644,
			"user_id": 18364222,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhvF3ofNB3ANHxkhR_xq_zTsQQ3s7yWmkNaFNEigg=k-s256",
			"display_name": "Larissa Cury",
			"link": "https://stackoverflow.com/users/18364222/larissa-cury"
		},
		"is_answered": true,
		"view_count": 45,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75489997,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676733853,
		"creation_date": 1676675137,
		"last_edit_date": 1676733853,
		"question_id": 75489985,
		"link": "https://stackoverflow.com/questions/75489985/how-to-filter-participants-that-have-specific-values-in-r",
		"title": "how to filter participants that have specific values in R?",
		"body": "<p>This is a follow up of <a href=\"https://stackoverflow.com/questions/75488236/how-to-get-right-proportions-based-on-a-subset-of-the-data-set-in-r?noredirect=1#comment133191892_75488236\">this question</a>. How can I filter all participants (in this case, schools) that matches ALL factors in my desired subset ? <em>Not one or another.</em></p>\n<ul>\n<li><p>edit = subset was up to Level 04 (1 up to 4), not Level 05</p>\n</li>\n<li><p>my dataframe looks like this:</p>\n</li>\n</ul>\n<pre><code>quest40_2[1:10,]\n# A tibble: 10 x 4\n   SCHOOL  Q9    Q11     Q40               \n   &lt;glue&gt;  &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;             \n 1 School1 typeB level0  NA                \n 2 School1 typeB level01 NA                \n 3 School1 typeB level02 NA                \n 4 School1 typeB level03 NA                \n 5 School1 typeB NA      plan1_level0upto02\n 6 School1 typeB NA      plan2_level_03    \n 7 School1 typeB NA      plan3_level_04    \n 8 School2 typeB level01 NA                \n 9 School2 typeB level02 NA                \n10 School2 typeB level03 NA     \n</code></pre>\n<ul>\n<li>edit for clarification: desired output:</li>\n</ul>\n<pre><code>A tibble: 12 x 4\n   SCHOOL  Q9    Q11     Q40  \n   &lt;glue&gt;  &lt;fct&gt; &lt;fct&gt;   &lt;fct&gt;\n 1 School2 typeB level01 NA   \n 2 School2 typeB level02 NA   \n 3 School2 typeB level03 NA   \n 4 School2 typeB level04 NA   \n 5 School3 typeB level01 NA   \n 6 School3 typeB level02 NA   \n 7 School3 typeB level03 NA   \n 8 School3 typeB level04 NA   \n 9 School5 typeC level01 NA   \n10 School5 typeC level02 NA   \n11 School5 typeC level03 NA   \n12 School5 typeC level04 NA \n</code></pre>\n<ul>\n<li><p><strong>Question</strong> I want to subset all <code>SCHOOLs</code> that have <em>level01</em>, <em>level02</em> <em>level03</em> <strong>AND</strong> <em>level04</em>  in <code>Q11</code> levels (such as the operator &amp;&amp;, for example). Hence, I cannot have schools that offer one of them, but not all. Any ideas?(preferably, <code>tidyverse</code> ones)</p>\n</li>\n<li><p>data is in the linked post above</p>\n</li>\n</ul>\n"
	}, {
		"tags": ["r", "ggplot2", "geom-bar", "standard-error"],
		"owner": {
			"reputation": 1,
			"user_id": 19303077,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJwkovTpm6N_m7QtugmcS4ayS0BHu2tnPfLhC8SC=k-s256",
			"display_name": "Kyra Sullivan",
			"link": "https://stackoverflow.com/users/19303077/kyra-sullivan"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676733758,
		"creation_date": 1676681347,
		"last_edit_date": 1676733758,
		"question_id": 75490458,
		"link": "https://stackoverflow.com/questions/75490458/geom-errorbar-adding-multiple-error-bars-to-bar-plot-ggplot",
		"title": "Geom_errorbar adding multiple error bars to bar plot (ggplot)",
		"body": "<p>I'm trying to create a ggplot based on the means of various groups in my data. The means were found using aggregate;\n<code>f1 &lt;- function(x) c(Mean = mean(x), std_error=std.error(x)) #create function for mean and standard error coverboard_stat&lt;-aggregate(no_count ~ EEM.or.NCOS + Species+Period..Oct.Sep.+Habitat, data = coverboard, f1)</code></p>\n<p>so it now looks like this (as an example; the real data-set is much larger)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Group</th>\n<th>no_count[,&quot;Mean&quot;</th>\n<th>no_count[,&quot;std_error&quot;</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Type 1</td>\n<td>1</td>\n<td>.05</td>\n</tr>\n<tr>\n<td>Type 2</td>\n<td>2</td>\n<td>.75</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>this is my barplot code:</p>\n<pre><code>ggplot(aes(x = Species, y = no_count[,&quot;Mean&quot;]), data = post_rest) + \n  geom_bar(aes(fill=EEM.or.NCOS), stat = &quot;identity&quot;, position = &quot;dodge&quot;) +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1))) +\n  theme_classic() +\n  theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1)) +\n  labs(fill=&quot;Site&quot;) +\n  scale_fill_brewer(palette = &quot;YlOrRd&quot;, labels=c(&quot;South Parcel&quot;, &quot;North Campus Open Space&quot;)) +\n  labs(x=&quot;&quot;, y=&quot;Encounter rate&quot;) +\n  theme(legend.position=&quot;bottom&quot;)+\n geom_errorbar(aes(ymin=no_count[,&quot;Mean&quot;]-no_count[,&quot;std_error&quot;], \n                   ymax=no_count[,&quot;Mean&quot;]+no_count[,&quot;std_error&quot;], \n                   fill=EEM.or.NCOS),\n                width=.2,\n                position=position_dodge(.9))\n</code></pre>\n<p>And this is the result I get:\n<img src=\"https://i.stack.imgur.com/DdXc9.png\" alt=\"enter image description here\" />\nObviously this isn't correct; I just want one error bar for each bar.</p>\n<p>I tried formatting the (aes) differently and using summary instead of aggregate (which lead me down a whole different wormhole of errors).</p>\n"
	}, {
		"tags": ["r", "dataframe", "sum"],
		"owner": {
			"reputation": 63,
			"user_id": 4900105,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1afd50017ca220e2c7655d16151faf46?s=256&d=identicon&r=PG&f=1",
			"display_name": "Gerdin",
			"link": "https://stackoverflow.com/users/4900105/gerdin"
		},
		"is_answered": true,
		"view_count": 10542,
		"down_vote_count": 0,
		"up_vote_count": 6,
		"accepted_answer_id": 30239351,
		"answer_count": 3,
		"score": 6,
		"last_activity_date": 1676733600,
		"creation_date": 1431611686,
		"last_edit_date": 1676733600,
		"question_id": 30239229,
		"link": "https://stackoverflow.com/questions/30239229/divide-each-value-by-the-sum-of-values-by-group",
		"title": "Divide each value by the sum of values by group",
		"body": "<p>I have the following data frame, where &quot;x&quot; is a grouping variable and &quot;y&quot; some values:</p>\n<pre><code>dat &lt;- data.frame(x = c(1, 2, 3, 3, 2, 1), y = c(3, 4, 4, 5, 2, 5))\n</code></pre>\n<p>I want to create a new column where each &quot;y&quot; value is divided by the sum of &quot;y&quot; within each group defined by &quot;x&quot;. E.g. the result for the first row is 3 / (3 + 5) = 0.375, where the denominator is the sum of &quot;y&quot; values for group 1 (x = 1).</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "data-manipulation"],
		"owner": {
			"reputation": 1,
			"user_id": 19493186,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e6d80a135cb27be221d985c0cfe0acc4?s=256&d=identicon&r=PG",
			"display_name": "samayspeaks",
			"link": "https://stackoverflow.com/users/19493186/samayspeaks"
		},
		"is_answered": false,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676733969,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676733344,
		"creation_date": 1676733166,
		"last_edit_date": 1676733283,
		"question_id": 75494268,
		"link": "https://stackoverflow.com/questions/75494268/is-there-a-way-to-to-eliminate-duplicate-strings-inside-a-column-value-please",
		"closed_reason": "Duplicate",
		"title": "Is there a way to to eliminate duplicate strings inside a column value? (Please check the details below, I really don&#39;t know how to put it concisely)",
		"body": "<p>Here is my dataframe</p>\n<pre><code>  `mutations   Pos Dataset      percentage_occurance newCol                                                        \n  &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                                                         \n1 P323L       323 jan_jun_2021              99.2    P323L, D614G, P323L, D614G                                    \n2 D614G       614 jan_jun_2021              99.9    P323L, D614G, P323L, D614G                                    \n3 D279N       279 jan_jun_2021               6.30   D279N, S194L, N440K, R52I, S235F, L126F,\nE261stop, S97I, S2P,\u2026\n</code></pre>\n<p>I basically want to remove the diuplicates inside the column newCol and get a dataframe with the same columns. So the output should look like this:</p>\n<pre><code>mutations   Pos Dataset      percentage_occurance newCol                                                        \n  &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;                                                         \n1 P323L       323 jan_jun_2021              99.2    P323L, D614G                                    \n2 D614G       614 jan_jun_2021              99.9    P323L, D614G\n\n</code></pre>\n<p>The way I have been trying to do this is:</p>\n<pre><code>\nhead(data7) %&gt;% mutate(newCol = str_split(newCol, &quot;, &quot;))\n</code></pre>\n<p>But it gives me a list inside the newCol column:</p>\n<pre><code># A tibble: 6 \u00d7 5\n# Groups:   mutations, Dataset, Pos [6]\n  mutations   Pos Dataset      percentage_occurance newCol       \n  &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt; &lt;list&gt;       \n1 P323L       323 jan_jun_2021              99.2    &lt;chr [4]&gt;    \n2 D614G       614 jan_jun_2021              99.9    &lt;chr [4]&gt;    \n3 D279N       279 jan_jun_2021               6.30   &lt;chr [55]&gt;   \n4 A598S       598 jan_jun_2021               0.0538 &lt;chr [3,157]&gt;\n5 P681H       681 jan_jun_2021               9.92   &lt;chr [34]&gt;   \n6 G204R       204 jan_jun_2021              13.3    &lt;chr [21]&gt;  \n</code></pre>\n<p>Is there any way to get my desired output as I have a dataframe of 3890 rows and I want to do this for all of them?</p>\n<p>I am new to stack overflow please forgive me for any mistakes I would have made while posing the question. Thanks in advance :).</p>\n"
	}, {
		"tags": ["r", "dataframe", "r-faq"],
		"owner": {
			"reputation": 1895,
			"user_id": 2215913,
			"user_type": "registered",
			"accept_rate": 86,
			"profile_image": "https://www.gravatar.com/avatar/3ab024b5901f3576f8ee0bf58b016276?s=256&d=identicon&r=PG",
			"display_name": "Xinting WANG",
			"link": "https://stackoverflow.com/users/2215913/xinting-wang"
		},
		"is_answered": true,
		"view_count": 176384,
		"down_vote_count": 0,
		"up_vote_count": 154,
		"protected_date": 1557306936,
		"accepted_answer_id": 24558696,
		"answer_count": 19,
		"score": 154,
		"last_activity_date": 1676732437,
		"creation_date": 1404402851,
		"last_edit_date": 1615586735,
		"question_id": 24558328,
		"link": "https://stackoverflow.com/questions/24558328/select-the-row-with-the-maximum-value-in-each-group",
		"title": "Select the row with the maximum value in each group",
		"body": "<p>In a dataset with multiple observations for each subject. For each subject I want to select the row which have the maximum value of 'pt'. For example, with a following dataset:</p>\n<pre><code>ID    &lt;- c(1,1,1,2,2,2,2,3,3)\nValue &lt;- c(2,3,5,2,5,8,17,3,5)\nEvent &lt;- c(1,1,2,1,2,1,2,2,2)\n\ngroup &lt;- data.frame(Subject=ID, pt=Value, Event=Event)\n#   Subject pt Event\n# 1       1  2     1\n# 2       1  3     1\n# 3       1  5     2 # max 'pt' for Subject 1\n# 4       2  2     1\n# 5       2  5     2\n# 6       2  8     1\n# 7       2 17     2 # max 'pt' for Subject 2\n# 8       3  3     2\n# 9       3  5     2 # max 'pt' for Subject 3\n</code></pre>\n<p>Subject 1, 2, and 3 have the biggest pt value of 5, 17, and 5 respectively.</p>\n<p>How could I first find the biggest pt value for each subject, and then, put this observation in another data frame? The resulting data frame should only have the biggest pt values for each subject.</p>\n"
	}, {
		"tags": ["r", "windows"],
		"owner": {
			"reputation": 1,
			"user_id": 21240077,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a8879330b01ff3ba2da2351ca6e5902d?s=256&d=identicon&r=PG",
			"display_name": "Vinit24",
			"link": "https://stackoverflow.com/users/21240077/vinit24"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676732083,
		"creation_date": 1676730603,
		"last_edit_date": 1676732083,
		"question_id": 75494006,
		"link": "https://stackoverflow.com/questions/75494006/error-compilation-failed-for-package-ldheatmap",
		"title": "ERROR: compilation failed for package &#39;LDheatmap&#39;",
		"body": "<p>I am trying to install LDheatmap R package but keep getting this error.</p>\n<blockquote>\n<p>devtools::install_github(&quot;SFUStatgen/LDheatmap&quot;, force = TRUE)\nDownloading GitHub repo SFUStatgen/LDheatmap@HEAD\nSkipping 1 packages not available: snpStats\n\u2500\u2500 R CMD build \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2714  checking for file 'C:\\Users\\vinit\\AppData\\Local\\Temp\\RtmpUnSSwg\\remotes4c44719014b9\\SFUStatgen-LDheatmap-a727a02/DESCRIPTION' ...\n\u2500  preparing 'LDheatmap':\n\u2714  checking DESCRIPTION meta-information ...\n\u2500  cleaning src\n\u2500  checking for LF line-endings in source and make files and shell scripts\n\u2500  checking for empty or unneeded directories\n\u2500  looking to see if a 'data/datalist' file should be added\n\u2500  building 'LDheatmap_1.0-5.tar.gz'</p>\n</blockquote>\n<p>Installing package into \u2018C:/Users/vinit/AppData/Local/R/win-library/4.2\u2019\n(as \u2018lib\u2019 is unspecified)</p>\n<ul>\n<li>installing <em>source</em> package 'LDheatmap' ...\n** using staged installation\n** libs\ng++ -std=gnu++11  -I&quot;C:/PROGRA~1/R/R-42~1.2/include&quot; -DNDEBUG  -I'C:/Users/vinit/AppData/Local/R/win-library/4.2/Rcpp/include'   -I&quot;c:/rtools42/x86_64-w64-mingw32.static.posix/include&quot;     -O2 -Wall  -mfpmath=sse -msse2 -mstackrealign  -c GT_to_SnpMatrix.cpp -o GT_to_SnpMatrix.o\n/bin/sh: line 1: g++: command not found\nmake: *** [C:/PROGRA~1/R/R-42~1.2/etc/x64/Makeconf:260: GT_to_SnpMatrix.o] Error 127\nERROR: compilation failed for package 'LDheatmap'</li>\n<li>removing 'C:/Users/vinit/AppData/Local/R/win-library/4.2/LDheatmap'\nWarning message:\nIn i.p(...) :\ninstallation of package \u2018C:/Users/vinit/AppData/Local/Temp/RtmpUnSSwg/file4c443bb22ac4/LDheatmap_1.0-5.tar.gz\u2019 had non-zero exit status</li>\n</ul>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21240141,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0de7185cae1c3a130c9506718cdda04a?s=256&d=identicon&r=PG",
			"display_name": "ella100",
			"link": "https://stackoverflow.com/users/21240141/ella100"
		},
		"is_answered": false,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676732047,
		"creation_date": 1676731819,
		"last_edit_date": 1676731911,
		"question_id": 75494132,
		"link": "https://stackoverflow.com/questions/75494132/sorting-data-from-1-column-in-a-table-into-3-columns-based-on-the-values",
		"title": "Sorting data from 1 column in a table into 3 columns based on the values",
		"body": "<p>I want to sort data for serum creatinine levels into 3 columns titled low medium and high with what I've worked out are the low medium and high numerical values in each column</p>\n<pre><code>heart_data$sc_cat &lt;- cut(heart_data$serum_creatinine,\n                             breaks=c(0.5, 3.5, 6.5, 9.5), \n                             labels=c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;)\n</code></pre>\n<p>I used this and it just gave me 1 column with the words low medium and high as the data entry</p>\n"
	}, {
		"tags": ["r", "dataframe", "correlation"],
		"owner": {
			"reputation": 607,
			"user_id": 12649684,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/455ebd2f74c5db32275c4d4138202513?s=256&d=identicon&r=PG&f=1",
			"display_name": "nickolakis",
			"link": "https://stackoverflow.com/users/12649684/nickolakis"
		},
		"is_answered": true,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75492706,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676731914,
		"creation_date": 1676714453,
		"last_edit_date": 1676716172,
		"question_id": 75492540,
		"link": "https://stackoverflow.com/questions/75492540/projecting-a-function-between-two-vectors-into-a-data-frame-in-r",
		"title": "Projecting a function between two vectors, into a data frame in R",
		"body": "<p>The distance coefficient in <code>R</code> between two vectors <code>X</code>,<code>Y</code> can be calculated with the <code>dcor(X,Y)</code> function of <code>energy</code> package. I have a matrix <code>Z</code> like this</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(energy)\n\nZ &lt;- data.frame(Z1 = c(0.2, 3, 0.01, 3.4, 6),\n                Z2 = c(2.2, 3.5, 0.5, 0.3, 7.0),\n                Z3 = c(4.7, 0.003, 1.4, 0, 0.6))\n</code></pre>\n<p>and I want to create the distance correlation matrix for all combinations. How can I create a function that does this calculation? The final result must look like this</p>\n<pre><code>     Z1     Z2     Z3\nZ1   1      0.76   0.76\nZ2   0.76   1      0.48\nZ3   0.76   0.48   1\n</code></pre>\n"
	}, {
		"tags": ["r", "visualization", "gam", "mgcv"],
		"owner": {
			"reputation": 15,
			"user_id": 17085763,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/576754633441799/picture?type=large",
			"display_name": "Ahsk",
			"link": "https://stackoverflow.com/users/17085763/ahsk"
		},
		"is_answered": true,
		"view_count": 36,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75466920,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676731855,
		"creation_date": 1676384900,
		"last_edit_date": 1676388680,
		"question_id": 75449259,
		"link": "https://stackoverflow.com/questions/75449259/how-to-rename-x-axis-labels-in-gam-plot-in-r",
		"title": "How to rename x-axis labels in gam plot in R?",
		"body": "<p>I fitted the model using the following code</p>\n<pre><code>mod1 &lt;- gam(severity ~  s(mean_rh, k = 8) + s(mean_temp, k = 10) + s(mean_ws, k =7) + s(avg_daily_rain, k = 7), family = betar(),  data = dat_seasonal)\n\n</code></pre>\n<p>Here is the code used in producing plot</p>\n<pre><code>plot(mod1, pages = 1, all.terms = TRUE, rug = TRUE, residuals = TRUE, pch = 1, cex = 1, shade = TRUE, seWithMean = TRUE, shift = coef(mod1)[1])\n</code></pre>\n<p>I wanted to rename x-axis labels by renaming column names in the original data frame, using new name  = old syntax, <code>Mean temperature</code> = mean_temp,\n<code>Mean wind speed</code> = mean_ws,\n<code>Mean relative humidity</code> = mean_rh,\n<code>Mean rain per rainy day</code> = avg_daily_rain</p>\n<p>Here is my code</p>\n<pre><code>names(dat_seasonal) &lt;- c(&quot;disease_severity&quot;, &quot;Mean relative humidity&quot;, &quot;Mean temperature&quot;, &quot;Mean wind speed&quot;, &quot;Mean rain per rainy day&quot;)\n\nmod1 &lt;- gam(disease_severity ~  s(`Mean relative humidity`, k = 8) + s(`Mean temperature`, k = 10) + s(`Mean wind speed`, k =7) + s(`Mean rain per rainy day`, k = 7), family = betar(),  data = dat_seasonal_gam)\n\nsummary(mod1)\n\n\nplot(mod1, pages = 1, all.terms = TRUE, rug = TRUE, residuals = TRUE, pch = 1, cex = 1, shade = TRUE, seWithMean = TRUE, shift = coef(mod1)[1])\n</code></pre>\n<p>I am getting the following error message</p>\n<pre><code>Error in str2lang(termtext) : &lt;text&gt;:1:6: unexpected symbol\n1: Mean relative\n         ^\n</code></pre>\n<p>Apparently, the error message suggests that there should not be any spaces in the new names. Any leads on how to fix this? Thanks</p>\n<p>NOTE:\nI can rename a single term using the following code, but there is no way rename all predictors at once.</p>\n<pre><code>plot(mod1, select = 4, xlab = &quot;Mean rain per rainy day (mm)&quot;, rug = TRUE, residuals = TRUE, pch = 1, cex = 1, shade = TRUE, seWithMean = TRUE, shift = coef(mod1)[1])\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 55,
			"user_id": 18192071,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJwQVrJFlRzCRe0RR4T9JPeRtqRKFodj_lr4yb1g=k-s256",
			"display_name": "GJW",
			"link": "https://stackoverflow.com/users/18192071/gjw"
		},
		"is_answered": true,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676730302,
		"creation_date": 1676726298,
		"last_edit_date": 1676730302,
		"question_id": 75493596,
		"link": "https://stackoverflow.com/questions/75493596/copy-data-from-one-column-to-another-column-if-condition-in-another-column-is-me",
		"title": "Copy data from one column to another column if condition in another column is met",
		"body": "<p>I am trying to create a table with the headings study_id, Conflict and create a third and forth column which contains data that corresponds to the value in column: Conflict</p>\n<p>The code below achieves this aim. However it is rather long especially as I wish to expand this to cover several hundred different values in column: conflict</p>\n<p>Thank you in advance for any pointers</p>\n<pre><code>df &lt;- data.frame(study_id=c(&quot;1&quot;, &quot;1&quot;, &quot;4&quot;, &quot;4&quot;, &quot;5&quot;), \n                 Conflict=c(&quot;WATER.START&quot;, &quot;WATER.STOP&quot;, &quot;OIL.START&quot;, &quot;NA&quot;, &quot;WATER.STOP&quot;), \n                 Result=c(&quot;TRUE&quot;, &quot;TRUE&quot;, &quot;TRUE&quot;, &quot;NA&quot;, &quot;TRUE&quot;))\n\ndf2 &lt;- data.frame(study_id=c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;), \n                  WATER.start=c(1, 1, 2, NA, 6), \n                  WATER.truestart=c(1, 1, 2, NA, 25), \n                  WATER.stop=c(33, 3, 2, NA, 8), \n                  WATER.truestop= c(34, 4, 2, NA, 8))\n\nfinal &lt;- left_join(df, df2, by ='study_id')\n\ndd &lt;- final %&gt;% filter(Result == &quot;TRUE&quot; &amp; Conflict == &quot;WATER.START&quot;)\ndd &lt;- dd %&gt;% subset(., Conflict == &quot;WATER.START&quot;, \n                    select=c(study_id, Conflict, WATER.start, WATER.truestart))\ndd &lt;- dd %&gt;% rename(initial=WATER.start) %&gt;% rename(verification=WATER.truestart)\n\nee &lt;- final %&gt;% filter(Result == &quot;TRUE&quot; &amp; Conflict == &quot;WATER.STOP&quot;)\nee &lt;- ee %&gt;% subset(., Conflict == &quot;WATER.STOP&quot;, \n                    select=c(study_id, Conflict, WATER.stop, WATER.truestop))\nee &lt;- ee %&gt;% rename(initial=WATER.stop) %&gt;% rename(verification=WATER.truestop)\n\nff &lt;- bind_rows(dd, ee)\ngg &lt;- ff %&gt;% select(study_id, Conflict, initial, verification)\n\ngg \n#   study_id    Conflict initial verification\n# 1        1 WATER.START       1            1\n# 2        1  WATER.STOP      33           34\n# 3        5  WATER.STOP       8            8\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "twitter-oauth"],
		"owner": {
			"reputation": 65,
			"user_id": 3527692,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "KkK",
			"link": "https://stackoverflow.com/users/3527692/kkk"
		},
		"is_answered": true,
		"view_count": 228,
		"down_vote_count": 0,
		"up_vote_count": 4,
		"answer_count": 2,
		"score": 4,
		"last_activity_date": 1676729892,
		"creation_date": 1597828372,
		"question_id": 63483715,
		"link": "https://stackoverflow.com/questions/63483715/how-should-i-deal-with-twitter-auth-token-in-shinyapp",
		"title": "How should I deal with twitter auth token in shinyapp?",
		"body": "<p>I built simple shinyapp that download tweets from a particular account and display some simple statistics and graphs (sentiment analysis, word clouds, etc.). I used the rtweet package. I would like to publish it at <a href=\"https://www.shinyapps.io/\" rel=\"nofollow noreferrer\">https://www.shinyapps.io/</a>. The app works as intended locally using twitter auth token saved as a global environment.</p>\n<p>How should I safely authorize my app publishing it online? Hardcoding my API keys into the script feels a terrible idea.</p>\n"
	}, {
		"tags": ["r", "matlab", "foreach", "parallel.foreach"],
		"owner": {
			"reputation": 13,
			"user_id": 21230830,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1846e052466ba132611a410caef1a644?s=256&d=identicon&r=PG",
			"display_name": "user0131",
			"link": "https://stackoverflow.com/users/21230830/user0131"
		},
		"is_answered": false,
		"view_count": 36,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676729688,
		"creation_date": 1676677941,
		"question_id": 75490228,
		"link": "https://stackoverflow.com/questions/75490228/parallel-computing-in-r-part2",
		"title": "parallel computing in R (part2)",
		"body": "<p>Following the previous post<a href=\"https://stackoverflow.com/q/75479731/21230830\">here</a>, I wrote a code in R, but it does not work.</p>\n<p>What I want to do is to have multiple output of arrays with <code>foreach</code>.</p>\n<p>In Matlab, what I want to do is as follows. I want to have arrays X and Y by parellel computing.</p>\n<pre><code>X=zeros(2,5,10);\nY=zeros(10,2);\nparfor i=1:10;\n X(:,:,i) = randn(2,5);\n Y(i,:) = randn(1,2);\nend\n</code></pre>\n<p>Based on the comments for the previous post, I wrote an R code as follows. But, this does not work.  The problem seems to be around the definition of Z.</p>\n<pre><code>rm(list=ls())   # clear all variables\nlibrary(foreach)\nlibrary(doParallel)\n\nX &lt;- array(0, dim = c(2,5,10))\nY &lt;- array(0, dim = c(10,2))\nZ &lt;- foreach(i=1:10, .combine = 'c') %dopar% {\n  Y_i &lt;- i*c(1,2)\n  X_i &lt;- matrix(rnorm(10),2,5)\n  Y[ i , ]  &lt;- Y_i\n  X[ , , i] &lt;- X_i\n  Z &lt;- list(Y, X)\n   }\n</code></pre>\n<p>Any help would be much appreciated.</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 2911,
			"user_id": 4529548,
			"user_type": "registered",
			"accept_rate": 0,
			"profile_image": "https://graph.facebook.com/779940232357272/picture?type=large",
			"display_name": "psysky",
			"link": "https://stackoverflow.com/users/4529548/psysky"
		},
		"is_answered": true,
		"view_count": 45,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 3,
		"score": 1,
		"last_activity_date": 1676729295,
		"creation_date": 1676723418,
		"last_edit_date": 1676724910,
		"question_id": 75493346,
		"link": "https://stackoverflow.com/questions/75493346/how-to-subtract-the-specified-percentage-between-observations-to-perform-complex",
		"title": "How to subtract the specified percentage between observations to perform complex arithmetic operations in R",
		"body": "<p>I have 2 datasets</p>\n<pre><code>    d1=structure(list(mdm = c(7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, \n7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 8L, 8L, 8L, \n8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, \n8L, 8L, 8L, 8L), perc = c(50L, 60L, 70L, 80L, 85L, 90L, 95L, \n96L, 97L, 98L, 99L, 100L, 101L, 102L, 103L, 104L, 105L, 110L, \n115L, 120L, 130L, 140L, 150L, 50L, 60L, 70L, 80L, 85L, 90L, 95L, \n96L, 97L, 98L, 99L, 100L, 101L, 102L, 103L, 104L, 105L, 110L, \n115L, 120L, 130L, 140L, 150L), price = c(38.9, 46.68, 54.46, \n62.24, 66.13, 70.02, 73.91, 74.688, 75.466, 76.244, 77.022, 77.8, \n78.578, 79.356, 80.134, 80.912, 81.69, 85.58, 89.47, 93.36, 101.14, \n108.92, 116.7, 38.9, 46.68, 54.46, 62.24, 66.13, 70.02, 73.91, \n74.688, 75.466, 76.244, 77.022, 77.8, 78.578, 79.356, 80.134, \n80.912, 81.69, 85.58, 89.47, 93.36, 101.14, 108.92, 116.7), count = c(175, \n160, 145, 130, 122.5, 115, 107.5, 106, 104.5, 103, 101.5, 100, \n98.5, 97, 95.5, 94, 92.5, 85, 77.5, 70, 55, 40, 25, 175, 160, \n145, 130, 122.5, 115, 107.5, 106, 104.5, 103, 101.5, 100, 98.5, \n97, 95.5, 94, 92.5, 85, 77.5, 70, 55, 40, 25), profit = c(2607.5, \n3628.8, 4416.7, 4971.2, 5160.925, 5292.3, 5365.325, 5372.928, \n5378.197, 5381.132, 5381.733, 5380, 5375.933, 5369.532, 5360.797, \n5349.728, 5336.325, 5234.3, 5073.925, 4855.2, 4242.7, 3396.8, \n2317.5, 2432.5, 3468.8, 4271.7, 4841.2, 5038.425, 5177.3, 5257.825, \n5266.928, 5273.697, 5278.132, 5280.233, 5280, 5277.433, 5272.532, \n5265.297, 5255.728, 5243.825, 5149.3, 4996.425, 4785.2, 4187.7, \n3356.8, 2292.5)), class = &quot;data.frame&quot;, row.names = c(NA, -46L\n))\n</code></pre>\n<p>and second dataset represents the percentage values by which it is necessary to reduce or increase the value of <code>price</code> and <code>count</code> in <code>d1</code> also d2 contains the <code>cost</code>  column</p>\n<pre><code>    d2=structure(list(mdm = 7:8, elast = c(1.5, 1.5), cost = 24:25), class = &quot;data.frame&quot;, row.names = c(NA, \n-2L))\n</code></pre>\n<p>I'm having some troubles with complex arithmetic and I need help.\nI'll try to describe my question in more detail.</p>\n<p>I need for each <code>mdm</code> group to subtract the percentage indicated in <code>perc</code> column from the price value, where the <code>perc</code> column = 100. (100 is always the start value.)\nFor example for mdm=7, <code>perc=100</code> where <code>price=77.8</code>.\nThe next perc value is 99, i.e. less by 1, so subtract 1 percent from 77.8 and get 77.022. perc = 85, this means that from the starting point <code>77.8</code> we subtract 15% = 66.13, perc = 50, which means we subtract 50 percent from the starting point.\nIn a similar way, I need to add percentages up, for example 101, this means that 1 percent up from the price = 77.8 i.e. 78,578, thus forming the price column and so on.</p>\n<p>Further, the price value with <code>perc = 100</code> has a value in the <code>count</code> column, in this example it is also = 100 (but this is not always the case).</p>\n<p>I need to take the value from the <code>elast</code> column for each mdm group from <code>d2</code> dataset and this value is multiplied by the next percentage of 100. For example, where perc = 99 for mdm = 7, the value of 1.5 must be multiplied by 1 (100*1,5=101.5), where the value of <code>perc = 70</code>, then 30 * 1.5 (100-70=30) 30*1,5=45 100+45=145 and so on.</p>\n<p>The last step for each mdm in data <code>d2</code> there is the cost price. This means that from the already formed <code>price column</code>, we must subtract the cost value, for example, for mdm = 7, <code>cost=24</code> from the price (38.9-24 = 14.9), this value is multiplied by the value in the <code>count</code> column, i.e. in this case 175. This action creates a new column profit=14.9*175=2607</p>\n<p>In this reproducible example, the price column is all filled in by me for a sample. In raw data this table looks like this (indeed desired output in <code>d1 dataset</code>)\nThe initial data looks like this</p>\n<pre><code>   mdm perc price count\n1    7   50    NA    NA\n2    7   60    NA    NA\n3    7   70    NA    NA\n4    7   80    NA    NA\n5    7   85    NA    NA\n6    7   90    NA    NA\n7    7   95    NA    NA\n8    7   96    NA    NA\n9    7   97    NA    NA\n10   7   98    NA    NA\n11   7   99    NA    NA\n**12   7  100  77.8   100**\n13   7  101    NA    NA\n14   7  102    NA    NA\n15   7  103    NA    NA\n16   7  104    NA    NA\n17   7  105    NA    NA\n18   7  110    NA    NA\n19   7  115    NA    NA\n20   7  120    NA    NA\n21   7  130    NA    NA\n22   7  140    NA    NA\n23   7  150    NA    NA\n24   8   50    NA    NA\n25   8   60    NA    NA\n26   8   70    NA    NA\n27   8   80    NA    NA\n28   8   85    NA    NA\n29   8   90    NA    NA\n30   8   95    NA    NA\n31   8   96    NA    NA\n32   8   97    NA    NA\n33   8   98    NA    NA\n34   8   99    NA    NA\n**35   8  100  77.8   100**\n36   8  101    NA    NA\n37   8  102    NA    NA\n38   8  103    NA    NA\n39   8  104    NA    NA\n40   8  105    NA    NA\n41   8  110    NA    NA\n42   8  115    NA    NA\n43   8  120    NA    NA\n44   8  130    NA    NA\n45   8  140    NA    NA\n46   8  150    NA    NA\n</code></pre>\n<p>Thanks  for your any valuable help.</p>\n"
	}, {
		"tags": ["html", "r", "shiny"],
		"owner": {
			"reputation": 275,
			"user_id": 8559861,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/ee8b5a590b934cff4adb15d8f601d5b4?s=256&d=identicon&r=PG&f=1",
			"display_name": "John",
			"link": "https://stackoverflow.com/users/8559861/john"
		},
		"is_answered": true,
		"view_count": 17010,
		"down_vote_count": 1,
		"up_vote_count": 9,
		"accepted_answer_id": 46590661,
		"answer_count": 1,
		"score": 8,
		"last_activity_date": 1676729145,
		"creation_date": 1507157255,
		"question_id": 46575316,
		"link": "https://stackoverflow.com/questions/46575316/output-pure-html-file-from-r-shiny-app",
		"title": "Output Pure HTML File From R Shiny App",
		"body": "<p>I am looking to deploy my R Shiny App, however I cannot use the standard approach using runapp command and setting the IP to 0.0.0.0. I was wondering if there is any way I can output a pure HTML file that would include both the ui.R as well as the server.R functionality so I can deploy with a pure HTML file that's generated on a daily basis. Is it possible for R/Shiny to produce an index.html file that would include both the ui elements as well as emulate the server.R functionality/reactivity?</p>\n"
	}, {
		"tags": ["mysql", "r", "dbi", "rmysql"],
		"owner": {
			"reputation": 15,
			"user_id": 17286835,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJyjhTA0Nk030IR_KQB18Ke8QhIYiR96mdKY3iDp=k-s256",
			"display_name": "Shryans Baid",
			"link": "https://stackoverflow.com/users/17286835/shryans-baid"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676728934,
		"creation_date": 1676727982,
		"last_edit_date": 1676728934,
		"question_id": 75493760,
		"link": "https://stackoverflow.com/questions/75493760/dbwritetable-to-mysql-with-default-and-null-as-specified-for-each-field",
		"title": "dbWriteTable to mysql with default and null as specified for each field",
		"body": "<p>I am trying to write a table from R to mySQL using dbWriteTable. I would also like to specify that the certain fieldtypes cannot be null and a default value for those specific fieldtypes.</p>\n<p>I am currently using the below code to specify the field type but not sure how to specify a default and mark certain fields as cannot be null.</p>\n<p>I am trying to preserve the structure of the table as I read it in R. While writing back to sql some elements of the structure are lost.</p>\n<pre><code>dbWriteTable(conn = connection, \n         name = &quot;barcode_details&quot;, \n         value = barcode_details_update, \n         field.types = c(\n           id = &quot;float&quot;,\n           order_no = &quot;varchar(50)&quot;))\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "shinydashboard", "shinyapps", "selectinput"],
		"owner": {
			"reputation": 37,
			"user_id": 8534926,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/cShH1.jpg?s=256&g=1",
			"display_name": "Vander Souza",
			"link": "https://stackoverflow.com/users/8534926/vander-souza"
		},
		"is_answered": true,
		"view_count": 53,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75451226,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676728889,
		"creation_date": 1676254538,
		"last_edit_date": 1676382249,
		"question_id": 75431418,
		"link": "https://stackoverflow.com/questions/75431418/updateselectinput-is-overwritten-by-a-selectinput-in-a-shiny-app",
		"title": "updateSelectInput is overwritten by a selectInput in a shiny app",
		"body": "<p>In the example below the action button would update the select input values. However, the second selection input is dependent on the first one and when the action button is selected the update to &quot;virginica&quot; does not occur.</p>\n<pre><code>ui &lt;- fluidPage(\n\n        actionButton(inputId = &quot;action&quot;, label = &quot;click&quot;),\n        uiOutput(&quot;select_col&quot;),\n        uiOutput(&quot;select_species&quot;)\n    \n    )\n    \n    #\n    server &lt;- function(input, output) {\n    \n    output$select_col &lt;- renderUI({\n        selectInput(inputId = &quot;select_col&quot;, \n                label = &quot;select_col&quot;, \n                choices = colnames(iris))\n    })\n    \n    output$select_species &lt;- renderUI({\n        selectInput(inputId = &quot;select_species&quot;,\n                label = &quot;Species&quot;,\n                choices = unique(iris[ ,input$select_col]))\n    })\n    \n    observeEvent(input$action, {\n        updateSelectInput(inputId = &quot;select_col&quot;, selected = &quot;Species&quot;)\n        updateSelectInput(inputId = &quot;select_species&quot;, selected = &quot;virginica&quot;)\n    })\n    \n    }\n    \n    # Run the application \n    shinyApp(ui = ui, server = server)\n\n</code></pre>\n<p>I expect the following result:\n'Species'in selectinput 'select_col' and setosa in selectinput 'Species'</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 21,
			"user_id": 21237738,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2eca5249a4d85356ebb2d0c691bb884d?s=256&d=identicon&r=PG",
			"display_name": "Gban721",
			"link": "https://stackoverflow.com/users/21237738/gban721"
		},
		"is_answered": true,
		"view_count": 42,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"closed_date": 1676729402,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676728725,
		"creation_date": 1676692953,
		"last_edit_date": 1676695141,
		"question_id": 75491093,
		"link": "https://stackoverflow.com/questions/75491093/how-to-divide-data-from-each-year-from-sum-of-each-year-in-base",
		"closed_reason": "Duplicate",
		"title": "How to divide data from each year from sum of each year in base",
		"body": "<pre><code>sales &lt;- read.table(header = TRUE, text=&quot;Year Name Sales\n1980 Atari 4.00\n1980 Activision 1.07\n1981 Activision 4.21\n1981 ParkerBros. 2.06\n1981 Imagic 1.99\n1981 Atari 1.84\n1981 Coleco 1.36\n1981 Mystique 0.76\n1981 Fox 0.74\n1981 Men 0.72&quot;)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/LRrk3.png\" alt=\"data\" /></p>\n<p>I was able to get the sum using aggregate.<br />\nI want to divide sales data from that year's total sales and get the %. But I don't know how to divide each row from respective year's total sales.</p>\n<pre><code>DF &lt;- aggregate(Sales ~ Year + NAame, data = sales, FUN=sum)\nDFC48 &lt;- aggregate(DF, NA_Sales~Year, FUN=sum)\n</code></pre>\n"
	}, {
		"tags": ["r", "curve-fitting", "cross-validation", "gam", "model-fitting"],
		"owner": {
			"reputation": 11,
			"user_id": 21113562,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7c283a443f3fe18ec626152e82692cb6?s=256&d=identicon&r=PG",
			"display_name": "sandburg",
			"link": "https://stackoverflow.com/users/21113562/sandburg"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676728588,
		"creation_date": 1676668240,
		"last_edit_date": 1676728588,
		"question_id": 75489242,
		"link": "https://stackoverflow.com/questions/75489242/optimizing-a-gam-for-smoothness",
		"title": "Optimizing a GAM for Smoothness",
		"body": "<p>I am currently trying to generate a general additive model in R using a response variable and three predictor variables. One of the predictors is linear, and the dataset consists of 298 observations.</p>\n<p>I have run the following code to generate a basic GAM:</p>\n<p>GAM &lt;- gam(response~ linearpredictor+ s(predictor2) + s(predictor3), data = data[2:5])</p>\n<p>This produces a model with 18 degrees of freedom and seems to substantially overfit the data. I'm wondering how I might generate a GAM that maximizes smoothness and predictive error. I realize that each of these features is going to come at the expense of the other, but is there good a way to find the optimal model that doesn't overfit?</p>\n<p>Additionally, I need to perform leave one out cross validation (LOOCV), and I am not sure how to make sure that gam() does this in the MGCV package. Any help on either of these problems uld be greatly appreciated. Thank you.</p>\n<p>I've run this to generate a GAM, but it overfits the data.</p>\n<p>GAM &lt;- gam(response~ linearpredictor+ s(predictor2) + s(predictor3), data = data[2:5])</p>\n<p>I have also generated 1,000,000 GAMs with varying combinations of smoothing parameters and ranged the maximum degrees of freedom allowed from 10 (as shown in the code below) to 19. The variable &quot;combinations2&quot; is a list of all 1,000,000 combinations of smoothers I selected. This code is designed to try and balance degrees of freedom and AIC score. It does function, but I'm not sure that I'm actually going to be able to find the optimal model from this. I also cannot tell how to make sure that it uses LOOCV.</p>\n<pre><code>BestGAM &lt;- gam(response~ linearpredictor+ predictor2+ predictor3, data = data[2:5])\n\nfor(i in 1:100000){\nPotentialGAM &lt;- gam(response~ linearpredictor+ s(predictor2) + s(predictor3), data = data[2:5], sp=c(combinations2[i,]$Var1,combinations2[i,]$Var2)) \n\nif (AIC(PotentialGAM,BestGAM)$df[1] &lt;= 10 &amp; AIC(PotentialGAM,BestGAM)$AIC[1] &lt; AIC(PotentialGAM,BestGAM)$AIC[2]){\n\nBestGAM &lt;&lt;- PotentialGAM\nlistNumber &lt;- i\n}\n}\n</code></pre>\n"
	}, {
		"tags": ["r", "writexl"],
		"owner": {
			"reputation": 3,
			"user_id": 17607035,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/cfa27442fbcc20fec5e47bd06065b15a?s=256&d=identicon&r=PG",
			"display_name": "techieshrink",
			"link": "https://stackoverflow.com/users/17607035/techieshrink"
		},
		"is_answered": true,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75493540,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676726288,
		"creation_date": 1676720977,
		"last_edit_date": 1676724204,
		"question_id": 75493126,
		"link": "https://stackoverflow.com/questions/75493126/write-xlsx-results-in-error-argument-x-must-be-a-data-frame-or-list-of-data-fr",
		"title": "write_xlsx results in error: &quot;Argument x must be a data frame or list of data frames&quot; This despite data being a list of DFs",
		"body": "<p>I need to write an excel file with multiple sheets named &quot;Cases&quot;, &quot;Coordinators&quot;, &quot;Contacts&quot;</p>\n<p>I have checked the class of each--e.g., class(Cases)--and the result in each case is:</p>\n<pre><code>class(Cases)\n[1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;\n</code></pre>\n<p>I combine these dfs into a list called &quot;compiledData&quot; as follows:</p>\n<pre><code>compiledData &lt;- c(Cases, Coordinators, Contacts)\n</code></pre>\n<p>and checked class of compiledData as follows:</p>\n<pre><code>class(compiledData)\n[1] &quot;list&quot;\n</code></pre>\n<p>So, I am confused as to why the following code results in the following error:</p>\n<pre><code>write_xlsx(compiledData, &quot;FileName.xlsx&quot;)\nError in write_xlsx(compiledData, &quot;FileName.xlsx&quot;) : \n  Argument x must be a data frame or list of data frames\n</code></pre>\n<p>Any assistance would be greatly appreciated. I have been searching for two days for a solution, but have not found an answer. Apologies in advance if a solution has already been posted and I've not seen it.</p>\n<p>One update: I changed <code>compiledData &lt;- c(Cases, Coordinators, Contacts)</code> to:\n<code>compiledData &lt;- list(Cases, Coordinators, Contacts)</code> and the Excel file is now being created without error. My new problem is that the worksheets in the excel file are not labeled &quot;Cases&quot;, &quot;Coordinators&quot;, &quot;Contacts&quot;--they are Sheet1, Sheet2, Sheet3</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 21,
			"user_id": 19308455,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJye9yJoz75TLmriK85TBrJngFTnEy6sKy7XRgJZ=k-s256",
			"display_name": "Brian Scott",
			"link": "https://stackoverflow.com/users/19308455/brian-scott"
		},
		"is_answered": false,
		"view_count": 34,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676726033,
		"creation_date": 1676695706,
		"last_edit_date": 1676726033,
		"question_id": 75491256,
		"link": "https://stackoverflow.com/questions/75491256/ggplot-not-respecting-xlimits-in-coord-cartesian",
		"title": "ggplot not respecting xlimits in coord_cartesian",
		"body": "<p>A new problem with the same code from an earlier question. Funny because this is the first line of code in my R journey that just keeps stumping me. Following up on the previous post, now the extra line charts are being plotted but I realized that the x axis is not respecting the limits I'm trying to set. Here is the code. Changing the values for <code>xlim</code> does not 'zoom in' on the x axis and seems to have no effect at all:</p>\n<pre><code>ggplot(aes(x = age, y = friend_count), data = pf) +\n  coord_cartesian(xlim = c(13,90)) +\n  geom_point(alpha = 0.05,\n             position = position_jitter(h = 0),\n             color = 'orange') +\n  coord_trans(y = &quot;sqrt&quot;) +\n  geom_line(stat = 'summary', fun = mean) +\n  geom_line(stat = 'summary', fun = quantile, fun.args = list(probs = .1),\n            linetype = 2, color = 'blue') +\n  geom_line(stat = 'summary', fun = quantile, fun.args = list(probs = .9),\n            linetype = 2, color = 'blue')\n\n</code></pre>\n"
	}, {
		"tags": ["r", "spatial"],
		"owner": {
			"reputation": 31,
			"user_id": 20407815,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/277a58f68c89ee36d08d0198b56815da?s=256&d=identicon&r=PG",
			"display_name": "alina999",
			"link": "https://stackoverflow.com/users/20407815/alina999"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676721695,
		"creation_date": 1676721695,
		"question_id": 75493202,
		"link": "https://stackoverflow.com/questions/75493202/spatial-probit-matrix-r",
		"title": "Spatial probit matrix R",
		"body": "<p>I try to use spatialprobit model in R. I have 83 regions and dataframe 125360 x 13 shape.\nFollowing code give me an error:</p>\n<pre><code>    sarprobit.fit1 &lt;- sarprobit(MALOIM_6 ~ region_money+number_child+   VZR_NRAB_c+ \n                                        R_2_0+\n                                        R_5_2+PENS_c+INV_c+ \n                                        R_1_1+NP_SEM +R_1_1_1, sparsematrix, df_probit)\n\n**Error: Matrices must have same dimensions in .Arith.Csparse(e1, e2, .Generic, class. = &quot;dgCMatrix&quot;)**\n</code></pre>\n<p>How to deal with it?\nI create matrix by following code:</p>\n<pre><code>geo_data &lt;- raster::getData('GADM', country = 'Russia', level = 1)[, c('NL_NAME_1')]\ncoords&lt;- coordinates(geo_data)\nnb &lt;- knearneigh(coords, k = 3) %&gt;% knn2nb()\nlistw&lt;-nb2listw(nb,style='W',zero.policy=TRUE)\nW&lt;-listw2mat(listw)\nsparsematrix &lt;- as(matrix(W), &quot;sparseMatrix&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21239029,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/177ff4577a32e1083a302d68003f6af0?s=256&d=identicon&r=PG",
			"display_name": "Enosky",
			"link": "https://stackoverflow.com/users/21239029/enosky"
		},
		"is_answered": false,
		"view_count": 30,
		"down_vote_count": 2,
		"up_vote_count": 0,
		"closed_date": 1676727048,
		"answer_count": 0,
		"score": -2,
		"last_activity_date": 1676721501,
		"creation_date": 1676716504,
		"last_edit_date": 1676721501,
		"question_id": 75492746,
		"link": "https://stackoverflow.com/questions/75492746/computed-variable-gives-unexpected-counts",
		"closed_reason": "Not suitable for this site",
		"title": "Computed variable gives unexpected counts",
		"body": "<p>I have a problem with the coding of some variables. I am working on data for Lebanon on R on two different datasets, the World Value Survey and the Arab Barometer. Regardless of the dataset I am using, when I try to code a variable referring only to one country (in this case Lebanon), the values of the variable at the end of the coding are entirely wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/Hndr8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hndr8.png\" alt=\"\" /></a></p>\n<p>I have tried the same coding with other variables and with another dataset, but the problem remains, and the values are still much larger than they should be.\nAs can be seen from the values in the '<a href=\"/questions/tagged/table\" class=\"post-tag\" title=\"show questions tagged &#39;table&#39;\" aria-label=\"show questions tagged &#39;table&#39;\" rel=\"tag\" aria-labelledby=\"table-container\">table</a>' command, the values after encoding are very different.\nAs a beginner, I'm sure my question will be trivial, but I'm asking for help to unblock the situation.</p>\n"
	}, {
		"tags": ["r", "keras", "multilabel-classification"],
		"owner": {
			"reputation": 1,
			"user_id": 21014131,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4tTfVa95cgWzityX9EnHUSJViVYbrofgKxtCdo=k-s256",
			"display_name": "xSambx02",
			"link": "https://stackoverflow.com/users/21014131/xsambx02"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676721132,
		"creation_date": 1676718429,
		"last_edit_date": 1676721132,
		"question_id": 75492908,
		"link": "https://stackoverflow.com/questions/75492908/multiclasses-classification-neural-network-error-matrix-type-cannot-be-convert",
		"title": "Multiclasses Classification Neural Network error: &quot;Matrix type cannot be converted to python&quot;",
		"body": "<p>I'm trying to build a neural network in order to classify images from people, and predict their ages.</p>\n<p>The code is the following:</p>\n<pre><code>library(EBImage)\nlibrary(keras)\n\n# Read images\nsetwd('C:\\\\Users\\\\smbsv\\\\Desktop\\\\UTKFace')\n\n# Get file list with full path and file names\nfiles &lt;- list.files('C:\\\\Users\\\\smbsv\\\\Desktop\\\\UTKFace', full.names = TRUE, pattern = &quot;jpg$|JPG$&quot;)\n\nfiles\n\n# Select the desired % or number of file by simple random sampling \nrandomize &lt;- sample(seq(files))\n\nfiles2analyse &lt;- files[randomize]\n\n\nfiles2analyse &lt;- files2analyse[(1:5000)]\n\nfiles2analyse\n\nmypic &lt;- list()\n\nfor (i in 1:length(files2analyse)) {mypic[[i]] &lt;- readImage(files2analyse[i])}\n\nmypic\n\ndisplay(mypic[[1]])\ndisplay(mypic[[100]])\ndisplay(mypic[[2400]])\ndisplay(mypic[[4720]])\n\n# Resize\nfor (i in 1:length(mypic)) {mypic[[i]] &lt;- resize(mypic[[i]], 128, 128)}\n\ndisplay(mypic[[2400]])\ndisplay(mypic[[4720]])\n\n# Reshape\nfor (i in 1:length(mypic)) {mypic[[i]] &lt;- array_reshape(mypic[[i]], c(128, 128, 3))}\n\n#make this example reproducible\nset.seed(1493)\n\n#use 70% of dataset as training set and 30% as test set\nsample &lt;- sample(c(TRUE, FALSE), length(mypic), replace=TRUE, prob=c(0.7,0.3))\n\ntrain  &lt;- mypic[sample]\ntest   &lt;- mypic[!sample]\n\nfilenamesTRAIN &lt;- files2analyse[sample]\nfilenamesTEST &lt;- files2analyse[!sample]\n\nfilenamesTRAIN[10]\ndisplay(train[[10]])\n\nfilenamesTRAIN[362]\ndisplay(train[[362]])\n\nfilenamesTEST[25]\ndisplay(test[[25]])\n\nfilenamesTEST[189]\ndisplay(test[[189]])\n\nlength(train)\nlength(test)\n\ntrainx &lt;- NULL\n\ntrainx &lt;- rbind(trainx, train)\ntrainx\n\nstr(trainx)\n\ntestx &lt;- NULL\ntestx &lt;- rbind(testx, test)\n\nstr(testx)\n\n#change files names to only images names (TRAIN)\n\nfor (i in 1:length(filenamesTRAIN)) {filenamesTRAIN[i] &lt;- substring(filenamesTRAIN[i], 32)}\n\n#change files names to only images names (TRAIN)\n\nfor (i in 1:length(filenamesTEST)) {filenamesTEST[i] &lt;- substring(filenamesTEST[i], 32)}\n\nfilenamesTRAIN[27]\nfilenamesTRAIN[147]\n\nfilenamesTEST[189]\nfilenamesTEST[4]\n\n#extract classes from filename (pattern: [age]_[gender(0=male,1=female)]_[race(from 0 to 4, denoting White, Black, Asian, Indian, and Others)]_[date&amp;time].jpg)\nlibrary(stringr)\n\ntrainy &lt;- NULL\n\nfor (i in 1:length(filenamesTRAIN)) {trainy[i] &lt;- str_split(filenamesTRAIN[i], &quot;_&quot;)[[1]][1]}\n\nfilenamesTRAIN[20]\ntrainy[20]\nfilenamesTRAIN[100]\ntrainy[100]\n\ntesty &lt;- NULL\n\nfor (i in 1:length(filenamesTEST)) {testy[i] &lt;- (str_split(filenamesTEST[i], &quot;_&quot;)[[1]][1])} \n\nfilenamesTEST[16]\ntesty[16]\nfilenamesTEST[185]\ntesty[185]\n\n# One Hot Encoding\nclass(trainy[4])\nfor (i in 1:length(trainy)) {trainy[i] &lt;- as.numeric(trainy[i]) - 1} # -1 avoid 1 more column when use &quot;to_categorical&quot;\nfor (i in 1:length(testy)) {testy[i] &lt;- as.numeric(testy[i]) - 1}\n  \ntrainLabels &lt;- to_categorical(trainy)\ntestLabels &lt;- to_categorical(testy)\n\nfilenamesTEST[7]\ntestLabels    # rows: people ; columns : labels (age)\n\n# Model\nmodel &lt;- keras_model_sequential()\nmodel %&gt;%\n  layer_dense(units = 256, activation = 'relu', input_shape = c(3498)) %&gt;%\n  layer_dense(units = 128, activation = 'relu') %&gt;%\n  layer_dense(units = 116, activation = 'softmax')\nsummary(model)\n\n# Compile\nmodel %&gt;%\n  compile(loss = 'crossentropy',\n          optimizer = optimizer_rmsprop(),\n          metrics = c('accuracy'))\n\n# Fit Model\nhistory &lt;- model %&gt;%\n  fit(trainx,\n      trainLabels,\n      epochs = 30,\n      batch_size = 32,\n      validation_split = 0.2)\n</code></pre>\n<p>Everything work until i try to fit the model, and it gives me this error:</p>\n<pre><code>Error: Matrix type cannot be converted to python (only integer, numeric, complex, logical, and character matrixes can be converted\n</code></pre>\n<p>I think that the problem is the datatype of &quot;trainx&quot; and &quot;trainLabels&quot;.\nIf it can be usefull, this is the returned type for these variables:</p>\n<p>trainx:</p>\n<pre><code>&gt;str(trainx)\n\nList of 3498\n$ : num [1:128, 1:128, 1:3] 0.113 0.123 0.121 0.117 0.118 ...\n$ : num [1:128, 1:128, 1:3] 0.108 0.127 0.163 0.222 0.29 ...\n\n...\n- attr(*, &quot;dim&quot;)= int [1:2] 1 3498\n - attr(*, &quot;dimnames&quot;)=List of 2\n  ..$ : chr &quot;train&quot;\n  ..$ : NULL\n\n</code></pre>\n<p>trainLabels:</p>\n<pre><code>&gt; str(trainLabels)\nnum [1:3498, 1:116] 0 0 0 0 0 0 0 0 0 0 ...\n\n</code></pre>\n<p>How can i solve this error?</p>\n"
	}, {
		"tags": ["r", "r-markdown", "kable", "kableextra", "gt"],
		"owner": {
			"reputation": 1,
			"user_id": 21237124,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/30ac1155b6a4f207c9c8176fa8e03027?s=256&d=identicon&r=PG&f=1",
			"display_name": "Luke Horvath",
			"link": "https://stackoverflow.com/users/21237124/luke-horvath"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676721099,
		"creation_date": 1676679501,
		"last_edit_date": 1676720264,
		"question_id": 75490332,
		"link": "https://stackoverflow.com/questions/75490332/indent-wrapped-text-gt",
		"title": "Indent wrapped text GT",
		"body": "<p>I am attempting to indent text in the stub for a GT table. Some of the text in the stub is quite long and wraps across multiple lines. When I apply an indentation to the stub, the second (and subsequent) lines of the text are not indented. I simply want to indent the entire wrapped text of the stub.</p>\n<p>Here is a reproducible example:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(dplyr)\nlibrary(gt)\nlibrary(tidyr)\n# Get vectors of 2-letter country codes for\n# each region of Oceania\nAustralasia &lt;- c(&quot;AU&quot;, &quot;NZ&quot;)\nMelanesia &lt;- c(&quot;NC&quot;, &quot;PG&quot;, &quot;SB&quot;, &quot;VU&quot;)\nMicronesia &lt;- c(&quot;FM&quot;, &quot;GU&quot;, &quot;KI&quot;, &quot;MH&quot;, &quot;MP&quot;, &quot;NR&quot;, &quot;PW&quot;)\nPolynesia &lt;- c(&quot;PF&quot;, &quot;WS&quot;, &quot;TO&quot;, &quot;TV&quot;)\n\n# Create a gt table based on a preprocessed `countrypops`\ncountrypops %&gt;%\n  filter(country_code_2 %in% c(\n    Australasia, Melanesia, Micronesia, Polynesia)\n  ) %&gt;%\n  filter(year %in% c(1995, 2005, 2015)) %&gt;%\n  mutate(region = case_when(\n    country_code_2 %in% Australasia ~ &quot;Australasia&quot;,\n    country_code_2 %in% Melanesia ~ &quot;Melanesia&quot;,\n    country_code_2 %in% Micronesia ~ &quot;Micronesia&quot;,\n    country_code_2 %in% Polynesia ~ &quot;Polynesia&quot;,\n  )) %&gt;%\n  pivot_wider(names_from = year, values_from = population) %&gt;%\n  arrange(region, desc(`2015`)) %&gt;%\n  select(-starts_with(&quot;country_code&quot;)) %&gt;%\n  gt(\n    rowname_col = &quot;country_name&quot;,\n    groupname_col = &quot;region&quot;\n  ) %&gt;% \n  tab_style(\n    style = list(\n      cell_text(indent = pct(8))\n    ),\n    locations = cells_stub()\n  ) %&gt;% \n  cols_width(country_name ~ 150)\n</code></pre>\n<p>Picture of incorrectly indented table:\n<img src=\"https://i.stack.imgur.com/Cb060.png\" alt=\"Picture of incorrectly indented table\" /></p>\n<p>How can I apply indenting consistently across the stub rows?</p>\n"
	}, {
		"tags": ["r", "shiny", "datatables", "dt"],
		"owner": {
			"reputation": 720,
			"user_id": 9610309,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/785df14ea6baccb4d1a1f757b0d47228?s=256&d=identicon&r=PG&f=1",
			"display_name": "neves",
			"link": "https://stackoverflow.com/users/9610309/neves"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676721062,
		"creation_date": 1676715363,
		"last_edit_date": 1676721062,
		"question_id": 75492632,
		"link": "https://stackoverflow.com/questions/75492632/how-to-apply-js-jquery-within-the-cell-ids-of-a-dt",
		"title": "How to apply JS/ jQuery within the cell ids of a DT?",
		"body": "<p>I would like to apply JS/Jquery within the cell ids of a DT.</p>\n<p>I used <code>.css()</code> as an example, but I have other plans, so I asked the question. My intention is not to color the words, but to use other functions.</p>\n<p>My code:</p>\n<pre><code>library(shiny)\nlibrary(shinydashboard)\nlibrary(DT)\n\nheader &lt;- dashboardHeader(title = &quot;DT&quot;)\n\nsidebar &lt;- dashboardSidebar(sidebarMenu(menuItem(text = &quot;mydatatable&quot;, tabName = &quot;dt1&quot;)))\n\nbody &lt;- dashboardBody(\n  \n  HTML(\n  &quot;&lt;head&gt;\n  &lt;script&gt;\n  \n  $(function() {\n  \n    $('#stackid, #dtid').mouseover(function() {\n      $(this).css('color','red');\n    });\n    \n    $('#stackid, #dtid').mouseout(function() {\n      $(this).css('color','#333333');\n    });\n    \n  });\n  \n  &lt;/script&gt;\n  &lt;/head&gt;&quot;\n  ),\n  \n  tabItems(\n    \n    tabItem(\n      tabName = &quot;dt1&quot;,\n      fluidPage(\n        column(\n          width = 12,\n          \n          HTML(&quot;&lt;strong id='dtid' style='font-size:50px;'&gt;DATATABLE&lt;/strong&gt;&quot;),\n          \n          DTOutput(outputId = &quot;outdt1&quot;)\n        )\n      )\n    )\n  )\n  \n)\n\nui &lt;- dashboardPage(header, sidebar, body)\n\nserver &lt;- function(input, output, session) {\n  \n  df_1 &lt;- data.frame(\n    x = c(&quot;&lt;span id='stackid'&gt;Stack&lt;/span&gt;&quot;, &quot;Over&quot;, &quot;Flow&quot;),\n    y = 1:3,\n    z = LETTERS[1:3]\n  )\n  \n  output$outdt1 &lt;- DT::renderDataTable({\n    \n    datatable(\n      data = df_1,\n      escape = FALSE\n    )\n    \n  })\n  \n}\n\nshinyApp(ui, server)\n</code></pre>\n<p>I tried using <code>JS/ jQuery</code> inside <code>tags$div()</code> on <code>server</code>, but that didn't work either.\nSee that the effect is applied to <code>dtid</code>, as expected. But, my intention is to apply the effect within the id of the <code>DT</code>.</p>\n"
	}, {
		"tags": ["r", "data-manipulation"],
		"owner": {
			"reputation": 1,
			"user_id": 17886110,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/39c8d861925a5735874942aeab1bd278?s=256&d=identicon&r=PG",
			"display_name": "Sharri396",
			"link": "https://stackoverflow.com/users/17886110/sharri396"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"closed_date": 1676732338,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676720385,
		"creation_date": 1676688859,
		"last_edit_date": 1676715905,
		"question_id": 75490893,
		"link": "https://stackoverflow.com/questions/75490893/how-to-remove-duplicates-from-data",
		"closed_reason": "Needs details or clarity",
		"title": "How to remove duplicates from data?",
		"body": "<p>I have a data where I am taking measurements of length each day (repeated measure analysis). However, I do have duplicates in my data and I want to get rid off those duplicates. Here is the data (df3). Where I took observation on</p>\n<pre><code>Replicate # Day   length_avg\n    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;\n  1 1             D1         0.663\n  2 1             D1         0.663\n  3 1             D1         0.663\n  4 1             D1         0.663\n  5 1             D2         0.688\n  6 1             D2         0.688\n  7 1             D2         0.688\n  8 1             D2         0.688\n  9 1             D3         0.692\n 10 1             D3         0.692\n 11 1             D3         0.692\n 12 1             D3         0.692\n 13 1             D4         0.691\n 14 1             D4         0.691\n</code></pre>\n<p>I want to have only one value for D1, D2, D3 etc. I also have 19 Replicates.</p>\n<p>I tried to group it by</p>\n<pre><code>df4&lt;-df3 %&gt;% \n  group_by(Day) %&gt;%\n  slice(1L) \n</code></pre>\n<p>but I get only 1 value for each day per replicate. I need all D1,D2,....D19 values for each Replicate but I am getting</p>\n<pre><code> Replicate # Day   length_avg\n   &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;\n 1 1             D1         0.663\n 2 1             D10        0.668\n 3 1             D11        0.688\n 4 1             D12        0.682\n 5 1             D13        0.636\n 6 4             D14        0.658\n 7 4             D15        0.667\n 8 4             D16        0.664\n 9 4             D17        0.662\n10 1             D2         0.688\n11 1             D3         0.692\n12 1             D4         0.691\n13 1             D5         0.687\n14 1             D6         0.683\n15 1             D7         0.686\n16 1             D8         0.678\n17 1             D9         0.697\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 77,
			"user_id": 15420153,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/be129822290e3b78a32148effcd2192f?s=256&d=identicon&r=PG&f=1",
			"display_name": "frandude",
			"link": "https://stackoverflow.com/users/15420153/frandude"
		},
		"is_answered": false,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676719087,
		"creation_date": 1676685272,
		"question_id": 75490706,
		"link": "https://stackoverflow.com/questions/75490706/is-there-an-r-function-to-make-a-copy-of-all-the-source-code-used-to-generate-an",
		"title": "Is there an R function to make a copy of all the source code used to generate an analysis?",
		"body": "<p>I have a file run_experiment.rmd which performs an analysis on data using a bunch of .r scripts in another folder.</p>\n<p>Every analysis is saved into its own timestamped folder. I save the outputs of the analysis, the inputs used, and if possible I would also like to save the <strong>code used to generate the analysis</strong> (including the contents of both the .rmd file and the .r files).</p>\n<p>The reason for this is because if I make changes to the way my analyses are run, then if I re-run the analysis using the new updated file, I will get different results. If possible, I would like to keep legacy versions of the code so that I can always, if need be, re-run the original analysis.</p>\n"
	}, {
		"tags": ["r", "tidyr", "data-transform"],
		"owner": {
			"reputation": 788,
			"user_id": 1116675,
			"user_type": "registered",
			"accept_rate": 68,
			"profile_image": "https://www.gravatar.com/avatar/4fd20a5d640370bf667c65cb1a941291?s=256&d=identicon&r=PG",
			"display_name": "Madamadam",
			"link": "https://stackoverflow.com/users/1116675/madamadam"
		},
		"is_answered": false,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676672194,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676718051,
		"creation_date": 1676671853,
		"last_edit_date": 1676718051,
		"question_id": 75489667,
		"link": "https://stackoverflow.com/questions/75489667/r-transforming-data-to-wide-format-but-using-free-columns-for-values-instead-of",
		"closed_reason": "Duplicate",
		"title": "R: Transforming data to wide format but using free columns for values instead of creating new columns",
		"body": "<p>I've got a data matrix where each row represents a course and in another column a teacher is assigned:</p>\n<p><a href=\"https://i.stack.imgur.com/yOvOo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yOvOo.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to transform the data to this form:</p>\n<p><a href=\"https://i.stack.imgur.com/OwCfe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OwCfe.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I get is this form:</p>\n<p><a href=\"https://i.stack.imgur.com/tJJa0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tJJa0.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code so far:</p>\n<pre><code>course &lt;- c('Math1', 'English', 'Biology', 'Math2', 'Physics')\nteacher &lt;- c('Teacher1', 'Teacher1', 'Teacher1', 'Teacher2', 'Teacher2')\n\ndata &lt;- data.frame(course, teacher)\ndata &lt;- tibble::rowid_to_column(data, &quot;courseID&quot;)\n\ndata_wide &lt;- data %&gt;%\n  pivot_wider(values_from = course, names_from = courseID)\n</code></pre>\n<p>So the problem is, that for each course, a new variable is created. While for teacher2 the course Math2 should be on column course1 (since it\u2019s his first course), with my code it gets course4 and filling up the preceding columns with NAs.</p>\n<p>Edit: my question was closed because it was considered a duplicate of <a href=\"https://stackoverflow.com/questions/5890584/how-to-reshape-data-from-long-to-wide-format\">How to reshape data from long to wide format</a> but this is not the focus of my question: I already succeeded to transform to wide format, but for example for teacher2 Math2 is his first course, so it should appear in column course1 instead of creating a new column course4.</p>\n"
	}, {
		"tags": ["r", "list", "purrr", "accumulate", "combn"],
		"owner": {
			"reputation": 55,
			"user_id": 21220228,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c5a48370605519c28b78d5e54eba35f6?s=256&d=identicon&r=PG",
			"display_name": "filemonPi",
			"link": "https://stackoverflow.com/users/21220228/filemonpi"
		},
		"is_answered": true,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"accepted_answer_id": 75492546,
		"answer_count": 1,
		"score": 3,
		"last_activity_date": 1676716382,
		"creation_date": 1676711699,
		"last_edit_date": 1676716382,
		"question_id": 75492316,
		"link": "https://stackoverflow.com/questions/75492316/purrr-how-to-apply-recursively-a-function-with-changing-arguments",
		"title": "purrr - how to apply recursively a function with changing arguments",
		"body": "<p>Ideally I would like to make use of <code>purrr</code>'s <code>accumulate</code> function or similar.</p>\n<p>Let's say I want to make use of <code>utils::combn</code> function iteratively, and get all the intermediate results (ideally put inside a list of lists).</p>\n<p>In example below, initially, parameter <code>x = 4</code>, thus <code>m</code> will be also <code>4</code> (but <code>(x, m)</code> could be <code>(5, 5)</code>, <code>(6, 6)</code>, ...). Then, after first loop, <code>x</code> will be previous result, whilst <code>m</code> goes down by one, iteratively until <code>m = 2</code>.</p>\n<pre class=\"lang-r prettyprint-override\"><code>n1 &lt;- combn(x = 4, m = 4, simplify = FALSE) \nn2 &lt;- map(n1, ~ combn(.x, 3, simplify = FALSE)) \nn3 &lt;- map(n2, ~ map(., ~ combn(.x, 2, simplify = FALSE)))\n\n&gt; n1\n[[1]]\n[1] 1 2 3 4\n\n\n&gt; n2\n[[1]]\n[[1]][[1]]\n[1] 1 2 3\n\n[[1]][[2]]\n[1] 1 2 4\n\n[[1]][[3]]\n[1] 1 3 4\n\n[[1]][[4]]\n[1] 2 3 4\n\n&gt; n3\n[[1]]\n[[1]][[1]]\n[[1]][[1]][[1]]\n[1] 1 2\n\n[[1]][[1]][[2]]\n[1] 1 3\n\n[[1]][[1]][[3]]\n[1] 2 3\n\n\n[[1]][[2]]\n[[1]][[2]][[1]]\n[1] 1 2\n\n[[1]][[2]][[2]]\n[1] 1 4\n\n[[1]][[2]][[3]]\n[1] 2 4\n\n\n[[1]][[3]]\n[[1]][[3]][[1]]\n[1] 1 3\n\n[[1]][[3]][[2]]\n[1] 1 4\n\n[[1]][[3]][[3]]\n[1] 3 4\n\n\n[[1]][[4]]\n[[1]][[4]][[1]]\n[1] 2 3\n\n[[1]][[4]][[2]]\n[1] 2 4\n\n[[1]][[4]][[3]]\n[1] 3 4\n</code></pre>\n<p>As you can imagine, I want to get all possible combinations, e.g.:</p>\n<blockquote>\n<p>choose(4, 4) -&gt; choose(result, 3) -&gt; choose(result, 2).</p>\n</blockquote>\n<p>Any help or ideas would be much appreciated.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "plot", "autoplot"],
		"owner": {
			"reputation": 751,
			"user_id": 1958465,
			"user_type": "registered",
			"accept_rate": 66,
			"profile_image": "https://i.stack.imgur.com/xfeJ8.jpg?s=256&g=1",
			"display_name": "G&#252;nal",
			"link": "https://stackoverflow.com/users/1958465/g%c3%bcnal"
		},
		"is_answered": true,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75492681,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676715906,
		"creation_date": 1676712449,
		"question_id": 75492377,
		"link": "https://stackoverflow.com/questions/75492377/how-to-add-vertical-lines-and-text-to-time-series-plot",
		"title": "How to add vertical lines and text to time series plot?",
		"body": "<p>I have some time series data and used <code>autoplot</code> function in R to plot my time series. I would like add vertical lines to the plot and text. For example, a line between 2003-2010 with text &quot;train data&quot;, 2010-2015 &quot;test&quot; data and 2015- 2018 &quot;predictions&quot;. I did it in ordinary R plot, but it is not fancy. I would like to do it with <code>ggplot</code> or <code>autoplot</code>. My code is as follows.</p>\n<pre><code>data &lt;- runif(180,100,1000)\nts.data &lt;- ts(data, frequency = 12, start = c(2003,1))\nautoplot(ts.data, xlab=&quot;Year&quot;, ylab=&quot;Number of Tourists&quot;)\n</code></pre>\n<p>Thanks in advance</p>\n"
	}, {
		"tags": ["r", "dataframe", "aggregate"],
		"owner": {
			"reputation": 1,
			"user_id": 11106993,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d012ed736fb8bb3cc0813137f075a03b?s=256&d=identicon&r=PG",
			"display_name": "Faiz Pokun",
			"link": "https://stackoverflow.com/users/11106993/faiz-pokun"
		},
		"is_answered": false,
		"view_count": 36,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676715592,
		"creation_date": 1676485323,
		"last_edit_date": 1676715592,
		"question_id": 75463967,
		"link": "https://stackoverflow.com/questions/75463967/is-there-a-more-efficient-way-to-find-list-two-columns-on-r-using-the-aggregate",
		"title": "Is there a more efficient way to find list two columns on R using the aggregate function?",
		"body": "<pre><code>library(tidyverse)\nlibrary(dplyr)\nData &lt;- read.csv('Transactional_database.csv', header = TRUE)\nData_Customer &lt;- read.csv(file = &quot;C:/temp/CLTV/CLTV/Transactional_database.csv&quot;, sep = &quot;|&quot;, header = TRUE)\n\n\nagg_df &lt;- aggregate(&quot;Gros.margin ~ Customer_Account_Id, data = df, FUN = sum)\n</code></pre>\n<pre><code>Error in match.fun(FUN) : argument &quot;FUN&quot; is missing, with no default\n</code></pre>\n<p>Any suggestions on what I am doing wrong and how I can resolve this?</p>\n"
	}, {
		"tags": ["r", "glm"],
		"owner": {
			"reputation": 11,
			"user_id": 5066463,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3b4458362364e8c11bc766b943f98b2a?s=256&d=identicon&r=PG&f=1",
			"display_name": "davetracy",
			"link": "https://stackoverflow.com/users/5066463/davetracy"
		},
		"is_answered": true,
		"view_count": 597,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676715128,
		"creation_date": 1435686790,
		"question_id": 31145065,
		"link": "https://stackoverflow.com/questions/31145065/maximum-number-of-covariates-in-r-glm-package-is-128",
		"title": "maximum number of covariates in R glm package is 128?",
		"body": "<p>I have a dataset with 146 covariates, and am training a logistic regression.</p>\n\n<pre><code>logit = glm(Y ~ .,\n        data = pred.dataset[1:1000,],\n        family = binomial)\n</code></pre>\n\n<p>The model trains very quickly, but when I then try to view the Beta's with</p>\n\n<pre><code>logit\n</code></pre>\n\n<p>After the 128th variable the Beta's are all \"NA\"</p>\n\n<p>I noticed this when trying to export it as pmml and noticed it stopped listing Beta's after 128 predictors.</p>\n\n<p>I've gone through the documentation and can't find a reference to a maximum number of covariates, and also trained on 60k rows - I still see NAs after the 128th predictor.</p>\n\n<p>Is this a limitation of glm, or a limitation of my system? I am running R 3.1.2 64 bit. How can I increase the number of predictors?</p>\n"
	}, {
		"tags": ["r", "dataframe", "loops"],
		"owner": {
			"reputation": 67,
			"user_id": 14923149,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e3549853557c050ef472f9dca214cc54?s=256&d=identicon&r=PG&f=1",
			"display_name": "Umar",
			"link": "https://stackoverflow.com/users/14923149/umar"
		},
		"is_answered": false,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676714921,
		"creation_date": 1676701724,
		"last_edit_date": 1676714921,
		"question_id": 75491604,
		"link": "https://stackoverflow.com/questions/75491604/create-a-new-column-based-on-matching-string",
		"title": "Create a new column based on matching string",
		"body": "<p>I have a large dataframe and want to create a new column name Class based on matching data present in perticular column:\nIs it possible to solve this using loop or other way</p>\n<p>The example dataframe is as follows:</p>\n<pre><code>dat &lt;- data.frame(\n      Function = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;)\n      )\n</code></pre>\n<p>and the output look like this</p>\n<pre><code>dat &lt;- data.frame(\n  Function = c(&quot;A&quot;, &quot;C&quot;, &quot;F&quot;, &quot;D&quot;, &quot;E&quot;, &quot;I&quot;, &quot;G&quot;, &quot;H&quot;, &quot;B&quot;),\n  Class= c(&quot;Class1&quot;,&quot;Class1&quot;,&quot;Class1&quot;,&quot;Class2&quot;,&quot;Class2&quot;,&quot;Class2&quot;,&quot;Class3&quot;,&quot;Class3&quot;,&quot;Class3&quot;))\n</code></pre>\n"
	}, {
		"tags": ["r", "statistics"],
		"owner": {
			"reputation": 43,
			"user_id": 11310658,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-Sw4pa3eSG10/AAAAAAAAAAI/AAAAAAAABas/ICykuMnj69Y/photo.jpg?sz=256",
			"display_name": "G. Rocher",
			"link": "https://stackoverflow.com/users/11310658/g-rocher"
		},
		"is_answered": false,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676713833,
		"creation_date": 1676713833,
		"question_id": 75492493,
		"link": "https://stackoverflow.com/questions/75492493/how-to-partition-variance-among-parameters-in-a-monte-carlo-simulation",
		"title": "How to partition variance among parameters in a Monte Carlo simulation?",
		"body": "<p>I have some doubts as how to better extract information from a Monte Carlo simulation, I will simplify the problem here, using some R pseudocode but the question is more general.</p>\n<p>Let's say I have a function with three parameters, each of them with a mean and SD. For this example I will use normal distributions, but for more general cases let's assume one of them is another distribution.</p>\n<p><code>f(x,y,z) = rnorm(mean_x, sd_x) *  rnorm(mean_y, sd_y) * rnorm(mean_z, sd_z)</code></p>\n<p>I am using a Monte Carlo simulation to quantify  the uncertainty, quite straight-forward. I am interested though in understanding what % of the total uncertainty corresponds to each parameter, done computationally and not analytically.</p>\n<p>One way I have envisioned would be:</p>\n<ol>\n<li>Define total uncertainty as the 0.05-0.95 quantiles of the full MC simulation, and this would be 100% of the model uncertainty.</li>\n<li>Do a new simulation, but now set one parameter fixed using the mean value, such as:</li>\n</ol>\n<p><code>f(x,y,z) = mean_x *  rnorm(mean_y, sd_y) * rnorm(mean_z, sd_z)</code></p>\n<ol start=\"3\">\n<li><p>The difference between the &quot;total uncertainty&quot; and the 0.05-0.95 quantiles of this simulation would then be amount of uncertainty related to this specific parameter.</p>\n</li>\n<li><p>Repeat for the other parameters.</p>\n</li>\n</ol>\n<p>I know this is a simplification as it ignores interactions among parameters, but would this be correct? The problem in question is slightly more complex than this so other analytical approaches are not that feasible.</p>\n"
	}, {
		"tags": ["r", "plotly"],
		"owner": {
			"reputation": 613,
			"user_id": 4717677,
			"user_type": "registered",
			"accept_rate": 42,
			"profile_image": "https://www.gravatar.com/avatar/bf401baae3bca2c0c65d57d3b77b46ad?s=256&d=identicon&r=PG&f=1",
			"display_name": "chrisjacques",
			"link": "https://stackoverflow.com/users/4717677/chrisjacques"
		},
		"is_answered": true,
		"view_count": 14660,
		"down_vote_count": 0,
		"up_vote_count": 18,
		"accepted_answer_id": 45104040,
		"answer_count": 3,
		"score": 18,
		"last_activity_date": 1676713050,
		"creation_date": 1500036883,
		"last_edit_date": 1500040970,
		"question_id": 45103559,
		"link": "https://stackoverflow.com/questions/45103559/plotly-adding-a-source-or-caption-to-a-chart",
		"title": "plotly adding a source or caption to a chart",
		"body": "<p>Is there a way to add a data source / caption to a chart in Plotly, similar with what can be done in <code>ggplot</code> with the caption argument:</p>\n\n<pre><code>labs(caption = \"source: data i found somewhere\") \n</code></pre>\n\n<p>i.e., so we can display the data source at the bottom right of the graph, in a smaller font.</p>\n"
	}, {
		"tags": ["r", "function", "if-statement"],
		"owner": {
			"reputation": 101,
			"user_id": 11703895,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/faface22d4cac33a48f68c09b800e4c1?s=256&d=identicon&r=PG&f=1",
			"display_name": "pomatomus",
			"link": "https://stackoverflow.com/users/11703895/pomatomus"
		},
		"is_answered": true,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676711443,
		"creation_date": 1676707244,
		"last_edit_date": 1676707930,
		"question_id": 75491980,
		"link": "https://stackoverflow.com/questions/75491980/the-usage-of-if-else-is-na-in-one-function-of-r",
		"title": "The usage of &quot;If&quot;, &quot;else&quot;, &quot;is.na()&quot; in one function of R",
		"body": "<p>I have <code>Length</code> and <code>Weight</code> values in a data frame. However some of them are missing. The data frame is like:</p>\n<pre><code>df &lt;- data.frame(\n  L = c(13,15,19,NA,NA,32,35,NA,NA,18,15),\n  W = c(NA,NA,50, NA,NA,NA,80,NA,NA,30,NA)\n)\n</code></pre>\n<p>I need a function which will work when length is not <code>NA</code> and weight is <code>NA</code>. it will calculate the weight for length, and else it will do nothing.</p>\n<pre><code>lwr &lt;- function(data, length, weight, a, b) {\n  if(!is.na(data$length) &amp;&amp; is.na(data$weight)) { \n    data$weight = 10^(log(a) + b*log(data$length))\n  } else {\n    data$weight\n  }\n}\n</code></pre>\n<p>Here we go</p>\n<pre><code>lwr(data=df, length = L, weight = W, a=0.003, b=3.2)\n</code></pre>\n<p>but it does not work.</p>\n<p>If you help me, I would be appreciated. Thank you very much for your time.</p>\n"
	}, {
		"tags": ["r", "r-markdown", "knitr"],
		"owner": {
			"reputation": 1,
			"user_id": 21196047,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4AaCRsm2rldd9jb5Z57gvBkhV-XJmnM5G4w-8M=k-s256",
			"display_name": "Ramon Hernandez",
			"link": "https://stackoverflow.com/users/21196047/ramon-hernandez"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676711399,
		"creation_date": 1676628424,
		"last_edit_date": 1676711399,
		"question_id": 75482801,
		"link": "https://stackoverflow.com/questions/75482801/why-cant-i-hide-my-source-code-in-my-knitted-file",
		"title": "Why cant I hide my source code in my knitted file?",
		"body": "<p><a href=\"https://i.stack.imgur.com/ghJgv.png\" rel=\"nofollow noreferrer\">Screenshot after knitting</a></p>\n<pre><code>---\ntitle: &quot;R Notebook&quot;\noutput:\n  html_document:\n    df_print: paged\n---\n\n```{r}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(ggthemes)\nlibrary(magrittr)\nlibrary(rio)\n```\n```{r, echo=FALSE}\ndf = read.csv('https://raw.githubusercontent.com/alyssatn/RWorkshopHW/main/Report_Card_Enrollment_from_2014-15_to_Current_Year.csv')\n```\n\n```{r, echo=FALSE}\ndf6=df[df$Gradelevel==&quot;6th Grade&quot;,]\ndf6$All.Students=gsub(pattern = ',', replacement = &quot;&quot;,df6$All.Students)\ndf6$All.Students=as.numeric(df6$All.Students)\ndf6$gap = df6$All.Students-78603\ndf6$gap_lead = 100 * (df6$All.Students - lead(df6$All.Students))/lead(df6$All.Students)\ndf6$PositiveGap=ifelse(df6$gap_lead &gt; 0,&quot;Yes&quot;,&quot;No&quot;)\ndf6$PositiveGap=as.character(df6$PositiveGap) #I don't know if this matters but I have it here anyway\ndf6[8,38] = &quot;No&quot; #manually updating the data for the 2014-2015 year\ndf6[8,36] = 0 #manually updating the data for the 2014-2015 year\ndf6$xlabel = c(7.8,6.8,5.3,4.3,3.3,2.3,1.3,2)#X coordinates for the line segment labels\ndf6$ylabel = c(5273 - ((5273 - 2135)/2), 9606 - (9606 - 5273)/2, 8643 - (8643 - 9606)/2, 8643 - (8643 - 5632)/2,5632 - (5632-2707)/2, 2707 - (2702-1415)/2,(1415/2), 600)#Y coordinates for the line segment labels\ndf6$label = c(2135-5273, 5273 - 9096, 9096 - 8643, 8643 - 5632, 5632 - 2707, 2707 - 1415, 1415, 0)\n```\n\n```{r, echo=FALSE}\nbase=ggplot(data=df6,\n            aes(x=SchoolYear,\n                y=gap))\nplot1=base + geom_bar(fill = &quot;black&quot;,\n                      stat = 'identity') + \n      labs(title=&quot;Fewer 6th graders were enrolled in Washington State public schools after the Covid-19 Pandemic&quot;,\n                     x =&quot;School Year&quot;, \n                     y = &quot;Change in number of 6th graders since 2014&quot;,\n                     caption = &quot;Source: Washington State Department of Education&quot;) + \n      theme(plot.caption = element_text(hjust = 0, size = 8), \n                      plot.title = element_text(hjust = 0.5, size = 9.5), axis.title = element_text(size = 10))\nplot2 = plot1 + geom_segment(aes(x = 1, y = 0, xend=2, yend = 1415), color = &quot;green&quot;) + \n        geom_segment(aes(x = 2, y = 1415, xend=3, yend = 2707), color = &quot;green&quot;) + \n        geom_segment(aes(x = 3, y = 2707, xend=4, yend = 5632), color = &quot;green&quot;) + \n        geom_segment(aes(x = 4, y = 5632, xend=5, yend = 8643), color = &quot;green&quot;) + \n        geom_segment(aes(x = 5, y = 8643, xend=6, yend = 9606), color = &quot;green&quot;) + \n        geom_segment(aes(x = 6, y = 9606, xend=7, yend = 5273), color = &quot;red&quot;) + \n        geom_segment(aes(x = 7, y = 5273, xend=8, yend = 2135), color = &quot;red&quot;)  \nplot3 = plot2 + geom_text(size = 3,#fontface = &quot;bold&quot;,\n                          aes(x =  xlabel, y = ylabel, label = paste0(round(label,0))))\nplot4 = plot3 + geom_vline(xintercept = 6.5, #where\n                           size=1.5, #thickness\n                           alpha=0.8,#transparency\n                           color = &quot;blue&quot;) + \n        annotate(geom = 'text', \n                 label = &quot;&lt;- Start of Covid-19 pandemic&quot;,\n                 size = 2.9,\n                 y = 9001,\n                 x=7.5,\n                 angle=0)\n```\n\n```{r, echo=FALSE}\nplot4\n```\n</code></pre>\n<p>I was able to hide the source code using r,echo+false, but that only works in preview after I knit the rmd file it changes into the attached pic. Otherwise, before I do that you cannot see the source code.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 31,
			"user_id": 3736739,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "user3736739",
			"link": "https://stackoverflow.com/users/3736739/user3736739"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75492240,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676710706,
		"creation_date": 1676699342,
		"last_edit_date": 1676699640,
		"question_id": 75491465,
		"link": "https://stackoverflow.com/questions/75491465/plotting-multiple-lines-on-graph-for-different-groups-in-ggplot",
		"title": "Plotting Multiple Lines on Graph for Different groups in ggplot",
		"body": "<p>I am trying to edit a plot that I created in ggplot such that each facet shows 2 different lines overlapping (one for avg. actual run hours, one for avg. scheduled run hours) as well as display a legend to the right to indicate which line is actual vs. scheduled.  I referenced the post <a href=\"https://stackoverflow.com/questions/45635799/ggplot-2-facets-with-multiple-lines\">here</a> but was unable to get the solution to work in my case because I'm dealing with different columns that need to be overlapped, and not a group within one variable.  Please note that the lines will be nearly identical in this case, but I have other use cases involving the same task where the lines will differ significantly - hence the request for help.</p>\n<p>My data is listed below for reference:</p>\n<pre><code>structure(list(month_yr = c(&quot;2022-01&quot;, &quot;2022-01&quot;, &quot;2022-02&quot;, \n&quot;2022-02&quot;, &quot;2022-03&quot;, &quot;2022-03&quot;, &quot;2022-04&quot;, &quot;2022-04&quot;, &quot;2022-05&quot;, \n&quot;2022-05&quot;, &quot;2022-06&quot;, &quot;2022-06&quot;, &quot;2022-07&quot;, &quot;2022-07&quot;, &quot;2022-08&quot;, \n&quot;2022-08&quot;, &quot;2022-09&quot;, &quot;2022-09&quot;, &quot;2022-10&quot;, &quot;2022-10&quot;, &quot;2022-11&quot;, \n&quot;2022-11&quot;, &quot;2022-12&quot;, &quot;2022-12&quot;, &quot;2023-01&quot;, &quot;2023-01&quot;, &quot;2023-02&quot;, \n&quot;2023-02&quot;), plant_name = c(&quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, \n&quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, \n&quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, \n&quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, \n&quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;, &quot;plant_f&quot;, &quot;plant_s&quot;\n), avg_run_hours = c(15.0080608695652, 16.3453608247423, 14.7394112149533, \n16.1025555555556, 14.9570175438596, 15.7327777777778, 17.0074257425743, \n16.5604901960784, 16.989010989011, 16.3021296296296, 14.8100961538462, \n15.8714516129032, 16.5552083333333, 15.3971568627451, 16.2258771929825, \n14.2616279069767, 17.2556179775281, 14.3790350877193, 16.3594903846154, \n15.5988617886179, 14.4050925925926, 15.9334920634921, 14.3455056179775, \n16.6322935779817, 16.6958762886598, 17.1025714285714, 16.046875, \n16.8408695652174), avg_sched_run_hours = c(15.0267043478261, \n16.4351340206186, 15.0025140186916, 16.2041555555556, 14.8281578947368, \n15.9119814814815, 17.1840099009901, 16.7646666666667, 17.0109340659341, \n16.4446388888889, 14.7679615384615, 16.1768790322581, 16.3242083333333, \n15.7033333333333, 16.343701754386, 14.5158139534884, 17.4342921348315, \n14.5827280701754, 16.4562692307692, 15.4149105691057, 14.2729537037037, \n16.1438253968254, 14.3073595505618, 16.7186330275229, 16.6436082474227, \n17.0332952380952, 16.3137916666667, 16.9656739130435)), class = c(&quot;grouped_df&quot;, \n&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -28L), groups = structure(list(\n    month_yr = c(&quot;2022-01&quot;, &quot;2022-02&quot;, &quot;2022-03&quot;, &quot;2022-04&quot;, \n    &quot;2022-05&quot;, &quot;2022-06&quot;, &quot;2022-07&quot;, &quot;2022-08&quot;, &quot;2022-09&quot;, &quot;2022-10&quot;, \n    &quot;2022-11&quot;, &quot;2022-12&quot;, &quot;2023-01&quot;, &quot;2023-02&quot;), .rows = structure(list(\n        1:2, 3:4, 5:6, 7:8, 9:10, 11:12, 13:14, 15:16, 17:18, \n        19:20, 21:22, 23:24, 25:26, 27:28), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n    &quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -14L), .drop = TRUE))\n\n</code></pre>\n<p>Code I used to create the image below:</p>\n<pre><code>hours_by_plant &lt;-\n    ggplot(so_run_hour_stats, aes(x=month_yr, y=avg_sched_run_hours, group=1)) + geom_point() +\n    geom_line(color=&quot;red&quot;) + xlab(&quot;Month of Year&quot;) + ylab(&quot;Avg Run Hours&quot;) +\n    ggtitle(&quot;Avg Plant Run Hours by Month from 01/2022 - 02/2023&quot;) + theme_classic() +\n    facet_wrap(~plant_name)\n\nhours_by_plant &lt;- hours_by_plant + theme(plot.title = element_text(hjust = 0.5))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9Rd2K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Rd2K.png\" alt=\"Plot that needs slight editing (another line added to each facet)\" /></a></p>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 817,
			"user_id": 10107738,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0d669b8e028fc4f4d451cc00382aeaa5?s=256&d=identicon&r=PG&f=1",
			"display_name": "The Rookie",
			"link": "https://stackoverflow.com/users/10107738/the-rookie"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676709643,
		"creation_date": 1676709643,
		"question_id": 75492153,
		"link": "https://stackoverflow.com/questions/75492153/how-do-i-save-numeric-inputs-in-shiny-during-a-session-so-they-can-be-updated-ov",
		"title": "How do I save numeric inputs in Shiny during a session so they can be updated/overwritten by the user",
		"body": "<p>I'm look to create some functionality in a shiny app. I would like the user to be able to -</p>\n<ol>\n<li>Click on an action button that opens up a modal to enter numeric inputs (the first time, values will be 0.</li>\n<li>The user enters numeric inputs and hits &quot;Submit&quot;</li>\n<li>A new dataframe is generated with the user's inputs.</li>\n<li>If the user clicks the action button to open the modal again, the values that they entered the first time will still show as the default values.</li>\n</ol>\n<p>Here is code to generate the basic app with the action button and modal. How do i edit this code for my usecase. I feel like I need to somehow set the <code>value</code> in the <code>numericInput</code> to read from some table that continually gets overwritten, but i'm not sure how to do it.</p>\n<pre><code>library(shiny)\nlibrary(tidyverse)\n\n# Define the Shiny app UI\nui &lt;- fluidPage(\n  \n  # action button\n  actionButton(inputId = &quot;edit_value&quot;, label = &quot;Edit Value&quot;),\n  \n  # table output\n  verbatimTextOutput(&quot;table&quot;)\n  \n)\n\n# Define the Shiny app server\nserver &lt;- function(input, output, session) {\n  \n  # reactive dataframe. this could have an unknown number of rows\n  df &lt;- reactive({\n    tibble(\n      id    = c(1, 2, 3, 4, 5),\n      name = c(&quot;Item1&quot;, &quot;Item2&quot;, &quot;Item3&quot;, &quot;Item4&quot;, &quot;Item5&quot;),\n      value = c(0, 0, 0, 0, 0)\n    )\n  })\n  \n  # modal pop up\n  observeEvent(eventExpr = input$edit_value, handlerExpr = {\n    showModal(modalDialog(\n      title = &quot;Edit Value&quot;,\n      lapply(df()$name, function(name) {\n        numericInput(\n          inputId = paste0(name, &quot;_value&quot;), \n          label   = name, \n          min     = 0,\n          value   = 0\n        )\n      }),\n      footer = tagList(\n        actionButton(inputId = &quot;submit_add_value&quot;, label = &quot;Submit&quot;),\n        modalButton(&quot;Close&quot;)\n      )\n    ))\n  })\n  \n  # capture numeric inputs in modal pop up\n  temp_data &lt;- eventReactive(input$submit_add_value, {\n    df() %&gt;%\n      select(id, name) %&gt;% \n      mutate(id = as.factor(id)) %&gt;% \n      distinct() %&gt;% \n      mutate(new_value = map_dbl(name, function(sym) {\n        input[[paste0(sym, &quot;_value&quot;)]]\n      })) \n  })\n  \n  # print numeric inputs in modal pop up\n  output$table &lt;- renderPrint({temp_data()})\n \n\n}\n\n# Run the Shiny app\nshinyApp(ui, server)\n\n</code></pre>\n"
	}, {
		"tags": ["r", "summary", "survey", "gtsummary"],
		"owner": {
			"reputation": 1,
			"user_id": 21228705,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fe0d26dbf82c774e2adfde94ef3cef5e?s=256&d=identicon&r=PG",
			"display_name": "happytree12",
			"link": "https://stackoverflow.com/users/21228705/happytree12"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676707909,
		"creation_date": 1676569293,
		"last_edit_date": 1676707909,
		"question_id": 75476049,
		"link": "https://stackoverflow.com/questions/75476049/stratified-table-1-using-a-svydesign-object-and-tbl-svysummary",
		"title": "Stratified Table 1 using a svydesign object and tbl_svysummary?",
		"body": "<p>I'm trying to create a Table 1 for NHANES survey data, first stratified by a binary variable for obese vs non-obese, then stratified again by a binary variable for control/trt group status (&quot;wlp_yn&quot;). I want to get counts (%) for categorical characteristics and means (SE) for continuous baseline characteristics. For these counts and means, I am trying to get p-values as well.</p>\n<p>I've tried using tbl_svysummary(), svyby(), tbl_strata(), and CreateTableOne() without any success.</p>\n<p>In the code below, I subset the full dataset into a smaller dataset of only control group data (&quot;obese_adults&quot;) to divide up the table first. I am also starting out with age for the characteristics (&quot;age_group&quot; is categorical version of &quot;RIDAGEYR&quot; continuous variable). I couldn't figure it out, but I'm curious if there's another way to code this?</p>\n<pre><code>add_p_svysummary_ex1 &lt;-\n  obese_adults %&gt;%\n  tbl_svysummary(by = wlp_yn, percent = &quot;row&quot;, include = c(age_group, RIDAGEYR), \nstatistic = list(all_continuous() ~ &quot;{mean} ({sd})&quot;)) %&gt;%\n  add_p()\nadd_p_svysummary_ex1\n  \n\nsvyby(~RIDAGEYR, ~age_group+wlp_yn, obese_adults, svymean) # avg age of each age group\n</code></pre>\n<p>Thanks in advance! Would really appreciate any help.</p>\n<p>Edit: This is a simplified version of the code for reproducibility</p>\n<pre><code># DEMO\ndemo &lt;- nhanes('DEMO')\ndemo_vars &lt;- names(demo)\ndemo2 &lt;- nhanesTranslate('DEMO', demo_vars, data = demo)\n\n# PRESCRIPTION MEDICATIONS\nrxq_rx &lt;- nhanes('RXQ_RX')\nrxq_rx_vars &lt;- names(rxq_rx)\nrxq_rx2 &lt;- nhanesTranslate('RXQ_RX', rxq_rx_vars, data = rxq_rx)\nrxq_rx2 &lt;- rxq_rx2 %&gt;% select(&quot;SEQN&quot;, &quot;RXD240B&quot;) %&gt;% filter(!is.na(RXD240B)) %&gt;% group_by(SEQN) %&gt;% dplyr::summarise(across(everything(), ~toString(na.omit(.))))\n\nnhanesAnalysis = join_all(list(demo2, rxq_rx2), by = &quot;SEQN&quot;, type = &quot;full&quot;)\n\n# Reconstructing survey weights for combining 1999-2018 - Combining ten survey cycles (twenty years) \nnhanesAnalysis$wtint20yr &lt;- ifelse(nhanesAnalysis$SDDSRVYR %in% c(1,2), (2/10 * nhanesAnalysis$WTINT4YR), # for 1999-2002\n                                          (1/10 * nhanesAnalysis$WTINT2YR)) # for 2003-2018\n\n\n# sample weights \nnhanesDesign &lt;- svydesign(id      = ~SDMVPSU,\n                          strata  = ~SDMVSTRA,\n                          weights = ~wtint20yr,\n                          nest    = TRUE,\n                          data    = nhanesAnalysis)\n\n# subset\nobese_adults  &lt;- subset(nhanesDesign, (obesity == 1 &amp; !is.na(BMXBMI) &amp; RIDAGEYR &gt;= 60))\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 9,
			"user_id": 9639545,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-70XOJArXdCA/AAAAAAAAAAI/AAAAAAAAAEE/dAEaz023KTM/photo.jpg?sz=256",
			"display_name": "Abhijit Kaware",
			"link": "https://stackoverflow.com/users/9639545/abhijit-kaware"
		},
		"is_answered": false,
		"view_count": 7912,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676704035,
		"creation_date": 1542691246,
		"last_edit_date": 1542706463,
		"question_id": 53386670,
		"link": "https://stackoverflow.com/questions/53386670/installation-of-package-ggplot2-had-non-zero-exit-status",
		"title": "Installation of package &#39;ggplot2&#39; had non zero exit status?",
		"body": "<p>Hi I am trying to install the ggplot2 package I am getting following errors &amp; warnings.</p>\n\n<pre><code> install.packages(\"ggplot2\")\nalso installing the dependency \u2018rlang\u2019\n\n\nThere are binary versions available but the source versions are later:\n        binary  source needs_compilation\nrlang    0.2.0 0.3.0.1              TRUE\nggplot2  2.2.1   3.1.0             FALSE\n\nBinaries will be installed\ntrying URL 'https://cran.cnr.berkeley.edu/bin/windows/contrib/3.3/rlang_0.2.0.zip'\nContent type 'application/zip' length 754726 bytes (737 KB)\ndownloaded 737 KB\n\npackage \u2018rlang\u2019 successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n        C:\\Users\\abhijitk\\AppData\\Local\\Temp\\RtmpgtLRDo\\downloaded_packages\ninstalling the source package \u2018ggplot2\u2019\n\ntrying URL 'https://cran.cnr.berkeley.edu/src/contrib/ggplot2_3.1.0.tar.gz'\nContent type 'application/x-gzip' length 2863109 bytes (2.7 MB)\ndownloaded 2.7 MB\n\n* installing *source* package 'ggplot2' ...\n** package 'ggplot2' successfully unpacked and MD5 sums checked\n** R\n** data\n*** moving datasets to lazyload DB\n** inst\n** preparing package for lazy loading\nError in loadNamespace(j &lt;- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]) : \n  namespace 'rlang' 0.2.0 is being loaded, but &gt;= 0.2.1 is required\nERROR: lazy loading failed for package 'ggplot2'\n* removing 'C:/Users/abhijitk/Documents/R/R-3.3.0/library/ggplot2'\n\nThe downloaded source packages are in\n        \u2018C:\\Users\\abhijitk\\AppData\\Local\\Temp\\RtmpgtLRDo\\downloaded_packages\u2019\nWarning messages:\n1: running command '\"C:/Users/abhijitk/Documents/R/R-3.3.0/bin/x64/R\" CMD INSTALL -l \"C:\\Users\\abhijitk\\Documents\\R\\R-3.3.0\\library\" C:\\Users\\abhijitk\\AppData\\Local\\Temp\\RtmpgtLRDo/downloaded_packages/ggplot2_3.1.0.tar.gz' had status 1 \n2: In install.packages(\"ggplot2\") :\n  installation of package \u2018ggplot2\u2019 had non-zero exit status\n</code></pre>\n"
	}, {
		"tags": ["r", "duplicates", "set", "data.table", "unique"],
		"owner": {
			"reputation": 892,
			"user_id": 2923419,
			"user_type": "registered",
			"accept_rate": 32,
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "lovetl2002",
			"link": "https://stackoverflow.com/users/2923419/lovetl2002"
		},
		"is_answered": true,
		"view_count": 1782,
		"down_vote_count": 0,
		"up_vote_count": 9,
		"answer_count": 4,
		"score": 9,
		"last_activity_date": 1676703487,
		"creation_date": 1407263711,
		"last_edit_date": 1526803390,
		"question_id": 25145982,
		"link": "https://stackoverflow.com/questions/25145982/data-table-with-two-string-columns-of-set-elements-extract-unique-rows-with-eac",
		"title": "data.table with two string columns of set elements, extract unique rows with each row unsorted",
		"body": "<p>Suppose I have a data.table like this:</p>\n\n<p>Table:</p>\n\n<pre><code>V1 V2\n A  B\n C  D\n C  A\n B  A\n D  C\n</code></pre>\n\n<p>I want each row to be regarded as a set, which means that B A and A B are the same. So after the process, I want to get:</p>\n\n<pre><code>V1 V2\n A  B\n C  D\n C  A\n</code></pre>\n\n<p>In order to do that, I have to first <strong>sort the table row-by-row</strong> and then use <code>unique</code> to remove the duplicates. The sorting process is quite slow if I have millions of rows. So is there an easy way to remove the duplicates without sorting?</p>\n"
	}, {
		"tags": ["python", "r", "numpy-ndarray", "pca", "svd"],
		"owner": {
			"reputation": 873,
			"user_id": 4923935,
			"user_type": "registered",
			"accept_rate": 88,
			"profile_image": "https://lh3.googleusercontent.com/-nDg7_hVVcOM/AAAAAAAAAAI/AAAAAAAAAA8/G4BjC6ucHro/photo.jpg?sz=256",
			"display_name": "Patrick",
			"link": "https://stackoverflow.com/users/4923935/patrick"
		},
		"is_answered": false,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676701935,
		"creation_date": 1676694659,
		"last_edit_date": 1676701935,
		"question_id": 75491203,
		"link": "https://stackoverflow.com/questions/75491203/unsuccessful-python-reconstruction-of-original-data-from-pc-scores-exported-from",
		"title": "Unsuccessful Python reconstruction of original data from PC scores exported from R",
		"body": "<p>I am trying to restore original data through PC scores and eigenvectors in python2.7 based on the code <a href=\"https://github.com/harrymatthews50/Modelling_Craniofacial_Growth_Trajectories\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I used the iris dataset from R:</p>\n<pre><code># R code ##########################\nlibrary(writexl)\npcafast &lt;- prcomp(iris[,1:4])\n# Export iris data\nwrite_xlsx(iris[,1:4], &quot;data.xlsx&quot;)\n# Export PC scores\nwrite_xlsx(as.data.frame(pcafast$x), &quot;score.xlsx&quot;)\n# Export eigenvectors\nwrite_xlsx(as.data.frame(pcafast$rotation), &quot;eigvec.xlsx&quot;)\n</code></pre>\n<p>I then try to reconstruct the original iris data using PC scores and eigenvectors calculated within Python2.7 (Method 1) as well as exported from R (Method 2).</p>\n<p>Method 1:</p>\n<pre><code># Python code ##########################\nimport numpy as np\nimport pandas as pa\n\nY = pa.read_excel(&quot;/home/yangjianLab/wenyifeng/pca/data.xlsx&quot;)\nY = Y.values\n\n#mean centre\nYmean = np.mean(Y,axis=0)\nY0 = Y - Ymean\n\n# get eigenvectors (v)\nu, s, v = np.linalg.svd(Y0)\n\n# project to principal components\nPC_projections = np.dot(v,Y0.T).T\n\nced = np.dot(PC_projections,v)\nYrecon = ced + Ymean\n</code></pre>\n<p>Method2:</p>\n<pre><code># Python code ##########################\nY2 = pa.read_excel(&quot;&lt;PATH&gt;/data.xlsx&quot;)\nY2 = Y2.values\n\n#mean centre\nYmean2 = np.mean(Y2,axis=0)\n\n# Load PC scores exported from the prcomp function in R\nPC_projections2 = pa.read_excel(&quot;&lt;PATH&gt;/score.xlsx&quot;)\nPC_projections2b = PC_projections2.values\n\n# Load eigenvectors exported from the prcomp function in R\nv2 = pa.read_excel(&quot;&lt;PATH&gt;/eigvec.xlsx&quot;)\nv2b = v2.values\n\nced2 = np.dot(PC_projections2b,v2b)\nYrecon2 = ced2 + Ymean2\n</code></pre>\n<p>The original data is successfully reconstructed using Method 1 but not Method 2:</p>\n<pre><code>&gt;&gt;&gt; Y[:5,:]\narray([[ 5.1,  3.5,  1.4,  0.2],\n       [ 4.9,  3. ,  1.4,  0.2],\n       [ 4.7,  3.2,  1.3,  0.2],\n       [ 4.6,  3.1,  1.5,  0.2],\n       [ 5. ,  3.6,  1.4,  0.2]])\n&gt;&gt;&gt; Yrecon[:5,:]\narray([[ 5.1,  3.5,  1.4,  0.2],\n       [ 4.9,  3. ,  1.4,  0.2],\n       [ 4.7,  3.2,  1.3,  0.2],\n       [ 4.6,  3.1,  1.5,  0.2],\n       [ 5. ,  3.6,  1.4,  0.2]])\n&gt;&gt;&gt; Yrecon2[:5,:]\narray([[ 4.82160564,  1.53318858,  5.50784929,  2.13656975],\n       [ 4.66166081,  1.18998229,  5.16178376,  1.97266203],\n       [ 4.81972253,  1.0530219 ,  5.34327719,  2.08806774],\n       [ 4.93222065,  1.01118633,  5.20921471,  1.92187145],\n       [ 4.92871018,  1.4840311 ,  5.5818687 ,  2.16173496]])\n</code></pre>\n<p>To explore why, @Seb reminded me 2 issues:\n(1) the PC scores from within Python2.7 (Method 1) (<code>PC_projections</code>) and from prcomp in R (Method 2) (<code>PC_projections2b</code>) <strong>differ by the</strong> <strong>sign of column 1</strong>. (2) Eigenvector <code>v</code> from Method 1 is the <strong>transpose of <code>v2b</code> from Method 2 plus reversing the sign of row 1 of transposed <code>v2b</code></strong>:</p>\n<pre><code>&gt;&gt;&gt; PC_projections[:3,:]                                                                                             \narray([[ -2.68412563e+00,  -3.19397247e-01,   2.79148276e-02,                                                        \n          2.26243707e-03],                                                                                           \n       [ -2.71414169e+00,   1.77001225e-01,   2.10464272e-01,                                                        \n          9.90265503e-02],\n       [ -2.88899057e+00,   1.44949426e-01,  -1.79002563e-02,\n          1.99683897e-02]])\n\n&gt;&gt;&gt; PC_projections2b[:3,:]\narray([[  2.68412563e+00,  -3.19397247e-01,   2.79148276e-02,\n          2.26243707e-03],\n       [  2.71414169e+00,   1.77001225e-01,   2.10464272e-01,\n          9.90265503e-02],\n       [  2.88899057e+00,   1.44949426e-01,  -1.79002563e-02,\n          1.99683897e-02]])\n\n&gt;&gt;&gt; v\narray([[ 0.36138659, -0.08452251,  0.85667061,  0.3582892 ],\n       [-0.65658877, -0.73016143,  0.17337266,  0.07548102],\n       [ 0.58202985, -0.59791083, -0.07623608, -0.54583143],\n       [ 0.31548719, -0.3197231 , -0.47983899,  0.75365743]])\n\n&gt;&gt;&gt; v2b\narray([[-0.36138659, -0.65658877,  0.58202985,  0.31548719],\n       [ 0.08452251, -0.73016143, -0.59791083, -0.3197231 ],\n       [-0.85667061,  0.17337266, -0.07623608, -0.47983899],\n       [-0.3582892 ,  0.07548102, -0.54583143,  0.75365743]])\n</code></pre>\n<p>Q1: Are PC scores from Method 1 <strong>always</strong> the same as those from Method 2 except for opposite signs of column 1? Similarly, are eigenvectors from Method 1 <strong>always</strong> equal to the transpose of eigenvectors from Method2 + reversing signs of row 1 of transposed eigenvectors from Method2?</p>\n<p>If the differences in PC scores and eigenvectors from svd in Python2 and prcomp in R is ALWAYS as we see above (assuming same centering, scale, and tolerance arguments), I can write a code in R to transform output from prcomp to the desired format. However, <strong>if the differences vary depending on dataset, could anyone please write a code that changes the format of output from prcomp function in R so that when imported into Python2, I could ALWAYS successfully reconstruct original data using the above Python code.</strong></p>\n<p>I do not pursue identical numeric results from both methods, I just wish to make clear when it is necessary to reverse the sign and when it it necessary to transpose so that I get meaningful reconstructed data in Python based on output from prcomp in R.</p>\n<p>I am naive to Python so I wish to do all operations in R so that all I need to deal with Python is to import the data and run the code. A big thank you!</p>\n<p>Q2: Although original data are reconstruted through Method 1, <code>np.array_equal(Y[:5,:], Yrecon[:5,:])</code> surprisingly returned a FALSE. Why?</p>\n"
	}, {
		"tags": ["r", "gsutil", "sentinel2", "sen2r"],
		"owner": {
			"reputation": 1,
			"user_id": 21237908,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/39119ced1f2d1fb248cf4973ccca6293?s=256&d=identicon&r=PG&f=1",
			"display_name": "Meirzev",
			"link": "https://stackoverflow.com/users/21237908/meirzev"
		},
		"is_answered": false,
		"view_count": 7,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676696655,
		"creation_date": 1676696655,
		"question_id": 75491313,
		"link": "https://stackoverflow.com/questions/75491313/resume-download-if-gstmp-files-after-downloading-sentinel-2-safe-products-usin",
		"title": "Resume download if _.gstmp files after downloading Sentinel-2 SAFE products using sen2r R package",
		"body": "<p>I have downloaded a large number of Sentinel-2 SAFE files using the R package 'sen2r', which has implemented a <a href=\"https://www.r-bloggers.com/2021/06/downloading-sentinel-2-archives-from-google-cloud-with-sen2r/\" rel=\"nofollow noreferrer\">Google Cloud download method to retrieve products stored in Long Term Archive</a>. This has worked for me, but after checking the files I have found a decent number of empty files appended with _.gstmp, which according to <a href=\"https://cloud.google.com/storage/docs/gsutil/commands/cp\" rel=\"nofollow noreferrer\">this</a> represent partially downloaded temporary files that are supposed to be resumed by gsutil. I have re-run the sen2r() command (with server = &quot;gcloud&quot; setting) but it does not resume and correct the downloads as the folders are already there. I would like to resume downloading just the _.gstmp files as it took over a week to download all of the SAFE products and I don't want to start all over again. I'm guessing I can fix this by using 'gsutil' directly but I'm a bit out of my element as this is my first experience using Google Cloud and the sen2r author as they no longer have time to respond to issues on github. If you have any tips for resuming these downloads manually using gsutil command line it would be much appreciated.</p>\n<p>I have searched stack exchange and also the sen2r manual and github issues and have found any other reports of the problem.</p>\n"
	}, {
		"tags": ["r", "c", "call"],
		"owner": {
			"reputation": 1,
			"user_id": 18349744,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0cd02c6d55afdd92d6207afde2367c5e?s=256&d=identicon&r=PG&f=1",
			"display_name": "SKK",
			"link": "https://stackoverflow.com/users/18349744/skk"
		},
		"is_answered": false,
		"view_count": 32,
		"down_vote_count": 3,
		"up_vote_count": 0,
		"closed_date": 1676705643,
		"answer_count": 0,
		"score": -3,
		"last_activity_date": 1676695297,
		"creation_date": 1676695074,
		"last_edit_date": 1676695297,
		"question_id": 75491228,
		"link": "https://stackoverflow.com/questions/75491228/existing-c-function-to-r",
		"closed_reason": "Needs details or clarity",
		"title": "Existing C function to R",
		"body": "<p>I want to convert C code to R code.</p>\n<p>Specifically, I have a c file, l1_logreg.c, from l1_logreg package in C.\n(The link is here: <a href=\"https://web.stanford.edu/%7Eboyd/l1_logreg/\" rel=\"nofollow noreferrer\">https://web.stanford.edu/~boyd/l1_logreg/</a>)\nI want to use those C functions in R.</p>\n<p>I do not know about C.\nTherefore, I googled and found this link:\n<a href=\"https://www.r-bloggers.com/2012/11/using-r-calling-c-code-hello-world/\" rel=\"nofollow noreferrer\">https://www.r-bloggers.com/2012/11/using-r-calling-c-code-hello-world/</a></p>\n<p>According to this link, I tried</p>\n<p>$R CMD SHLIB l1_logreg.c</p>\n<p>However, I got this error:\n<a href=\"https://i.stack.imgur.com/ISkmp.png\" rel=\"nofollow noreferrer\">variable set but not used</a></p>\n<p>In the original C code, I think those variables are used.\nI am not sure how to deal with this.</p>\n<p>Thanks.</p>\n"
	}, {
		"tags": ["r", "r-markdown", "powerpoint", "pandoc", "quarto"],
		"owner": {
			"reputation": 345,
			"user_id": 9806500,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/06d77787778fa63e435cd76e061c7bf8?s=256&d=identicon&r=PG",
			"display_name": "M. Wood",
			"link": "https://stackoverflow.com/users/9806500/m-wood"
		},
		"is_answered": false,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676694838,
		"creation_date": 1676661885,
		"last_edit_date": 1676694838,
		"question_id": 75488496,
		"link": "https://stackoverflow.com/questions/75488496/autosize-font-in-quarto-presentation",
		"title": "autosize font in quarto presentation",
		"body": "<p>Am I able to set font in a Quarto presentation to auto-size to the text window object of the slide? I am starting to build a talk to show everyone at my company how great <code>{quarto}</code> is, but am dreading the task of <code>render --&gt; check font size --&gt; adjust font --&gt; check again</code> for each window on each slide to make sure my text does not spill over off the viewable area.</p>\n<p>PowerPoint does this automatically when you type text into a field.</p>\n<p>Example <code>quarto-pptx-resize-text.qmd</code> below, for reference the <code>template.pptx</code> referenced is the default rendered pptx with a wordmark for my company added to the master slide(s).</p>\n<pre><code>---\ntitle: &quot;quarto-pptx-resize-text&quot;\nauthor: &quot;M. Wood&quot;\nformat: \n    pptx: \n        reference-doc: template.pptx\n---\n\n## A Few Lines (4)\n\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n\n## A LOT of Lines (20)\n\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n- the quick brown fox jumped over the lazy dog\n</code></pre>\n<hr>\n<p><a href=\"https://i.stack.imgur.com/2Vj0y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Vj0y.png\" alt=\"title slide\" /></a></p>\n<hr>\n<p><a href=\"https://i.stack.imgur.com/MHOh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MHOh6.png\" alt=\"A Few Lines slide\" /></a></p>\n<hr>\n<p><a href=\"https://i.stack.imgur.com/8ByvL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ByvL.png\" alt=\"A Lot of Lines slide\" /></a></p>\n<hr>\n<p>Thanks in advance!</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 51,
			"user_id": 11303608,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/195b34b4ffc35e2f2d28201e3edf587b?s=256&d=identicon&r=PG&f=1",
			"display_name": "manavhs13",
			"link": "https://stackoverflow.com/users/11303608/manavhs13"
		},
		"is_answered": false,
		"view_count": 33,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"answer_count": 3,
		"score": 0,
		"last_activity_date": 1676694669,
		"creation_date": 1676677217,
		"question_id": 75490172,
		"link": "https://stackoverflow.com/questions/75490172/r-lookup-value-for-calculation-similar-to-vlookup-in-excel",
		"title": "R: Lookup value for calculation (similar to vlookup in Excel)?",
		"body": "<p>I've got the following dataframes in R.</p>\n<pre><code>Name &lt;- c(&quot;Tom&quot;, &quot;Bill&quot;, &quot;Jeffrey&quot;, &quot;George&quot;, &quot;David&quot;)\nValue &lt;- c(&quot;5.24&quot;, &quot;5.48&quot;, &quot;6.32&quot;, &quot;6.07&quot;, &quot;5.1&quot;)\ndf &lt;- data.frame(Name, Value)\n</code></pre>\n<p>And:</p>\n<pre><code>Name1 &lt;- c(&quot;Tom&quot;, &quot;George&quot;, &quot;David&quot;)\nName2 &lt;- c(&quot;Jeffrey&quot;, &quot;Bill&quot;, &quot;Tom&quot;)\ndf2 &lt;- data.frame(Name1, Name2)\n</code></pre>\n<p>I want to create another column in df2 which will produce the following:</p>\n<p>Name1 * Name2 (based on value from df)</p>\n<p>What is the best way to achieve this in R?\nI know you can use vlookup function in Excel.</p>\n"
	}, {
		"tags": ["r", "if-statement", "dplyr"],
		"owner": {
			"reputation": 445,
			"user_id": 9319259,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-acdbQxsqSM0/AAAAAAAAAAI/AAAAAAAAAAk/B8OSkIhtWeY/photo.jpg?sz=256",
			"display_name": "Nader Mehri",
			"link": "https://stackoverflow.com/users/9319259/nader-mehri"
		},
		"is_answered": false,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676694432,
		"creation_date": 1676694432,
		"question_id": 75491191,
		"link": "https://stackoverflow.com/questions/75491191/combining-if-statement-with-the-bi-class-function",
		"title": "Combining if statement with the bi_class function",
		"body": "<p>I am dealing with a relatively straightforward problem. Using the code below, I would like to apply bi_class function only if the condition meets: ProjectID==48. The code below, perfectly works when the if statement is removed but adding the if statement returns an error: Error in if (.) ProjectID == 48 else { : the condition has length &gt; 1.</p>\n<p><strong># here is my code:</strong></p>\n<pre><code>IDD_nhmap &lt;- IDD_nhmap %&gt;%\n  if (ProjectID==48) {\n    bi_class(x = svi,\n             y = race_hisp,\n             style = &quot;quantile&quot;,\n             dim = 3) %&gt;%\n      mutate() %&gt;%\n      rename(bi_class_svi_H = bi_class) %&gt;%\n      relocate(svi, race_hisp, bi_class_svi_H, .after = bi_class_ACSB_B)\n  }\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 767,
			"user_id": 12857915,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/17c4a3ea6914edcb3eba138e62e7e73d?s=256&d=identicon&r=PG&f=1",
			"display_name": "H.Cheung",
			"link": "https://stackoverflow.com/users/12857915/h-cheung"
		},
		"is_answered": true,
		"view_count": 25,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"closed_date": 1676693933,
		"accepted_answer_id": 75490296,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676694008,
		"creation_date": 1676678793,
		"last_edit_date": 1676681945,
		"question_id": 75490292,
		"link": "https://stackoverflow.com/questions/75490292/find-names-text-that-end-with-certain-pattern-using-base-r",
		"closed_reason": "Duplicate",
		"title": "find names/text that end with certain pattern (using BASE R)",
		"body": "<p>I'm trying to find all variables names that end with &quot;DE&quot;.</p>\n<p>I'm already using this &quot;grep&quot; to find variables that start with &quot;TR&quot;</p>\n<pre><code>names(df )[ grep( &quot;^(TR)&quot; ,  names(df) ) ]\n</code></pre>\n<p>Is there a grep way to find the end pattern.\nJust an fyi, I know I can do it with &quot;ends_with&quot; but I'm trying to find a base r method.</p>\n<pre><code>names( df %&gt;% select(ends_with( &quot;DE&quot; ) ) )  \n</code></pre>\n<p>Thanks.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1,
			"user_id": 21237723,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3dc539109f79400329fa54fd996d2834?s=256&d=identicon&r=PG",
			"display_name": "r_newb",
			"link": "https://stackoverflow.com/users/21237723/r-newb"
		},
		"is_answered": false,
		"view_count": 26,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676692635,
		"creation_date": 1676691766,
		"last_edit_date": 1676692635,
		"question_id": 75491028,
		"link": "https://stackoverflow.com/questions/75491028/wanna-create-difficult-area-chart-in-r",
		"title": "Wanna create difficult area chart in R",
		"body": "<p>I'm trying to create a graph on the right. Can you recommend a good code in R? Thanks!</p>\n<h3>Look at the graph on the right side</h3>\n<p><a href=\"https://i.stack.imgur.com/dZO6A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZO6A.png\" alt=\"\" /></a></p>\n<p>New to R code, only know the basics</p>\n"
	}, {
		"tags": ["r", "r-lavaan"],
		"owner": {
			"reputation": 751,
			"user_id": 1958465,
			"user_type": "registered",
			"accept_rate": 66,
			"profile_image": "https://i.stack.imgur.com/xfeJ8.jpg?s=256&g=1",
			"display_name": "G&#252;nal",
			"link": "https://stackoverflow.com/users/1958465/g%c3%bcnal"
		},
		"is_answered": true,
		"view_count": 1641,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676690262,
		"creation_date": 1430231412,
		"last_edit_date": 1522050630,
		"question_id": 29922393,
		"link": "https://stackoverflow.com/questions/29922393/interaction-model-using-lavaan-package-in-r",
		"title": "Interaction model using lavaan package in R",
		"body": "<p>I want to fit the Kenny and Judd (1984) model below:</p>\n\n<pre><code>y = alpha + gamma1 * psi1 + gamma2 * psi2 + gamma3 * psi1 * psi2 + epsilon\n</code></pre>\n\n<p>The variables <code>psi1</code> and <code>psi2</code> are latent variables that are not directly observable. Kenny and Judd (1984) considered the case when there are two observable indicators <code>x1</code> and <code>x2</code> of <code>psi1</code> and two observable indicators <code>x3</code> and <code>x4</code> of <code>psi2</code>. I want to create this model in R using <code>lavaan</code> package. </p>\n\n<h1>Code:</h1>\n\n<pre><code>model &lt;- '\npsi1 =~ x1 + x2\npsi2 =~ x3 + x4\n'\nfit &lt;- sem(model,data=data)\n</code></pre>\n\n<p>Can anyone help me complete this code to obtain the interaction above?</p>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 87,
			"user_id": 8580672,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d056901b7bd21f3a488b85f173d6fe0c?s=256&d=identicon&r=PG&f=1",
			"display_name": "DJA",
			"link": "https://stackoverflow.com/users/8580672/dja"
		},
		"is_answered": true,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676689024,
		"creation_date": 1676688501,
		"question_id": 75490869,
		"link": "https://stackoverflow.com/questions/75490869/r-shiny-actionbutton-to-generate-random-value-from-input-values-and-render-plot",
		"title": "R Shiny: actionButton to generate random value from input values and render plot",
		"body": "<p>I have made a simple shiny app that generates a plot of the x and y data from an individual group within the data which the users can choose from. The app subsets the larger dataframe and produces the graph for only the chosen individual. I would also like to include and actionButton which chooses an individual from within the dataset at random and plots that every time the button is pushed.</p>\n<pre><code>library(shiny)\nlibrary(tidyverse)\n\n# Create example data frame\nData &lt;- data.frame(Indiv = c(rep(1,10),\n                                rep(2,10),\n                                rep(3,10),\n                                rep(4,10),\n                                rep(5,10),\n                                rep(6,10)),\n                      varX = c(runif(10, min = 1, max = 10),\n                               runif(10, min = 1, max = 10),\n                               runif(10, min = 1, max = 10),\n                               runif(10, min = 1, max = 10),\n                               runif(10, min = 1, max = 10),\n                               runif(10, min = 1, max = 10)),\n                      varY = c(runif(10, min = 1, max = 1),\n                               runif(10, min = 1, max = 5),\n                               runif(10, min = 1, max = 10),\n                               runif(10, min = 1, max = 15),\n                               runif(10, min = 1, max = 20),\n                               runif(10, min = 1, max = 25))\n                          )\n######   Shiny App   #######\n# User interface for shiny app\nui &lt;- fluidPage(\n  titlePanel(&quot;Random Select Button&quot;), # page title\n  sidebarLayout(\n    \n    # Sidebar panel \n    sidebarPanel(\n      \n      # input for which TagID to display in plot\n      actionButton(&quot;do&quot;, &quot;Plot Random Indiv&quot;),\n      selectInput(inputId = &quot;ID&quot;,\n                  label = &quot;Individual ID&quot;,\n                  choices = levels(factor(Data$Indiv)), \n                  selected = NULL, # choose no individuals by default\n                  multiple = FALSE     # allow for multiple options\n      ),\n      p(&quot;Choose an invidual, or push the button to randomly choose an individual.&quot;),\n      \n    ),\n    # Main Panel\n    mainPanel(\n      plotOutput(&quot;IndivPlot&quot;), # name of plot object\n    ),\n  )\n)\n\n# Server\nserver &lt;- function(input, output) {\n  \n  # Plot\n  output$IndivPlot &lt;- renderPlot({ # make a live adjustable plot\n    \n    ### Filter to only include selected Individual\n    Data &lt;- Data[Data$Indiv %in% input$ID,] \n    \n    # Create plot\n    p = ggplot(data=Data, aes(x=varX, y=varY))+\n      geom_line()+\n      expand_limits(y=c(1,30), x = c(1,10))+\n      scale_y_continuous(breaks=seq(1,30,5), labels=seq(1,30,5))+\n      scale_x_continuous(breaks = seq(1,10,1), labels = seq(1,10,1))+ \n      labs(x = &quot;My X&quot;, y = &quot;My Y&quot;)  \n    print(p)\n  })\n}\nshinyApp(ui = ui, server = server)\n</code></pre>\n<p>I can't figure out how to get the action button to randomly choose and individual ID number and cause the plot to render. Right now, the button exists on the UI but doesn't do anything.</p>\n"
	}, {
		"tags": ["r", "matrix", "bar-chart"],
		"owner": {
			"reputation": 1,
			"user_id": 15903221,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhwhqaOHTGfF4lPWdnGSqxgKyBOG8KMK-nS2tR1=k-s256",
			"display_name": "Anita Abbot",
			"link": "https://stackoverflow.com/users/15903221/anita-abbot"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676688796,
		"creation_date": 1676682256,
		"last_edit_date": 1676686955,
		"question_id": 75490527,
		"link": "https://stackoverflow.com/questions/75490527/creating-a-bar-plot-with-new-data",
		"title": "Creating a bar plot with new data",
		"body": "<p>I'm trying to create a bar plot of the average number of units per customer by Lifestage and I'm unable to figure out how to plot this data. It's basically a 7x2 matrix with the first column being life stage and the second column being the respective &quot;unit per customer&quot;. Does anyone know what code I can use to create a bar plot with this new vector?</p>\n<pre><code>units_by_lifestage &lt;- aggregate(data$PROD_QTY, \n                            by=list(data$LIFESTAGE), \n                            FUN=sum)\n</code></pre>\n<p>#Calculate the average number of units per customer by LIFESTAGE</p>\n<pre><code>units_per_customer_by_lifestage &lt;- units_by_lifestage$x / customers_by_lifestage$x\n\n\nmat &lt;- as.matrix(units_per_customer_by_lifestage)\n\nLIFESTAGE &lt;- c(&quot;MIDAGE SINGLES/COUPLES&quot;, &quot;NEW FAMILIES&quot;, &quot;OLDER FAMILIES&quot;,&quot;OLDER SINGLES/COUPLES&quot;,&quot;RETIREES&quot;,&quot;YOUNG FAMILIES&quot;,&quot;YOUNG SINGLES/COUPLES&quot;)\n\nnew_mat &lt;- cbind(LIFESTAGE, mat)\n\nnew_mat\n</code></pre>\n<p>below is output of str(new_mat) to give an idea of the data</p>\n<pre><code> chr [1:7, 1:2] &quot;MIDAGE SINGLES/COUPLES&quot; &quot;NEW FAMILIES&quot; &quot;OLDER FAMILIES&quot; &quot;OLDER SINGLES/COUPLES&quot; &quot;RETIREES&quot; &quot;YOUNG FAMILIES&quot; &quot;YOUNG SINGLES/COUPLES&quot; ...\n - attr(*, &quot;dimnames&quot;)=List of 2\n  ..$ : NULL\n  ..$ : chr [1:2] &quot;LIFESTAGE&quot; &quot;&quot; output\n</code></pre>\n<p>with the respective data for <code>units_per_customer_by_lifestage</code> being:</p>\n<pre><code>1.901697, 1.857781, 1.946410, 1.913354, 1.892593, 1.940460, 1.834025\n</code></pre>\n"
	}, {
		"tags": ["r", "max", "subset"],
		"owner": {
			"reputation": 1,
			"user_id": 21237169,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7MSyMJYMvTRKsai9V-Ew9D6TsJJ5_dpD2vU9-e=k-s256",
			"display_name": "Jjohn",
			"link": "https://stackoverflow.com/users/21237169/jjohn"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676691851,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676686055,
		"creation_date": 1676679649,
		"last_edit_date": 1676686055,
		"question_id": 75490338,
		"link": "https://stackoverflow.com/questions/75490338/how-to-subset-a-dataframe-based-on-the-max-of-a-variable",
		"closed_reason": "Duplicate",
		"title": "How to subset a dataframe based on the max of a variable?",
		"body": "<p>I have a dataset that looks something like the table below with multiple lines corresponding to each month, the count of how many sightings of a certain bird there are (n), and in what region that sighting occurred.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>MONTH</th>\n<th>REGION</th>\n<th>n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>North</td>\n<td>12</td>\n</tr>\n<tr>\n<td>1</td>\n<td>South</td>\n<td>45</td>\n</tr>\n<tr>\n<td>2</td>\n<td>West</td>\n<td>34</td>\n</tr>\n<tr>\n<td>2</td>\n<td>South</td>\n<td>23</td>\n</tr>\n<tr>\n<td>2</td>\n<td>East</td>\n<td>32</td>\n</tr>\n<tr>\n<td>3</td>\n<td>North</td>\n<td>11     and so on.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>What I am looking to do is to create a separate dataset that extracts the region with the most sightings per month, so the goal is something that looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>MONTH</th>\n<th>REGION</th>\n<th>n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>South</td>\n<td>45</td>\n</tr>\n<tr>\n<td>2</td>\n<td>West</td>\n<td>34</td>\n</tr>\n<tr>\n<td>3</td>\n<td>North</td>\n<td>11</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So far I have tried different combinations of piping such as\n<code>df %&gt;% group_by(MONTH) %&gt;% max(n)</code>, but none have gave the desired result.</p>\n"
	}, {
		"tags": ["r", "dataframe", "data-cleaning"],
		"owner": {
			"reputation": 1,
			"user_id": 20334480,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/ALm5wu1Hi8W4maX6vWgBrz5HQ-Q4fRfOspk7NbQ2o6zd=k-s256",
			"display_name": "Francisco Comparatore",
			"link": "https://stackoverflow.com/users/20334480/francisco-comparatore"
		},
		"is_answered": false,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676728835,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676685484,
		"creation_date": 1676682630,
		"last_edit_date": 1676685484,
		"question_id": 75490550,
		"link": "https://stackoverflow.com/questions/75490550/how-to-check-if-a-value-is-on-a-list-and-if-it-is-change-another-value-on-the-s",
		"closed_reason": "Duplicate",
		"title": "How to check if a value is on a list, and if it is change another value on the same row",
		"body": "<p>Basically, I am trying to do some data cleaning. I am working in a data set of a bike sharing company that list every trip made on its system. There are columns for station name and station id for every ride, but in many rows the station_name is badly written.</p>\n<p>I would like that every row in station_name had the same value for every id in station_id, but right now 5 different names are common for every id, and there are hundreds of ids.</p>\n<p>I managed to create a new dataset that looks something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>station_id</th>\n<th>station_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1032</td>\n<td>Public Rack - Kedvale Ave &amp; 63rd St</td>\n</tr>\n<tr>\n<td>1033</td>\n<td>Public Rack - Pulaski Rd &amp; 65th St</td>\n</tr>\n<tr>\n<td>1038</td>\n<td>Public Rack - Kedzie Ave &amp; 62nd Pl</td>\n</tr>\n<tr>\n<td>1039</td>\n<td>Public Rack - Kedzie Ave &amp; 61st Pl</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>...</p>\n<p>It list all the id's and station names once. I would like to do so that r checks the main dataset, checks the id there, then checks the id on this new dataset and reeplaces whatever it is in the main station_name with the station_name of this new dataset.</p>\n<p>Any help is appreciated, I honestly have no idea where to start.\nIf anyone knows how to do this using the tidyverse's packages that would be amazing. It's what I am currently using.\nAlso, if there's a better aproach than what I did already please let me know.</p>\n"
	}, {
		"tags": ["r", "macos", "ggplot2"],
		"owner": {
			"reputation": 43,
			"user_id": 8682884,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/10212002235705093/picture?type=large",
			"display_name": "Lisa",
			"link": "https://stackoverflow.com/users/8682884/lisa"
		},
		"is_answered": true,
		"view_count": 204,
		"down_vote_count": 0,
		"up_vote_count": 4,
		"accepted_answer_id": 59785867,
		"answer_count": 1,
		"score": 4,
		"last_activity_date": 1676683200,
		"creation_date": 1579255296,
		"last_edit_date": 1579256927,
		"question_id": 59785085,
		"link": "https://stackoverflow.com/questions/59785085/distorted-line-with-non-solid-linetype-ggplot-on-mac",
		"title": "Distorted line (with non-solid linetype) ggplot on mac",
		"body": "<p>First time poster here. I hope I am doing it correctly. I have had the following issue for a while now and I really want to understand what is going wrong.</p>\n\n<p>I am trying to plot a dashed line with ggplot.</p>\n\n<pre><code>x = c(1:405)\ny = c(rep(0,135),seq(1:135),rep(135,135))\n\nggplot() + geom_line(aes(x, y),linetype = 2, size=1)\n</code></pre>\n\n<p>However, the dashed line comes out distorted. The lines are not evenly spaced. This happens both in the plot-window in R, and when I save the plot with ggsave. When I change the size of the plot-window the distortion changes, but it occurs usually around x = 100, 200 and/or 300. It is happening both in R and Rstudio. I am using a Mac have everything updated to the newest versions. When my colleague plots the same line in linux he has no issues. </p>\n\n<p>Distorted dashed line</p>\n\n<p><a href=\"https://i.stack.imgur.com/99qBj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/99qBj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is the sessionInfo:</p>\n\n<pre><code>R version 3.6.2 (2019-12-12)\nPlatform: x86_64-apple-darwin15.6.0 (64-bit)\nRunning under: macOS Catalina 10.15.2\n\nMatrix products: default\nBLAS:   /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib\nLAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib\n\nRandom number generation:\n RNG:     Mersenne-Twister \n Normal:  Inversion \n Sample:  Rounding \n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] data.table_1.12.8 gtools_3.8.1      Rcpp_1.0.3        svMisc_1.1.0      cowplot_1.0.0     dplyr_0.8.3       zoo_1.8-6         car_3.0-5         carData_3.0-3    \n[10] ggplot2_3.2.1     lmerTest_3.1-1    lme4_1.1-21       Matrix_1.2-18    \n\nloaded via a namespace (and not attached):\n [1] tidyselect_0.2.5    purrr_0.3.3         splines_3.6.2       haven_2.2.0         lattice_0.20-38     colorspace_1.4-1    vctrs_0.2.1         utf8_1.1.4         \n [9] rlang_0.4.2         nloptr_1.2.1        pillar_1.4.2        foreign_0.8-72      glue_1.3.1          withr_2.1.2         readxl_1.3.1        lifecycle_0.1.0    \n[17] munsell_0.5.0       gtable_0.3.0        cellranger_1.1.0    zip_2.0.4           labeling_0.3        rio_0.5.16          forcats_0.4.0       curl_4.3           \n[25] fansi_0.4.0         scales_1.1.0        backports_1.1.5     abind_1.4-5         farver_2.0.1        hms_0.5.2           digest_0.6.23       stringi_1.4.3      \n[33] openxlsx_4.1.4      numDeriv_2016.8-1.1 grid_3.6.2          cli_2.0.0           tools_3.6.2         magrittr_1.5        lazyeval_0.2.2      tibble_2.1.3       \n[41] crayon_1.3.4        pkgconfig_2.0.3     zeallot_0.1.0       MASS_7.3-51.4       assertthat_0.2.1    minqa_1.2.4         rstudioapi_0.10     R6_2.4.1           \n[49] boot_1.3-23         nlme_3.1-142        compiler_3.6.2    \n</code></pre>\n\n<p>Does anyone know what could be the problem?</p>\n"
	}, {
		"tags": ["r", "tidyverse", "tidyr", "tidymodels", "r-recipes"],
		"owner": {
			"reputation": 11,
			"user_id": 14632076,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/3585834738166553/picture?type=large",
			"display_name": "ThePhil",
			"link": "https://stackoverflow.com/users/14632076/thephil"
		},
		"is_answered": false,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676682761,
		"creation_date": 1676652696,
		"last_edit_date": 1676671677,
		"question_id": 75487103,
		"link": "https://stackoverflow.com/questions/75487103/use-select-function-and-row-sum-in-a-recipe-with-tidymodels-in-r",
		"title": "Use select function and row sum in a recipe with Tidymodels in R",
		"body": "<p>I have a dataframe where I want to divide a specific set of predictors by the number of predictors larger than zero (also from that specific set). When I try to include this operation in a recipe, it seems to divide by the total number of predictors in the specific set, ignoring the condition it should be larger than zero.</p>\n<p>Example:</p>\n<pre><code>df &lt;- data.frame(matrix(c(16, 8, 4, 2, 32, 16, 8, 4, 0, 32, 16, 8, 0, 0, 32, 16, 0, 0, 0, 32), 4, 5))\n\n  X1 X2 X3 X4 X5\n1 16 32  0  0  0\n2  8 16 32  0  0\n3  4  8 16 32  0\n4  2  4  8 16 32\n\nvars &lt;- names(df)[-1]\n\ndf_temp &lt;- df %&gt;% \n  mutate(pos_count = rowSums(df %&gt;% select(all_of(vars)) &gt; 0))\n\ndf_temp &lt;- df_temp %&gt;% \n  mutate(across(all_of(vars), .fns = ~./pos_count))\n\nlm_recipe &lt;- \n  recipe(X1 ~ X2 + X3 + X4 + X5, data = df_temp) \n\nlm_model &lt;- \n  linear_reg(penalty = 0) %&gt;%  \n  set_engine(&quot;glmnet&quot;, lower.limits = rep(0, 5), upper.limits = rep(1, 5), intercept = FALSE)\n\nlm_wflow &lt;- \n  workflow() %&gt;% \n  add_model(lm_model) %&gt;%\n  add_recipe(lm_recipe)\n\nlm_fit &lt;- fit(lm_wflow,  df_temp)\nlm_fit %&gt;% tidy()\n\n  term        estimate penalty\n1 (Intercept)   0            0\n2 X2            0.492        0\n3 X3            0.240        0\n4 X4            0.112        0\n5 X5            0.0256       0\n</code></pre>\n<p>This seems to work more or less (the estimates should be <code>0, 1/2, 1/4, 1/8 and 1/16</code>).</p>\n<p>But when I incorporate the data prep in the recipe, all the predictors are divided by the total number of predictors (in this case four):</p>\n<pre><code>lm_recipe &lt;- \n  recipe(X1 ~ X2 + X3 + X4 + X5, data = df) %&gt;% \n  step_mutate(pos_count = sum(all_of(vars) &gt; 0)) %&gt;%\n  step_mutate(across(all_of(vars), .fns = ~./pos_count)) \n\nlm_wflow &lt;- \n  workflow() %&gt;% \n  add_model(lm_model) %&gt;%\n  add_recipe(lm_recipe)\n\nlm_fit &lt;- fit(lm_wflow,  df)\n\nlm_fit %&gt;% tidy()\n\n  term        estimate penalty\n1 (Intercept)    0           0\n2 X2             1           0\n3 X3             0.478       0\n4 X4             0           0\n5 X5             0           0\n6 pos_count      0           0\n\naugment(lm_fit, df)\n\n     X1    X2    X3    X4    X5 .pred\n1    16    32     0     0     0  8   \n2     8    16    32     0     0  7.82\n3     4     8    16    32     0  3.91\n4     2     4     8    16    32  1.96\n</code></pre>\n<p>How do I need to change the recipe to fix this? Thanks!</p>\n"
	}, {
		"tags": ["r", "survival-analysis", "categorical-data", "cox-regression"],
		"owner": {
			"reputation": 883,
			"user_id": 2564490,
			"user_type": "registered",
			"accept_rate": 58,
			"profile_image": "https://i.stack.imgur.com/rlkAz.png?s=256&g=1",
			"display_name": "JMarcelino",
			"link": "https://stackoverflow.com/users/2564490/jmarcelino"
		},
		"is_answered": true,
		"view_count": 29069,
		"down_vote_count": 0,
		"up_vote_count": 18,
		"accepted_answer_id": 19370173,
		"answer_count": 1,
		"score": 18,
		"last_activity_date": 1676681608,
		"creation_date": 1381784835,
		"last_edit_date": 1381787413,
		"question_id": 19369314,
		"link": "https://stackoverflow.com/questions/19369314/r-coxph-warning-loglik-converged-before-variable",
		"title": "R coxph() warning: Loglik converged before variable",
		"body": "<p>I'm having some trouble using coxph().\nI've two categorical variables: Sex and Probable Cause, that I want to use as predictor variables. Sex is just the typical male/female but Probable Cause has 5 options.\nI don't know what is the problem with the warning message. Why does the cofidence intervals are from 0 to Inf and the p-values so high? </p>\n\n<p>Here's the code and the output:</p>\n\n<pre><code>&gt; my_coxph &lt;- coxph(Surv(tempo,status) ~ factor(Sexo)+ factor(Causa.provavel) ,           data=ceabn)\nWarning message:\nIn fitter(X, Y, strats, offset, init, control, weights = weights,  :\nLoglik converged before variable  2,3,5,6 ; beta may be infinite. \n\n&gt; summary(my_coxph)\nCall:\ncoxph(formula = Surv(tempo, status) ~ factor(Sexo) + factor(Causa.provavel), \ndata = ceabn)\n\nn= 43, number of events= 31 \n\n                                            coef exp(coef)  se(coef)     z Pr(&gt;|z|)\nfactor(Sexo)macho                      7.254e-01 2.066e+00 4.873e-01 1.488    0.137\nfactor(Causa.provavel)caca             2.186e+01 3.107e+09 9.698e+03 0.002    0.998\nfactor(Causa.provavel)colisao linha MT 1.973e+01 3.703e+08 9.698e+03 0.002    0.998\nfactor(Causa.provavel)indeterminado    9.407e-01 2.562e+00 1.683e+04 0.000    1.000\nfactor(Causa.provavel)predacao         2.170e+01 2.655e+09 9.698e+03 0.002    0.998\nfactor(Causa.provavel)predado          2.276e+01 7.659e+09 9.698e+03 0.002    0.998\n\n                                       exp(coef) exp(-coef) lower .95 upper .95\nfactor(Sexo)macho                      2.065e+00  4.841e-01    0.7947     5.368\nfactor(Causa.provavel)caca             3.107e+09  3.219e-10    0.0000       Inf\nfactor(Causa.provavel)colisao linha MT 3.703e+08  2.701e-09    0.0000       Inf\nfactor(Causa.provavel)indeterminado    2.562e+00  3.904e-01    0.0000       Inf\nfactor(Causa.provavel)predacao         2.655e+09  3.766e-10    0.0000       Inf\nfactor(Causa.provavel)predado          7.659e+09  1.306e-10    0.0000       Inf\n\nConcordance= 0.752  (se = 0.059 )\nRsquare= 0.608   (max possible= 0.987 )\nLikelihood ratio test= 40.23  on 6 df,   p=4.105e-07\nWald test            = 7.46  on 6 df,   p=0.2807\nScore (logrank) test = 30.48  on 6 df,   p=3.183e-05\n</code></pre>\n\n<p>Thank you</p>\n"
	}, {
		"tags": ["css", "r", "shiny", "navbar", "nav"],
		"owner": {
			"reputation": 429,
			"user_id": 14315663,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3668b488827d0f6a0406cf56ab6bee6d?s=256&d=identicon&r=PG&f=1",
			"display_name": "kiwi",
			"link": "https://stackoverflow.com/users/14315663/kiwi"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"accepted_answer_id": 75489664,
		"answer_count": 1,
		"score": 3,
		"last_activity_date": 1676680972,
		"creation_date": 1676663458,
		"last_edit_date": 1676680972,
		"question_id": 75488676,
		"link": "https://stackoverflow.com/questions/75488676/how-to-change-text-colour-of-links-in-navbar-header-and-links-in-nav-pills-in-s",
		"title": "How to change text colour of links in navbar header AND links in nav pills (in shiny app)?",
		"body": "<p>Here is a redacted version of my shiny app:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(shiny)\nlibrary(bslib)\n\nui &lt;- tagList(\n  fluidPage(\n    titlePanel(&quot;&quot;),\n    tags$head(tags$style(HTML(\n      &quot;\n        .navbar-default {\n            color: red !important;'\n        }\n        .navbar-default .navbar-nav &gt; .active &gt; a,\n        .navbar-default .navbar-nav &gt; li &gt; a:hover {\n            color: red !important;\n        }\n        .navbar-default .navbar-nav &gt; li &gt; a {\n            color: pink !important;\n        }\n        &quot;\n    ))),\n    \n    navbarPage(\n      windowTitle = &quot;App Name&quot;,\n      theme = bs_theme(bootswatch = &quot;flatly&quot;,\n                       base_font = font_google(&quot;Lato&quot;),\n                       primary = &quot;#333F50&quot;,\n                       bg = &quot;white&quot;,\n                       fg = &quot;#D67540&quot;),\n      title = &quot;I am the title&quot;,\n      selected = &quot;Main Tab 1&quot;,\n      tabPanel(title = &quot;Main Tab 1&quot;,\n               fluidPage(\n                 sidebarLayout(\n                   sidebarPanel(textInput(inputId = &quot;text_input&quot;, label = &quot;Enter text:&quot;)),\n                   mainPanel(textOutput(outputId = &quot;text_output&quot;))\n                 )\n               )\n               ),\n      tabPanel(title = &quot;Main Tab 2&quot;,\n               fluidPage(\n                   fluidRow(\n                     column(7,\n                            navlistPanel(\n                              tabPanel(&quot;Tab 1&quot;),\n                              tabPanel(&quot;Tab 2&quot;),\n                              tabPanel(&quot;Tab 3&quot;),\n                              widths = c(2, 10),\n                              well = FALSE)\n                            )))\n               )\n      )\n    )\n  )\n\nserver &lt;- function(input, output){\n  output$text_output &lt;- renderText(input$text_input)\n}\n\nshinyApp(ui, server)\n</code></pre>\n<p>Currently the text for &quot;Main Tab 1&quot; and &quot;Main Tab 2&quot; is pink and red when hovered/selected.</p>\n<p><a href=\"https://i.stack.imgur.com/Qqmam.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qqmam.png\" alt=\"Main Tab 1\" /></a></p>\n<p>I would also like to apply a similar change to &quot;Tab 1&quot;, &quot;Tab 2&quot; and &quot;Tab 3&quot; - for these I want the text colour to change from teal to black and from white to orange when hovered/selected.</p>\n<p>My understanding is that the <code>!important</code> next to the <code>color</code> value forces all links to inherit the same properties, but I would like different colours for the links in the navbar header and the  links in the nav-pills.</p>\n<p>I have asked a related question here:\n<a href=\"https://stackoverflow.com/questions/75488188/how-to-change-text-colour-of-navbarpage-links-when-hovered-on-in-shiny-app\">How to change text colour of navbarPage links when hovered on (in shiny app)?</a></p>\n<p>How can I make this change?</p>\n<p>Any help is much appreciated :)</p>\n<p>Note: Colours are intentionally not aesthetic (just using these for distinction as I'm still learning)</p>\n"
	}, {
		"tags": ["r", "loops", "machine-learning", "split"],
		"owner": {
			"reputation": 23,
			"user_id": 21165548,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7L1bHIb-Bkyf8YrMpnOlkrKylqrg65w9PJ5orT=k-s256",
			"display_name": "NDe",
			"link": "https://stackoverflow.com/users/21165548/nde"
		},
		"is_answered": true,
		"view_count": 53,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676679994,
		"creation_date": 1676656115,
		"last_edit_date": 1676665628,
		"question_id": 75487663,
		"link": "https://stackoverflow.com/questions/75487663/splitting-datas-in-three-sets-with-balanced-datas",
		"title": "Splitting datas in three sets with balanced datas",
		"body": "<p>EDIT : OK so now I have my train, validation and test sets with rows belonging to patients in same groups. But, using a plot test, I see that the original imbalanced data from the original dataset (from the outcome LesionResponse, 1: 70% and 0 : 30%) is not very respected...Indeed, in the training datas, I have a nearly 55/45 repartition and it's not really welcomed for me. How can I do to correct this ?</p>\n<pre><code>summary(train$LesionResponse)\n#   0   1\n# 159 487\nsummary(validation$LesionResponse)\n#  0   1\n# 33 170\nsummary(test$LesionResponse)\n#  0   1\n# 77 126\n</code></pre>\n<p>Hi guys,\nI have my dataset (here an exemple) and I must build a predictive model for an outcome : &quot;LesionResponse&quot;.\nSo I have in a first time split my datas in train (60%), validation and test (20% each) sets.\nI have a huge problem, many rows of my table belong to same patients...so in order to dodge bias, I must divide my datas and take into account the PatientIDs...\nI am here stuck because I don't know how to split my datas in three and keep the rows belonging to same patients together.</p>\n<p>Here is my code :</p>\n<pre><code>structure(list(PatientID = c(&quot;P1&quot;, &quot;P1&quot;, &quot;P1&quot;, \n&quot;P2&quot;, &quot;P3&quot;, &quot;P3&quot;, &quot;P4&quot;, &quot;P5&quot;, \n&quot;P5&quot;, &quot;P6&quot;), LesionResponse = structure(c(2L, 2L, 1L, 2L, 2L, 2L, 2L, \n    2L, 1L, 2L), .Label = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), pyrad_tum_original_shape_LeastAxisLength = c(19.7842995242803, \n    15.0703960571122, 21.0652247652897, 11.804125918871, 27.3980336338908, \n    17.0584330264122, 4.90406343942677, 4.78480430022189, 6.2170232078547, \n    5.96309532740722, 5.30141540007441), pyrad_tum_original_shape_Sphericity = c(0.652056853392657, \n    0.773719977240238, 0.723869070051882, 0.715122964970338, \n    0.70796498824535, 0.811937882810929, 0.836458991713367, 0.863337931630415, \n    0.851654860256904, 0.746212862162174), pyrad_tum_log.sigma.5.0.mm.3D_firstorder_Skewness = c(0.367453961973625, \n    0.117673346718817, 0.0992025164349288, -0.174029385779302, \n    -0.863570016875989, -0.8482193060411, -0.425424618080682, \n    -0.492420174157913, 0.0105111292451967, 0.249865833210199), pyrad_tum_log.sigma.5.0.mm.3D_glcm_Contrast = c(0.376932105256115, \n    0.54885738172596, 0.267158344601612, 2.90094719958076, 0.322424096161189, \n    0.221356030145403, 1.90012334870722, 0.971638740404501, 0.31547550396399, \n    0.653999340294952), pyrad_tum_wavelet.LHH_glszm_GrayLevelNonUniformityNormalized = c(0.154973213866752, \n    0.176128379241556, 0.171129002059539, 0.218343919352019, \n    0.345985943932352, 0.164905080489496, 0.104536489151874, \n    0.1280276816609, 0.137912385073012, 0.133420904484894), pyrad_tum_wavelet.LHH_glszm_LargeAreaEmphasis = c(27390.2818110851, \n    11327.7931034483, 51566.7948885976, 7261.68702290076, 340383.536555142, \n    22724.7792207792, 45.974358974359, 142.588235294118, 266.744186046512, \n    1073.45205479452), pyrad_tum_wavelet.LHH_glszm_LargeAreaLowGrayLevelEmphasis = c(677.011907073653, \n    275.281153810458, 582.131636238695, 173.747506476692, 6140.73990175018, \n    558.277670638306, 1.81042257642817, 4.55724031114589, 6.51794350173746, \n    19.144924585586), pyrad_tum_wavelet.LHH_glszm_SizeZoneNonUniformityNormalized = c(0.411899490603372, \n    0.339216399209913, 0.425584323452468, 0.355165782879786, \n    0.294934042125209, 0.339208410636982, 0.351742274819198, \n    0.394463667820069, 0.360735532720389, 0.36911240382811)), row.names = c(NA, -10L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, \n&quot;data.frame&quot;))\n</code></pre>\n<p>i was thinking about a loop who would split a <code>unique(PatientID)</code> dataset in three with 60% in the train set, and if there is no balanced outcome in the sets, to do it again and again. I was thinking more of an interval to solve it...\nHow would you do guys ?</p>\n"
	}, {
		"tags": ["r", "optimization", "shiny", "linear-programming"],
		"owner": {
			"reputation": 123,
			"user_id": 8714053,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f5450b16994d3936666917c58df6d5b5?s=256&d=identicon&r=PG&f=1",
			"display_name": "Ranalytictsnewb",
			"link": "https://stackoverflow.com/users/8714053/ranalytictsnewb"
		},
		"is_answered": true,
		"view_count": 121,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"bounty_amount": 50,
		"bounty_closes_date": 1676893035,
		"accepted_answer_id": 75490307,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676679024,
		"creation_date": 1676061446,
		"question_id": 75415905,
		"link": "https://stackoverflow.com/questions/75415905/creating-a-shiny-app-for-fantasy-football-draft-optimization",
		"title": "Creating a Shiny App for Fantasy Football Draft Optimization",
		"body": "<p>I've written some R code to produce the optimal fantasy football lineup (maximize projected points scored) constrained on user inputted roster sizes and draft budget based on a data frame called &quot;players&quot; that consists of player, position, fantasy points, and draft value.</p>\n<p>The idea is to use this tool prior to drafting (to have the ideal lineup in mind) and then to update it live while drafting since this never goes to plan.</p>\n<p>From there, I want to be able to remove players from the players dataset (when they're drafted by others) and add players to my lineup as I draft them (so they appear in every future optimal lineup). I have added the functionality and th remove player button seems to work fairly well (for some reason the lineup vanishes when you input a new player each time, but then re-appears properly once a new player is removed) but it definitely doesn't seem to draft a player to the team properly. I'm definitely thinking it has something to do with the last snippet of code before running the app, but I'm having trouble thinking through the logic there.</p>\n<p>The dataframe is:</p>\n<pre><code>players &lt;- structure(list(Player = c(&quot;Josh Allen&quot;, &quot;Patrick Mahomes&quot;, &quot;Justin Herbert&quot;, \n&quot;Lamar Jackson&quot;, &quot;Kyler Murray&quot;, &quot;Jalen Hurts&quot;, &quot;Tom Brady&quot;, \n&quot;Dak Prescott&quot;, &quot;Joe Burrow&quot;, &quot;Russell Wilson&quot;, &quot;Aaron Rodgers&quot;, \n&quot;Trey Lance&quot;, &quot;Matthew Stafford&quot;, &quot;Kirk Cousins&quot;, &quot;Derek Carr&quot;, \n&quot;Tua Tagovailoa&quot;, &quot;Justin Fields&quot;, &quot;Trevor Lawrence&quot;, &quot;Ryan Tannehill&quot;, \n&quot;Daniel Jones&quot;, &quot;Matt Ryan&quot;, &quot;Jameis Winston&quot;, &quot;Carson Wentz&quot;, \n&quot;Mac Jones&quot;, &quot;Jared Goff&quot;, &quot;Zach Wilson&quot;, &quot;Davis Mills&quot;, &quot;Baker Mayfield&quot;, \n&quot;Marcus Mariota&quot;, &quot;Deshaun Watson&quot;, &quot;Mitchell Trubisky&quot;, &quot;Geno Smith&quot;, \n&quot;Drew Lock&quot;, &quot;Kenny Pickett&quot;, &quot;Jacoby Brissett&quot;, &quot;Desmond Ridder&quot;, \n&quot;Travis Kelce&quot;, &quot;Mark Andrews&quot;, &quot;Kyle Pitts&quot;, &quot;Darren Waller&quot;, \n&quot;George Kittle&quot;, &quot;Dalton Schultz&quot;, &quot;T.J. Hockenson&quot;, &quot;Dallas Goedert&quot;, \n&quot;Zach Ertz&quot;, &quot;Dawson Knox&quot;, &quot;Hunter Henry&quot;, &quot;Mike Gesicki&quot;, &quot;Pat Freiermuth&quot;, \n&quot;Cole Kmet&quot;, &quot;Irv Smith Jr.&quot;, &quot;Noah Fant&quot;, &quot;Tyler Higbee&quot;, &quot;David Njoku&quot;, \n&quot;Albert Okwuegbunam&quot;, &quot;Gerald Everett&quot;, &quot;Robert Tonyan&quot;, &quot;Jonathan Taylor&quot;, \n&quot;Christian McCaffrey&quot;, &quot;Derrick Henry&quot;, &quot;Austin Ekeler&quot;, &quot;Dalvin Cook&quot;, \n&quot;Joe Mixon&quot;, &quot;Najee Harris&quot;, &quot;Alvin Kamara&quot;, &quot;D'Andre Swift&quot;, \n&quot;Leonard Fournette&quot;, &quot;Saquon Barkley&quot;, &quot;Aaron Jones&quot;, &quot;Nick Chubb&quot;, \n&quot;James Conner&quot;, &quot;Javonte Williams&quot;, &quot;Ezekiel Elliott&quot;, &quot;David Montgomery&quot;, \n&quot;Cam Akers&quot;, &quot;Travis Etienne Jr.&quot;, &quot;Breece Hall&quot;, &quot;J.K. Dobbins&quot;, \n&quot;Josh Jacobs&quot;, &quot;Antonio Gibson&quot;, &quot;Elijah Mitchell&quot;, &quot;AJ Dillon&quot;, \n&quot;Cordarrelle Patterson&quot;, &quot;Damien Harris&quot;, &quot;Miles Sanders&quot;, &quot;Clyde Edwards-Helaire&quot;, \n&quot;Tony Pollard&quot;, &quot;Devin Singletary&quot;, &quot;Kareem Hunt&quot;, &quot;Chase Edmonds&quot;, \n&quot;Rashaad Penny&quot;, &quot;Rhamondre Stevenson&quot;, &quot;Kenneth Walker III&quot;, \n&quot;Melvin Gordon III&quot;, &quot;Darrell Henderson Jr.&quot;, &quot;James Robinson&quot;, \n&quot;James Cook&quot;, &quot;Dameon Pierce&quot;, &quot;Michael Carter&quot;, &quot;Jamaal Williams&quot;, \n&quot;Nyheim Hines&quot;, &quot;J.D. McKissic&quot;, &quot;Kenneth Gainwell&quot;, &quot;Alexander Mattison&quot;, \n&quot;Isaiah Spiller&quot;, &quot;Raheem Mostert&quot;, &quot;Mark Ingram II&quot;, &quot;Marlon Mack&quot;, \n&quot;Brian Robinson&quot;, &quot;Gus Edwards&quot;, &quot;Rex Burkhead&quot;, &quot;Rachaad White&quot;, \n&quot;Khalil Herbert&quot;, &quot;Damien Williams&quot;, &quot;Tyler Allgeier&quot;, &quot;D'Onta Foreman&quot;, \n&quot;Jerick McKinnon&quot;, &quot;Cooper Kupp&quot;, &quot;Justin Jefferson&quot;, &quot;Ja'Marr Chase&quot;, \n&quot;Davante Adams&quot;, &quot;Stefon Diggs&quot;, &quot;Deebo Samuel&quot;, &quot;CeeDee Lamb&quot;, \n&quot;Mike Evans&quot;, &quot;Tyreek Hill&quot;, &quot;Tee Higgins&quot;, &quot;Keenan Allen&quot;, &quot;DJ Moore&quot;, \n&quot;A.J. Brown&quot;, &quot;Michael Pittman Jr.&quot;, &quot;Mike Williams&quot;, &quot;Brandin Cooks&quot;, \n&quot;Jaylen Waddle&quot;, &quot;Diontae Johnson&quot;, &quot;Terry McLaurin&quot;, &quot;DK Metcalf&quot;, \n&quot;Courtland Sutton&quot;, &quot;Amon-Ra St. Brown&quot;, &quot;Darnell Mooney&quot;, &quot;Allen Robinson II&quot;, \n&quot;Marquise Brown&quot;, &quot;Amari Cooper&quot;, &quot;Gabriel Davis&quot;, &quot;Chris Godwin&quot;, \n&quot;Michael Thomas&quot;, &quot;Jerry Jeudy&quot;, &quot;Adam Thielen&quot;, &quot;JuJu Smith-Schuster&quot;, \n&quot;Hunter Renfrow&quot;, &quot;Rashod Bateman&quot;, &quot;Elijah Moore&quot;, &quot;Tyler Lockett&quot;, \n&quot;Christian Kirk&quot;, &quot;Robert Woods&quot;, &quot;DeVonta Smith&quot;, &quot;Drake London&quot;, \n&quot;Allen Lazard&quot;, &quot;Brandon Aiyuk&quot;, &quot;Chase Claypool&quot;, &quot;Kadarius Toney&quot;, \n&quot;Tyler Boyd&quot;, &quot;Garrett Wilson&quot;, &quot;DeVante Parker&quot;, &quot;Chris Olave&quot;, \n&quot;Kenny Golladay&quot;, &quot;Jakobi Meyers&quot;, &quot;Russell Gage&quot;, &quot;Marquez Valdes-Scantling&quot;, \n&quot;DeAndre Hopkins&quot;, &quot;Marvin Jones Jr.&quot;, &quot;Treylon Burks&quot;, &quot;Michael Gallup&quot;, \n&quot;Robbie Anderson&quot;, &quot;DJ Chark&quot;, &quot;Jahan Dotson&quot;, &quot;Mecole Hardman&quot;\n), Position = c(&quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, \n&quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, \n&quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, \n&quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;QB&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, \n&quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, \n&quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;TE&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, \n&quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, \n&quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, \n&quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, \n&quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, \n&quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;RB&quot;, &quot;WR&quot;, \n&quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, \n&quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, \n&quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, \n&quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, \n&quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, \n&quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;, &quot;WR&quot;), FantasyPoints = c(445, 410, 407, 348, \n351, 359, 354, 364, 402, 368, 353, 347, 349, 335, 366, 325, 297, \n313, 273, 283, 302, 284, 275, 296, 291, 0, 247, 286, 276, 0, \n0, 0, 0, 269, 0, 0, 252, 231, 206, 171, 185, 177, 174, 169, 169, \n171, 139, 131, 170, 170, 162, 129, 162, 119, 130, 126, 130, 340, \n285, 260, 278, 277, 271, 277, 247, 271, 225, 247, 249, 230, 196, \n268, 205, 199, 213, 231, 220, 177, 176, 159, 178, 185, 155, 181, \n157, 190, 177, 164, 156, 166, 169, 179, 158, 129, 147, 99, 158, \n176, 150, 100, 157, 128, 156, 124, 98, 95, 75, 90, 136, 80, 82, \n143, 128, 0, 147, 97, 63, 326, 337, 308, 299, 269, 267, 271, \n242, 243, 241, 239, 243, 242, 244, 209, 220, 233, 239, 221, 198, \n221, 209, 220, 209, 218, 178, 224, 183, 186, 203, 188, 164, 207, \n211, 202, 173, 188, 163, 199, 171, 181, 182, 140, 170, 175, 144, \n142, 164, 147, 131, 170, 160, 182, 136, 153, 157, 152, 148, 175, \n144), DraftValue = c(31, 23, 20, 15, 16, 14, 16, 11, 12, 10, \n10, 3, 7, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, \n1, 1, 1, 1, 1, 1, 37, 34, 22, 20, 17, 16, 12, 11, 9, 6, 4, 4, \n5, 5, 2, 2, 2, 1, 1, 1, 1, 56, 55, 44, 48, 38, 38, 40, 38, 36, \n34, 34, 33, 27, 30, 28, 27, 23, 21, 23, 21, 19, 18, 10, 15, 16, \n16, 12, 12, 14, 13, 10, 11, 12, 8, 9, 1, 6, 1, 1, 1, 1, 1, 1, \n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 56, 48, 41, \n40, 37, 31, 34, 29, 30, 28, 28, 26, 24, 26, 23, 23, 22, 21, 20, \n18, 19, 20, 17, 18, 17, 15, 15, 17, 17, 16, 16, 15, 15, 13, 12, \n12, 12, 11, 9, 9, 9, 7, 5, 6, 4, 2, 2, 2, 1, 3, 1, 1, 1, 1, 1, \n1, 1, 1, 1, 1)), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, \n-177L))\n</code></pre>\n<p>and the code is below:</p>\n<pre><code>library(shiny)\nlibrary(lpSolve)\nlibrary(rsconnect)\n\n# Define the UI for the app\nui &lt;- fluidPage(\n  titlePanel(&quot;Fantasy Football Lineup Optimizer&quot;),\n  \n  sidebarLayout(\n    sidebarPanel(\n      numericInput(&quot;num_qb&quot;, &quot;Enter the number of QBs:&quot;, 1, min = 1, max = 5),\n      numericInput(&quot;num_rb&quot;, &quot;Enter the number of RBs:&quot;, 2, min = 1, max = 5),\n      numericInput(&quot;num_wr&quot;, &quot;Enter the number of WRs:&quot;, 3, min = 1, max = 5),\n      numericInput(&quot;num_te&quot;, &quot;Enter the number of TEs:&quot;, 1, min = 1, max = 5),\n      numericInput(&quot;num_value&quot;, &quot;Enter your draft budget:&quot;, 200),\n      numericInput(&quot;num_players&quot;, &quot;Adding in your flex spots, enter the total number of starters:&quot;, 9, min = 1, max = 15),\n      selectInput(&quot;remove&quot;, &quot;Remove a player:&quot;, choices = c(&quot;&quot;,as.character(players$Player)), multiple = TRUE),\n      actionButton(&quot;update&quot;, &quot;Update Team&quot;),\n      selectInput(&quot;draft&quot;, &quot;Draft Player&quot;, choices = c(&quot;&quot;,as.character(players$Player)), multiple = TRUE),\n      actionButton(&quot;draft_button&quot;, &quot;Draft&quot;)\n    ),\n    mainPanel(\n      tableOutput(&quot;team&quot;)\n    )\n  )\n)\n\n# Define the server logic\nserver &lt;- function(input, output) {\n  players &lt;- players\n  \n  # Create a new column indicating the player's position\n  players$QB &lt;- ifelse(players$Position == &quot;QB&quot;, 1, 0)\n  players$RB &lt;- ifelse(players$Position == &quot;RB&quot;, 1, 0)\n  players$WR &lt;- ifelse(players$Position == &quot;WR&quot;, 1, 0)\n  players$TE &lt;- ifelse(players$Position == &quot;TE&quot;, 1, 0)\n  players$Total &lt;- 1\n  rv &lt;- reactiveValues(players=players)\n  \n  # Define the objective function (maximize fantasy points)\n  obj &lt;- players$FantasyPoints\n  \n  # Define the constraints (position limits and draft value limit)\n  con &lt;- reactive({\n    matrix(c(\n        # QB constraint\n        rv$players$QB,\n        # RB constraint\n        rv$players$RB,\n        # WR constraint\n        rv$players$WR,\n        # TE constraint\n        rv$players$TE,\n        # Draft value constraint\n        rv$players$DraftValue,\n        #Total players constraint\n        rv$players$Total\n    ), ncol = nrow(rv$players), byrow = TRUE)\n})\n\n  \n  # Define the variables for the lp\n  dir &lt;- c(&quot;&lt;=&quot;, rep(&quot;&gt;=&quot;,3),&quot;&lt;=&quot;,&quot;&lt;=&quot;)\n  \n  # Define the initial optimal lineup\n  initialLineup &lt;- reactive({\n    rhs &lt;- reactive({\n      c(input$num_qb, input$num_rb, input$num_wr, input$num_te, input$num_value, input$num_players)\n    })\n    result &lt;- lp(&quot;max&quot;, obj, con(), dir, rhs(), all.bin = TRUE)\n    rv$players[result$solution == 1,]\n  })\n  \n    # Show the updated optimal team in a table for any constraint change\n  output$team &lt;- renderTable({\n    lineupResult()[, c(&quot;Player&quot;, &quot;Position&quot;, &quot;DraftValue&quot;, &quot;FantasyPoints&quot;)]\n  })\n  \n  # Define the function to run when the &quot;update&quot; button is pressed\n  updateLineup &lt;- eventReactive(input$update, {\n    removedPlayer &lt;- input$remove\n    rv$players &lt;- rv$players[rv$players$Player != removedPlayer,]\n    obj &lt;- rv$players$FantasyPoints\n    rhs &lt;- reactive({\n      c(input$num_qb, input$num_rb, input$num_wr, input$num_te, input$num_value, input$num_players)\n    })\n    result &lt;- lp(&quot;max&quot;, obj, con(), dir, rhs(), all.bin = TRUE)\n    rv$players[result$solution == 1,]\n    \n  })\n  \n  # Define the function to run when the &quot;draft player&quot; button is pressed\n  draftPlayer &lt;- eventReactive(input$draft, {\n    draftedPlayer &lt;- input$draft_player\n    draftedPlayers &lt;- rv$players[rv$players$Player == draftedPlayer,]\n    rv$players &lt;- rv$players[rv$players$Player != draftedPlayer,]\n    rv$draftedPlayers &lt;- rbind(rv$draftedPlayers, draftedPlayers)\n    rhs &lt;- reactive({\n    c(input$num_qb, input$num_rb, input$num_wr, input$num_te, input$num_value, input$num_players)\n    })\n    result &lt;- lp(&quot;max&quot;, obj, con(), dir, rhs(), all.bin = TRUE)\n    rv$players[result$solution == 1,]\n    rv$players &lt;- rbind(rv$players, rv$draftedPlayers)\n    })\n  \n  \n  # Show the updated optimal team in a table when the &quot;update&quot; button is pressed\n    output$team &lt;- renderTable({\n    if (is.null(input$draft_player)) {\n    if (is.null(input$remove)) {\n    initialLineup()[, c(&quot;Player&quot;, &quot;Position&quot;, &quot;FantasyPoints&quot;, &quot;DraftValue&quot;)]\n    } else {\n    updateLineup()[, c(&quot;Player&quot;, &quot;Position&quot;, &quot;FantasyPoints&quot;, &quot;DraftValue&quot;)]\n    }\n    } else {\n    draftPlayer()[, c(&quot;Player&quot;, &quot;Position&quot;, &quot;FantasyPoints&quot;, &quot;DraftValue&quot;)]\n    }\n    })\n    }\n\n\n# Run the app\nshinyApp(ui, server)\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "tidyverse"],
		"owner": {
			"reputation": 644,
			"user_id": 18364222,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhvF3ofNB3ANHxkhR_xq_zTsQQ3s7yWmkNaFNEigg=k-s256",
			"display_name": "Larissa Cury",
			"link": "https://stackoverflow.com/users/18364222/larissa-cury"
		},
		"is_answered": true,
		"view_count": 43,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676677372,
		"creation_date": 1676659690,
		"last_edit_date": 1676672643,
		"question_id": 75488236,
		"link": "https://stackoverflow.com/questions/75488236/how-to-get-right-proportions-based-on-a-subset-of-the-data-set-in-r",
		"title": "How to get right proportions based on a subset of the data set in R",
		"body": "<p>I want to calculate the proportion of <code>plan</code> with respect to <code>school type</code> in the dataset below. Thing is, I have to first subset the dataset a couple of times. In this case, for example, I need to subset the dataset so that I only get schools which offer from <code>level 0</code> up to <code>level 04</code>. <strong>How can I do that?</strong></p>\n<ul>\n<li>edit:</li>\n</ul>\n<p>The way below <em>is working</em>, but I'm not filtering all schools that have all levels from <code>level 0</code> up to <code>level 04</code> , I'm getting the schools that have either of them. Ideas to that would be much appreciated.</p>\n<ul>\n<li>data description:</li>\n</ul>\n<pre><code># SCHOOL = name of the school\n# Q9 = type of school\n# Q11 = levels that the schools offer\n# Q40 = types of planning that the school offers related to each level. \n</code></pre>\n<p>Note: All plannings are related to a school level. Hence, If I don't filter by the levels that each school offers and just calculate this columns' prop, my results will be misleading because each school can offer different level options (all of them, 1, 2 of them, etc)</p>\n<p>my attempt:</p>\n<pre><code>\n### D) filter schools which only offer UP TO Level 04 ###\n\n##################################### Quest40_2 ##########################\n### check vector's names: \n\nunique(quest40_2$Q11)\n\nunwanted_4_2 &lt;- quest40_2 %&gt;%\n  filter(Q11 %in% c('level05','level06')) ### FILTER UNWANTED SCHOOL LEVELS\n\n### create a vector with UNWANTED SCHOOL NAMES:\n\nfilter_vec_4_2 &lt;- unique(unwanted_4_2$SCHOOL) ### get unique names (only school has 1 name)\n\n### assign the original dataframe to a dummy data frame: \n\nfiltered_df_4_2 &lt;- quest40_2 \n\n### loop over unwanted schools' names to remove them: \n\nfor (i in 1 :length(filter_vec_4_2)) {\n  \n  filtered_df_4_2 &lt;- filtered_df_4_2[!filtered_df_4_2$SCHOOL == filter_vec_4_2[i],]\n  \n}\n</code></pre>\n<ul>\n<li>I need to count how many times EACH 'plan' occurs by each type of 'school' (and get its proportion). Problem = each school can have more than one 'plan' type. Since each school can have more than one <code>plan type</code>, if we want to count the proportion of\n<code>plan</code> types according to each  <code>school type</code>, we cannot divide by n</li>\n</ul>\n<pre><code>b &lt;- filtered_df_4_2 %&gt;% drop_na(Q40) %&gt;% \n  count(Q40, Q9) %&gt;%\n  group_by(Q9) \n</code></pre>\n<ul>\n<li>Which leaves me to:</li>\n</ul>\n<pre><code>### counting the unique schools by each type of 'curriculo':\n\nb2 &lt;- b2 %&gt;%  \n  select(SCHOOL, Q9) %&gt;% \n  unique() %&gt;% count(Q9)\n\n## join dataframes and get the proportion of schools that have each type of 'planejamento'\n## within the curriculum types \n\nc &lt;- b %&gt;% full_join(b2, by = 'Q9') %&gt;% \n     mutate(prop = round((n.x/n.y *100), digits = 2)) %&gt;% \n     select(-n.x, -n.y)\n</code></pre>\n<ul>\n<li><p><em>Q1</em> = I don't think I'm filtering it correctely since I'm not exclusively filtering the schools that offer alll levels up to 01 to 04. I guess I'm doing an 'or' not an 'and'</p>\n</li>\n<li><p><em>Q2</em> = Is there a way to avoid the loop with <code>tidyverse</code> ? Thanks in adv.</p>\n</li>\n<li><p>Ultimately, I'm trying to get the starts to =&gt; <strong>'do the schools plan their agenda for the levels they offer or not and how does the type of school impact this?'</strong> (later this can be modeled, but now I just need percentages)</p>\n</li>\n<li><p>data:</p>\n</li>\n</ul>\n<pre><code>dput(quest40_2)              \nstructure(list(SCHOOL = structure(c(&quot;School1&quot;, &quot;School1&quot;, &quot;School1&quot;, \n&quot;School1&quot;, &quot;School1&quot;, &quot;School1&quot;, &quot;School1&quot;, &quot;School2&quot;, &quot;School2&quot;, \n&quot;School2&quot;, &quot;School2&quot;, &quot;School2&quot;, &quot;School2&quot;, &quot;School2&quot;, &quot;School3&quot;, \n&quot;School3&quot;, &quot;School3&quot;, &quot;School3&quot;, &quot;School3&quot;, &quot;School3&quot;, &quot;School3&quot;, \n&quot;School3&quot;, &quot;School3&quot;, &quot;School4&quot;, &quot;School4&quot;, &quot;School4&quot;, &quot;School4&quot;, \n&quot;School4&quot;, &quot;School4&quot;, &quot;School5&quot;, &quot;School5&quot;, &quot;School5&quot;, &quot;School5&quot;, \n&quot;School5&quot;, &quot;School5&quot;, &quot;School6&quot;, &quot;School6&quot;, &quot;School6&quot;, &quot;School6&quot;, \n&quot;School6&quot;, &quot;School7&quot;, &quot;School7&quot;, &quot;School7&quot;, &quot;School7&quot;, &quot;School7&quot;, \n&quot;School7&quot;, &quot;School8&quot;, &quot;School8&quot;, &quot;School8&quot;, &quot;School8&quot;, &quot;School9&quot;, \n&quot;School9&quot;, &quot;School9&quot;, &quot;School9&quot;, &quot;School9&quot;, &quot;School10&quot;, &quot;School10&quot;, \n&quot;School10&quot;, &quot;School10&quot;, &quot;School10&quot;, &quot;School11&quot;, &quot;School11&quot;, &quot;School11&quot;, \n&quot;School11&quot;, &quot;School11&quot;, &quot;School11&quot;, &quot;School11&quot;, &quot;School11&quot;, &quot;School11&quot;, \n&quot;School12&quot;, &quot;School12&quot;, &quot;School12&quot;, &quot;School12&quot;, &quot;School12&quot;, &quot;School12&quot;, \n&quot;School12&quot;, &quot;School13&quot;, &quot;School13&quot;, &quot;School13&quot;, &quot;School13&quot;, &quot;School13&quot;, \n&quot;School13&quot;, &quot;School13&quot;, &quot;School13&quot;, &quot;School13&quot;, &quot;School13&quot;, &quot;School14&quot;, \n&quot;School14&quot;, &quot;School14&quot;, &quot;School15&quot;, &quot;School15&quot;, &quot;School15&quot;, &quot;School15&quot;, \n&quot;School15&quot;, &quot;School15&quot;, &quot;School16&quot;, &quot;School16&quot;, &quot;School16&quot;, &quot;School16&quot;, \n&quot;School16&quot;, &quot;School16&quot;, &quot;School16&quot;, &quot;School17&quot;, &quot;School17&quot;, &quot;School17&quot;, \n&quot;School17&quot;, &quot;School17&quot;, &quot;School18&quot;, &quot;School18&quot;, &quot;School18&quot;, &quot;School18&quot;, \n&quot;School18&quot;, &quot;School19&quot;, &quot;School19&quot;, &quot;School19&quot;, &quot;School19&quot;, &quot;School19&quot;, \n&quot;School19&quot;, &quot;School20&quot;, &quot;School20&quot;, &quot;School20&quot;, &quot;School21&quot;, &quot;School21&quot;, \n&quot;School21&quot;, &quot;School21&quot;, &quot;School21&quot;, &quot;School22&quot;, &quot;School22&quot;, &quot;School22&quot;, \n&quot;School22&quot;, &quot;School22&quot;, &quot;School23&quot;, &quot;School23&quot;, &quot;School23&quot;, &quot;School23&quot;, \n&quot;School23&quot;, &quot;School23&quot;, &quot;School24&quot;, &quot;School24&quot;, &quot;School24&quot;, &quot;School24&quot;, \n&quot;School24&quot;, &quot;School24&quot;, &quot;School25&quot;, &quot;School25&quot;, &quot;School25&quot;, &quot;School25&quot;, \n&quot;School25&quot;, &quot;School26&quot;, &quot;School26&quot;, &quot;School26&quot;, &quot;School26&quot;, &quot;School26&quot;, \n&quot;School26&quot;, &quot;School26&quot;, &quot;School26&quot;, &quot;School26&quot;, &quot;School27&quot;, &quot;School27&quot;, \n&quot;School27&quot;, &quot;School27&quot;, &quot;School27&quot;, &quot;School27&quot;, &quot;School27&quot;, &quot;School28&quot;, \n&quot;School28&quot;, &quot;School28&quot;, &quot;School28&quot;, &quot;School28&quot;, &quot;School28&quot;, &quot;School28&quot;, \n&quot;School28&quot;, &quot;School29&quot;, &quot;School29&quot;, &quot;School29&quot;, &quot;School29&quot;, &quot;School29&quot;, \n&quot;School29&quot;, &quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, \n&quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, &quot;School30&quot;, \n&quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, \n&quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, &quot;School31&quot;, &quot;School32&quot;, \n&quot;School32&quot;, &quot;School32&quot;, &quot;School32&quot;, &quot;School32&quot;, &quot;School32&quot;, &quot;School32&quot;, \n&quot;School32&quot;, &quot;School32&quot;, &quot;School32&quot;, &quot;School32&quot;, &quot;School33&quot;, &quot;School33&quot;, \n&quot;School33&quot;, &quot;School33&quot;, &quot;School33&quot;, &quot;School33&quot;, &quot;School33&quot;, &quot;School34&quot;, \n&quot;School34&quot;, &quot;School34&quot;, &quot;School34&quot;, &quot;School34&quot;, &quot;School34&quot;, &quot;School34&quot;, \n&quot;School34&quot;, &quot;School35&quot;, &quot;School35&quot;, &quot;School35&quot;, &quot;School35&quot;, &quot;School36&quot;, \n&quot;School36&quot;, &quot;School36&quot;, &quot;School36&quot;, &quot;School36&quot;, &quot;School37&quot;, &quot;School37&quot;, \n&quot;School37&quot;, &quot;School37&quot;, &quot;School37&quot;, &quot;School37&quot;, &quot;School37&quot;, &quot;School37&quot;, \n&quot;School38&quot;, &quot;School38&quot;, &quot;School38&quot;, &quot;School38&quot;, &quot;School39&quot;, &quot;School39&quot;, \n&quot;School39&quot;, &quot;School39&quot;, &quot;School39&quot;, &quot;School39&quot;), class = c(&quot;glue&quot;, \n&quot;character&quot;)), Q9 = structure(c(2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, \n2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, \n2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 2L, 2L, 2L, \n3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, \n3L, 3L, 3L, 3L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, \n3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, \n4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, \n2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, \n3L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, \n2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 3L, 3L, 3L, 3L, \n3L, 3L, 3L, 3L, 3L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, \n2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 4L, 4L, \n4L, 4L, 4L, 4L, 4L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, \n1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, \n2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 2L, 2L, 3L, 3L, \n3L, 3L, 3L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 3L, \n3L, 3L, 3L, 3L, 3L), .Label = c(&quot;typeA&quot;, &quot;typeB&quot;, &quot;typeC&quot;, &quot;typeD&quot;\n), class = &quot;factor&quot;), Q11 = structure(c(3L, 7L, 4L, 2L, NA, NA, \nNA, 7L, 4L, 2L, 1L, NA, NA, NA, 7L, 4L, 2L, 1L, 5L, NA, NA, NA, \nNA, 4L, 2L, 1L, NA, NA, NA, 7L, 4L, 2L, 1L, 5L, NA, 7L, 4L, 2L, \n1L, NA, 4L, 2L, 1L, 5L, 6L, NA, 4L, 2L, 1L, NA, 4L, 2L, 1L, 5L, \nNA, 4L, 2L, 1L, 5L, NA, 4L, 2L, 1L, 5L, NA, NA, NA, NA, NA, 7L, \n4L, 2L, 1L, NA, NA, NA, 7L, 4L, 2L, 1L, 5L, 6L, NA, NA, NA, NA, \n5L, 6L, NA, 4L, 2L, 1L, 5L, 6L, NA, 4L, 2L, 1L, 5L, NA, NA, NA, \n7L, 4L, 2L, 1L, NA, 7L, 4L, 2L, 1L, NA, 4L, 2L, 1L, NA, NA, NA, \n2L, 1L, NA, 4L, 2L, 1L, 5L, NA, 4L, 2L, 1L, 5L, NA, 7L, 4L, 2L, \n1L, NA, NA, 4L, 2L, 1L, NA, NA, NA, 4L, 2L, 1L, 5L, NA, 7L, 4L, \n2L, 1L, 5L, NA, NA, NA, NA, 2L, 1L, 5L, NA, NA, NA, NA, 3L, 7L, \n4L, 2L, 1L, 5L, 6L, NA, 4L, 2L, 1L, 5L, NA, NA, 7L, 4L, 2L, 1L, \n5L, 6L, NA, NA, NA, NA, NA, 7L, 4L, 2L, 1L, 5L, 6L, NA, NA, NA, \nNA, NA, 7L, 4L, 2L, 1L, 5L, 6L, NA, NA, NA, NA, NA, 7L, 4L, 2L, \n1L, 5L, 6L, NA, 7L, 4L, 2L, 1L, 5L, NA, NA, NA, 3L, 7L, 4L, NA, \n7L, 4L, 2L, NA, NA, 4L, 2L, 1L, 5L, NA, NA, NA, NA, 4L, 2L, 1L, \nNA, 7L, 4L, 2L, 1L, 5L, NA), .Label = c(&quot;level04&quot;, &quot;level03&quot;, \n&quot;level0&quot;, &quot;level02&quot;, &quot;level05&quot;, &quot;level06&quot;, &quot;level01&quot;), class = &quot;factor&quot;), \n    Q40 = structure(c(NA, NA, NA, NA, 2L, 6L, 5L, NA, NA, NA, \n    NA, 2L, 6L, 5L, NA, NA, NA, NA, NA, 2L, 6L, 5L, 4L, NA, NA, \n    NA, 2L, 6L, 5L, NA, NA, NA, NA, NA, 1L, NA, NA, NA, NA, 1L, \n    NA, NA, NA, NA, NA, 1L, NA, NA, NA, 1L, NA, NA, NA, NA, 1L, \n    NA, NA, NA, NA, 1L, NA, NA, NA, NA, 2L, 6L, 5L, 4L, 1L, NA, \n    NA, NA, NA, 2L, 6L, 5L, NA, NA, NA, NA, NA, NA, 2L, 6L, 4L, \n    3L, NA, NA, 1L, NA, NA, NA, NA, NA, 1L, NA, NA, NA, NA, 2L, \n    6L, 5L, NA, NA, NA, NA, 2L, NA, NA, NA, NA, 1L, NA, NA, NA, \n    2L, 6L, 5L, NA, NA, 1L, NA, NA, NA, NA, 1L, NA, NA, NA, NA, \n    1L, NA, NA, NA, NA, 2L, 1L, NA, NA, NA, 2L, 6L, 5L, NA, NA, \n    NA, NA, 1L, NA, NA, NA, NA, NA, 2L, 6L, 5L, 4L, NA, NA, NA, \n    2L, 6L, 5L, 4L, NA, NA, NA, NA, NA, NA, NA, 2L, NA, NA, NA, \n    NA, 2L, 1L, NA, NA, NA, NA, NA, NA, 2L, 6L, 5L, 4L, 3L, NA, \n    NA, NA, NA, NA, NA, 2L, 6L, 5L, 4L, 3L, NA, NA, NA, NA, NA, \n    NA, 2L, 6L, 5L, 4L, 3L, NA, NA, NA, NA, NA, NA, 1L, NA, NA, \n    NA, NA, NA, 2L, 6L, 5L, NA, NA, NA, 2L, NA, NA, NA, 2L, 6L, \n    NA, NA, NA, NA, 2L, 6L, 5L, 4L, NA, NA, NA, 1L, NA, NA, NA, \n    NA, NA, 1L), .Label = c(&quot;none&quot;, &quot;plan1_level0upto02&quot;, &quot;plan5_level_05&quot;, \n    &quot;plan4_level_05&quot;, &quot;plan3_level_04&quot;, &quot;plan2_level_03&quot;), class = &quot;factor&quot;)), row.names = c(NA, \n-253L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "axes"],
		"owner": {
			"reputation": 635,
			"user_id": 2059765,
			"user_type": "registered",
			"accept_rate": 75,
			"profile_image": "https://www.gravatar.com/avatar/b464c96165b55df5943b2140ed8c985a?s=256&d=identicon&r=PG",
			"display_name": "phosphorelated",
			"link": "https://stackoverflow.com/users/2059765/phosphorelated"
		},
		"is_answered": true,
		"view_count": 1471,
		"down_vote_count": 0,
		"up_vote_count": 6,
		"accepted_answer_id": 16433123,
		"answer_count": 2,
		"score": 6,
		"last_activity_date": 1676677000,
		"creation_date": 1367954817,
		"last_edit_date": 1367961088,
		"question_id": 16426987,
		"link": "https://stackoverflow.com/questions/16426987/how-to-prevent-axes-from-intersecting-in-ggplot2",
		"title": "how to prevent axes from intersecting in ggplot2",
		"body": "<p>I'm using ggplot2 to make line graphs of some log-transformed data that all have large values (between 10^6 and 10^8); since the axes doesn't start at zero, I'd prefer not to have them intersect at the \"origin.\"  </p>\n\n<p>Here's what the axes currently look like:</p>\n\n<p><img src=\"https://i.imgur.com/YRe7QlM.png?1\" alt=\"ggplot2 plot\"></p>\n\n<p>I'd prefer something more like one gets from base graphics (but I'm additionally using <code>geom_ribbon</code> and other fancy things I really like in ggplot2, so I'd prefer to find a ggplot2 solution):</p>\n\n<p><img src=\"https://i.imgur.com/PJfG9MQ.png?1\" alt=\"non-intersecting axes\"></p>\n\n<p>Here's what I'm doing currently:</p>\n\n<pre><code>mydata &lt;- data.frame(Day = rep(1:8, 3), \n  Treatment = rep(c(\"A\", \"B\", \"C\"), each=8), \n  Value = c(7.415929, 7.200486, 7.040555, 7.096490, 7.056413, 7.143981, 7.429724, 7.332760, 7.643673, 7.303994, 7.343151, 6.923636, 6.923478, 7.249170, 7.513370, 7.438630, 7.209895, 7.000063, 7.160154, 6.677734, 7.026307, 6.830495, 6.863329, 7.319219))\n\nggplot(mydata, aes(x=Day, y=Value, group=Treatment)) \n  + theme_classic() \n  + geom_line(aes(color = Treatment), size=1) \n  + scale_y_continuous(labels = math_format(10^.x)) \n  + coord_cartesian(ylim = c(6.4, 7.75), xlim=c(0.5, 8))\n\nplot(mydata$Day, mydata$Value, frame.plot = F)  #non-intersecting axes\n</code></pre>\n"
	}, {
		"tags": ["r", "annotations", "heatmap", "rna-seq"],
		"owner": {
			"reputation": 1,
			"user_id": 21236869,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d9025b673d0ec88f555e8fbf40098359?s=256&d=identicon&r=PG",
			"display_name": "Debbie",
			"link": "https://stackoverflow.com/users/21236869/debbie"
		},
		"is_answered": false,
		"view_count": 7,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676675146,
		"creation_date": 1676675146,
		"question_id": 75489986,
		"link": "https://stackoverflow.com/questions/75489986/heatplot-enrichgo-fold-change-display-order-of-genes",
		"title": "Heatplot/enrichGO, fold change display &amp; order of genes",
		"body": "<p>Hello I'm working on the heatplot function offered in enrichPlot GO over-representation test (in R).\nI was wondering if I could get some help with the following issues:</p>\n<ol>\n<li><p>In what format should the 'geneList' in the 'foldChange=geneList' specification be? I can only get black and white results &amp; not the colour scaled ones -When I tried to add the list of my DE genes (in my case 'fpkm_allGDE_up_345$Ens_ID_merge') I was getting the message:'Error: Discrete value supplied to continuous scale'.\nIt only worked when I set 'foldChange=fpkm_allGDE_up$FOLD_CHANGE' but then with no colorscale.</p>\n</li>\n<li><p>Is it possible to rank the genes on the x axis so as that genes associated with more GO terms (of the ones indicated) are first?</p>\n</li>\n</ol>\n<p><strong>Here's what I tried:</strong></p>\n<blockquote>\n<p>egoall_up &lt;- enrichGO(gene          = fpkm_allGDE_up_345$Ens_ID_merge, #DEgenes_posttreatment\nuniverse      = fpkm_allG_345$Ens_ID_merge,       #all genes expressed\nkeyType       = &quot;ENSEMBL&quot;,\nOrgDb         = org.Hs.eg.db,\nont           = &quot;ALL&quot;,\npAdjustMethod = &quot;BH&quot;,\npvalueCutoff  = 0.01,\nqvalueCutoff  = 0.05,\nreadable      = TRUE)</p>\n</blockquote>\n<blockquote>\n<p>heatplot(egoall_up, foldChange=fpkm_allGDE_up$FOLD_CHANGE, showCategory=10)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/a2efW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<blockquote>\n<p>head(fpkm_allGDE_up)\n<a href=\"https://i.stack.imgur.com/pOQWq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</blockquote>\n"
	}, {
		"tags": ["r", "list", "dataframe"],
		"owner": {
			"reputation": 139,
			"user_id": 12893335,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/InGS2.jpg?s=256&g=1",
			"display_name": "Logos",
			"link": "https://stackoverflow.com/users/12893335/logos"
		},
		"is_answered": true,
		"view_count": 42,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75489037,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676674871,
		"creation_date": 1676666020,
		"last_edit_date": 1676669395,
		"question_id": 75489030,
		"link": "https://stackoverflow.com/questions/75489030/creating-a-data-frame-out-of-a-list-of-element-with-different-length",
		"title": "Creating a data frame out of a list of element with different length",
		"body": "<p>I have a with numerical elements of different length of the form</p>\n<pre><code>list1 &lt;- 1 : 2\nlist2 &lt;- 1 : 3\nlist3 &lt;- c(10, 100)\n\n\nmylist &lt;- list(a = list1, b = list2, c = list3)\n</code></pre>\n<p>and I would like to transform it into a data frame like this one</p>\n<pre><code># a 1\n# a 2\n# b 1\n# b 2\n# b 3\n# c 10\n# c 100\n</code></pre>\n<p>Is there a way to do it?</p>\n"
	}, {
		"tags": ["r", "json", "shiny"],
		"owner": {
			"reputation": 1,
			"user_id": 8253664,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f238f8ad17af0622382bb0a50d033913?s=256&d=identicon&r=PG&f=1",
			"display_name": "Max D.",
			"link": "https://stackoverflow.com/users/8253664/max-d"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676674642,
		"creation_date": 1676674642,
		"question_id": 75489950,
		"link": "https://stackoverflow.com/questions/75489950/create-json-from-a-shiny-app-by-dragdrop-elements-with-various-number-of-parame",
		"title": "Create JSON from a shiny app by drag&amp;drop elements with various number of parameters",
		"body": "<p>I want to create a bucket list in a shiny app from a list of available items.\nMultiple entries per type are possible.\nThese items represent categories, e.g. car, plant, insect.</p>\n<p>Then, I want to implement elements to enter type-specific key/value pairs for the chosen items, like &quot;brand&quot;, &quot;color&quot; and &quot;speed&quot; in case of type &quot;car&quot; or &quot;size&quot; in case of type &quot;plant&quot;. That means that also the number of key/value pairs is type specific.</p>\n<p>the main goal is to receive a JSON file like e.g.:</p>\n<pre><code>{\n&quot;protocol&quot;:\n    {\n       &quot;car&quot;:{\n               &quot;id&quot;:1,\n               &quot;brand&quot;:&quot;BMW&quot;,\n               &quot;color&quot;:&quot;red&quot;,\n               &quot;speed&quot;:300,\n             }\n       &quot;plant&quot;:{\n                &quot;id&quot;:2\n                &quot;size&quot;:3\n       &quot;car&quot;:{\n               &quot;id&quot;:3,\n               &quot;brand&quot;:&quot;Porsche&quot;,\n               &quot;color&quot;:&quot;purple&quot;,\n               &quot;speed&quot;:600,\n             }\n        &quot;insect&quot;:{\n               &quot;id&quot;:4\n               &quot;aggressive&quot;:TRUE\n             }\n...\n}\n</code></pre>\n<p>so far, so good, I created the following code:</p>\n<pre><code>library(shiny)\nlibrary(sortable)\nlibrary(htmlwidgets)\nlibrary(jsonlite)\n\nicons &lt;- function(x) {lapply(x,function(x){tags$div(tags$strong(x))})}\n\nui &lt;- fluidPage(\n\n  \n  tags$head(\n    tags$style(HTML('\n      #drag_from &gt; div {cursor: move; #fallback\n                        cursor: grab; cursor: pointer;\n                        }\n      #drag_to &gt; div {cursor: move; #fallback\n                      cursor: grab; cursor: pointer;\n                      }                \n      #drag_to {list-style-type: none;  counter-reset: css-counter 0;}\n      #drag_to &gt; div {counter-increment: css-counter 1;}\n      #drag_to &gt; div:before {content: counter(css-counter) &quot;. &quot;;}\n      ')\n    )\n  ),\n  \n  div(\n    style = &quot;margin-top: 2rem; width: 60%; display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;&quot;,\n    \n    div(\n      div(\n        class = &quot;panel panel-default&quot;,\n        div(class = &quot;panel-heading&quot;, &quot;Drag from here&quot;),\n        div(\n          class = &quot;panel-body&quot;,\n          id = &quot;drag_from&quot;,\n          icons(c(&quot;car&quot;, &quot;plant&quot;, &quot;insect&quot;))\n        )\n      ),\n    ),\n    div(\n      div(\n        class = &quot;panel panel-default&quot;,\n        div(class = &quot;panel-heading&quot;, &quot;Drag to here&quot;),\n        div(\n          class = &quot;panel-body&quot;,\n          id = &quot;drag_to&quot;\n        )\n      )\n    )\n  ),\n  sortable_js(\n    &quot;drag_from&quot;,\n    options = sortable_options(\n      group = list(\n        pull = &quot;clone&quot;,\n        name = &quot;group1&quot;,\n        put = TRUE\n      )\n    )\n  ),\n  sortable_js(\n    &quot;drag_to&quot;,\n    options = sortable_options(\n      group = list(\n        group = &quot;group1&quot;,\n        put = TRUE,\n        pull = TRUE\n      ),\n      onSort = sortable_js_capture_input(input_id = &quot;selected&quot;)\n    )\n  ),\n  textInput(&quot;filename&quot;, &quot;protocol filename&quot;, &quot;.json&quot;),\n  downloadButton('download',&quot;Download JSON&quot;)\n)\n\nserver &lt;- function(input, output) {\n  output$table1 &lt;- renderTable({input$selected})\n  output$download &lt;- downloadHandler(\n    filename = function(){input$filename}, \n    content = function(filename){\n      write_json({input$selected}, filename)\n      \n    }\n  )\n  \n}\n\nshinyApp(ui, server)\n</code></pre>\n<p>Now, what's missing is the second part (possibility to enter type specific key/value pairs for the chosen items)</p>\n<p>any idea how to proceed?</p>\n<p>thanks in advance</p>\n<p>Max</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 5293,
			"user_id": 13203841,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-HvRPkbZ2fww/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmIukuXG4_xNEC7bwKps7j_IsLrwQ/s96-c/photo.jpg?sz=256",
			"display_name": "stats_noob",
			"link": "https://stackoverflow.com/users/13203841/stats-noob"
		},
		"is_answered": true,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75489927,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676674642,
		"creation_date": 1676673693,
		"last_edit_date": 1676674642,
		"question_id": 75489867,
		"link": "https://stackoverflow.com/questions/75489867/r-restructuring-data-for-survival-analysis",
		"title": "R: Restructuring Data for Survival Analysis",
		"body": "<p>I am working with the R programming language.</p>\n<p>I have the following data on medical patients:</p>\n<pre><code>my_data = data.frame(id = c(1,2,3), status_2017 = c(&quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;), status_2018 = c(&quot;alive&quot;, &quot;dead&quot;, &quot;alive&quot;), status_2019 = c(&quot;alive&quot;, &quot;dead&quot;, &quot;dead&quot;), height_2017 = rnorm(3,3,3), height_2018 = rnorm(3,3,3), \n                     height_2019 = rnorm(3,3,3) , weight_2017  = rnorm(3,3,3), weight_2018 = rnorm(3,3,3), weight_2019 = rnorm(3,3,3))\n\ncols &lt;- colnames(my_data)\nix &lt;- my_data[, startsWith(cols, &quot;status&quot;)] == &quot;dead&quot;\n\nmy_data[, startsWith(cols, &quot;height&quot;)][ ix ] &lt;- NA\nmy_data[, startsWith(cols, &quot;weight&quot;)][ ix ] &lt;- NA\n</code></pre>\n<p>This looks something like this:</p>\n<pre><code> id status_2017 status_2018 status_2019 height_2017 height_2018 height_2019 weight_2017 weight_2018 weight_2019\n1  1       alive       alive       alive   3.7276706    4.524869   -1.648458   -1.702781    7.755581    3.369895\n2  2       alive        dead        dead   0.7539518          NA          NA    1.060408          NA          NA\n3  3       alive       alive        dead   6.6213771    2.122374          NA    5.114120    1.851467          NA\n</code></pre>\n<p><strong>My Question:</strong> I want to restructure this data such that:</p>\n<ul>\n<li>Each patient has its own row for each year</li>\n<li>There is a &quot;year&quot; column</li>\n<li>Status_2017, Status_2018, Status_2019 are all combined into a single column (i.e. &quot;status&quot;)</li>\n<li>Height_2017, Height_2018, Height_2019 are all combined into a single column (i.e. &quot;height&quot;)</li>\n<li>Weight_2017, Weight_2018, Weight_2019 are all combined into a single column (i.e. &quot;weight&quot;)</li>\n<li>A new variable (&quot;new_var&quot;) is created such that if a patient id has a row with 2019 then new_var is always 0 - for all other patient id's, new_var is 0 until the max year (and new_var then is 1)</li>\n</ul>\n<p>I tried to do this with the following code:</p>\n<pre><code>library(dplyr)\nlibrary(tidyr)\n\nmy_data_long &lt;- na.omit(my_data %&gt;%\n    pivot_longer(cols = -c(id, status_2017),\n                 names_to = c(&quot;.value&quot;, &quot;year&quot;),\n                 names_pattern = &quot;(height|weight)_(\\\\d{4})&quot;) %&gt;%\n    arrange(id, year))\n\n\nfinal = my_data_long  %&gt;%\n  group_by(id) %&gt;%\n  mutate(\n    new_var = ifelse(any(year == &quot;2019&quot;), 0, 1),\n    max_year = max(year)\n  ) %&gt;%\n  ungroup() %&gt;%\n  mutate(\n    new_var = ifelse(year == max_year &amp; new_var == 1, 1, 0),\n    max_year = NULL\n  )\n</code></pre>\n<p>The final result looks something like this:</p>\n<pre><code>&gt; final\n# A tibble: 6 x 6\n     id status_2017 year  height weight new_var\n  &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n1     1 alive       2017   2.39    2.27       0\n2     1 alive       2018  -0.541   1.63       0\n3     1 alive       2019  -1.93   10.1        0\n4     2 alive       2017   4.18   -3.35       1\n5     3 alive       2017  -1.35    7.12       0\n6     3 alive       2018   1.42    1.70       1\n</code></pre>\n<p>My end goal is to restructure this dataset such that I can fit a &quot;time varying survival analysis model&quot; (e.g. cox-ph) to this data (e.g. <a href=\"https://atm.amegroups.com/article/view/18820/html\" rel=\"nofollow noreferrer\">https://atm.amegroups.com/article/view/18820/html</a>, <a href=\"https://cran.r-project.org/web/pacacages/survival/vignettes/timedep.pdf\" rel=\"nofollow noreferrer\">https://cran.r-project.org/web/pacacages/survival/vignettes/timedep.pdf</a>)</p>\n<p><strong>Can someone please tell me if I have done this correctly?</strong></p>\n<p>Thanks!</p>\n<ul>\n<li>Note: I tried to add time differences for each ID</li>\n</ul>\n<p>This looks something like this:</p>\n<pre><code>library(stringr)\n\nfinal %&gt;%\n  group_by(id) %&gt;%\n  mutate(start = 0:(n() - 1),\n         end = 1:n()) %&gt;%\n  ungroup()\n\n# A tibble: 6 x 8\n     id status_2017 year  height weight new_var start   end\n  &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt; &lt;int&gt;\n1     1 alive       2017   2.39    2.27       0     0     1\n2     1 alive       2018  -0.541   1.63       0     1     2\n3     1 alive       2019  -1.93   10.1        0     2     3\n4     2 alive       2017   4.18   -3.35       1     0     1\n5     3 alive       2017  -1.35    7.12       0     0     1\n6     3 alive       2018   1.42    1.70       1     1     2\n</code></pre>\n"
	}, {
		"tags": ["r", "raster", "prediction", "xgboost", "xgbregressor"],
		"owner": {
			"reputation": 215,
			"user_id": 13087048,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/uoFQg.jpg?s=256&g=1",
			"display_name": "Nikos",
			"link": "https://stackoverflow.com/users/13087048/nikos"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75489901,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676674106,
		"creation_date": 1676668356,
		"last_edit_date": 1676670159,
		"question_id": 75489259,
		"link": "https://stackoverflow.com/questions/75489259/predict-at-a-finer-spatial-scale-using-xgboost-regression",
		"title": "Predict at a finer spatial scale using XGBoost regression",
		"body": "<p>I want to make a prediction at a finer spatial scale using <code>XGBoost</code> regression. I created a model at a coarse spatial scale and now I want to apply the model parameters at a finer scale. The issue is that at the finer spatial scale the <code>xgb.DMatrix</code> doesn't include the dependent variable so the <code>predict</code> function returns this error:</p>\n<pre><code>Error in predict.xgb.Booster(m, xgb_p, na.rm = TRUE): Feature names stored in `object` and `newdata` are different!\n</code></pre>\n<p>I have seen <a href=\"https://stackoverflow.com/q/71947124/13087048\">this</a> post but I still get the same error. Also, I tried to create a <code>data.frame</code> with the independent variables and an extra <em>empty</em> column with the name of the dependent variable, but still the same error.</p>\n<p>How can I use the XGB model parameters found in the coarse spatial scale to make predictions at a fine spatial scale?</p>\n<p>I have checked the names of the variables in both the coarse and spatial scales and they are the same.</p>\n<p>Here is the code:</p>\n<pre><code>library(xgboost)\nlibrary(raster)\n\n# the dependent and independent variables at the coarse scale\nxgb_m &lt;- xgb.DMatrix(data = data.matrix(block.data), label = block.data$ntl)\n\n# that's the model\nm = xgb.train(data = xgb_m, \n            max.depth = 2,  \n            nrounds = 1000, \n            min_child_weight = 1, \n            subsample = 0.75, \n            eta = 0.015, \n            gamma = 0.5,\n            colsample_bytree = 1, \n            objective = &quot;reg:squarederror&quot;)\n\n# these are the independent variables at the fine spatial scale\npop = raster(paste0(wd, &quot;pop.tif&quot;))\ntirs = raster(paste0(wd, &quot;tirs.tif&quot;))\nagbh = raster(paste0(wd, &quot;agbh.tif&quot;))\nvars = stack(pop, tirs, agbh)\n\n# the xgb.DMatrix with the independent variables\nxgb_p &lt;- xgb.DMatrix(data = data.matrix(vars))\n\nxgb_pred &lt;- predict(m, xgb_p, na.rm = TRUE) # the error\n</code></pre>\n<p>The <code>data.frame</code> (block.data):</p>\n<pre><code>block.data = structure(list(x = c(11880750L, 11879250L, 11879750L, 11880250L, \n11880750L, 11881250L, 11879250L, 11879750L, 11880250L, 11880750L, \n11881250L, 11878750L, 11879250L, 11879750L, 11880250L, 11880750L, \n11881250L, 11879250L, 11879750L, 11880250L, 11880750L, 11881250L, \n11881750L, 11882250L, 11879250L, 11879750L, 11880250L, 11880750L, \n11881250L, 11881750L, 11882250L, 11882750L, 11879250L, 11879750L\n), y = c(1802250L, 1801750L, 1801750L, 1801750L, 1801750L, 1801750L, \n1801250L, 1801250L, 1801250L, 1801250L, 1801250L, 1800750L, 1800750L, \n1800750L, 1800750L, 1800750L, 1800750L, 1800250L, 1800250L, 1800250L, \n1800250L, 1800250L, 1800250L, 1800250L, 1799750L, 1799750L, 1799750L, \n1799750L, 1799750L, 1799750L, 1799750L, 1799750L, 1799250L, 1799250L\n), ntl = c(18.7969169616699, 25.7222957611084, 23.4188251495361, \n25.4322757720947, 16.4593601226807, 12.7868213653564, 30.9337253570557, \n29.865758895874, 30.4080600738525, 29.5479888916016, 24.3493347167969, \n35.2427635192871, 38.989933013916, 34.6536979675293, 29.4607238769531, \n30.7469024658203, 34.3946380615234, 42.8660278320312, 34.7930717468262, \n30.9516315460205, 32.20654296875, 39.999755859375, 46.6002235412598, \n38.6480979919434, 60.5214920043945, 33.1799964904785, 31.8498134613037, \n30.9209423065186, 32.2269744873047, 53.7062034606934, 45.5225944519043, \n38.3570976257324, 123.040382385254, 73.0528182983398), pop = c(19.6407718658447, \n610.009216308594, 654.812622070312, 426.475830078125, 66.3839492797852, \n10.6471328735352, 443.848846435547, 602.677429199219, 488.478454589844, \n387.470947265625, 58.2341117858887, 413.888488769531, 315.057678222656, \n354.082946777344, 602.827758789062, 463.518829345703, 296.713928222656, \n923.920593261719, 434.436645507812, 799.562927246094, 404.709564208984, \n265.043304443359, 366.697235107422, 399.851684570312, 952.2314453125, \n870.356994628906, 673.406616210938, 493.521606445312, 273.841888427734, \n371.428619384766, 383.057830810547, 320.986755371094, 991.131225585938, \n1148.87768554688), tirs = c(39.7242431640625, 44.9583969116211, \n41.4048385620117, 42.6056709289551, 40.0976028442383, 38.7490005493164, \n44.2747650146484, 43.5645370483398, 41.6180191040039, 40.3799781799316, \n38.8664817810059, 44.9089202880859, 44.414306640625, 44.560977935791, \n43.1288986206055, 40.9315185546875, 38.8918418884277, 46.3063850402832, \n45.5805702209473, 44.9196586608887, 42.2495613098145, 39.3051452636719, \n38.7914810180664, 38.6069412231445, 44.6782455444336, 46.4024772644043, \n44.4720573425293, 41.7361183166504, 42.3378067016602, 41.0018348693848, \n39.3579216003418, 41.6303863525391, 43.8207550048828, 46.0460357666016\n), agbh = c(3.32185006141663, 4.98925733566284, 4.35699367523193, \n4.94798421859741, 3.14325952529907, 2.93211793899536, 4.52736520767212, \n4.99723243713379, 5.13944292068481, 3.92965626716614, 3.43465113639832, \n3.55617475509644, 3.4659411907196, 5.24469566345215, 5.36995029449463, \n4.61549234390259, 4.82002925872803, 4.20452928543091, 4.71502685546875, \n5.20452785491943, 5.05676746368408, 5.9952244758606, 6.16778612136841, \n4.69053316116333, 2.62325501441956, 4.74775457382202, 4.93133020401001, \n5.02366256713867, 5.74016952514648, 6.28353786468506, 4.67424774169922, \n4.56812858581543, 1.88153350353241, 4.31531000137329)), class = &quot;data.frame&quot;, row.names = c(NA, \n-34L))\n</code></pre>\n<p>The fine resolution data</p>\n<pre><code>vars = new(&quot;RasterBrick&quot;, file = new(&quot;.RasterFile&quot;, name = &quot;&quot;, datanotation = &quot;FLT4S&quot;, \n    byteorder = &quot;little&quot;, nodatavalue = -Inf, NAchanged = FALSE, \n    nbands = 1L, bandorder = &quot;BIL&quot;, offset = 0L, toptobottom = TRUE, \n    blockrows = 0L, blockcols = 0L, driver = &quot;&quot;, open = FALSE), \n    data = new(&quot;.MultipleRasterData&quot;, values = structure(c(NA, \n    NA, NA, NA, 18.7969169616699, NA, NA, NA, NA, NA, 25.7222957611084, \n    23.4188251495361, 25.4322757720947, 16.4593601226807, 12.7868213653564, \n    NA, NA, NA, NA, 30.9337253570557, 29.865758895874, 30.4080600738525, \n    29.5479888916016, 24.3493347167969, NA, NA, NA, 35.2427635192871, \n    38.989933013916, 34.6536979675293, 29.4607238769531, 30.7469024658203, \n    34.3946380615234, NA, NA, NA, NA, 42.8660278320312, 34.7930717468262, \n    30.9516315460205, 32.20654296875, 39.999755859375, 46.6002235412598, \n    38.6480979919434, NA, NA, 60.5214920043945, 33.1799964904785, \n    31.8498134613037, 30.9209423065186, 32.2269744873047, 53.7062034606934, \n    45.5225944519043, 38.3570976257324, NA, 123.040382385254, \n    73.0528182983398, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \n    19.6407718658447, NA, NA, NA, NA, NA, 610.009216308594, 654.812622070312, \n    426.475830078125, 66.3839492797852, 10.6471328735352, NA, \n    NA, NA, NA, 443.848846435547, 602.677429199219, 488.478454589844, \n    387.470947265625, 58.2341117858887, NA, NA, NA, 413.888488769531, \n    315.057678222656, 354.082946777344, 602.827758789062, 463.518829345703, \n    296.713928222656, NA, NA, NA, NA, 923.920593261719, 434.436645507812, \n    799.562927246094, 404.709564208984, 265.043304443359, 366.697235107422, \n    399.851684570312, NA, NA, 952.2314453125, 870.356994628906, \n    673.406616210938, 493.521606445312, 273.841888427734, 371.428619384766, \n    383.057830810547, 320.986755371094, NA, 991.131225585938, \n    1148.87768554688, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \n    39.7242431640625, NA, NA, NA, NA, NA, 44.9583969116211, 41.4048385620117, \n    42.6056709289551, 40.0976028442383, 38.7490005493164, NA, \n    NA, NA, NA, 44.2747650146484, 43.5645370483398, 41.6180191040039, \n    40.3799781799316, 38.8664817810059, NA, NA, NA, 44.9089202880859, \n    44.414306640625, 44.560977935791, 43.1288986206055, 40.9315185546875, \n    38.8918418884277, NA, NA, NA, NA, 46.3063850402832, 45.5805702209473, \n    44.9196586608887, 42.2495613098145, 39.3051452636719, 38.7914810180664, \n    38.6069412231445, NA, NA, 44.6782455444336, 46.4024772644043, \n    44.4720573425293, 41.7361183166504, 42.3378067016602, 41.0018348693848, \n    39.3579216003418, 41.6303863525391, NA, 43.8207550048828, \n    46.0460357666016, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \n    3.32185006141663, NA, NA, NA, NA, NA, 4.98925733566284, 4.35699367523193, \n    4.94798421859741, 3.14325952529907, 2.93211793899536, NA, \n    NA, NA, NA, 4.52736520767212, 4.99723243713379, 5.13944292068481, \n    3.92965626716614, 3.43465113639832, NA, NA, NA, 3.55617475509644, \n    3.4659411907196, 5.24469566345215, 5.36995029449463, 4.61549234390259, \n    4.82002925872803, NA, NA, NA, NA, 4.20452928543091, 4.71502685546875, \n    5.20452785491943, 5.05676746368408, 5.9952244758606, 6.16778612136841, \n    4.69053316116333, NA, NA, 2.62325501441956, 4.74775457382202, \n    4.93133020401001, 5.02366256713867, 5.74016952514648, 6.28353786468506, \n    4.67424774169922, 4.56812858581543, NA, 1.88153350353241, \n    4.31531000137329, NA, NA, NA, NA, NA, NA), .Dim = c(63L, \n    4L)), offset = 0, gain = 1, inmemory = TRUE, fromdisk = FALSE, \n        nlayers = 4L, dropped = NULL, isfactor = c(FALSE, FALSE, \n        FALSE, FALSE), attributes = list(), haveminmax = TRUE, \n        min = c(12.7868213653564, 10.6471328735352, 38.6069412231445, \n        1.88153350353241), max = c(123.040382385254, 1148.87768554688, \n        46.4024772644043, 6.28353786468506), unit = &quot;&quot;, names = c(&quot;ntl&quot;, \n        &quot;pop&quot;, &quot;tirs&quot;, &quot;agbh&quot;)), legend = new(&quot;.RasterLegend&quot;, \n        type = character(0), values = logical(0), color = logical(0), \n        names = logical(0), colortable = logical(0)), title = character(0), \n    extent = new(&quot;Extent&quot;, xmin = 11878500, xmax = 11883000, \n        ymin = 1799000, ymax = 1802500), rotated = FALSE, rotation = new(&quot;.Rotation&quot;, \n        geotrans = numeric(0), transfun = function () \n        NULL), ncols = 9L, nrows = 7L, crs = new(&quot;CRS&quot;, projargs = NA_character_), \n    srs = character(0), history = list(), z = list())\n</code></pre>\n"
	}, {
		"tags": ["r", "tidyverse", "curly-braces"],
		"owner": {
			"reputation": 479,
			"user_id": 19110927,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2b0e7c6145fdc6db2eaec5acd854bbd8?s=256&d=identicon&r=PG",
			"display_name": "RYann",
			"link": "https://stackoverflow.com/users/19110927/ryann"
		},
		"is_answered": true,
		"view_count": 32,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75489817,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676673700,
		"creation_date": 1676670062,
		"last_edit_date": 1676671144,
		"question_id": 75489469,
		"link": "https://stackoverflow.com/questions/75489469/curly-curly-operator-doesnt-work-with-map-in-r",
		"title": "curly curly operator doesnt work with map() in R",
		"body": "<pre><code>library(tidyverse)\nmean_by &lt;- function(data,by,conti){\n  \n  data %&gt;% group_by({{by}}) %&gt;% summarise(mean=mean({{conti}})) %&gt;% \n    print() %&gt;% \n    ggplot(aes(x={{by}},y=mean))+geom_col()\n}\n\nmap(mtcars %&gt;% select_if(is.numeric),~mean_by(mtcars,cyl,.))\n# Not quite the same \nmean_by(mtcars,cyl,carb)\n</code></pre>\n<p>I was toying around with the curly curly operator in R (just learned about it!) and then when iterating using map it seemd like the grouping isnt working very well, and I cant get my hands around the problem. What am I doing wrong?</p>\n<p>Btw, When trying the explicit pmap way, I couldnt get around using the cyl variable in a clever way</p>\n<pre><code>pmap(mtcars %&gt;% select_if(is.numeric),mean_by,..1=mtcars,..2=cyl,..3=.)\n</code></pre>\n<p>Error in <code>pmap()</code>:\ni In index: 1.\nCaused by error in <code>withCallingHandlers()</code>:\n! object 'cyl' not found\nRun <code>rlang::last_error()</code> to see where the error occurred.</p>\n<blockquote>\n</blockquote>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 63,
			"user_id": 14805829,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/QQJkt.jpg?s=256&g=1",
			"display_name": "mikeblazanin",
			"link": "https://stackoverflow.com/users/14805829/mikeblazanin"
		},
		"is_answered": true,
		"view_count": 53,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75465340,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676672784,
		"creation_date": 1676491685,
		"last_edit_date": 1676500953,
		"question_id": 75464969,
		"link": "https://stackoverflow.com/questions/75464969/how-to-detect-if-data-frame-is-grouped-by-dplyr-from-subfunction",
		"title": "How to detect if data.frame is grouped by dplyr from subfunction?",
		"body": "<p>I have an R package where some functions are designed to be typically called within dplyr functions mutate or summarize.</p>\n<pre><code>newdata &lt;- dplyr::mutate(group_by(olddata, col1), newcol = myfunc(col1))\n</code></pre>\n<p>However, sometimes users might forget to group their data before putting it into the mutate or summarize call.</p>\n<pre><code>newdata &lt;- dplyr::mutate(olddata, newcol = myfunc(col1))\n</code></pre>\n<p>When the data frame is not grouped first, the package functions will produce largely nonsensical results. However, there won't be any errors or warnings per se, which could leave users uncertain about the cause of the issue.</p>\n<p>I'd like to add a <code>Warning()</code> within the <code>myfunc</code> code when <code>myfunc</code> detects that the input data isn't coming from a grouped <code>data.frame</code>. However, I can't figure out how <code>myfunc</code> could detect if the data is coming from a grouped <code>data.frame</code>. It appears that <code>mutate</code> only passes a vector to <code>myfunc</code>, so both <code>dplyr::is.grouped_df</code> and <code>inherits(x, &quot;grouped_df&quot;)</code> return false.</p>\n<p>What I would like:</p>\n<pre><code>myfunc &lt;- function(x) {if(comes.from.grouped.df) {print(&quot;grouped&quot;)} else {print(&quot;ungrouped&quot;)}}\n\nmutate(olddata, newcol = myfunc(col1))\n'ungrouped'\n\nmutate(group_by(olddata, col1), newcol = myfunc(col1))\n'grouped'\n'grouped'\n'grouped'\n</code></pre>\n"
	}, {
		"tags": ["r", "dictionary", "purrr", "rlang", "do.call"],
		"owner": {
			"reputation": 117,
			"user_id": 5893200,
			"user_type": "registered",
			"accept_rate": 33,
			"profile_image": "https://lh4.googleusercontent.com/-1KnxJgaRtQ0/AAAAAAAAAAI/AAAAAAAAAGA/WxyzuhCbpy8/photo.jpg?sz=256",
			"display_name": "Charles Knell",
			"link": "https://stackoverflow.com/users/5893200/charles-knell"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676672741,
		"creation_date": 1676669654,
		"question_id": 75489421,
		"link": "https://stackoverflow.com/questions/75489421/correct-parameter-specifications-for-r-map-function-using-do-call-in-the-fun",
		"title": "Correct parameter specifications for R map() function using do.call() in the function",
		"body": "<p>I've been working a on-line course and I've come to an exercise involving using rlang functions to produce the desired output. The suggested solution involved using a for() loop, but since an earlier part of the course involved purrr and map(), it seemed like a step backward to resort to a for() loop.</p>\n<p>I have a tibble like so: (named &quot;arguments&quot;)</p>\n<pre><code># A tibble: 15 \u00d7 2\n   fname .args                \n   &lt;chr&gt; &lt;chr&gt;                \n 1 rnorm n=10,mean=0,sd=3     \n 2 rnorm n=100,mean=0,sd=3    \n 3 rnorm n=1000,mean=0,sd=3   \n 4 rnorm n=10000,mean=0,sd=3  \n 5 rnorm n=100000,mean=0,sd=3 \n 6 runif n=10,min=0,max=10    \n 7 runif n=100,min=0,max=10   \n 8 runif n=1000,min=0,max=10  \n 9 runif n=10000,min=0,max=10 \n10 runif n=100000,min=0,max=10\n11 rexp  n=10,rate=2          \n12 rexp  n=100,rate=2         \n13 rexp  n=1000,rate=2        \n14 rexp  n=10000,rate=2       \n15 rexp  n=100000,rate=2 \n</code></pre>\n<p>I wrote this function:</p>\n<pre><code>demo_1 &lt;- function(func_name, arg_list){\n   do.call(func_name, arg_list)\n}\n</code></pre>\n<p>If I call the function like so:</p>\n<pre><code>demo_1(arguments$fname[[1]], as.list(strsplit(arguments$.args[[1]],&quot;,&quot;)))\n</code></pre>\n<p>I get the expected output:\n[1] -0.4454785  0.6222901 -1.3134630</p>\n<p>I've been struggling to feed these to map() for a week now, but can't work it out.\nHow do I pass these to map() to process the entire tibble, row by row?</p>\n<p>Thanks.</p>\n"
	}, {
		"tags": ["r", "leaflet"],
		"owner": {
			"reputation": 6381,
			"user_id": 6447399,
			"user_type": "registered",
			"accept_rate": 54,
			"profile_image": "https://www.gravatar.com/avatar/46f7288222024483b021c1c106c2f0cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "user113156",
			"link": "https://stackoverflow.com/users/6447399/user113156"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676672546,
		"creation_date": 1676672244,
		"last_edit_date": 1676672546,
		"question_id": 75489711,
		"link": "https://stackoverflow.com/questions/75489711/clickable-zoom-in-leaflet-to-open-new-leaflet-geometry-and-plot-new-geometry",
		"title": "Clickable zoom in leaflet to open new leaflet geometry and plot new geometry",
		"body": "<p>I have some data which looks like:</p>\n<pre><code># A tibble: 52 \u00d7 3\n   provincia     mean_price number_properties\n   &lt;chr&gt;              &lt;dbl&gt;             &lt;int&gt;\n 1 A Coru\u00f1a         179833.              2508\n 2 Albacete         148584.              1311\n 3 Alicante         418148.             22676\n 4 Almer\u00eda          142338.              3902\n 5 Araba - \u00c1lava    243705.               786\n</code></pre>\n<p>I can get the geospatial data using:</p>\n<pre><code>library(mapSpain)\n\n# read in and match data, then order provincias data\nprovincias &lt;- mapSpain::esp_get_prov() %&gt;%\n  sf::st_transform(provincias, crs = 4326)\n</code></pre>\n<p>This is for the &quot;province&quot; level - each province can contain &quot;municipalities&quot;. There is a function in the <code>mapSpain</code> package to get the same geospatial data as provinces but for municipalities.</p>\n<pre><code>mapSpain::esp_get_munic(region = &quot;Barcelona&quot;)\n</code></pre>\n<p>I am trying to create an interactive leaflet map such that when the user clicks on a &quot;province&quot; it will zoom in and show the &quot;municipality&quot; data for that province.</p>\n<pre><code>leaflet() %&gt;%\n  addProviderTiles(providers$Stamen.Toner) %&gt;%\n  addPolygons(data = provincias)  # change here on update\n  )\n</code></pre>\n<p>So, we click on one of the provinces and that would take us to the zoomed <code>mapSpain::esp_get_munic(region = &quot;Barcelona&quot;)</code> We can &quot;zoom-in&quot; to the Barcelona region by adding <code>  setView(lng = 2.154007, lat =  41.390205, zoom = 12)</code> to the <code>leaflet</code> plot.</p>\n<p><a href=\"https://i.stack.imgur.com/8G60r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8G60r.png\" alt=\"enter image description here\" /></a></p>\n<p>After clicking on one of the provinces, it would run something like the following:</p>\n<pre><code>municipios &lt;- mapSpain::esp_get_prov() %&gt;%\n  sf::st_transform(municipios, crs = 4326)\n\nleaflet() %&gt;% \n  addProviderTiles(providers$Stamen.Toner) %&gt;% \n  setView(lng = 2.154007, lat =  41.390205, zoom = 9) %&gt;% \n  addPolygons(data = municipios)\n</code></pre>\n<p>Data:</p>\n<pre><code>df &lt;- structure(list(provincia = c(&quot;A Coru\u00f1a&quot;, &quot;Albacete&quot;, &quot;Alicante&quot;, \n&quot;Almer\u00eda&quot;, &quot;Araba - \u00c1lava&quot;, &quot;Asturias&quot;, &quot;Badajoz&quot;, &quot;Barcelona&quot;, \n&quot;Bizkaia&quot;, &quot;Burgos&quot;, &quot;Cantabria&quot;, &quot;Castell\u00f3n&quot;, &quot;Ceuta&quot;, &quot;Ciudad Real&quot;, \n&quot;Cuenca&quot;, &quot;C\u00e1ceres&quot;, &quot;C\u00e1diz&quot;, &quot;C\u00f3rdoba&quot;, &quot;Gipuzkoa&quot;, &quot;Girona&quot;, \n&quot;Granada&quot;, &quot;Guadalajara&quot;, &quot;Huelva&quot;, &quot;Huesca&quot;, &quot;Illes Balears&quot;, \n&quot;Ja\u00e9n&quot;, &quot;La Rioja&quot;, &quot;Las Palmas&quot;, &quot;Le\u00f3n&quot;, &quot;Lleida&quot;, &quot;Lugo&quot;, \n&quot;Madrid&quot;, &quot;Melilla&quot;, &quot;Murcia&quot;, &quot;M\u00e1laga&quot;, &quot;Navarra&quot;, &quot;Ourense&quot;, \n&quot;Palencia&quot;, &quot;Pontevedra&quot;, &quot;Salamanca&quot;, &quot;Santa Cruz de Tenerife&quot;, \n&quot;Segovia&quot;, &quot;Sevilla&quot;, &quot;Soria&quot;, &quot;Tarragona&quot;, &quot;Teruel&quot;, &quot;Toledo&quot;, \n&quot;Valencia&quot;, &quot;Valladolid&quot;, &quot;Zamora&quot;, &quot;Zaragoza&quot;, &quot;\u00c1vila&quot;), mean_price = c(179833.167862839, \n148583.87109077, 418148.151437643, 142337.792926704, 243704.750636132, \n149179.732438607, 147802.894486692, 462813.775190776, 286461.604484305, \n134635.540239044, 201214.437926878, 139819.15323646, 204318.181818182, \n113856.401715511, 116992.998609179, 143137.441025641, 251270.65520481, \n166586.746650426, 340663.440746753, 365733.360551724, 219325.194605466, \n173221.569037657, 142430.992912371, 141754.603535354, 749037.540922619, \n131396.292428198, 160838.235963581, 656553.777123633, 140312.919506463, \n160485.155614973, 129787.667711599, 433665.652781242, 234306.12244898, \n188635.237652749, 687127.622056842, 197388.050991501, 137829.640394089, \n123450.853813559, 230344.604904632, 159999.046077894, 328912.419004007, \n184829.536144578, 180692.511036468, 155759.235955056, 193651.956693536, \n128909.006756757, 132623.629553967, 177825.529404212, 165240.297002725, \n116820.125531915, 164934.932635983, 124977.724215247), number_properties = c(2508L, \n1311L, 22676L, 3902L, 786L, 3502L, 2104L, 35906L, 3345L, 1255L, \n2489L, 4542L, 44L, 1399L, 719L, 1170L, 5322L, 5747L, 1232L, 7250L, \n16906L, 956L, 1552L, 396L, 5376L, 1915L, 1318L, 2378L, 1702L, \n1870L, 638L, 16036L, 49L, 7856L, 15587L, 706L, 1421L, 472L, 2569L, \n1823L, 3494L, 498L, 6252L, 89L, 6327L, 296L, 2937L, 15576L, 1468L, \n470L, 2390L, 446L)), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, \n-52L))\n</code></pre>\n<p>ShinyApp:</p>\n<pre><code>library(shiny)\nlibrary(mapSpain)\nlibrary(tidyverse)\nlibrary(leaflet)\nlibrary(powerjoin)\nlibrary(purrr)\nlibrary(fuzzyjoin)\n\n# ... load &quot;df&quot; data\n\n# read in and match data, then order provincias data\nprovincias &lt;- mapSpain::esp_get_prov() %&gt;%\n  sf::st_transform(provincias, crs = 4326)\n\n\nui &lt;- fluidPage(\n  fluidRow(\n    dataTableOutput(outputId = &quot;leaflet_table&quot;)\n  )\n)\n\nserver &lt;- function(input, output) {\n  \n  ### if on.click == &quot;Barcelona&quot; - zoom and open;\n  #### mapSpain::esp_get_munic(region = &quot;Barcelona&quot;)\n  ##### Zoom in on this area of the map.\n  \n  output$leaflet_table = renderLeaflet(\n    leaflet() %&gt;%\n      addProviderTiles(providers$Stamen.Toner) %&gt;%\n      addPolygons(data = provincias)  # change here on update\n  )\n\n}\n</code></pre>\n<p>R Code:</p>\n<pre><code>df\n\nlibrary(mapSpain)\n\n# read in and match data, then order provincias data\nprovincias &lt;- mapSpain::esp_get_prov() %&gt;%\n  sf::st_transform(provincias, crs = 4326)\n\n\nleaflet() %&gt;%\n  addProviderTiles(providers$Stamen.Toner) %&gt;%\n  addPolygons(data = provincias)  # change here on update\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>I realise <code>df</code> is not needed here but I leave it in the post. All of the data can be collected through the <code>mapSpain</code> package.</p>\n"
	}, {
		"tags": ["r", "for-loop"],
		"owner": {
			"reputation": 1,
			"user_id": 21107799,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fd258a9d30c2d42981b4ba6bc9c2084c?s=256&d=identicon&r=PG",
			"display_name": "hoon99",
			"link": "https://stackoverflow.com/users/21107799/hoon99"
		},
		"is_answered": false,
		"view_count": 41,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676672545,
		"creation_date": 1676607728,
		"last_edit_date": 1676672545,
		"question_id": 75480220,
		"link": "https://stackoverflow.com/questions/75480220/r-for-loop-with-sapply-function-returning-nas-as-the-only-output",
		"title": "R for loop with sapply function returning NAs as the only output",
		"body": "<p>I am trying to compare the equality of data and get an output of 1&amp;0. To explain what I was trying to I have extracted the head of data to explain.</p>\n<pre><code>id illness_1 illness_2 illness_3 illness_4 illness_5 illness_6 illness_7 illness_8 illness_9 illness_10 illness_11\n1  1      1065      1139       244      3120        NA        NA        NA        NA        NA         NA         NA\n2  2      1111      1400      1309        NA        NA        NA        NA        NA        NA         NA         NA\n3  3      1439        NA        NA        NA        NA        NA        NA        NA        NA         NA         NA\n4  4        NA        NA        NA        NA        NA        NA        NA        NA        NA         NA         NA\n5  5      1065      1113        NA        NA        NA        NA        NA        NA        NA         NA         NA\n6  6      1309        NA        NA        NA        NA        NA        NA        NA        NA         NA         NA\nillness_12 illness_13 ICD9.Code Disutility.Score   DC  DC1  DC2  DC3  DC4  DC5  DC6  DC7 DC8 DC9 DC10 DC11 DC12 DC13\n1         NA         NA    icd042       -0.0844983 1439   NA   NA   NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\n2         NA         NA    icd135       -0.0957076 1359  135 1073   NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\n3         NA         NA    icd149       -0.0278367  149 1490 1491 1492 1492 1494 1495 1499  NA  NA   NA   NA   NA   NA\n4         NA         NA    icd151       -0.0705565  151 1510 1512 1513 1514 1515 1519   NA  NA  NA   NA   NA   NA   NA\n5         NA         NA    icd153       -0.0673908   NA   NA   NA   NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\n6         NA         NA    icd155       -0.0929452   NA   NA   NA   NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\nDC14 DC15 DC16 DC17 DC18 DC19 DC20 DC21 DC22 DC23 DC24 DC25 DC26 DC27 DC28 DC29 DC30 DC31 DC32 DC33 DC34 DC35 DC36 DC37\n1   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n2   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n3   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n4   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n5   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n6   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\nDC38 DC39 DC40 DC41 DC42 DC43 DC44 DC45 DC46 DC47 DC48 DC49 DC50 DC51 DC52 DC53 DC54 DC55 DC56 DC57 DC58 DC59 DC60 DC61\n1   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n2   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n3   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n4   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n5   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n6   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\nDC62 DC63 DC64 DC65 DC66 DC67 DC68 DC69 DC70 DC71 DC72 DC73 DC74 DC75 DC76 DC77 DC78 DC79 DC80 DC81 DC82 DC83 DC84 DC85\n1   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n2   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n3   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n4   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n5   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n6   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\nDC86 DC87 DC88 DC89 DC90 DC91 DC92 DC93 DC94 DC95 DC96 DC97 DC98 DC99 DC100\n1   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA\n2   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA\n3   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA\n4   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA\n5   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA\n6   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA    NA\n</code></pre>\n<p>Different disease diagnosis are represented by a specific ICD code (icd in my dataset) in the medical field. Each ICD code is corresponded to one or more datacodes (all the DC in my dataset) in the UKbiobank.</p>\n<p>What I am trying to do is to see is whether a patient has a particular disease. And create a logical column of 1&amp;0s to indicate which patient (id in my dataset) has which disease.</p>\n<p>If you refer to the third row, icd 149 has 7 different datacodes. A patient is considered having the disease if he or she matches any of the datacode.</p>\n<p>What I have tried right now is</p>\n<pre><code>&gt; ccc&lt;- read.table(file.choose(), header=T, sep=&quot;,&quot;)\n&gt; ccc2&lt;- ccc\n&gt; patient_illness &lt;- dplyr::select(ccc2 ,contains(&quot;illness&quot;)) \n&gt; datacodes&lt;- dplyr::select(\n&gt; ccc2, contains(&quot;DC&quot;)\n&gt; )\n&gt; for(i in datacodes) {\n&gt; equality&lt;- data.frame(\n&gt; sapply(patient_illness, function(x) ifelse(x==i, 1, 0))\n&gt;   )\n&gt; }\n&gt; \n</code></pre>\n<p>Which gives me all NAs. Do any of you know what I have done wrong?</p>\n<p>The strings for all illness and datacode columns are integers. Sorry for not putting all the strings up here. I am a newbie and do not know how to use the site.</p>\n<p>If I extract a few illness and datacodes columns out it will be as follows</p>\n<pre><code> illness_1 illness_2 illness_3 illness_4 ICD9.Code   DC  DC1  DC2\n1      1065      1139       244      3120    icd042 1439   NA   NA\n2      1111      1400      1309        NA    icd135 1359  135 1073\n3      1439        NA        NA        NA    icd149  149 1490 1491\n4        NA        NA        NA        NA    icd151  151 1510 1512\n5      1065      1113        NA        NA    icd153   NA   NA   NA\n6      1309        NA        NA        NA    icd155   NA   NA   NA\n</code></pre>\n<pre><code>    &gt; dput(head(ccc3, 10))\nstructure(list(illness_1 = c(1065L, 1111L, 1439L, NA, 1065L, \n1309L, NA, 1387L, 1065L, 1081L), illness_2 = c(1139L, 1400L, \nNA, NA, 1113L, NA, NA, 99999L, 1077L, 1473L), illness_3 = c(244L, \n1309L, NA, NA, NA, NA, NA, NA, NA, 1065L), illness_4 = c(3120L, \nNA, NA, NA, NA, NA, NA, NA, NA, 1465L), ICD9.Code = c(&quot;icd042&quot;, \n&quot;icd135&quot;, &quot;icd149&quot;, &quot;icd151&quot;, &quot;icd153&quot;, &quot;icd155&quot;, &quot;icd162&quot;, &quot;icd172&quot;, \n&quot;icd173&quot;, &quot;icd174&quot;), DC = c(1439L, 1359L, 149L, 151L, NA, NA, \n162L, 172L, 173L, NA), DC1 = c(NA, 135L, 1490L, 1510L, NA, NA, \nNA, 1720L, 1730L, NA), DC2 = c(NA, 1073L, 1491L, 1512L, NA, NA, \nNA, 1721L, 1731L, NA)), row.names = c(NA, 10L), class = &quot;data.frame&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "dplyr", "plyr"],
		"owner": {
			"reputation": 1,
			"user_id": 21236001,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp67GlN2_8Py1ORWznD38tyf1DJPiGMnLVvLIrPX=k-s256",
			"display_name": "Mahesh Kulkarni",
			"link": "https://stackoverflow.com/users/21236001/mahesh-kulkarni"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676672296,
		"creation_date": 1676663741,
		"last_edit_date": 1676672296,
		"question_id": 75488721,
		"link": "https://stackoverflow.com/questions/75488721/filter-rows-based-on-string-ac27-and-ac28",
		"title": "Filter Rows Based on String AC27 and AC28",
		"body": "<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>im_id</th>\n<th>sub_status</th>\n<th>status_date</th>\n<th>Flag_Status</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>12345</td>\n<td>PD01</td>\n<td>01-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>12345</td>\n<td>PD02</td>\n<td>02-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>12345</td>\n<td>PD81</td>\n<td>02-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>12345</td>\n<td>PD63</td>\n<td>02-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>12345</td>\n<td>AC27</td>\n<td>02-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>12345</td>\n<td>AC27</td>\n<td>03-FEB-2023</td>\n<td>Cancel Not Available</td>\n</tr>\n<tr>\n<td>12345</td>\n<td>AC28</td>\n<td>03-FEB-2023</td>\n<td>Cancel Not Available</td>\n</tr>\n<tr>\n<td>12345</td>\n<td>AC01</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>22233</td>\n<td>PD01</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>22233</td>\n<td>AC27</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>22233</td>\n<td>S02</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>22233</td>\n<td>DN99</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>22233</td>\n<td>PD01</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>22233</td>\n<td>AC27</td>\n<td>05-FEB-2023</td>\n<td>No Infusion Only</td>\n</tr>\n<tr>\n<td>22233</td>\n<td>AC28</td>\n<td>05-FEB-2023</td>\n<td>No Infusion Only</td>\n</tr>\n<tr>\n<td>22233</td>\n<td>AC29</td>\n<td>06-FEB-2023</td>\n<td>No Infusion Only</td>\n</tr>\n<tr>\n<td>22233</td>\n<td>AC02</td>\n<td>05-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>55522</td>\n<td>AC27</td>\n<td>06-FEB-2023</td>\n<td>Cancel Not Available</td>\n</tr>\n<tr>\n<td>55522</td>\n<td>AC28</td>\n<td>04-FEB-2023</td>\n<td>Cancel Not Available</td>\n</tr>\n<tr>\n<td>55522</td>\n<td>AC28</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>55522</td>\n<td>AC29</td>\n<td>04-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>55522</td>\n<td>AC27</td>\n<td>05-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>77732</td>\n<td>AC27</td>\n<td>05-FEB-2023</td>\n<td>Cancel Not Available</td>\n</tr>\n<tr>\n<td>77732</td>\n<td>AC28</td>\n<td>06-FEB-2023</td>\n<td>Cancel Not Available</td>\n</tr>\n<tr>\n<td>77732</td>\n<td>AC01</td>\n<td>05-FEB-2023</td>\n<td></td>\n</tr>\n<tr>\n<td>77732</td>\n<td>PD02</td>\n<td>06-FEB-2023</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>In above data frame (Table Name-DF) &quot;im_id&quot;, &quot;sub_status&quot; and &quot;status_date&quot; are 3 input columns.\nThe expected result will be shown in &quot;Flag Status&quot; column.</p>\n</blockquote>\n<blockquote>\n<p><strong>Here I want 2 results mentioned as below</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>1st Scenario-</strong></p>\n</blockquote>\n<blockquote>\n<p>Do Filter only those records for where ims_id should match with sub_status <strong>&quot;AC27&quot;</strong> and <strong>&quot;AC28&quot;</strong> and Not Matched with <strong>&quot;CC38&quot;</strong>. In this, code should filter only those records for <strong>each ims_id</strong> where <strong>&quot;AC28&quot; comes after &quot;AC27&quot;</strong> and expected string should be visible Infront of both <strong>AC27</strong> and <strong>&quot;AC@*&quot;</strong> as <strong>&quot;Cancel Not Available&quot;</strong></p>\n<p>The Output mentioned in above table, in that you can see &quot;AC28&quot; comes after &quot;AC27&quot; and expected string <strong>&quot;Cancel Not Available&quot;</strong> exist Infront of &quot;AC27 and AC28&quot;.</p>\n</blockquote>\n<blockquote>\n<p><strong>2nd Scenario-</strong></p>\n</blockquote>\n<blockquote>\n<p>Do Filter only those records for where ims_id should align with sub_status <strong>&quot;AC27&quot;</strong>, <strong>&quot;AC28&quot;</strong>, <strong>&quot;AC29&quot;</strong> and Not Matched with <strong>&quot;AC01&quot;</strong>. In this, code should filter only those records for <strong>each ims_id</strong> where <strong>&quot;AC28&quot; comes after &quot;AC27&quot;</strong> and <strong>&quot;AC29&quot;</strong> comes after <strong>&quot;AC28&quot;</strong>. expected string should be visible Infront of <strong>AC27, AC28 and AC29</strong> as <strong>&quot;No Infusion Only&quot;</strong></p>\n<p>The Output mentioned in above table, in that you can see &quot;AC28&quot; comes after &quot;AC27&quot; and &quot;AC29&quot; comes after &quot;AC28&quot; and expected string <strong>&quot;No Infusion Only&quot;</strong> exist Infront of &quot;AC27, AC28 and AC29&quot;.</p>\n</blockquote>\n<p><strong>Note: Bothe Scenarios should not mix the results. Earlier I tried filter, subset method but it will not give expected result.</strong></p>\n<blockquote>\n<p>I Tried Below Code for <strong>1st Scenario</strong> But while filtering it's selecting all records.</p>\n</blockquote>\n<pre><code>DF$Flag_Status &lt;- ifelse(DF$sub_status %in% c(&quot;AC27&quot;, &quot;AC28&quot;) &amp; \n                         DF$sub_status != &quot;CC38&quot;, &quot;Cancelled_Not_Available&quot;, DF$Flag_Status)\n\n</code></pre>\n<blockquote>\n<p>I Tried Below Code for <strong>2nd Scenario</strong> But while filtering it's selecting all records.</p>\n</blockquote>\n<pre><code>DF$Flag_Status &lt;- ifelse(DF$sub_status %in% c(&quot;AC27&quot;, &quot;AC28&quot;, &quot;AC29&quot;) &amp; \n                         DF$sub_status != &quot;AC01&quot;, &quot;No Infusion Only&quot;, DF$Flag_Status)\n</code></pre>\n<blockquote>\n<p><strong>But in expected results after executing second chunk the earlier results overridden because AC27 and AC28 was included in Scenario 1st.</strong></p>\n</blockquote>\n"
	}, {
		"tags": ["r", "ggplot2", "plot", "model"],
		"owner": {
			"reputation": 271,
			"user_id": 10156493,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/aa0f49a9888bcba75c153629a2c8452f?s=256&d=identicon&r=PG&f=1",
			"display_name": "J. Doe",
			"link": "https://stackoverflow.com/users/10156493/j-doe"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676672269,
		"creation_date": 1676661843,
		"last_edit_date": 1676672269,
		"question_id": 75488490,
		"link": "https://stackoverflow.com/questions/75488490/how-do-you-get-and-use-data-logos-from-r-library-nflplotr-properly",
		"title": "How do you get and use data (logos) from R library (nflplotR) properly?",
		"body": "<p>I've been trying to figure out how to pull logos from nflplotR and display them in the visual but can't seem to figure out how to do it properly. I'm fairly new to R, so I think there's some nuances I am not good with.</p>\n<p>I tried to remove the &quot;logos&quot; variable and tried a different approach as well but had no luck. It might be the way I'm pulling the data from the library but not really sure. Any help would be appreciated.</p>\n<pre><code>library(nflfastR)\nlibrary(nflplotR)\nlibrary(tidyverse)\nlibrary(gghighcontrast)\nlibrary(scales)\nlibrary(ggimage)\nlibrary(ggthemes)\n\nplot_for_data &lt;-\n  function(data,\n           logos,\n           foreground_color,\n           background_color) {\n    # NOTE: Doesn't work well with facet_wrap()...need to specify\n    # team logos more dynamically based on the data being charted.\n    \n    single_game_id &lt;- data[1, ]$game_id\n    \n    game_title_pieces &lt;- strsplit(single_game_id, &quot;_&quot;)[[1]]\n    game_year &lt;- game_title_pieces[1]\n    game_week &lt;- game_title_pieces[2]\n    \n    # Get home_team and away_team and annotate on chart\n    home_team_abbr &lt;- data[1, ]$home_team\n    away_team_abbr &lt;- data[1, ]$away_team\n    \n    # Build a data frame with coordinates of team logo to place on chart\n    logo_placement_data &lt;- data.frame(\n      a = c(3600, 3600),\n      b = c(0.875, 0.125),\n      team_abbr = c(home_team_abbr, away_team_abbr),\n      stringsAsFactors = FALSE\n    ) %&gt;% inner_join(logos, by = &quot;team_abbr&quot;)\n    \n    #ggplot(logo_placement_data, aes(x = a, y = b)) +\n    #  geom_nfl_logos(aes(team_abbr = c(home_team_abbr, away_team_abbr), alpha = alpha, colour = colour), width = 0.075) +\n    #  geom_label(aes(label = teams), nudge_y = -0.35, alpha = 0.5) +\n    #  scale_alpha_identity() +\n    #  scale_color_identity() +\n    #  theme_void()\n    \n    plot &lt;- ggplot(data,\n                   aes(x = game_seconds_remaining, y = home_wp_custom)) +\n      # 50% reference line\n      geom_hline(yintercept = 0.5,\n                 color = grey,\n                 size = 1) +\n      \n      # Reference line for each quarter (and halftime)\n      geom_vline(xintercept = 15 * 60, color = grey) +\n      geom_vline(xintercept = 30 * 60, color = grey) +\n      geom_vline(xintercept = 45 * 60, color = grey) +\n      \n      annotate(\n        &quot;text&quot;,\n        x = 58 * 60,\n        y = 0.95,\n        label = &quot;Q1&quot;,\n        family = &quot;InputMono&quot;,\n        color = grey,\n        size = 2\n      ) +\n      annotate(\n        &quot;text&quot;,\n        x = 43 * 60,\n        y = 0.95,\n        label = &quot;Q2&quot;,\n        family = &quot;InputMono&quot;,\n        color = grey,\n        size = 2\n      ) +\n      annotate(\n        &quot;text&quot;,\n        x = 28 * 60,\n        y = 0.95,\n        label = &quot;Q3&quot;,\n        family = &quot;InputMono&quot;,\n        color = grey,\n        size = 2\n      ) +\n      annotate(\n        &quot;text&quot;,\n        x = 13 * 60,\n        y = 0.95,\n        label = &quot;Q4&quot;,\n        family = &quot;InputMono&quot;,\n        color = grey,\n        size = 2\n      ) +\n      \n      # Win Probability\n      geom_line(aes(y = home_wp_post), color = grey) +\n      geom_line(size = 0.8) +\n      \n      # Scoring events\n      geom_rug(\n        data = filter(data, away_scoring_play == 1),\n        color = foreground_color,\n        sides = &quot;b&quot;,\n        size = 1.5\n      ) +\n      geom_rug(\n        data = filter(data, home_scoring_play == 1),\n        color = foreground_color,\n        sides = &quot;t&quot;,\n        size = 1.5\n      ) +\n      \n      # Draw home and away team logo\n      geom_image(\n        data = logo_placement_data,\n        aes(x = x, y = y, image = logos),\n        size = 0.08,\n        asp = 16 / 9\n      ) +\n      \n      # Formatting\n      scale_x_reverse() +\n      scale_y_continuous(labels = percent, limits = c(0, 1)) +\n      theme_high_contrast(\n        base_family = &quot;InputMono&quot;,\n        background_color = background_color,\n        foreground_color = foreground_color\n      ) +\n      theme(axis.text.x = element_blank(),\n            axis.ticks.x = element_blank()) +\n      labs(\n        title = str_interp(\n          &quot;${game_year} Week ${game_week}: ${away_team_abbr} at ${home_team_abbr}&quot;\n        ),\n        subtitle = &quot;Custom win probability model compared to nflfastR WP (grey)&quot;,\n        caption = &quot;Data from nflfastR&quot;,\n        x = &quot;Quarters&quot;,\n        y = &quot;Home Win Probability&quot;\n      )\n  }\n\nfor (single_game_id in game_ids) {\n  plot &lt;-\n    plot_for_data(\n      filter(pbp_data, game_id == single_game_id),\n      logos,\n      foreground_color,\n      background_color\n    )\n  \n  ggsave(\n    str_interp(&quot;wp-${single_game_id}.png&quot;),\n    plot = plot,\n    width = 6,\n    height = 4\n  )\n}\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 5293,
			"user_id": 13203841,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-HvRPkbZ2fww/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmIukuXG4_xNEC7bwKps7j_IsLrwQ/s96-c/photo.jpg?sz=256",
			"display_name": "stats_noob",
			"link": "https://stackoverflow.com/users/13203841/stats-noob"
		},
		"is_answered": true,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75489713,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676672259,
		"creation_date": 1676671174,
		"last_edit_date": 1676671851,
		"question_id": 75489589,
		"link": "https://stackoverflow.com/questions/75489589/update-values-in-rows-based-on-conditions",
		"title": "Update values in rows based on conditions",
		"body": "<p>I have the following dataset:</p>\n<pre><code>my_data = data.frame(id = c(1,2,3), status_2017 = c(&quot;alive&quot;, &quot;alive&quot;, &quot;alive&quot;), status_2018 = c(&quot;alive&quot;, &quot;dead&quot;, &quot;alive&quot;), status_2019 = c(&quot;alive&quot;, &quot;dead&quot;, &quot;dead&quot;), height_2017 = rnorm(3,3,3), height_2018 = rnorm(3,3,3), \n                     height_2019 = rnorm(3,3,3) , weight_2017  = rnorm(3,3,3), weight_2018 = rnorm(3,3,3), weight_2019 = rnorm(3,3,3))\n\n  id status_2017 status_2018 status_2019 height_2017 height_2018 height_2019 weight_2017 weight_2018 weight_2019\n1  1       alive       alive       alive    6.505447    7.328302  4.14945261   2.4715195    7.140026    1.843526\n2  2       alive        dead        dead   -2.033761    3.553849  0.09896499   0.4159123    4.340485    1.366350\n3  3       alive       alive        dead    3.107110    2.967456  6.52980219   1.6573734    3.397389    3.116294\n</code></pre>\n<p><strong>My Question:</strong> If the ID is &quot;dead&quot; in certain years, I want to replace the corresponding height and weight information in those years to be NA.</p>\n<p>I tried to do this using index/subsets:</p>\n<pre><code>dead_rows &lt;- my_data$status_2018 == &quot;dead&quot; | my_data$status_2019 == &quot;dead&quot;\n\nmy_data[dead_rows, c(&quot;height_2018&quot;, &quot;height_2019&quot;, &quot;weight_2018&quot;, &quot;weight_2019&quot;)] &lt;- NA\n\n  id status_2017 status_2018 status_2019 height_2017 height_2018 height_2019 weight_2017 weight_2018 weight_2019\n1  1       alive       alive       alive    6.505447    7.328302    4.149453   2.4715195    7.140026    1.843526\n2  2       alive        dead        dead   -2.033761          NA          NA   0.4159123          NA          NA\n3  3       alive       alive        dead    3.107110          NA          NA   1.6573734          NA          NA\n</code></pre>\n<p>I dont think this is correct - ID = 3 is &quot;alive&quot; in 2018, but their information in 2018 has been replaced with NA:</p>\n<p><strong>Can someone please show me how to fix this? Is there a more &quot;compact&quot; way of doing this that does not require to write the names of all columns?</strong></p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 19,
			"user_id": 18796706,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgQXwaBqwx97PaCz-hGbPA92E6ctZaSrpXiSr7HoA=k-s256",
			"display_name": "Andy",
			"link": "https://stackoverflow.com/users/18796706/andy"
		},
		"is_answered": false,
		"view_count": 9,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"closed_date": 1676672426,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676672242,
		"creation_date": 1676672242,
		"question_id": 75489710,
		"link": "https://stackoverflow.com/questions/75489710/how-to-average-a-group-of-values-by-category-in-r",
		"closed_reason": "Duplicate",
		"title": "How to average a group of values by category in R",
		"body": "<p>I have a questions about averaging values in a data frame. I am trying to average flow rates by segment number in a program I am trying to write. I am trying to average 2 years of flow data in particular sections of river reach with the variable named (SegNum). For each SegNum in my dataframe I am trying to average the Q variable the two year period (or whatever length, till the end of the dataset). I attached screen shots of how my dataframe looks and how I hope the output to look. The dataset has about 13,000 values in total and many segments</p>\n<p>Thank You Very Much :)</p>\n<p>Input Set:\n<a href=\"https://i.stack.imgur.com/6Czts.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Czts.png\" alt=\"Input\" /></a></p>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/U01ad.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U01ad.png\" alt=\"Output\" /></a></p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 3,
			"user_id": 21083190,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6ikLBXbWYgQl2W6fSG132TCTG6J5LHeON7NT2EsA=k-s256",
			"display_name": "Issam K",
			"link": "https://stackoverflow.com/users/21083190/issam-k"
		},
		"is_answered": false,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676672217,
		"creation_date": 1676658309,
		"last_edit_date": 1676672217,
		"question_id": 75488026,
		"link": "https://stackoverflow.com/questions/75488026/quarter-conversion-using-casewhen",
		"title": "Quarter Conversion using casewhen",
		"body": "<p>I am trying to create a function so I convert the month values to quarters using the case when function.</p>\n<p>Then I want to leverage mutate() to create a new variable Qtr and determine how many observations I see in each quarter.</p>\n<pre><code>\nconvert_to_qtr &lt;- function(Month) {\n  case_when(\n  Month == &quot;Jan&quot; ~ &quot;Q1&quot;,\n  Month == &quot;Feb&quot; ~ &quot;Q1&quot;,\n  Month == &quot;Mar&quot; ~ &quot;Q1&quot;,\n  Month == &quot;Apr&quot; ~ &quot;Q2&quot;, \n  Month == &quot;May&quot; ~ &quot;Q2&quot;, \n  Month == &quot;Jun&quot; ~ &quot;Q2&quot;,\n  Month == &quot;Jul&quot; ~ &quot;Q3&quot;, \n  Month == &quot;Aug&quot; ~ &quot;Q3&quot;, \n  Month == &quot;Sep&quot; ~ &quot;Q3&quot;,\n  Month == &quot;Oct&quot; ~ &quot;Q4&quot;, \n  Month == &quot;Nov&quot; ~ &quot;Q4&quot;, \n  Month == &quot;Dec&quot; ~ &quot;Q4&quot;\n)\n}\n\nexample_months &lt;- c(&quot;Jan&quot;, &quot;Mar&quot;, &quot;May&quot;, &quot;May&quot;, &quot;Aug&quot;, &quot;Nov&quot;, &quot;Nov&quot;, &quot;Dec&quot;)\nconvert_to_qtr(example_months)\n\n\ndf %&gt;%\nmutate(Qtr = convert_to_qtr(Month)) %&gt;%\n  group_by(Qtr) %&gt;%\n  count(Qtr)\n\n</code></pre>\n<p>However I am not getting the same answer as my professor in his drop down so I am not sure if I am doing something wrong in my r coding.</p>\n<p>He sees the numbers 161,071 85,588 100,227 142,651</p>\n<p>I am not getting that, I see 152174 165778 205615 174592</p>\n<p><a href=\"https://i.stack.imgur.com/8lZow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8lZow.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "ggplot2", "graphics"],
		"owner": {
			"reputation": 385,
			"user_id": 9580812,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b5a3bfb340a51b52930b120467429911?s=256&d=identicon&r=PG&f=1",
			"display_name": "leo",
			"link": "https://stackoverflow.com/users/9580812/leo"
		},
		"is_answered": true,
		"view_count": 986,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 57660450,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676671766,
		"creation_date": 1566828026,
		"last_edit_date": 1676671766,
		"question_id": 57659406,
		"link": "https://stackoverflow.com/questions/57659406/plot-axis-name-on-a-different-position-other-than-the-middle-of-the-axis",
		"title": "Plot axis name on a different position other than the middle of the axis",
		"body": "<p>I would like to use ggplot to plot a graph that looks similar to this, where the axis names (represented as the units) are shown along the axes instead of right in the middle of the axes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/0mkEy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mkEy.png\" alt=\"graph with units\"></a></p>\n\n<p>The only R way I can think of is to add a text object, but that may causes alignment inconsistencies if I want to display a few similar graphs together. Editing after the figure has been produced also does not seem elegant because the same editing software's font (say ppt editors) may not look the same as the same font in R. </p>\n\n<p>Is there another way to achieve this? Thanks in advance!</p>\n"
	}, {
		"tags": ["r", "igraph", "network-analysis"],
		"owner": {
			"reputation": 33,
			"user_id": 18012617,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e523e7255c59ec0691e5cf9f10dfe814?s=256&d=identicon&r=PG",
			"display_name": "poppiytt",
			"link": "https://stackoverflow.com/users/18012617/poppiytt"
		},
		"is_answered": false,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676671444,
		"creation_date": 1676472160,
		"question_id": 75461430,
		"link": "https://stackoverflow.com/questions/75461430/take-igraph-output-and-match-in-new-dataset-by-vertice-and-dataset-name",
		"title": "Take igraph output and match in new dataset by vertice and dataset name",
		"body": "<p>I have, what is to me, a rather complicated set of code to construct and I'd really appreciate some help figuring out the various pieces. Essentially, I have 200 different dataframes that will get turned into igraph objects and used for network analysis. The vertices in these networks are people and a person can appear in more than one network. So, I have about 500 <strong>pairs</strong> of networks and people. I've created some sample data of three networks and 6 different people below.</p>\n<pre><code>mat1&lt;-matrix(data=c(0,4,3,2,0, 1, 3, 4 ,0),nrow=3, ncol=3)\ncolnames(mat1)&lt;-c(&quot;Haley.A&quot;, &quot;Carl.F&quot;, &quot;Chris.P&quot;)\nmat1_graph&lt;-graph_from_adjacency_matrix(mat1,\n                                    weighted=TRUE, mode=&quot;directed&quot;, diag=FALSE)\n\nmat2&lt;-matrix(data=c(0,3,2,0),nrow=2, ncol=2)\ncolnames(mat2)&lt;-c(&quot;Tom.D&quot;, &quot;Chris.P&quot;)\nmat2_graph&lt;-graph_from_adjacency_matrix(mat2,\n                                        weighted=TRUE, mode=&quot;directed&quot;, diag=FALSE)\n\nmat3&lt;-matrix(data=c(0,3,2,1,3,0,5,2,4,4,0,2,1,1,4,0),nrow=4, ncol=4)\ncolnames(mat3)&lt;-c(&quot;Tom.D&quot;, &quot;Carl.F&quot;, &quot;Charles.L&quot;, &quot;Peter.Q&quot;)\nmat3_graph&lt;-graph_from_adjacency_matrix(mat3,\n                                        weighted=TRUE, mode=&quot;directed&quot;, diag=FALSE)\n</code></pre>\n<p>I have a data frame that I've created with every pairing of network name and person.\n*Note that in my actual data, the network names do NOT follow a naming pattern - they are very different names (unlike the example data of mat1, mat2, etc.)</p>\n<p>So, in the case of the example data, the dataframe I've generated would look like:</p>\n<pre><code>all_pairs&lt;-matrix(data=c(&quot;mat1&quot;, &quot;Haley.A&quot;, &quot;mat1&quot;,&quot;Carl.F&quot;, &quot;mat1&quot;,&quot;Chris.P&quot;, &quot;mat2&quot;, &quot;Tom.D&quot;, &quot;mat2&quot;,&quot;Chris.P&quot;, &quot;mat3&quot;, &quot;Tom.D&quot;, &quot;mat3&quot;,&quot;Carl.F&quot;, &quot;mat3&quot;,&quot;Charles.L&quot;, &quot;mat3&quot;,&quot;Peter.Q&quot;),nrow=9, ncol=2, byrow=TRUE)\ncolnames(all_pairs)&lt;-c(&quot;network_name&quot;, &quot;person_name&quot;)\nall_pairs&lt;-as.data.frame(all_pairs)\n\nprint(all_pairs)\n  network_name person_name\n1         mat1     Haley.A\n2         mat1      Carl.F\n3         mat1     Chris.P\n4         mat2       Tom.D\n5         mat2     Chris.P\n6         mat3       Tom.D\n7         mat3      Carl.F\n8         mat3   Charles.L\n9         mat3     Peter.Q\n</code></pre>\n<p>What I would like is to run the <em>degree</em> igraph command on each network and then put the output into the appropriate row for the person and network name match-up.</p>\n<p>So, theoretically if I ran <code>igraph::degree(mat1_graph, mode=c(&quot;all&quot;))</code> and receive this output</p>\n<pre><code>Haley.A  Carl.F Chris.P \n     4       4       4 \n</code></pre>\n<p>then I could create a column in the <em>all_pairs</em> dataframe and enter the information to look like this:</p>\n<pre><code>   network_name person_name  degree_all\n1          mat1     Haley.A    4\n2          mat1      Carl.F    4\n3          mat1     Chris.P    4\n4          mat2       Tom.D    NA\n5          mat2     Chris.P    NA\n6          mat3       Tom.D    NA\n7          mat3      Carl.F    NA\n8          mat3   Charles.L    NA\n9          mat3     Peter.Q    NA\n</code></pre>\n<p>This would continue for each dataframe and network name/person pair. I'm struggling with how to set up code that would store these values from the igraph package into a dataframe based on the vertice name and dataframe name. I'll then need to do this for every dataset, which I was thinking of using <em>lapply</em> for, but am open to better ideas about as well.</p>\n<p>Would greatly appreciate any advice and ideas about this puzzle! Thank you in advance.</p>\n"
	}, {
		"tags": ["r", "dplyr", "group-by"],
		"owner": {
			"reputation": 11,
			"user_id": 18082979,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b1680323422b9d63761c1f4fb40e754c?s=256&d=identicon&r=PG",
			"display_name": "ac_wildlife",
			"link": "https://stackoverflow.com/users/18082979/ac-wildlife"
		},
		"is_answered": true,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676671385,
		"creation_date": 1676670543,
		"question_id": 75489512,
		"link": "https://stackoverflow.com/questions/75489512/how-to-find-the-proportion-of-zeros-for-each-column-of-a-data-frame-within-each",
		"title": "How to find the proportion of zeros for each column of a data frame within each group in R",
		"body": "<p>I have a data frame (example below) with a &quot;range&quot; column and many &quot;var&quot; columns. I need to find the proportion of zeros in each &quot;var&quot; column within each &quot;range&quot; group. The end goal is to create a graph for each var column showing where the proportion of zeros increases with range. However, I am getting stuck just trying to find the proportion of zeros.</p>\n<p>Here is an example dataset (note the inclusion of NA values):</p>\n<pre><code>      id &lt;- seq(16)\n      range &lt;- c(1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4)\n      var1 &lt;- c(40,1.2,0,0, 1.5,1.6,NA,NA,6,0,9,3,4,0,0,0)\n      var2 &lt;- c(20,6,7,11, 0,0,0,0,NA,2,3,3,6,9,9,0)\n      var3 &lt;- c(4,6,0,11, 9,8,7,0,NA,NA,NA,NA,0,0,9,8)\n      var4 &lt;- c(NA,0,0,NA, 4,6,7,0,0,0,0,0,0,0,9,8)\n      df &lt;- data.frame(id, range, var1, var2, var3, var4)\n</code></pre>\n<p>I tried creating a loop to calculate the proportion of zeros for each each column, using the group_by() function in dplyr, and then using mutate() to add a column for the proportion, but I do not know how to use an indexed value to signify my ith column in mutate:</p>\n<pre><code>    for(i in 3:length(ncol(df))){\n    df_new&lt;-df[ , c(1:2,i)]%&gt;%\n    group_by(range)%&gt;%\n    mutate(prop_zero = sum(names(df[,i])==0, na.rm = TRUE)/sum(names(df[,i]))\n    }\n</code></pre>\n<p>I know there are many things wrong with this, but I am not sure how to proceed. Thank you in advance.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "tidyverse", "axis", "title"],
		"owner": {
			"reputation": 39,
			"user_id": 16069949,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a20a896b71a4821f915cafef5857d114?s=256&d=identicon&r=PG&f=1",
			"display_name": "Gaspar",
			"link": "https://stackoverflow.com/users/16069949/gaspar"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676671681,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676671298,
		"creation_date": 1676671081,
		"question_id": 75489579,
		"link": "https://stackoverflow.com/questions/75489579/change-axis-title-position-in-ggplot2",
		"closed_reason": "Duplicate",
		"title": "Change axis title position in {ggplot2}",
		"body": "<p>The axis titles are normally centered over the axis themselves. How can I change the positions? For example, I want my y-axis title to be on top of the y-axis, and the x-axis title to be on the right of the x-axis. Does anybody know how to do it in R with <code>ggplot2</code>?</p>\n"
	}, {
		"tags": ["javascript", "r", "jspdf", "rhandsontable", "dom-to-image"],
		"owner": {
			"reputation": 3,
			"user_id": 10952882,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1d2f02b438fba9fec7bb523f61073a07?s=256&d=identicon&r=PG&f=1",
			"display_name": "delidouble",
			"link": "https://stackoverflow.com/users/10952882/delidouble"
		},
		"is_answered": true,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75489581,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676671090,
		"creation_date": 1676073364,
		"question_id": 75417190,
		"link": "https://stackoverflow.com/questions/75417190/ways-to-capture-r-shiny-handsontable-in-a-jspdf-printout-without-corruption",
		"title": "Ways to capture r shiny Handsontable in a jspdf printout without corruption",
		"body": "<p>I've been working of a reporting feature for an app. It has several small tables that I have been copying over with dom-to-image in jsPDF.</p>\n<pre><code>var image = new Image();\n  var node;\nnode = document.getElementById(&quot;Table1&quot;);\n    await domtoimage.toPng(node)\n    .then(function (DataURL){\n      doc.addImage(DataURL, &quot;PNG&quot;, 23, 123, node.clientWidth/4.875, node.clientHeight/4.875);\n    });\n</code></pre>\n<p>Recently the images that the tables are have been showing up corrupted with sections edited out. Is there a handsontable js call like in plotly to copy over the table as a data URL?</p>\n<pre><code>image = await Plotly.toImage(&quot;graph1&quot;);\n    doc.addImage(image, &quot;JPEG&quot;, 12.5, 22.5, 180, 100);\n</code></pre>\n<p>Or an easier way to prevent the images from being corrupted?\nI was recently using html2canvas but the speed and memory usage would crash Chrome and Firefox whenever I would generate a report.</p>\n<p>I have changed around the image type dom-to-image pulls, from PNG to JPEG, and Blob as well. I have edited my CSS file to remove any chance these charts and tables would overlat in the app interface as another safety measure as well.</p>\n"
	}, {
		"tags": ["r", "embed", "mp4", "officer"],
		"owner": {
			"reputation": 1,
			"user_id": 10183205,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3a68b813678c8c6a15cccf4906390079?s=256&d=identicon&r=PG&f=1",
			"display_name": "stat12000",
			"link": "https://stackoverflow.com/users/10183205/stat12000"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676670865,
		"creation_date": 1676670865,
		"question_id": 75489547,
		"link": "https://stackoverflow.com/questions/75489547/with-the-officer-package-is-there-a-way-to-loop-in-a-list-of-mp4-files-into-a",
		"title": "With the officer package is there a way to loop in a list of mp4 files into a *.docx file?",
		"body": "<p>I need to import a random number of mp4 files into k *.docx patient profiles. I set up the mp4 files as a list, subsetted the list for the desired mp4 files, extracted file name information, and created a for loop to iterate over each file.</p>\n<pre><code>###########################################################################\n###########################################################################\n##### generate list of available case images (mp4)\n\nfileLst2 &lt;- list.files(path = rawData, \n                  pattern = &quot;*.mp4&quot;, \n                  all.files = FALSE,\n                  full.names = TRUE, \n                  recursive = TRUE,\n                  ignore.case = FALSE, \n                  include.dirs = TRUE, \n                  no.. = FALSE)\n\nfileLst2 &lt;- data.table(subset( fileLst2 , regexpr( &quot;therapy logs&quot;, fileLst2 ) %in% -1))\nfileLst2 &lt;- setDT(tstrsplit(as.character(fileLst2$V1), &quot;/&quot;, fixed=TRUE))[]\nfileLst2[,USUBJID := ifelse( substr(V10,1,2) %in% c(&quot;00&quot;,&quot;10&quot;) , substr(V10,1,7) , &quot;&quot; )]\nfileLst2 &lt;- merge(fileLst2 , temp , by = &quot;USUBJID&quot; , all.x = TRUE)\nfileLst2 &lt;- subset( fileLst2 , USUBJID != &quot;&quot; )\nfileLst2[,fileName := paste0( V1,&quot;/&quot;,V2,&quot;/&quot;,V3,&quot;/&quot;,V4,&quot;/&quot;,V5,&quot;/&quot;,V6,&quot;/&quot;,V7,&quot;/&quot;,V8 ,&quot;/&quot;,V9,&quot;/&quot;,V10)]\nfileLst2 &lt;- subset( fileLst2 , select = -c(V1 , V2 , V3 , V4 , V5 , V6 , V7))\n\n#### most of the code to export one mp4 per page -- this code works fine for importing jpg images\n\nlst &lt;- subset( fileLst2 , ordId %in% jj)\nlst[,jj := seq(.N)]\n\ndoc &lt;- body_add_break(my_doc)\n\nfor(m in 1:max(lst$jj)){\n\n    uu   &lt;- subset( lst , jj %in% m)        \n\n            # generate cosmetic details for describing each mp4\n\n    qqu  &lt;- uu\n    qqu  &lt;- setDT(tstrsplit(as.character(qqu$fileName), &quot;/&quot;, fixed=TRUE))[]\n\n    line1  &lt;- paste( max(qqu$V8), &quot;MP4 for&quot; , max(qqu$V9) )\n    line1  &lt;- gsub(&quot;CXR Repos&quot;,&quot;CXR Repositioning&quot; , line1)\n    line1  &lt;- gsub(&quot;CXR Arrival&quot;,&quot;CXR on Arrival&quot; , line1)\n    line1  &lt;- gsub(&quot;case Image &quot;,&quot;Case Image &quot; , line1)\n    \n    line2  &lt;- paste( &quot;File Name:&quot; , max(qqu$V10) )\n    \n    fpar1  &lt;- fpar(ftext( paste(line1) , prop = textFmt1 ))\n    fpar2  &lt;- fpar(ftext( paste(line2) , prop = textFmt1 ))\n    \n    line3  &lt;- paste( &quot;&quot;)\n    fpar3  &lt;- fpar(ftext( paste(line3) , prop = textFmt1 ))\n    \n    my_doc &lt;- body_add_fpar( my_doc , fpar1)\n    my_doc &lt;- body_add_fpar( my_doc , fpar2)\n    my_doc &lt;- body_add_fpar( my_doc , fpar3)\n    my_doc &lt;- body_add_video( my_doc , src = uu$fileName , width = 6 , height = 6)\n    doc &lt;- body_add_break(my_doc)\n\n}\n\nprint(my_doc, target=paste0(qcOutput,&quot;/&quot;,&quot;urine&quot;,&quot;/&quot;,&quot;urine_profile_&quot;,max(vv$USUBJID),&quot;.docx&quot; ))\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 6381,
			"user_id": 6447399,
			"user_type": "registered",
			"accept_rate": 54,
			"profile_image": "https://www.gravatar.com/avatar/46f7288222024483b021c1c106c2f0cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "user113156",
			"link": "https://stackoverflow.com/users/6447399/user113156"
		},
		"is_answered": true,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75489509,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676670526,
		"creation_date": 1676669899,
		"question_id": 75489458,
		"link": "https://stackoverflow.com/questions/75489458/getting-cutoff-values-for-each-ntile-group",
		"title": "Getting cutoff values for each ntile group",
		"body": "<p>I have some data which looks like:</p>\n<pre><code># A tibble: 52 \u00d7 3\n   provincia     mean_price number_properties\n   &lt;chr&gt;              &lt;dbl&gt;             &lt;int&gt;\n 1 A Coru\u00f1a         179833.              2508\n 2 Albacete         148584.              1311\n 3 Alicante         418148.             22676\n 4 Almer\u00eda          142338.              3902\n 5 Araba - \u00c1lava    243705.               786\n</code></pre>\n<p>I am trying to compute the <code>ntiles</code> of the data which I can do.</p>\n<pre><code>df %&gt;% \n  mutate(\n    bins = ntile(mean_price, 5)\n  )\n</code></pre>\n<p>So, I want to bin the data into 5 groups. However, I also would like to extract the cutoff points that were used to create each bin. I know the <code>quantiles</code> function would get me what I wanted but I have to pass it <code>52</code> as an input parameter (number of observations I have)- However, I would like to have just 5 groups.</p>\n<p>Code:</p>\n<pre><code>x = df %&gt;% \n  mutate(\n    bins = ntile(mean_price, 52),\n    bins_cutpoints = quantile(mean_price, probs = seq(0, 1, length.out = 52), na.rm = TRUE)\n  )\n</code></pre>\n<p>How can I get the values for the cutoffs from the <code>mean_price</code> column for each <code>ntile</code>?</p>\n<p>Data:</p>\n<pre><code>df &lt;- structure(list(provincia = c(&quot;A Coru\u00f1a&quot;, &quot;Albacete&quot;, &quot;Alicante&quot;, \n&quot;Almer\u00eda&quot;, &quot;Araba - \u00c1lava&quot;, &quot;Asturias&quot;, &quot;Badajoz&quot;, &quot;Barcelona&quot;, \n&quot;Bizkaia&quot;, &quot;Burgos&quot;, &quot;Cantabria&quot;, &quot;Castell\u00f3n&quot;, &quot;Ceuta&quot;, &quot;Ciudad Real&quot;, \n&quot;Cuenca&quot;, &quot;C\u00e1ceres&quot;, &quot;C\u00e1diz&quot;, &quot;C\u00f3rdoba&quot;, &quot;Gipuzkoa&quot;, &quot;Girona&quot;, \n&quot;Granada&quot;, &quot;Guadalajara&quot;, &quot;Huelva&quot;, &quot;Huesca&quot;, &quot;Illes Balears&quot;, \n&quot;Ja\u00e9n&quot;, &quot;La Rioja&quot;, &quot;Las Palmas&quot;, &quot;Le\u00f3n&quot;, &quot;Lleida&quot;, &quot;Lugo&quot;, \n&quot;Madrid&quot;, &quot;Melilla&quot;, &quot;Murcia&quot;, &quot;M\u00e1laga&quot;, &quot;Navarra&quot;, &quot;Ourense&quot;, \n&quot;Palencia&quot;, &quot;Pontevedra&quot;, &quot;Salamanca&quot;, &quot;Santa Cruz de Tenerife&quot;, \n&quot;Segovia&quot;, &quot;Sevilla&quot;, &quot;Soria&quot;, &quot;Tarragona&quot;, &quot;Teruel&quot;, &quot;Toledo&quot;, \n&quot;Valencia&quot;, &quot;Valladolid&quot;, &quot;Zamora&quot;, &quot;Zaragoza&quot;, &quot;\u00c1vila&quot;), mean_price = c(179833.167862839, \n148583.87109077, 418148.151437643, 142337.792926704, 243704.750636132, \n149179.732438607, 147802.894486692, 462813.775190776, 286461.604484305, \n134635.540239044, 201214.437926878, 139819.15323646, 204318.181818182, \n113856.401715511, 116992.998609179, 143137.441025641, 251270.65520481, \n166586.746650426, 340663.440746753, 365733.360551724, 219325.194605466, \n173221.569037657, 142430.992912371, 141754.603535354, 749037.540922619, \n131396.292428198, 160838.235963581, 656553.777123633, 140312.919506463, \n160485.155614973, 129787.667711599, 433665.652781242, 234306.12244898, \n188635.237652749, 687127.622056842, 197388.050991501, 137829.640394089, \n123450.853813559, 230344.604904632, 159999.046077894, 328912.419004007, \n184829.536144578, 180692.511036468, 155759.235955056, 193651.956693536, \n128909.006756757, 132623.629553967, 177825.529404212, 165240.297002725, \n116820.125531915, 164934.932635983, 124977.724215247), number_properties = c(2508L, \n1311L, 22676L, 3902L, 786L, 3502L, 2104L, 35906L, 3345L, 1255L, \n2489L, 4542L, 44L, 1399L, 719L, 1170L, 5322L, 5747L, 1232L, 7250L, \n16906L, 956L, 1552L, 396L, 5376L, 1915L, 1318L, 2378L, 1702L, \n1870L, 638L, 16036L, 49L, 7856L, 15587L, 706L, 1421L, 472L, 2569L, \n1823L, 3494L, 498L, 6252L, 89L, 6327L, 296L, 2937L, 15576L, 1468L, \n470L, 2390L, 446L)), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, \n-52L))\n</code></pre>\n"
	}, {
		"tags": ["r", "d3.js", "plotly"],
		"owner": {
			"reputation": 211,
			"user_id": 5974260,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b9fa935530c92485b3168b2f7008b491?s=256&d=identicon&r=PG&f=1",
			"display_name": "DLo",
			"link": "https://stackoverflow.com/users/5974260/dlo"
		},
		"is_answered": true,
		"view_count": 3438,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 4,
		"score": 2,
		"last_activity_date": 1676669038,
		"creation_date": 1457479860,
		"last_edit_date": 1457480479,
		"question_id": 35880139,
		"link": "https://stackoverflow.com/questions/35880139/multiple-y-axis-on-graph-not-aligned",
		"title": "Multiple Y-axis on graph not aligned",
		"body": "<p><a href=\"https://i.stack.imgur.com/8HfTb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8HfTb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I created a graph through R's Plotly library.\nThe graph has 2 y-axis's and everything looks fine, except that the y-axis's are misaligned. \nHow do I \"realign\" it?</p>\n"
	}, {
		"tags": ["r", "file-structure"],
		"owner": {
			"reputation": 583,
			"user_id": 12032850,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/55852ff1b77765e9a0c2806b8ecc54a9?s=256&d=identicon&r=PG&f=1",
			"display_name": "seansteele",
			"link": "https://stackoverflow.com/users/12032850/seansteele"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676668838,
		"creation_date": 1676650559,
		"last_edit_date": 1676663098,
		"question_id": 75486749,
		"link": "https://stackoverflow.com/questions/75486749/how-to-use-source-in-a-rmd-file-when-accessing-code-from-multiple-folders",
		"title": "How to use source() in a .Rmd file when accessing code from multiple folders?",
		"body": "<p>I've started to explore calling and reusing code snippets in various .Rmd projects. I'm running into issues though with the working directory not being able to access the correct files.</p>\n<p>Take this file structure, for instance:</p>\n<pre><code>R/\n\u251c\u2500 code/\n\u2502  \u251c\u2500 compile_data.R\n\u251c\u2500 my_functions/\n\u2502  \u251c\u2500 function_01.R\n\u251c\u2500 report/\n\u2502  \u251c\u2500 report.Rmd\n\n</code></pre>\n<p>When running the <code>report.Rmd</code> file I have an option to recompile the underlying data with <code>compile_data.R</code> as such:</p>\n<pre><code>recompile &lt;- TRUE\n\nif (recompile == TRUE) {\n  source(&quot;../code/compile_data.R&quot;)\n}\n</code></pre>\n<p>This call works as expected, but fails when <code>compile_data.R</code> script tries to call a custom function via</p>\n<pre><code>source('R/my_functionfunctions/function_01.R')\n</code></pre>\n<p>I'm assuming I need to change my working directory somewhere but not sure where to do it so that I can access the <code>code</code> files from anywhere without breaking the sub-calls to other scripts.</p>\n"
	}, {
		"tags": ["r", "subset", "survey", "subsampling"],
		"owner": {
			"reputation": 67,
			"user_id": 12743387,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4bf754a3ff4d2163ecb1a6c9388fc33a?s=256&d=identicon&r=PG&f=1",
			"display_name": "Kamaloka",
			"link": "https://stackoverflow.com/users/12743387/kamaloka"
		},
		"is_answered": false,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676668814,
		"creation_date": 1676564673,
		"last_edit_date": 1676668814,
		"question_id": 75475176,
		"link": "https://stackoverflow.com/questions/75475176/reweight-observations-after-subsampling",
		"title": "Reweight observations after subsampling",
		"body": "<p>I have a dataset containing a weight column, which I would like to subset while adjusting these weights to keep it representative of the original dataset. <br>\nLet us say I have the dataframe : <br></p>\n<pre><code>data.frame(Age=c(10,20,30,25,50,60,40),\n           Country=c(&quot;Germany&quot;,&quot;Germany&quot;,&quot;Germany&quot;,&quot;China&quot;,&quot;China&quot;,&quot;China&quot;,&quot;China&quot;),\n           Class=c(&quot;A&quot;, &quot;B&quot;, NA, NA, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;),\n           Weight=c(1.1, 0.8, 1.2, 1.7, 0.7, 1.3, 0.9))\n</code></pre>\n<p>I would like to remove <code>NA</code> rows in the column <code>Class</code>, and update the <code>Weight</code> column to keep my sample representative of the original dataset given the columns <code>Age</code> and <code>Country</code>. (The above dataframe may be too small for such question, but this is just for illustration).</p>\n"
	}, {
		"tags": ["r", "curl", "renv"],
		"owner": {
			"reputation": 1,
			"user_id": 21180922,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5cd3adafdddba4225aec51f9737ad2ef?s=256&d=identicon&r=PG",
			"display_name": "dleibo",
			"link": "https://stackoverflow.com/users/21180922/dleibo"
		},
		"is_answered": false,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676668699,
		"creation_date": 1676560974,
		"last_edit_date": 1676561168,
		"question_id": 75474384,
		"link": "https://stackoverflow.com/questions/75474384/renv-fails-on-install-packages-and-restore",
		"title": "renv fails on install.packages() and restore()",
		"body": "<p>In both new (dummy) packages and mature packages with <code>renv</code> already initialized, <code>renv</code> fails on <code>install.packages()</code> and <code>restore()</code>.</p>\n<p><em>Note: to avoid tripping the spam filter, I've replaced all instances of 'https://' with 'web.'</em></p>\n<p>Failure on <code>install.packages()</code>, with, e.g., <code>dplyr</code>:</p>\n<pre><code>&gt; install.packages(&quot;dplyr&quot;)\nRetrieving 'web.cloud.r-project.org/bin/macosx/contrib/4.2/dplyr_1.1.0.tgz' ...\n    OK [downloaded 1.5 Mb in 0.4 secs]\nRetrieving 'web.cloud.r-project.org/bin/macosx/contrib/4.2/cli_3.6.0.tgz' ...\n    OK [file is up to date]\n\n[...]\n\nRetrieving 'web.cloud.r-project.org/bin/macosx/contrib/4.2/withr_2.5.0.tgz' ...\n    OK [file is up to date]\nInstalling cli [3.6.0] ...\n    FAILED\nError in if (eval(cond, envir = environment(dot))) return(eval(expr, envir = environment(dot))) : \n  the condition has length &gt; 1\nIn addition: Warning message:\nIn system2(R(), args, stdout = TRUE, stderr = TRUE) :\n  running command ''/Library/Frameworks/R.framework/Resources/bin/R' CMD config CC 2&gt;&amp;1' had status 71\n</code></pre>\n<p>Failure on <code>renv::restore()</code>:</p>\n<pre><code>&gt; renv::restore()\nThe following package(s) will be updated:\n\n# CRAN ===============================\n- KernSmooth            [2.23-20 -&gt; 2.23-18]\n- MASS                  [7.3-58.2 -&gt; 7.3-53.1]\n\n[...]\n\n- zip                   [* -&gt; 2.2.2]\n\n# GitHub =============================\n- staged.dependencies   [* -&gt; remoteproject/staged.dependencies@HEAD]\n\nDo you want to proceed? [y/N]: y\n* Querying repositories for available binary packages ... Done!\n* Querying repositories for available source packages ... Done!\nRetrieving 'web.cran.microsoft.com/snapshot/2021-03-31/src/contrib/boot_1.3-27.tar.gz' ...\n    OK [file is up to date]\nRetrieving 'web.cran.microsoft.com/snapshot/2021-03-31/src/contrib/class_7.3-18.tar.gz' ...\n    OK [file is up to date]\n\n[...]\n\nRetrieving 'web.cran.microsoft.com/snapshot/2021-03-31/src/contrib/visNetwork_2.0.9.tar.gz' ...\n    OK [file is up to date]\nInstalling boot [1.3-27] ...\n    FAILED\nError in if (eval(cond, envir = environment(dot))) return(eval(expr, envir = environment(dot))) : \n  the condition has length &gt; 1\nIn addition: Warning messages:\n1: could not retrieve available packages for url 'web.cran.microsoft.com/snapshot/2021-03-31/bin/macosx/contrib/4.2' \n2: In system2(R(), args, stdout = TRUE, stderr = TRUE) :\n  running command ''/Library/Frameworks/R.framework/Resources/bin/R' CMD config CC 2&gt;&amp;1' had status 71\n</code></pre>\n<p>Session info:</p>\n<pre><code>&gt; sessionInfo()\n\nR version 4.2.1 (2022-06-23)\nPlatform: x86_64-apple-darwin17.0 (64-bit)\nRunning under: macOS Big Sur ... 10.16\n\nMatrix products: default\nLAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nloaded via a namespace (and not attached):\n[1] MASS_7.3-58.2  compiler_4.2.1 tools_4.2.1    renv_0.16.0 \n</code></pre>\n<p>Judging from answers here and in other forums, the following <em>might</em> be useful information:</p>\n<ol>\n<li>Output from <code>getOption(&quot;repos&quot;)</code>:</li>\n</ol>\n<pre><code>&gt; getOption(&quot;repos&quot;)\n                                            CRAN                                             MRAN \n                   &quot;web.cloud.r-project.org&quot; &quot;web.cran.microsoft.com/snapshot/2021-03-31&quot; \n</code></pre>\n<ol start=\"2\">\n<li>Output from installing directly from <code>utils</code> package:</li>\n</ol>\n<pre><code>&gt; utils::install.packages(&quot;dplyr&quot;)\n\nInstalling package into \u2018/Users/dlei/Library/Caches/org.R-project.R/R/renv/library/project-01109165/R-4.2/x86_64-apple-darwin17.0\u2019\n(as \u2018lib\u2019 is unspecified)\nalso installing the dependencies \u2018fansi\u2019, \u2018utf8\u2019, \u2018pkgconfig\u2019, \u2018withr\u2019, \u2018cli\u2019, \u2018generics\u2019, \u2018glue\u2019, \u2018lifecycle\u2019, \u2018magrittr\u2019, \u2018pillar\u2019, \u2018R6\u2019, \u2018rlang\u2019, \u2018tibble\u2019, \u2018tidyselect\u2019, \u2018vctrs\u2019\n\nWarning: unable to access index for repository web.cran.microsoft.com/snapshot/2021-03-31/bin/macosx/contrib/4.2:\n  cannot open URL 'web.cran.microsoft.com/snapshot/2021-03-31/bin/macosx/contrib/4.2/PACKAGES'\n\ntrying URL 'web.cloud.r-project.org/bin/macosx/contrib/4.2/fansi_1.0.4.tgz'\nContent type 'application/x-gzip' length 364195 bytes (355 KB)\n==================================================\ndownloaded 355 KB\n\ntrying URL 'web.cloud.r-project.org/bin/macosx/contrib/4.2/utf8_1.2.3.tgz'\nContent type 'application/x-gzip' length 196823 bytes (192 KB)\n==================================================\ndownloaded 192 KB\n\n[...]\n\nThe downloaded binary packages are in\n    /var/folders/41/y38m8sw12871hpn_5nl9y88m0000gn/T//RtmpIwcHeu/downloaded_packages\n</code></pre>\n<ol start=\"3\">\n<li>Output from <code>renv::diagnostics()</code>:</li>\n</ol>\n<pre><code>&gt; renv::diagnostics()\nDiagnostics Report [renv 0.16.0]\n================================\n\n# Session Info =======================\nR version 4.2.1 (2022-06-23)\nPlatform: x86_64-apple-darwin17.0 (64-bit)\nRunning under: macOS Big Sur ... 10.16\n\nMatrix products: default\nLAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nloaded via a namespace (and not attached):\n[1] MASS_7.3-58.2  compiler_4.2.1 tools_4.2.1    renv_0.16.0   \n\n# Project ============================\nProject path: &quot;~/Desktop/Git_Repos/project&quot;\n\n# Status =============================\nThe following package(s) do not appear to be used in this project:\n               _\n  BH             [1.75.0-0]\n  KernSmooth     [2.23-18]\n  [...]\n  zip            [2.2.2]\n\nUse `renv::snapshot()` to remove them from the lockfile.\n\nThe following package(s) are recorded in the lockfile, but not installed:\n                      _\n  DT                    [0.17]\n  covr                  [3.5.1]\n  [...]\n  staged.dependencies   [remoteproject/staged.dependencies@HEAD]\n  usethis               [2.1.6]\n\nUse `renv::restore()` to install these packages.\n\nThe following package(s) are out of sync:\n\n    Package   Lockfile Version   Library Version\n         R6              2.5.0             2.5.1\n        cli              3.4.1             3.6.0\n      [...]\n      vctrs              0.5.0             0.5.2\n\nUse `renv::snapshot()` to save the state of your library to the lockfile.\nUse `renv::restore()` to restore your library from the lockfile.\n\nThe following package(s) are used in the project, but are not installed:\n\n    project.test\n    projectdev\n\nConsider installing these packages, and then using `renv::snapshot()`\nto record these packages in the lockfile.\n\n\n# Packages ===========================\n                     Library Source Lockfile Source Path Dependency\nBH                      &lt;NA&gt;   &lt;NA&gt; 1.75.0-0   CRAN &lt;NA&gt;       &lt;NA&gt;\nDT                      &lt;NA&gt;   &lt;NA&gt;     0.17   CRAN &lt;NA&gt;     direct\n[...]\nzip                     &lt;NA&gt;   &lt;NA&gt;    2.2.2   CRAN &lt;NA&gt;       &lt;NA&gt;\n\n[1]: /Users/dlei/Library/Caches/org.R-project.R/R/renv/library/project-01109165/R-4.2/x86_64-apple-darwin17.0\n[2]: /Users/dlei/Desktop/Git_Repos/project/renv/sandbox/R-4.2/x86_64-apple-darwin17.0/84ba8b13               \n\n# ABI ================================\n* No ABI conflicts were detected in the set of installed packages.\n\n# User Profile =======================\n[no user profile detected]\n\n# Settings ===========================\nList of 10\n $ bioconductor.version     : chr(0) \n $ external.libraries       : chr(0) \n $ ignored.packages         : chr(0) \n $ package.dependency.fields: chr [1:3] &quot;Imports&quot; &quot;Depends&quot; &quot;LinkingTo&quot;\n $ r.version                : chr(0) \n $ snapshot.type            : chr &quot;implicit&quot;\n $ use.cache                : logi TRUE\n $ vcs.ignore.cellar        : logi TRUE\n $ vcs.ignore.library       : logi TRUE\n $ vcs.ignore.local         : logi TRUE\n\n# Options ============================\nList of 9\n $ defaultPackages                     : chr [1:6] &quot;datasets&quot; &quot;utils&quot; &quot;grDevices&quot; &quot;graphics&quot; ...\n $ download.file.method                : chr &quot;libcurl&quot;\n $ download.file.extra                 : NULL\n $ install.packages.compile.from.source: chr &quot;interactive&quot;\n $ pkgType                             : chr &quot;both&quot;\n $ repos                               : Named chr [1:2] &quot;web.cloud.r-project.org&quot; &quot;web.cran.microsoft.com/snapshot/2021-03-31&quot;\n  ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;CRAN&quot; &quot;MRAN&quot;\n $ renv.consent                        : logi TRUE\n $ renv.project.path                   : chr &quot;/Users/dlei/Desktop/Git_Repos/project&quot;\n $ renv.verbose                        : logi TRUE\n\n# Environment Variables ==============\nHOME                        = /Users/dlei\nLANG                        = en_CA.UTF-8\nMAKE                        = make\nR_LIBS                      = &lt;NA&gt;\nR_LIBS_SITE                 = /Library/Frameworks/R.framework/Resources/site-library\nR_LIBS_USER                 = /Users/dlei/Library/Caches/org.R-project.R/R/renv/library/project-01109165/R-4.2/x86_64-apple-darwin17.0:/Users/dlei/Desktop/Git_Repos/project/renv/sandbox/R-4.2/x86_64-apple-darwin17.0/84ba8b13\nRENV_DEFAULT_R_ENVIRON      = &lt;NA&gt;\nRENV_DEFAULT_R_ENVIRON_USER = &lt;NA&gt;\nRENV_DEFAULT_R_LIBS         = &lt;NA&gt;\nRENV_DEFAULT_R_LIBS_SITE    = /Library/Frameworks/R.framework/Resources/site-library\nRENV_DEFAULT_R_LIBS_USER    = /Users/dlei/Library/R/x86_64/4.2/library\nRENV_DEFAULT_R_PROFILE      = &lt;NA&gt;\nRENV_DEFAULT_R_PROFILE_USER = &lt;NA&gt;\nRENV_PROJECT                = /Users/dlei/Desktop/Git_Repos/project\n\n# PATH ===============================\n- /usr/local/bin\n- /usr/bin\n- /bin\n- /usr/sbin\n- /sbin\n- /Library/TeX/texbin\n- \n- /Applications/RStudio.app/Contents/MacOS/postback\n\n# Cache ==============================\nThere are a total of 0 package(s) installed in the renv cache.\nCache path: &quot;~/Library/Caches/org.R-project.R/R/renv/cache/v5/R-4.2/x86_64-apple-darwin17.0&quot;\n\n</code></pre>\n<ol start=\"4\">\n<li>Output of <code>getOption(&quot;download.file.method&quot;)</code>:</li>\n</ol>\n<pre><code>&gt; getOption(&quot;download.file.method&quot;)\n[1] &quot;libcurl&quot;\n</code></pre>\n<ol start=\"5\">\n<li>Output of <code>renv:::renv_download_method()</code>:</li>\n</ol>\n<pre><code>&gt; renv:::renv_download_method()\n[1] &quot;curl&quot;\n</code></pre>\n<ol start=\"6\">\n<li>As per recommendation in the <a href=\"https://community.rstudio.com/t/cant-install-packages-with-renv/96696/4\" rel=\"nofollow noreferrer\">RStudio community forum</a>, I've tried setting <code>renv</code>'s download method from curl to libcurl, but get a similar error:</li>\n</ol>\n<pre><code>&gt; install.packages(&quot;dplyr&quot;)\nRetrieving 'web.cloud.r-project.org/bin/macosx/contrib/4.2/dplyr_1.1.0.tgz' ...\n    OK [downloaded 1.5 Mb in 0.3 secs]\nInstalling dplyr [1.1.0] ...\n    FAILED\nError in if (eval(cond, envir = environment(dot))) return(eval(expr, envir = environment(dot))) : \n  the condition has length &gt; 1\nIn addition: Warning messages:\n1: could not retrieve available packages for url 'web.cran.microsoft.com/snapshot/2021-03-31/bin/macosx/contrib/4.2' \n2: In system2(R(), args, stdout = TRUE, stderr = TRUE) :\n  running command ''/Library/Frameworks/R.framework/Resources/bin/R' CMD config CC 2&gt;&amp;1' had status 71\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "filter"],
		"owner": {
			"reputation": 1,
			"user_id": 21186451,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/70fb0a5edad83ec1e5c64c75704cc27a?s=256&d=identicon&r=PG",
			"display_name": "Tripti Verma",
			"link": "https://stackoverflow.com/users/21186451/tripti-verma"
		},
		"is_answered": false,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676668323,
		"creation_date": 1676627010,
		"last_edit_date": 1676627163,
		"question_id": 75482563,
		"link": "https://stackoverflow.com/questions/75482563/removing-rows-based-on-conditions-in-r",
		"title": "removing rows based on conditions in R",
		"body": "<p>For my research, I have to remove certain trials to limit contamination in the data. Here are the rules:</p>\n<p>Remove the first trial.</p>\n<ol>\n<li><p>For RT calculation, remove error trials (trials with 0, trials with 1 are corrects trials) and trials following an error. Say, we have 20 trials and 3 errors, we have to remove 6 trials from the final data, i.e., mean RT will be calculated from 14 trials. If the errors are in a row, say 3 errors in a row, RT will be calculated based on 17 trials.</p>\n</li>\n<li><p>For error rate calculation, remove trials following an error. Say, we have 20 trials and 3 errors, we have to remove 3 trials following errors from the final data, i.e., error rate will be calculated by 3/17. If the errors are in a row, say 3 errors in a row, only the first error retains and the next two errors are excluded, so the error rate will be calculated by 1/18.</p>\n</li>\n</ol>\n<p>I am new to R. I hope someone can help me with the script. Thanx in advance</p>\n<pre><code>trial_no  correct\n1   1\n2   1\n3   1\n4   1\n5   1\n6   1\n7   1\n8   1\n9   1\n10  1\n11  1\n14  0\n15  1\n16  1\n17  1  \n18  1\n19  0\n20  1\n21  1\n22  1\n23  0\n24  0\n25  1\n26  1\n27  1\n28  1\n29  1\n30  1\n31  1\n32  0\n33  0\n34  1\n35  1\n36  1\n37  1\n38  1\n39  0\n40  1\n</code></pre>\n"
	}, {
		"tags": ["r", "officer"],
		"owner": {
			"reputation": 10833,
			"user_id": 372526,
			"user_type": "registered",
			"accept_rate": 93,
			"profile_image": "https://www.gravatar.com/avatar/1ffade2b226578a12a4b0d949e5199ee?s=256&d=identicon&r=PG&f=1",
			"display_name": "Parseltongue",
			"link": "https://stackoverflow.com/users/372526/parseltongue"
		},
		"is_answered": false,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676667761,
		"creation_date": 1676667761,
		"question_id": 75489200,
		"link": "https://stackoverflow.com/questions/75489200/using-officer-how-do-i-merge-all-word-documents-in-a-given-directory-together",
		"title": "Using officer, how do I merge all Word documents in a given directory together",
		"body": "<p>I'm trying to merge all word documents in a given directory together using the officer library in R. I can't quite figure out how to do this, though. Here's my attempt</p>\n<pre><code># Directory where your .docx files are located\ndir &lt;- &quot;../../Word_Docs&quot;\n\n# Get a list of all .docx files in the directory\ndocx_files &lt;- list.files(dir, pattern = &quot;.docx$&quot;, full.names = T)\n\n# Create an empty Word document to hold the merged contents\ndoc1 &lt;- read_docx()\n\n# Loop through each .docx file and append its contents to doc1\nfor (file in docx_files) {\n  print(file)\n  doc &lt;- read_docx(file)\n  doc1 &lt;- doc1 %&gt;% body_add_par(doc)\n}\n\n# Print the final merged document to a new .docx file\nprint(doc1, target = &quot;../../Tables/Final-Output.docx&quot;)\n</code></pre>\n<p>I'm getting the error: Error: <code>x</code> must be a string of length 1</p>\n<p>Any thoughts?</p>\n"
	}, {
		"tags": ["r", "web-scraping", "rvest"],
		"owner": {
			"reputation": 1,
			"user_id": 14112659,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/187102662810456/picture?type=large",
			"display_name": "Gabriel Barbosa",
			"link": "https://stackoverflow.com/users/14112659/gabriel-barbosa"
		},
		"is_answered": true,
		"view_count": 41,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676667399,
		"creation_date": 1676644608,
		"last_edit_date": 1676645984,
		"question_id": 75485634,
		"link": "https://stackoverflow.com/questions/75485634/scraping-webpages-in-rrvest-when-the-url-of-multiple-pages-does-not-change",
		"title": "Scraping webpages in r(rvest) when the url of multiple pages does not change",
		"body": "<p>I have two problems that I need help:</p>\n<ol>\n<li>I am trying to scrape three columns of a table in ('https://contributions.electionsbc.gov.bc.ca/pcs/LESearchResults.aspx?PFN=&amp;E=(ALL)&amp;FTK=0&amp;FT=(ALL)&amp;FN=(ALL)&amp;EAK=0&amp;EA=(ALL)&amp;OK=0&amp;O=(ALL)&amp;JTK=0&amp;JT=(ALL)&amp;JK=0&amp;J=(ALL)&amp;STK=0&amp;ST=(ALL)&amp;EV=(ALL)') but only 50 results per page are listed. When I click on pages 2, 3, 4... the URL does not change.</li>\n</ol>\n<p>I am trying to scrape columns 'Filer Name', &quot;Scanned report Name', and 'Filer type'.</p>\n<p>and</p>\n<ol start=\"2\">\n<li>I want to download the latest report version (pdf) available in each link of the 'Scanned report name'. The report version 'original' should be downloaded only when the latest report version is called Amendment 1 or Amendment 2 or Amendment 3.</li>\n</ol>\n<p>Here is the code that I am trying to apply, but I am stuck.</p>\n<p>Scraping a webpage using R</p>\n<pre><code># Loading the rvest package\n\n    library(rvest)\n    library(dplyr)\n    library(xml2)\n    library(RCurl)\n\n# Specifying the url for desired website to be scraped\n\n    i=1\n    table2 = list()\n    for (i in 1:100) {\n    link_all =   getURL(paste0(&quot;https://contributions.electionsbc.gov.bc.ca/pcs/LESearchResults.aspx?PFN=&amp;E=(ALL)&amp;FTK=0&amp;FT=(ALL)&amp;FN=(ALL)&amp;EAK=0&amp;EA=(ALL)&amp;OK=0&amp;O=(ALL)&amp;JTK=0&amp;JT=(ALL)&amp;JK=0&amp;J=(ALL)&amp;STK=0&amp;ST=(ALL)&amp;EV=(ALL)&quot;,&quot;?page=&quot;,i))\n\n#Reading the HTML code from the website\n\n    page &lt;- read_html(link_all)\n\n#Using CSS selectors to scrape the name of the candidate\n\n    filer_name &lt;- page %&gt;% html_nodes('.TableResults td:nth-child(1)') %&gt;% html_text()\n    scanned_report_name &lt;- page %&gt;% html_nodes('.TableResults td:nth-child(2)') %&gt;% html_text()\n    report_links &lt;- page %&gt;% html_nodes('.TableResults td:nth-child(2)') %&gt;% html_nodes('a') %&gt;% html_attr('href') %&gt;% paste(&quot;https://contributions.electionsbc.gov.bc.ca/pcs/&quot;, ., sep = &quot;&quot;)\n}\n\n    get_version &lt;- function(report_link) {\n        report_page &lt;- read_html(report_link)\n        report_version &lt;- report_page %&gt;%        \n          html_nodes('#ctl00_ContentPlaceHolder1_gvStatements td:nth child(1)') %&gt;% \n          html_text() %&gt;% paste(collapse = &quot;,&quot;) \n        return(report_version)\n    }\n\n    version &lt;- sapply(report_links, FUN = get_version, USE.NAMES = FALSE)\n\n    table2 &lt;- data.frame(filer_name, scanned_report_name, version, stringsAsFactors = FALSE)\n</code></pre>\n"
	}, {
		"tags": ["r", "package", "building"],
		"owner": {
			"reputation": 120,
			"user_id": 3917520,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "gcc",
			"link": "https://stackoverflow.com/users/3917520/gcc"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676667237,
		"creation_date": 1676667237,
		"question_id": 75489157,
		"link": "https://stackoverflow.com/questions/75489157/r-package-versioning-problems",
		"title": "R package versioning problems",
		"body": "<p>I am developing an R-package in one R-session (within R-Studio) while testing the package in another R-session (within a second instance of R-Studio). The package (&quot;P&quot;) contains an R-function &quot;foo&quot;.\nIn the test session all calls to foo are made by explicit qualification P::f(...).</p>\n<p>When a new version is ready, the old library is uninstalled (checked that it is really gone from all locations in .libPaths()), newly built and reinstalled (with a new version number).</p>\n<p>After some iterations of this, a bizarre phenomenon started: an old version of P::foo\nexecutes even though it should not exist anywhere. I even check in the test session via\nR&gt; P:foo\nthe source code and it displays the latest version. However this is not the code that is executing. I can tell by the way the log file is written and there is simply no doubt about it. It is an old version that is executing.</p>\n<p>What could I do to analyse this situation?</p>\n"
	}, {
		"tags": ["r", "macos", "x86", "x86-64"],
		"owner": {
			"reputation": 1906,
			"user_id": 1145978,
			"user_type": "registered",
			"accept_rate": 57,
			"profile_image": "https://i.stack.imgur.com/IIAC9.jpg?s=256&g=1",
			"display_name": "Frank Harrell",
			"link": "https://stackoverflow.com/users/1145978/frank-harrell"
		},
		"is_answered": false,
		"view_count": 69,
		"down_vote_count": 1,
		"up_vote_count": 4,
		"bounty_amount": 50,
		"bounty_closes_date": 1676987468,
		"answer_count": 1,
		"score": 3,
		"last_activity_date": 1676666422,
		"creation_date": 1676157800,
		"question_id": 75423952,
		"link": "https://stackoverflow.com/questions/75423952/r-mac-binary-package-builder-for-x86-64",
		"title": "R Mac binary package builder for X86-64",
		"body": "<p>The excellent resource <a href=\"https://mac.r-project.org/macbuilder/submit.html\" rel=\"nofollow noreferrer\">https://mac.r-project.org/macbuilder/submit.html</a> makes it easy to build binary Mac packages for ARM64 to distribute to others.  I have been unable to find a similar resource for X86-64 Macs.   Does anyone know of such a service?  I run Linux myself so can't build a Mac binary on my own.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1,
			"user_id": 21090615,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1450cacffc254c04e993f33c068af442?s=256&d=identicon&r=PG",
			"display_name": "Yggdrasil",
			"link": "https://stackoverflow.com/users/21090615/yggdrasil"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 2,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -2,
		"last_activity_date": 1676666325,
		"creation_date": 1676664258,
		"last_edit_date": 1676666325,
		"question_id": 75488793,
		"link": "https://stackoverflow.com/questions/75488793/my-bar-graph-is-not-producing-the-correct-results-any-ideas-what-went-wrong",
		"title": "My bar graph is not producing the correct results, any ideas what went wrong?",
		"body": "<p>To keep this rather simple, I am using this function to see which countries make the highest rated chocolate bars, according to the course I am taking there should only have been a handful of bars that should have been created, however I ended up with a great many of them, I have a picture of the code and the output included in this. Any help would be greatly appreciated!</p>\n<p>Sorry about the labels all scrunching together, I don't understand what went wrong I followed everything as prompted.</p>\n<p><a href=\"https://i.stack.imgur.com/gVEEM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVEEM.png\" alt=\"enter image description here\" /></a></p>\n<p>I entered the code as seen in the picture above, now the output should only have given a few countries, however it is listing all of them, I am fairly certain that the course itself was flawed and needs to be corrected, I am just curious as to what the correct code would be for this.</p>\n"
	}, {
		"tags": ["r", "raster"],
		"owner": {
			"reputation": 11,
			"user_id": 21136284,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AFdZucoGP88YLoXrC1V28qe8-DuHMCPlBCMKgSmokbVK=k-s256",
			"display_name": "Sherry",
			"link": "https://stackoverflow.com/users/21136284/sherry"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676666127,
		"creation_date": 1676666127,
		"question_id": 75489041,
		"link": "https://stackoverflow.com/questions/75489041/error-for-create-slope-cs-function-in-the-leastcostpath-package",
		"title": "Error for create_slope_cs function in the leastcostpath package",
		"body": "<p>guys! I encountered an error when creating a cost surface based on DEM data.</p>\n<pre><code>Adm1 &lt;-\n    rgeoboundaries::geoboundaries(\n      country = &quot;Austria&quot;,\n      adm_lvl = &quot;adm0&quot;)\nr &lt;- get_elev_raster(Adm1,z=4)\ncs &lt;- create_slope_cs(dem = r, cost_function = 'tobler', neighbours = 16)\n</code></pre>\n<p>The error is like</p>\n<pre><code>Error in h(simpleError(msg, call)) :\n\nerror in evaluating the argument 'x' in selecting a method for function 'extent': \u2018srs\u2019 is not a slot in class \u201cBasicRaster\u201d\n</code></pre>\n<p>I can run this code on my other laptop. So I think there's nothing wrong with my code. But do you know how to fix this?</p>\n"
	}, {
		"tags": ["r", "sparql"],
		"owner": {
			"reputation": 3,
			"user_id": 16795817,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJy_7mH0k_7UOTnGB0SHIT5lBJvUDC3RxQT74h2f=k-s256",
			"display_name": "prickypineapple",
			"link": "https://stackoverflow.com/users/16795817/prickypineapple"
		},
		"is_answered": false,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676666064,
		"creation_date": 1676665301,
		"last_edit_date": 1676666064,
		"question_id": 75488938,
		"link": "https://stackoverflow.com/questions/75488938/package-sparql-is-not-available-for-this-version-of-r-how-can-i-install-sparq",
		"title": "package \u2018SPARQL\u2019 is not available for this version of R, how can I install SPARQL in Rstudio version 4.2.1?",
		"body": "<p>Trying to instal SPARQL in Rstudio and got this error:</p>\n<pre><code>ERROR: dependency \u2018SPARQL\u2019 is not available for package \u2018disgenet2r\u2019\n* removing \u2018/Library/Frameworks/R.framework/Versions/4.2/Resources/library/disgenet2r\u2019\nWarning messages:\n1: package \u2018SPARQL\u2019 is not available for this version of R\n\nA version of this package for your version of R might be available elsewhere,\nsee the ideas at\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages \n2: In i.p(...) :\n  installation of package \u2018/var/folders/43/7hr3j7q17tn0ns1g67l5vbq80000gn/T//Rtmptk5KoF/file2d1b24460f94/disgenet2r_0.99.2.tar.gz\u2019 had non-zero exit status\n</code></pre>\n"
	}, {
		"tags": ["r", "visual-studio-code"],
		"owner": {
			"reputation": 1,
			"user_id": 19613972,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c7aa049bcf323e26bc7ab054e9f9c478?s=256&d=identicon&r=PG",
			"display_name": "James Zhan",
			"link": "https://stackoverflow.com/users/19613972/james-zhan"
		},
		"is_answered": false,
		"view_count": 51,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676665998,
		"creation_date": 1672968532,
		"last_edit_date": 1672975525,
		"question_id": 75026067,
		"link": "https://stackoverflow.com/questions/75026067/how-to-make-my-radian-console-in-the-vs-code-display-all-coding-result-not-only",
		"title": "How to make my Radian console in the VS code display all coding result, not only the last line?",
		"body": "<p>Is there any way to make the Radian console in the VS code to display all coding results I run, not only the last line? It is quite inconvenient to run code line by line to see the whole result.</p>\n<p>Below is the example from VS code:</p>\n<pre><code>r$&gt; sum(ILD_HILIC_limma$pfdr&lt;0.05, na.rm = T)\n    sum(ILD1_HILIC_limma$pfdr&lt;0.05, na.rm = T)\n    sum(ILD2_HILIC_limma$pfdr&lt;0.05, na.rm = T)\n[1] 9\n</code></pre>\n<p>It would be great if the results from VS code could be like the ones from RStudio:</p>\n<pre><code>&gt; sum(ILD_HILIC_limma$pfdr&lt;0.05, na.rm = T)\n[1] 4\n&gt; sum(ILD1_HILIC_limma$pfdr&lt;0.05, na.rm = T)\n[1] 4\n&gt; sum(ILD2_HILIC_limma$pfdr&lt;0.05, na.rm = T)\n[1] 9\n</code></pre>\n<p>I tried to adjust the &quot;Scrollback&quot; feature in Visual Studio Code's Integrated Terminal, but not working</p>\n"
	}, {
		"tags": ["r", "r-markdown"],
		"owner": {
			"reputation": 423,
			"user_id": 8412665,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/514782ff9db80962bf54bbf2ae21eff5?s=256&d=identicon&r=PG&f=1",
			"display_name": "Beavis",
			"link": "https://stackoverflow.com/users/8412665/beavis"
		},
		"is_answered": false,
		"view_count": 77,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676665985,
		"creation_date": 1619536997,
		"last_edit_date": 1619595750,
		"question_id": 67286003,
		"link": "https://stackoverflow.com/questions/67286003/error-in-plot-new-figure-margins-too-large-in-r-markdown",
		"title": "Error in plot.new() : figure margins too large in R markdown",
		"body": "<p>When trying to plot a heatmap in r Markdown I am able to produce a html file, but each time my pdf file fails due to margins being to large.</p>\n<p>A repoducable section of code, including pre-amble etc is shown below</p>\n<pre><code>---\ntitle: &quot;Untitled&quot;\noutput:\n  bookdown::html_document2: \n   theme: darkly\n  bookdown::pdf_document2:\n   keep_tex: TRUE\n   number_sections: TRUE\n   toc: FALSE\nfontsize: 11pt\nknit: (function(inputFile, encoding) {\n  rmarkdown::render(inputFile, encoding = encoding,\n  output_format = &quot;all&quot;) })\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = FALSE)\nknitr::opts_chunk$set(results = 'hide')\nknitr::opts_chunk$set(warning = FALSE)\nknitr::opts_chunk$set(fig.pos = 'H')\nknitr::opts_chunk$set(fig.align = 'center')\nknitr::opts_chunk$set(cache=TRUE)\n```\n\n## R Markdown\n\nThis is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see &lt;http://rmarkdown.rstudio.com&gt;.\n\nWhen you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n```{r cars}\nx = matrix(runif(400), ncol = 20)\nheatmap3::heatmap3(x)\n```\n</code></pre>\n<p>So far I have set <code>par(mar)</code> to a wide range of numbers from <code>c(1,1,1,1)</code> to <code>c(10,10,10,10)</code> as well as the <code>margin</code> command in the <code>heatmap3</code> command, all of which fail.</p>\n<p>Any advice is greatly appreciated. Please note, this is not a duplicate question of a standard &quot;figure margins too large&quot; error as it is localised only to the pdf, but works fine as html or just in the console.</p>\n"
	}, {
		"tags": ["r", "string", "replace", "switch-statement"],
		"owner": {
			"reputation": 550,
			"user_id": 4660577,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a3e9c454d6421b19f32071d42553fa1e?s=256&d=identicon&r=PG&f=1",
			"display_name": "torwart",
			"link": "https://stackoverflow.com/users/4660577/torwart"
		},
		"is_answered": true,
		"view_count": 20284,
		"down_vote_count": 0,
		"up_vote_count": 30,
		"accepted_answer_id": 31157259,
		"answer_count": 13,
		"score": 30,
		"last_activity_date": 1676665901,
		"creation_date": 1435741271,
		"question_id": 31156957,
		"link": "https://stackoverflow.com/questions/31156957/use-of-switch-in-r-to-replace-vector-values",
		"title": "Use of switch() in R to replace vector values",
		"body": "<p>This should be pretty simple but even after checking all documentation and on-line examples I don't get it.</p>\n\n<p>I'd like to use switch() to replace the values of a character vector.</p>\n\n<p>A fake, extremely simple, reproducible example:</p>\n\n<pre><code>test&lt;-c(\"He is\", \"She has\", \"He has\", \"She is\")\n</code></pre>\n\n<p>Let's say I want to assign \"1\" to sentences including the verb \"to be\" and \"2\" to sentences including the verb \"to have\". The following DOES NOT work:</p>\n\n<pre><code>test&lt;-switch(test,\n                \"He is\"=1,\n                \"She is\"=1,\n                \"He has\"=2,\n                \"She has\"=2)\n</code></pre>\n\n<p>Error message: </p>\n\n<pre><code>+ + + + Error in switch(test, `He is` = 1, `She is` = 1, `He has` = 2, `She has` = 2) : \n  EXPR must be a length 1 vector\n</code></pre>\n\n<p>I think EXPR is indeed a length 1 vector, so what's wrong?</p>\n\n<p>I thought maybe R expected characters as replacements, but neither wrapping switch() into an \"as.integer\" nor the following work:</p>\n\n<pre><code>test&lt;-switch(test,\n                \"He is\"=\"1\",\n                \"She is\"=\"1\",\n                \"He has\"=\"2\",\n                \"She has\"=\"2\")\n</code></pre>\n\n<p>Maybe it doesn't vectorize, and I should make a loop? Is that it? Would be disappointing, considering the strength of R is vectorization. Thanks in advance!</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 767,
			"user_id": 12857915,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/17c4a3ea6914edcb3eba138e62e7e73d?s=256&d=identicon&r=PG&f=1",
			"display_name": "H.Cheung",
			"link": "https://stackoverflow.com/users/12857915/h-cheung"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75488981,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676665765,
		"creation_date": 1676665410,
		"question_id": 75488957,
		"link": "https://stackoverflow.com/questions/75488957/remove-characters-from-list-which-contains-numeric-and-characters-without-na-coe",
		"title": "Remove characters from list which contains numeric and characters without NA coercion message",
		"body": "<p>I've got a list which contains numbers and text items. I want to remove the text items and keep the numeric items. I don't mind using a few lines of code, So I can do the below with with x, then remove the NAs using another line.  <strong>BUT</strong> I want to avoid the NAs coercion warning message.</p>\n<pre><code>x &lt;- c(1,&quot;_2&quot;,3 , 6 , &quot;1_&quot; , &quot;a&quot;)\nas.numeric(x)\n[1]  1 NA  3  6 NA NA\nWarning message:\nNAs introduced by coercion \n</code></pre>\n<p>Any help is greatly appreciated. Thanks in advance.</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "tidyverse", "formula"],
		"owner": {
			"reputation": 31,
			"user_id": 21101506,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/01e6b60758a7c959e42ddc30399ff2da?s=256&d=identicon&r=PG",
			"display_name": "learner",
			"link": "https://stackoverflow.com/users/21101506/learner"
		},
		"is_answered": true,
		"view_count": 29,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75488642,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676665707,
		"creation_date": 1676662852,
		"question_id": 75488606,
		"link": "https://stackoverflow.com/questions/75488606/apply-create-formula-to-manipulate-two-dataframes",
		"title": "apply/create formula to manipulate two dataframes",
		"body": "<p>I have two dataframes in R</p>\n<pre><code>df1\nchr   start     end strand bam1 bam2 bam3 bam4 bam5 bam6 bam7 bam8\n1 chr1 3531569 3531966      -    2    2    1    4    8   36   21    1\n2 chr1 3670538 3672624      -  251   50  170  165  294  259  665   86\n3 chr1 4491645 4493854      -  220   46  179  167  275  332  414   77\n4 chr1 4496542 4497750      -  115   41  100   67  114   69   42   63\n5 chr1 4571267 4572265      -   64   32   77   44   76  130  179   27\n6 chr1 4688213 4688719      -   39   10   20   20   14   23   25   17\n7 chr1 4688800 4688919      -   20   30   10   20   14   55   17   20\n8 chr1 4688800 4688919      -    2    4    6    8   10   12   14   16\n9 chr1 4688800 4688919      -    1    2    3    4    5    6    7    8\n</code></pre>\n<p>and</p>\n<pre><code>df2\nbam_file r1 r2\n1     bam1  2  1\n2     bam2  9  3\n3     bam3  1  4\n4     bam4  1  5\n5     bam5  1  1\n6     bam6  8  6\n7     bam7  3  7\n8     bam8  3  2\n</code></pre>\n<p>I want to apply following formula (let say X), So that column of df2 X row of df1</p>\n<pre><code>((df2[1,2]-df1[1,5])\u02c62 + (df2[2,2]-df1[1,6])\u02c62 + (df2[3,2]-df1[1,7])\u02c62 + (df2[4,2]-df1[1,8])\u02c62 + (df2[5,2]-df1[1,9])\u02c62 + (df2[6,2]-df1[1,10])\u02c62 + (df2[7,2]-df1[1,11])\u02c62 + \n (df2[8,2]-df1[1,12])\u02c62)/(ncol(df1)-4)\n</code></pre>\n<p>So the desired output will be</p>\n<pre><code>output\n        r1        r2\n1  152.375    144.75\n2 89140.25 88467.875\n3 57822.75 57413.125\n4 6195.125      6148\n5 8007.375   7858.75\n6   395.75   372.625\n7   508.75   543.125\n8    60.75    47.125\n9     15.5     6.875\n</code></pre>\n<p>I apologize if this appears to be a repetitive question, but I tried and was unable to resolve it (as I am beginner and learning). It would be great to find a solution. Thank you in advance and looking for a positive response.</p>\n"
	}, {
		"tags": ["r", "r-markdown", "kable", "kableextra", "gridextra"],
		"owner": {
			"reputation": 1103,
			"user_id": 1198246,
			"user_type": "registered",
			"accept_rate": 0,
			"profile_image": "https://www.gravatar.com/avatar/0ee8a8662dc19d65f04c0bf6834019b8?s=256&d=identicon&r=PG",
			"display_name": "Salvador",
			"link": "https://stackoverflow.com/users/1198246/salvador"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676665669,
		"creation_date": 1676665669,
		"question_id": 75488991,
		"link": "https://stackoverflow.com/questions/75488991/gridextra-displaying-partial-table-on-rmarkdown",
		"title": "gridExtra displaying partial table on Rmarkdown",
		"body": "<p>I am no sure if I am missing something when trying to print a gridExtra table. It only displays about half of the columns. KableExtra seems to work alright. A reproducible example below and snapshot:\nHow can I make the second table display accross the entire page?\n<a href=\"https://i.stack.imgur.com/sC1Ij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sC1Ij.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    ---\ntitle: &quot;gridExtra New Tables&quot;\ndate: &quot;`r Sys.Date()`&quot;\noutput:\n  pdf_document: \n    keep_tex: true\n    toc_depth: 4\nheader-includes:\n- \\geometry{top=1.3cm, bottom=1.0cm, left=1.8cm, right=1.8cm,footskip=.5cm}\n- \\usepackage{hyperref}\n- \\hypersetup{colorlinks = true, linkcolor = webblue, urlcolor = red} \n- \\usepackage{pdflscape}\n- \\newcommand{\\blandscape}{\\begin{landscape}}\n- \\newcommand{\\elandscape}{\\end{landscape}}\n- \\usepackage{longtable,ctable,pdflscape}\n- \\usepackage{url}\n- \\usepackage{relsize}\n- \\usepackage{amssymb}\n- \\usepackage{setspace}\n- \\usepackage{color}\n- \\usepackage{sectsty}\n- \\definecolor{LightMagenta}{cmyk}{0.1,0.8,0,0.1}\n- \\allsectionsfont{\\color{LightMagenta}} \n- \\definecolor{webblue}{rgb}{0, 0, 0.5} % less intense blue\n- \\definecolor{bole}{rgb}{0.47, 0.27, 0.23}\n- \\definecolor{brickred}{rgb}{0.8, 0.25, 0.33}\n- \\definecolor{niceblue}{rgb}{0.0, 0.53, 0.74}\nnumber_sections: yes\ntoc: yes\n---\n\n```{r setup, include=FALSE} \nknitr::opts_chunk$set(warning = FALSE, message = FALSE,comment=&quot;&quot;,echo = FALSE) \n```\n\n```{r}\nlibrary(reshape2)\nlibrary(gridExtra)\nlibrary(readxl)\nlibrary(kableExtra)\nlibrary(tidyverse)\nlibrary(scales)\nlibrary(RColorBrewer)\nlibrary(cowplot)\nlibrary(grid)\noptions(knitr.kable.NA=&quot;-&quot;)\n#theme_set(theme_bw())\nmyt &lt;- ttheme_default(\n         # Use hjust and x to left justify the text\n         # Alternate the row fill colours\n                 core = list(fg_params=list(col=&quot;blue&quot;,fontsize=7),\n                             bg_params=list(col=&quot;peachpuff&quot;,fill=c(&quot;azure2&quot;,&quot;azure&quot;))),\n         # Change column header to white text and red background\n                 colhead = list(fg_params=list(col=&quot;red&quot;,fontsize = 9,fontface = 1L), \n                                #1L=normal, 2L=bold,3L=italic\n                                bg_params=list(fill=&quot;lightgoldenrod&quot;)))\n```\n\n# Introduction\n\nbla...bla...\n\n\n## Hola again.....\n\n\\newpage\n\\blandscape\n```{r}\n#Import data for the tables..\n fall.estimate &lt;- structure(list(`Fall Run\n Chinook Salmon` = structure(c(&quot;American River&quot;, \n&quot;Antelope Creek&quot;, &quot;Battle Creek&quot;, &quot;Bear River&quot;, &quot;Big Chico Creek&quot;, \n&quot;Butte Creek&quot;), class = &quot;AsIs&quot;), `1967-1991\n baseline` = structure(c(&quot; 80,874&quot;, \n&quot;    361&quot;, &quot;  5,013&quot;, &quot;    639&quot;, &quot;    402&quot;, &quot;    765&quot;), class = &quot;AsIs&quot;), \n    `AFRP Production\n target` = structure(c(&quot;160,000&quot;, &quot;    720&quot;, \n    &quot; 10,000&quot;, &quot;    450&quot;, &quot;    800&quot;, &quot;  1,500&quot;), class = &quot;AsIs&quot;), \n    `1992` = structure(c(&quot; 27,618&quot;, &quot;      0&quot;, &quot;  3,588&quot;, &quot;-&quot;, \n    &quot;-&quot;, &quot;-&quot;), class = &quot;AsIs&quot;), `1993` = structure(c(&quot;100,028&quot;, \n    &quot;-&quot;, &quot;  5,648&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;), class = &quot;AsIs&quot;), `1994` = structure(c(&quot; 99,415&quot;, \n    &quot;-&quot;, &quot; 12,897&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;), class = &quot;AsIs&quot;), `1995` = structure(c(&quot;235,027&quot;, \n    &quot;-&quot;, &quot; 32,060&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  1,346&quot;), class = &quot;AsIs&quot;), `1996` = structure(c(&quot;143,005&quot;, \n    &quot;-&quot;, &quot; 17,191&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    931&quot;), class = &quot;AsIs&quot;), `1997` = structure(c(&quot;112,797&quot;, \n    &quot;-&quot;, &quot; 27,365&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  1,736&quot;), class = &quot;AsIs&quot;), `1998` = structure(c(&quot;102,859&quot;, \n    &quot;-&quot;, &quot; 20,539&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    841&quot;), class = &quot;AsIs&quot;), `1999` = structure(c(&quot; 94,113&quot;, \n    &quot;-&quot;, &quot; 21,916&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;), class = &quot;AsIs&quot;), `2000` = structure(c(&quot;192,719&quot;, \n    &quot;-&quot;, &quot; 16,341&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;), class = &quot;AsIs&quot;), `2001` = structure(c(&quot;164,912&quot;, \n    &quot;-&quot;, &quot; 17,756&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  5,019&quot;), class = &quot;AsIs&quot;), `2002` = structure(c(&quot;164,608&quot;, \n    &quot;-&quot;, &quot; 71,890&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  4,565&quot;), class = &quot;AsIs&quot;), `2003` = structure(c(&quot;219,322&quot;, \n    &quot;-&quot;, &quot; 23,750&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  4,333&quot;), class = &quot;AsIs&quot;), `2004` = structure(c(&quot;224,190&quot;, \n    &quot;-&quot;, &quot; 20,993&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  4,538&quot;), class = &quot;AsIs&quot;), `2005` = structure(c(&quot;124,868&quot;, \n    &quot;-&quot;, &quot; 30,302&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  6,312&quot;), class = &quot;AsIs&quot;), `2006` = structure(c(&quot; 38,276&quot;, \n    &quot;-&quot;, &quot; 11,250&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  2,238&quot;), class = &quot;AsIs&quot;), `2007` = structure(c(&quot; 22,566&quot;, \n    &quot;-&quot;, &quot;  4,197&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  1,897&quot;), class = &quot;AsIs&quot;), `2008` = structure(c(&quot;  3,448&quot;, \n    &quot;-&quot;, &quot;  1,492&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    220&quot;), class = &quot;AsIs&quot;), `2009` = structure(c(&quot;  6,052&quot;, \n    &quot;-&quot;, &quot;    920&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    245&quot;), class = &quot;AsIs&quot;), `2010` = structure(c(&quot; 22,166&quot;, \n    &quot;-&quot;, &quot;  2,813&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    349&quot;), class = &quot;AsIs&quot;), `2011` = structure(c(&quot; 40,418&quot;, \n    &quot;-&quot;, &quot;  7,285&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    445&quot;), class = &quot;AsIs&quot;), `2012` = structure(c(&quot; 65,744&quot;, \n    &quot;-&quot;, &quot; 20,239&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  1,131&quot;), class = &quot;AsIs&quot;), `2013` = structure(c(&quot; 83,796&quot;, \n    &quot;-&quot;, &quot; 15,876&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  2,764&quot;), class = &quot;AsIs&quot;), `2014` = structure(c(&quot; 43,020&quot;, \n    &quot;    177&quot;, &quot;  7,240&quot;, &quot;-&quot;, &quot;-&quot;, &quot;  1,761&quot;), class = &quot;AsIs&quot;), \n    `2015` = structure(c(&quot; 31,115&quot;, &quot;      8&quot;, &quot;  2,980&quot;, &quot;-&quot;, \n    &quot;-&quot;, &quot;    101&quot;), class = &quot;AsIs&quot;), `2016` = structure(c(&quot; 28,351&quot;, \n    &quot;    169&quot;, &quot;  1,477&quot;, &quot;-&quot;, &quot;-&quot;, &quot;    102&quot;), class = &quot;AsIs&quot;)), row.names = c(&quot;1&quot;, \n&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;), class = &quot;data.frame&quot;)\n\n\n#h &lt;- convertHeight(grobHeight(tblforPDF), &quot;in&quot;, valueOnly=TRUE)\n#w &lt;- convertWidth(grobWidth(tblforPDF), &quot;in&quot;, valueOnly=TRUE)\n```\n\n```{r,results='asis'}\n#grid.draw(tblforPDF)\ngrid.draw(tableGrob(format(fall.estimate, big.mark=&quot;,&quot;), theme=myt))\n```\n\n```{r}\nkable(fall.estimate, &quot;latex&quot;, booktabs = T) %&gt;%\nkable_styling(latex_options = c(&quot;striped&quot;,&quot;scale_down&quot;)) \n```\n\\elandscape\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 263,
			"user_id": 15541756,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6ab3a5a662f7dbc161caf0c9544b14be?s=256&d=identicon&r=PG&f=1",
			"display_name": "vcat",
			"link": "https://stackoverflow.com/users/15541756/vcat"
		},
		"is_answered": true,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75488874,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676665637,
		"creation_date": 1676664607,
		"question_id": 75488841,
		"link": "https://stackoverflow.com/questions/75488841/collapse-rows-based-on-another-column-duplicate-value-in-r",
		"title": "Collapse rows based on another column duplicate value in R",
		"body": "<p>I have a df:</p>\n<pre><code>A &lt;- c(&quot;A&quot;, &quot;A123&quot;, &quot;A123&quot;, &quot;B123&quot;, &quot;B123&quot;, &quot;B&quot;)\nB &lt;- c(&quot;NA&quot;, &quot;as&quot;, &quot;bp&quot;, &quot;df&quot;, &quot;kl&quot;, &quot;c&quot;)\n\ndf &lt;- data.frame(A, B) \n</code></pre>\n<p>and I would like to create a df in which the output would be</p>\n<pre><code>A &lt;- c(&quot;A&quot;, &quot;A123&quot;, &quot;B123&quot;, &quot;B&quot;)\nC &lt;- c(&quot;NA&quot;, &quot;as;bp&quot;, &quot;df;kl&quot;, &quot;c&quot;)\ndf2 &lt;- data.frame(A,C)\n</code></pre>\n<p>This new column is based on if there is a duplicate in column A, then combine the values in column B to make a new column, all other unique values in column B that correspond single/unique values in A would be carried over to column C.</p>\n<p>Any help in generating a code where you get column C would be appreciated as I don't even know where to begin in coding for this.<br />\nthank you!</p>\n"
	}, {
		"tags": ["r", "rolling-computation", "weighted-average"],
		"owner": {
			"reputation": 13,
			"user_id": 17615435,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJwBUihQpOmD6JaXZJnRmsvzqQowaNb-zMJ52ElXdA=k-s256",
			"display_name": "lawsq",
			"link": "https://stackoverflow.com/users/17615435/lawsq"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676665425,
		"creation_date": 1676655378,
		"last_edit_date": 1676664446,
		"question_id": 75487543,
		"link": "https://stackoverflow.com/questions/75487543/how-do-i-calculate-the-max-15-min-twa-in-r",
		"title": "How do I calculate the Max 15-min TWA in R?",
		"body": "<p>I have a dataset that contains the ppm of a chemical measured every 20 seconds for 4.5 hours.  A simplified, shortened version of the dataset looks like this:</p>\n<pre><code>df&lt;-data.frame('ppm'=c(rep(20, 90)),\n               'date.time'= c(&quot;2023-01-13 15:00:00&quot;, &quot;2023-01-13 15:00:20&quot;, &quot;2023-01-13 15:00:40&quot;, &quot;2023-01-13 15:01:00&quot;, &quot;2023-01-13 15:01:20&quot;, &quot;2023-01-13 15:01:40&quot;,\n                              &quot;2023-01-13 15:02:00&quot;, &quot;2023-01-13 15:02:20&quot;, &quot;2023-01-13 15:02:40&quot;, &quot;2023-01-13 15:03:00&quot;, &quot;2023-01-13 15:03:20&quot;, &quot;2023-01-13 15:03:40&quot;,\n                              &quot;2023-01-13 15:04:00&quot;, &quot;2023-01-13 15:04:20&quot;, &quot;2023-01-13 15:04:40&quot;, &quot;2023-01-13 15:05:00&quot;, &quot;2023-01-13 15:05:20&quot;, &quot;2023-01-13 15:05:40&quot;,\n                              &quot;2023-01-13 15:06:00&quot;, &quot;2023-01-13 15:06:20&quot;, &quot;2023-01-13 15:06:40&quot;, &quot;2023-01-13 15:07:00&quot;, &quot;2023-01-13 15:07:20&quot;, &quot;2023-01-13 15:07:40&quot;,\n                              &quot;2023-01-13 15:08:00&quot;, &quot;2023-01-13 15:08:20&quot;, &quot;2023-01-13 15:08:40&quot;, &quot;2023-01-13 15:09:00&quot;, &quot;2023-01-13 15:09:20&quot;, &quot;2023-01-13 15:09:40&quot;,\n                              &quot;2023-01-13 15:10:00&quot;, &quot;2023-01-13 15:10:20&quot;, &quot;2023-01-13 15:10:40&quot;, &quot;2023-01-13 15:11:00&quot;, &quot;2023-01-13 15:11:20&quot;, &quot;2023-01-13 15:11:40&quot;,\n                              &quot;2023-01-13 15:12:00&quot;, &quot;2023-01-13 15:12:20&quot;, &quot;2023-01-13 15:12:40&quot;, &quot;2023-01-13 15:13:00&quot;, &quot;2023-01-13 15:13:20&quot;, &quot;2023-01-13 15:13:40&quot;,\n                              &quot;2023-01-13 15:14:00&quot;, &quot;2023-01-13 15:14:20&quot;, &quot;2023-01-13 15:14:40&quot;, &quot;2023-01-13 15:15:00&quot;, &quot;2023-01-13 15:15:20&quot;, &quot;2023-01-13 15:15:40&quot;,\n                              &quot;2023-01-13 15:16:00&quot;, &quot;2023-01-13 15:16:20&quot;, &quot;2023-01-13 15:16:40&quot;, &quot;2023-01-13 15:17:00&quot;, &quot;2023-01-13 15:17:20&quot;, &quot;2023-01-13 15:17:40&quot;,\n                              &quot;2023-01-13 15:18:00&quot;, &quot;2023-01-13 15:18:20&quot;, &quot;2023-01-13 15:18:40&quot;, &quot;2023-01-13 15:19:00&quot;, &quot;2023-01-13 15:19:20&quot;, &quot;2023-01-13 15:19:40&quot;,\n                              &quot;2023-01-13 15:20:00&quot;, &quot;2023-01-13 15:20:20&quot;, &quot;2023-01-13 15:20:40&quot;, &quot;2023-01-13 15:21:00&quot;, &quot;2023-01-13 15:21:20&quot;, &quot;2023-01-13 15:21:40&quot;,\n                              &quot;2023-01-13 15:22:00&quot;, &quot;2023-01-13 15:22:20&quot;, &quot;2023-01-13 15:22:40&quot;, &quot;2023-01-13 15:23:00&quot;, &quot;2023-01-13 15:23:20&quot;, &quot;2023-01-13 15:23:40&quot;,\n                              &quot;2023-01-13 15:24:00&quot;, &quot;2023-01-13 15:24:20&quot;, &quot;2023-01-13 15:24:40&quot;, &quot;2023-01-13 15:25:00&quot;, &quot;2023-01-13 15:25:20&quot;, &quot;2023-01-13 15:25:40&quot;,\n                              &quot;2023-01-13 15:26:00&quot;, &quot;2023-01-13 15:26:20&quot;, &quot;2023-01-13 15:26:40&quot;, &quot;2023-01-13 15:27:00&quot;, &quot;2023-01-13 15:27:20&quot;, &quot;2023-01-13 15:27:40&quot;,\n                              &quot;2023-01-13 15:28:00&quot;, &quot;2023-01-13 15:28:20&quot;, &quot;2023-01-13 15:28:40&quot;, &quot;2023-01-13 15:29:00&quot;, &quot;2023-01-13 15:29:20&quot;, &quot;2023-01-13 15:29:40&quot;))\n</code></pre>\n<p>How can I add a column that calculates the rolling 15min TWA (Time Weighted Average)?  I know the last step would be taking the max of this new column.</p>\n<p>I imagine the <code>tibbletime::rollify()</code> or <code>zoo::rollapply()</code> functions could work?</p>\n"
	}, {
		"tags": ["r", "static", "regression", "linear-regression", "ancova"],
		"owner": {
			"reputation": 23,
			"user_id": 17656030,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/uk2NC.jpg?s=256&g=1",
			"display_name": "Moliz",
			"link": "https://stackoverflow.com/users/17656030/moliz"
		},
		"is_answered": true,
		"view_count": 39,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75488852,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676665118,
		"creation_date": 1676641707,
		"question_id": 75485114,
		"link": "https://stackoverflow.com/questions/75485114/how-to-explain-the-result-of-ancova-and-linear-regression",
		"title": "How to explain the result of ANCOVA and linear regression",
		"body": "<p>Currently I am learning ANCOVA, but I'm confused with the result.</p>\n<p>I created a linear regression model using <code>mtcars</code> like this:</p>\n<pre><code>summary(lm(qsec ~ wt+factor(am), data = mtcars))\n</code></pre>\n<p>The output is:</p>\n<pre><code>Call:\nlm(formula = qsec ~ wt + factor(am), data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-2.6898 -1.3063  0.0167  1.1398  3.9917 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  22.5990     1.5596  14.490 8.17e-15 ***\nwt           -1.1716     0.4025  -2.911  0.00685 ** \nfactor(am)1  -2.4141     0.7892  -3.059  0.00474 ** \n---\nSignif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\nResidual standard error: 1.582 on 29 degrees of freedom\nMultiple R-squared:  0.267, Adjusted R-squared:  0.2165 \nF-statistic: 5.283 on 2 and 29 DF,  p-value: 0.01106\n</code></pre>\n<p>As you see, the p value of <code>wt</code> showed 0.00685, which meaned a strong linear correlation between <code>wt</code> and <code>qsec</code>, as well as <code>am</code>.</p>\n<p>But when I ran <code>aov</code> code:</p>\n<pre><code>summary(aov(qsec ~ wt+factor(am), data = mtcars))\n</code></pre>\n<p>With the output:</p>\n<pre><code>            Df Sum Sq Mean Sq F value  Pr(&gt;F)   \nwt           1   3.02   3.022   1.208 0.28081   \nfactor(am)   1  23.41  23.413   9.358 0.00474 **\nResiduals   29  72.55   2.502                   \n---\nSignif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n</code></pre>\n<p>It seems like there was no effect from <code>wt</code> on <code>qsec</code>.</p>\n<p>Does it mean that a strong linear correlation between <code>wt</code> and <code>qsec</code> could be confirmed but there is no great effect from <code>wt</code> on <code>qsec</code>?\nIs my explanation appropriate?</p>\n"
	}, {
		"tags": ["r", "ggplot2", "legend", "geom-vline"],
		"owner": {
			"reputation": 73,
			"user_id": 7014949,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d3d86c3ed4be07d3e64d43279e358772?s=256&d=identicon&r=PG",
			"display_name": "Rachel",
			"link": "https://stackoverflow.com/users/7014949/rachel"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676665034,
		"creation_date": 1676513285,
		"last_edit_date": 1676665034,
		"question_id": 75467167,
		"link": "https://stackoverflow.com/questions/75467167/color-dataset-by-group-and-add-geom-vline-to-legend-only",
		"title": "Color dataset by group and add geom_vline to legend only",
		"body": "<p>I have a genome-wide dataset that I'm trying to plot in the following way:</p>\n<ol>\n<li>Have each chromosome be a separate color</li>\n<li>Have specific windows highlighted by a bar (I'm using geom_vline) - this I'm getting from a\nseparate table</li>\n<li>Have only geom_vline feature in the legend</li>\n</ol>\n<p>I have tried many different things, but it seems I cannot have all three together!</p>\n<p>Here is the link to both datasets:\n<a href=\"https://drive.google.com/file/d/1bsPcR4HYxX3UZztZtnwYeF3QbfnEAAAf/view?usp=share_link\" rel=\"nofollow noreferrer\">allStats</a> &amp; <a href=\"https://drive.google.com/file/d/1h91PDcC0EyQ86NNEPBx8u0hchDmEe3ls/view?usp=share_link\" rel=\"nofollow noreferrer\">allStats_fstPi_group15</a></p>\n<p>With this code, I can have the first 2, but not the 3rd:</p>\n<pre><code>ggplot(allStats, aes(x = mid2, y = Fst_group1_group5,\n                     color = as_factor(scaffold))) +\n  geom_point(size = 2) +\n  geom_vline(xintercept = chrom$add, color = &quot;grey&quot;) +\n  scale_y_continuous(expand = c(0,0), limits = c(0, 1)) +\n  scale_x_continuous(labels = chrom$chrID, breaks = axis_set$center) +\n  scale_color_manual(values = rep(c(&quot;#276FBF&quot;, &quot;#183059&quot;), unique(length(chrom$chrID)))) +\n  scale_size_continuous(range = c(0.5,3)) +\n  labs(x = NULL, \n       y = &quot;Fst SBM vs OC&quot;) + \n  theme_minimal() +\n  theme( \n    legend.position = &quot;none&quot;,\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor.x = element_blank(),\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor.y = element_blank(),\n    axis.title.y = element_text(),\n    axis.text.x = element_text()) +\n  geom_vline(data = allStats_fstPi_group15,\n             aes(xintercept = allStats_fstPi_group15$mid2),\n             color = &quot;orange&quot;, show.legend = T)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jXgmf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXgmf.png\" alt=\"enter image description here\" /></a></p>\n<p>With this one I can get 2 and 3 only (I'm not able to color code each block separately):</p>\n<pre><code>cols &lt;- c(&quot;SBM vs OC&quot; = rep(c(&quot;#276FBF&quot;, &quot;#183059&quot;), unique(length(chrom$chrID))), \n          &quot;90th percentile (Fst vs Pi)&quot; = &quot;orange&quot;)\n\nggplot(allStats, aes(x = mid2)) +\n  geom_point(aes(y = Fst_group1_group5, \n                 color = as_factor(scaffold)), \n             size = 2) +\n  geom_vline(data = allStats_fstPi_group15,\n             aes(xintercept = allStats_fstPi_group15$mid2, \n                 color = &quot;90th percentile (Fst vs Pi)&quot;)) +\n  scale_color_manual(values = cols)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/um72B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/um72B.png\" alt=\"enter image description here\" /></a></p>\n<p>I've seen the issue with the legend being that <code>color</code> needs to be within <code>aes()</code>, so my question is: is it impossible what I'm trying to do?</p>\n"
	}, {
		"tags": ["r", "dplyr", "slice"],
		"owner": {
			"reputation": 65,
			"user_id": 9259611,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bd4df2e502cda5126f0a35012e3d2efd?s=256&d=identicon&r=PG&f=1",
			"display_name": "Andy",
			"link": "https://stackoverflow.com/users/9259611/andy"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676664686,
		"creation_date": 1676664686,
		"question_id": 75488856,
		"link": "https://stackoverflow.com/questions/75488856/downsample-as-evenly-as-possible-with-small-stratification-groups",
		"title": "Downsample as evenly as possible with small stratification groups",
		"body": "<p>I have a dataset that I am looking to downsample as evenly as possible across a given variable. Lets say the dataframe is 54 observations and the downsampling number is set at 25, however, because some of the n's in the stratification variable are small, it errors out when I try to select evenly across numbers since the number of observations in the smallest group is less than the expect stratification group size (in the example below, 2 &lt; 5). Instead of duplicating obserations using <code>replace = TRUE</code>, I would like a way to select all observations in the smaller groups and then pad the numbers from the other stratification groups until the specified sample size is met. Meaning, when the first group with only 2 observations cannot be sampled again, the numbers of the remaining groups would increase until I hit 25 selected. This would provide the most even downsampling by stratification group as possible without duplicates.</p>\n<p>Below is my example with the error that I receive. Its because the stratification group &quot;one&quot; only has 2 observations present. I dont want to change to <code>replace = TRUE</code> since I would rather pad with unique observations in other groups.</p>\n<pre><code>df &lt;- data.frame(\n  strat_group = c(rep(&quot;one&quot;, 2), rep(&quot;two&quot;, 10), rep(&quot;three&quot;, 5), rep(&quot;four&quot;, 25), rep(&quot;five&quot;, 12))\n)\n\nstrat_group_size &lt;- (25 / length(unique(df$strat_group)))\n\ndf |&gt;\n  dplyr::group_by(strat_group) |&gt;\n  dplyr::slice_sample(n = strat_group_size)\n\nError in `dplyr::slice_sample()`:\n! Problem while computing indices.\n\u2139 The error occurred in group 3: strat_group = &quot;one&quot;.\nCaused by error in `sample.int()`:\n! cannot take a sample larger than the population when 'replace = FALSE'\n</code></pre>\n<p>What I would like is a method that would evenly downsample by stratification group until a specific number is reached (N = 25). The output would be something like this:</p>\n<pre><code>df &lt;- data.frame(\n  strat_group = c(rep(&quot;1&quot;, 2), rep(&quot;2&quot;, 6), rep(&quot;3&quot;, 5), rep(&quot;4&quot;, 6), rep(&quot;5&quot;, 6))\n  )\n</code></pre>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 21,
			"user_id": 16447424,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJxF5tRvY0Y7tO2_a7Rb_IVD2Y0DWEFYDfDZTWcJ=k-s256",
			"display_name": "icemansssss",
			"link": "https://stackoverflow.com/users/16447424/icemansssss"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676664595,
		"creation_date": 1676664595,
		"question_id": 75488833,
		"link": "https://stackoverflow.com/questions/75488833/r-trying-to-calculate-desciptive-statistics-for-variables-across-columns-and-yea",
		"title": "R Trying to calculate desciptive statistics for variables across columns and years",
		"body": "<p>Hi everyone I'm trying to run below code for calculating descriptive statistics for all variables across values of &quot;years&quot; for some reason dplyr gives below error:</p>\n<p>Error: Problem with <code>summarise()</code> input <code>..1</code>.\nx Can't subset columns that don't exist.\nx Column <code>year</code> doesn't exist.\ni Input <code>..1</code> is <code>(function (.cols = everything(), .fns = NULL, ..., .names = NULL) ...</code>.\ni The error occurred in group 1: year = 2018.\nRun <code>rlang::last_error()</code> to see where the error</p>\n<p>Please find the code below:</p>\n<pre><code># Load required libraries\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(openxlsx)\n\n# Create example dataset\nset.seed(123)\nn &lt;- 1000\ndata &lt;- data.frame(\n  var_1 = rnorm(n),renare\n  var_2 = rnorm(n),\n  var_3 = rnorm(n),\n  var_4 = sample(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), n, replace = TRUE),\n  var_5 = sample(c(&quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;), n, replace = TRUE),\n  year = sample(2018:2020, n, replace = TRUE)\n)\n\n# Calculate descriptive statistics for numeric variables\nnum_vars &lt;- data %&gt;% select_if(is.numeric) %&gt;% names()\n\nnum_stats &lt;- data %&gt;%\n  select(all_of(c(num_vars, &quot;year&quot;))) %&gt;%\n  group_by(year) %&gt;%\n  summarise(across(all_of(num_vars), list(mean = mean, sd = sd, median = median, min = min, max = max), .names = &quot;{col}_{fn}_{year}&quot;)) %&gt;%\n\n  pivot_longer(cols = -year, names_to = c(&quot;Variable&quot;, &quot;.value&quot;, &quot;Year&quot;), names_sep = &quot;_&quot;) %&gt;%\n  pivot_wider(names_from = (Year, year), values_from = value, names_sep = &quot;_&quot;) %&gt;%\n  mutate(across(contains(&quot;mean&quot;), list(diff = ~. - lag(.)))) %&gt;%\n  mutate(across(contains(&quot;sd&quot;), list(diff = ~. - lag(.)))) %&gt;%\n  mutate(across(contains(&quot;median&quot;), list(diff = ~. - lag(.)))) %&gt;%\n  mutate(across(contains(&quot;min&quot;), list(diff = ~. - lag(.)))) %&gt;%\n  mutate(across(contains(&quot;max&quot;), list(diff = ~. - lag(.)))) %&gt;%\n  rename_all(~ gsub(&quot;^(mean|sd|median|min|max)_([^_]+)_(\\\\d+)$&quot;, paste0(&quot;\\\\1_\\\\2_\\\\3_&quot;), .)) %&gt;%\n  rename_with(~ gsub(&quot;^(diff)&quot;, paste0(&quot;\\\\1_&quot;, &quot;\\\\3_to_\\\\4_&quot;), .), contains(&quot;diff&quot;))\n\n# Create frequency table for categorical variables\ncat_vars &lt;- data %&gt;% select_if(is.factor) %&gt;% names()\n\ncat_stats &lt;- data %&gt;%\n  select(all_of(c(cat_vars, &quot;year&quot;))) %&gt;%\n  pivot_longer(cols = starts_with(&quot;var&quot;), names_to = &quot;Variable&quot;, values_to = &quot;Value&quot;) %&gt;%\n  group_by(Variable, Value, year) %&gt;%\n  summarise(Count = n()) %&gt;%\n  pivot_wider(names_from = &quot;year&quot;, values_from = &quot;Count&quot;, names_prefix = &quot;Count_&quot;) %&gt;%\n  unite(&quot;Variable:Value&quot;, c(&quot;Variable&quot;, &quot;Value&quot;), sep = &quot;: &quot;, remove = FALSE)\n\n# Create Excel workbook and write outputs to separate worksheets\nwb &lt;- createWorkbook()\n\naddWorksheet(wb, &quot;Numeric Statistics&quot;)\nwriteData(wb, &quot;Numeric Statistics&quot;, num_stats)\n\naddWorksheet(wb, &quot;Categorical Frequencies&quot;)\nwriteData(wb, &quot;Categorical Frequencies&quot;, cat_stats)\n\n# Save workbook to file\nsaveWorkbook(wb, &quot;output.xlsx&quot;, overwrite = TRUE)\n</code></pre>\n<p>Any ideas on what could be an issue here?</p>\n"
	}, {
		"tags": ["css", "r", "shiny", "padding", "dt"],
		"owner": {
			"reputation": 1091,
			"user_id": 10915988,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fba3c0dbd3412cdc6d7098a47a656d03?s=256&d=identicon&r=PG&f=1",
			"display_name": "TobKel",
			"link": "https://stackoverflow.com/users/10915988/tobkel"
		},
		"is_answered": false,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676663981,
		"creation_date": 1676645035,
		"last_edit_date": 1676649805,
		"question_id": 75485729,
		"link": "https://stackoverflow.com/questions/75485729/r-remove-padding-from-datatable-cells",
		"title": "R Remove padding from datatable cells",
		"body": "<p>I have a datatable in my shiny web app in which I have inserted checkboxes. However, my actual dataset is quite large. Therefore I would like to compress the datatable respectively reduce the padding.\nAlthough I have already found some approaches, this did not work with the checkboxes.</p>\n<p><a href=\"https://i.stack.imgur.com/suXMV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/suXMV.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me?<br />\nMany thanks in advane!</p>\n<p>Here is my reproducible example:</p>\n<pre><code>library(shiny)\nlibrary(DT)\nlibrary(tidyverse)\n\nshinyApp(\n  ui &lt;- fluidPage(\n    DT::dataTableOutput('x1')\n  ),\n  \n  server&lt;-function(input, output, session) {\n    # create a character vector of shiny inputs\n    shinyInput&lt;-function(FUN, len, id, ...) {\n      inputs &lt;- character(len)\n      for (i in seq_len(len)) {\n        inputs[i] &lt;- as.character(FUN(paste0(id, i), label=NULL, ...))\n      }\n      inputs\n    }\n    \n    # a sample data frame\n    values &lt;- reactiveValues(res=data.frame(\n      iris %&gt;% slice(10),\n      v2=shinyInput(checkboxInput, 10, 'v2_', value=FALSE)\n    )\n    )\n    \n    # render the table containing shiny inputs\n    output$x1 &lt;- DT::renderDataTable(\n      datatable(values$res, escape = F),\n      server=FALSE,\n      escape=FALSE\n    )\n  }\n)\n</code></pre>\n"
	}, {
		"tags": ["r", "tmap"],
		"owner": {
			"reputation": 81,
			"user_id": 15969268,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3e7fa411e3133e09bd9667f0b3e8e03d?s=256&d=identicon&r=PG&f=1",
			"display_name": "Ramon_88",
			"link": "https://stackoverflow.com/users/15969268/ramon-88"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676663803,
		"creation_date": 1675617260,
		"question_id": 75354067,
		"link": "https://stackoverflow.com/questions/75354067/how-to-save-high-definition-maps-with-tmap-in-r",
		"title": "How to save high-definition maps with tmap in R?",
		"body": "<p>usually, to save maps in vector format with tmap I use the following command:</p>\n<pre><code>tmap_save(maps, filename = &quot;maps.pdf&quot;,height = 8.27, width = 11.69)\n</code></pre>\n<p>However, the results are unsatisfactory in terms of image quality when I import the pdf file into the document. I would like to know if there is anything else I need to consider in order to do this correctly. Thank you.</p>\n"
	}, {
		"tags": ["r", "dataframe"],
		"owner": {
			"reputation": 4117,
			"user_id": 821649,
			"user_type": "registered",
			"accept_rate": 70,
			"profile_image": "https://www.gravatar.com/avatar/bb941efd51d8bb6b15a11f96b18cd2b9?s=256&d=identicon&r=PG&f=1",
			"display_name": "AdamO",
			"link": "https://stackoverflow.com/users/821649/adamo"
		},
		"is_answered": true,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676663714,
		"creation_date": 1676663601,
		"last_edit_date": 1676663714,
		"question_id": 75488700,
		"link": "https://stackoverflow.com/questions/75488700/how-to-retain-class-of-variable-in-tapply",
		"title": "How to retain class of variable in `tapply`?",
		"body": "<p>Suppose my data frame is set up like so:</p>\n<pre><code>X &lt;- data.frame(\n  id = c('A', 'A', 'B', 'B'),\n  dt = as.Date(c('2020-01-01', '2020-01-02', '2021-01-01', '2021-01-02'))\n)\n</code></pre>\n<p>and I want to populate a variable of the id-specific minimum value of date <code>dt</code></p>\n<p>Doing: <code>X$dtmin &lt;- with(X, tapply(dt, id, min)[id])</code> gives a numeric because the <code>simplify=T</code> in <code>tapply</code> has cast the value to numeric. Why has it done this? Setting <code>simplify=F</code> returns a list which each element in the list has the desired data structure, but populating the variable in my dataframe <code>X</code> casts these back to numeric. Yet calling <code>as.Date(&lt;output&gt;, origin='1970-01-01')</code> seems needlessly verbose. How can I retain the data structure of <code>dt</code>?</p>\n"
	}, {
		"tags": ["r", "shiny", "shinywidgets", "nouisliderinput"],
		"owner": {
			"reputation": 62691,
			"user_id": 13321647,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/YT6Os.png?s=256&g=1",
			"display_name": "TarJae",
			"link": "https://stackoverflow.com/users/13321647/tarjae"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75488575,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676662554,
		"creation_date": 1676659235,
		"last_edit_date": 1676661805,
		"question_id": 75488154,
		"link": "https://stackoverflow.com/questions/75488154/strange-behaviour-in-nouisliderinput-when-formating-decimal-to-integer-e-g-5",
		"title": "Strange behaviour in noUiSliderInput() when formating decimal to integer e.g. 5.00 to 5",
		"body": "<p>In <code>noUiSliderInput()</code> the numbers are shown as decimal by default like: <code>5.00</code>\nTo change to integer like: <code>5</code></p>\n<p>we can use the argument <code>format</code>: <code>format = list(wNumbFormat(decimals = 0, thousand = &quot;,&quot;, prefix = &quot;$&quot;))</code></p>\n<p>This only works partially like here:</p>\n<pre><code>library( shiny )\nlibrary( shinyWidgets )\n\nui &lt;- fluidPage(\n\n  div(style = 'position: absolute;left: 150px; top:270px; width:950px;margin:auto',\n  noUiSliderInput(\n    inputId = &quot;noui2&quot;, label = &quot;Slider vertical:&quot;,\n    min = 0, max = 45, step = 1,\n    value = c(15, 20), margin = 10,\n    orientation = &quot;vertical&quot;,\n    width = &quot;100px&quot;, height = &quot;300px&quot;,\n    format = list(wNumbFormat(decimals = 0, thousand = &quot;,&quot;, prefix = &quot;$&quot;))\n  ),\n  verbatimTextOutput(outputId = &quot;res2&quot;)\n  )\n)\nserver &lt;- function(input, output, session) {\n  output$res2 &lt;- renderPrint(input$noui2)\n}\nshinyApp(ui, server)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2UyEf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2UyEf.gif\" alt=\"enter image description here\" /></a></p>\n<p>What is the reason for this behavior?</p>\n"
	}, {
		"tags": ["css", "r", "shiny", "navbar", "nav"],
		"owner": {
			"reputation": 429,
			"user_id": 14315663,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/3668b488827d0f6a0406cf56ab6bee6d?s=256&d=identicon&r=PG&f=1",
			"display_name": "kiwi",
			"link": "https://stackoverflow.com/users/14315663/kiwi"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75488513,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676662472,
		"creation_date": 1676659363,
		"last_edit_date": 1676662472,
		"question_id": 75488188,
		"link": "https://stackoverflow.com/questions/75488188/how-to-change-text-colour-of-navbarpage-links-when-hovered-on-in-shiny-app",
		"title": "How to change text colour of navbarPage links when hovered on (in shiny app)?",
		"body": "<p>Here is the a redacted version of my shiny app:</p>\n<pre class=\"lang-r prettyprint-override\"><code>ui &lt;- tagList(\n  fluidPage(\n    titlePanel(&quot;&quot;),\n    tags$head(tags$style(HTML(\n      &quot;\n        .navbar-default {\n            color: red !important;'\n        }\n        \n        &quot;\n      ))),\n    navbarPage(\n      windowTitle = &quot;App Name&quot;,\n      theme = bs_theme(bootswatch = &quot;flatly&quot;,\n                       base_font = font_google(&quot;Lato&quot;),\n                       primary = &quot;#333F50&quot;,\n                       bg = &quot;white&quot;,\n                       fg = &quot;#D67540&quot;),\n      title = &quot;I am the title&quot;,\n      selected = &quot;Main Tab 1&quot;,\n      tabPanel(title = &quot;Main Tab 1&quot;,\n               fluidPage(\n                 sidebarLayout(\n                   sidebarPanel(textInput(inputId = &quot;text_input&quot;, label = &quot;Enter text:&quot;)),\n                   mainPanel(textOutput(outputId = &quot;text_output&quot;))\n                 )\n               )\n               ),\n      tabPanel(title = &quot;Main Tab 2&quot;,\n               fluidPage(\n                   fluidRow(\n                     column(7,\n                            navlistPanel(\n                              tabPanel(&quot;Tab 1&quot;),\n                              tabPanel(&quot;Tab 2&quot;),\n                              tabPanel(&quot;Tab 3&quot;),\n                              widths = c(2, 10),\n                              well = FALSE)\n                            )))\n               )\n      )\n    )\n  )\n\nserver &lt;- function(input, output){\n  output$text_output &lt;- renderText(input$text_input)\n}\n\nshinyApp(ui, server)\n</code></pre>\n<p>This is what &quot;Main Tab 1&quot; looks like:\n<a href=\"https://i.stack.imgur.com/aGW9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aGW9M.png\" alt=\"Main Tab 1\" /></a></p>\n<p>I would like to change the text colour of &quot;Main Tab 1&quot; and &quot;Main Tab 2&quot; from white to pink, and from teal green to red when the links are hovered/selected.</p>\n<p>So far I've tried many variations of the following but without success:</p>\n<pre class=\"lang-css prettyprint-override\"><code>.navbar-default {\n   color: red !important;\n}\n</code></pre>\n<p>Does anyone know how to fix this?</p>\n<p>Any help is much appreciated :)</p>\n"
	}, {
		"tags": ["r", "function", "apply"],
		"owner": {
			"reputation": 11,
			"user_id": 21236033,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6vxjQnOJM8oCbP9GjDxXummCTnwSy82Ki1pT_l=k-s256",
			"display_name": "Matilda Johnson",
			"link": "https://stackoverflow.com/users/21236033/matilda-johnson"
		},
		"is_answered": true,
		"view_count": 38,
		"down_vote_count": 2,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676662427,
		"creation_date": 1676660013,
		"question_id": 75488270,
		"link": "https://stackoverflow.com/questions/75488270/a-function-for-using-in-apply-in-r",
		"title": "A function for using in apply() in R",
		"body": "<p>Is there anyone know how can I define a function to be used in apply() that return the following value? data[i,data[i,300]].</p>\n<p>data[i,300] returns a column number in my data, and I am interested to know the content of this column number for each row.</p>\n<p>It's easy to use for loop for addressing this issue as follows:\nfor (i in 1: nrow(data)) {\nvalue&lt;-data[i,data[i,300]] }</p>\n<p>But it takes too much time for 10M observations. I am looking for a fast approach using apply().\nI appreciate any help you can provide me.</p>\n"
	}, {
		"tags": ["r", "mutate"],
		"owner": {
			"reputation": 1,
			"user_id": 21235633,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7lr4pu-T4ikBIjUdHX82yc23wdj1BhFW0qyQjt-A=k-s256",
			"display_name": "Evelyne Okado",
			"link": "https://stackoverflow.com/users/21235633/evelyne-okado"
		},
		"is_answered": true,
		"view_count": 39,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"closed_date": 1676668723,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676662113,
		"creation_date": 1676656340,
		"last_edit_date": 1676659122,
		"question_id": 75487695,
		"link": "https://stackoverflow.com/questions/75487695/why-does-my-mutate-function-only-work-for-single-digit-values",
		"closed_reason": "Duplicate",
		"title": "Why does my mutate function only work for single digit values",
		"body": "<p>I want to use the age variable in my data to create an 'age category' variable with different age brackets. This is the code I ran</p>\n<pre class=\"lang-r prettyprint-override\"><code>        New_Data &lt;- New_Data %&gt;% mutate(Age_category = case_when(New_Data$Age &lt;1 ~ &quot;&lt;1&quot;,\n        New_Data$Age &gt;=1 &amp; New_Data$Age &lt;=4 ~ &quot;1-4&quot;,\n        New_Data$Age &gt;4  &amp; New_Data$Age &lt;=9 ~ &quot;5-9&quot;,\n        New_Data$Age &gt;9  &amp; New_Data$Age &lt;=14 ~ &quot;10-14&quot;,\n        New_Data$Age &gt;14 &amp; New_Data$Age &lt;=19 ~ &quot;15-19&quot;,\n        New_Data$Age &gt;19 &amp; New_Data$Age &lt;=24 ~ &quot;20-24&quot;,\n        New_Data$Age &gt;24 &amp; New_Data$Age &lt;=29 ~ &quot;25-29&quot;,\n        New_Data$Age &gt;29 &amp; New_Data$Age &lt;=34 ~ &quot;30-34&quot;,\n        New_Data$Age &gt;34 &amp; New_Data$Age &lt;=39 ~ &quot;35-39&quot;,\n        New_Data$Age &gt;39 &amp; New_Data$Age &lt;=44 ~ &quot;40-44&quot;,\n        New_Data$Age &gt;44 &amp; New_Data$Age &lt;=49 ~ &quot;45-49&quot;,\n        New_Data$Age &gt;49 &amp; New_Data$Age &lt;=54 ~ &quot;50-54&quot;,\n        New_Data$Age &gt;54 &amp; New_Data$Age &lt;=59 ~ &quot;55-59&quot;,\n        New_Data$Age &gt;59 &amp; New_Data$Age &lt;=64 ~ &quot;60-64&quot;,\n        New_Data$Age &gt;64 ~ &quot;65+&quot;,\n        New_Data$Age == &quot;NULL&quot; ~ &quot;NULL&quot;))\n</code></pre>\n<p>I expect the following in the age category column</p>\n<pre><code> &quot;&lt;1&quot;, &quot;1-4&quot;,&quot;5-9&quot;, &quot;10-14&quot;, &quot;15-19&quot;,&quot;20-24&quot;, &quot;25-29&quot;, &quot;30-34&quot;,  &quot;35-39&quot;,&quot;40-44&quot;, &quot;45-49&quot;, &quot;50-54&quot;, &quot;55-59&quot;,\n      &quot;60-64&quot;, &quot;65+&quot;,&quot;NULL&quot;\n</code></pre>\n<p>Although the age category variable is created successfully, it only contains three age distinct age brackets(&quot;5-9&quot; &quot;&lt;1&quot;  &quot;1-4&quot; &quot;65+&quot;). I don't understand why the others haven't been created yet their ages exist in the data</p>\n"
	}, {
		"tags": ["r", "ggplot2", "conditional-statements"],
		"owner": {
			"reputation": 1147,
			"user_id": 16354132,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/91001d45594958db0314ec8a22635d78?s=256&d=identicon&r=PG&f=1",
			"display_name": "Mathica",
			"link": "https://stackoverflow.com/users/16354132/mathica"
		},
		"is_answered": true,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676661880,
		"accepted_answer_id": 75488483,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676662112,
		"creation_date": 1676661505,
		"question_id": 75488453,
		"link": "https://stackoverflow.com/questions/75488453/conditionally-set-both-fill-and-color-in-geom-point-ggplot-r",
		"closed_reason": "Duplicate",
		"title": "conditionally set both fill and color in geom_point ggplot R",
		"body": "<p>what is wrong my code that does not change the filling color?</p>\n<pre><code>cars %&gt;%\n  ggplot() + \n  geom_point(aes(x = speed, y = dist,\n                 color= I(ifelse(dist &gt;50, 'red', 'black')),\n                 fill= I(ifelse(dist &gt;50, 'pink', 'gray'))\n                 \n                 )\n             \n             )\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yYKYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYKYj.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["javascript", "r", "shiny", "attributes", "shinyjs"],
		"owner": {
			"reputation": 314,
			"user_id": 7612904,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://www.gravatar.com/avatar/99a9dd68b7be7957f6f1ef9d802d3e45?s=256&d=identicon&r=PG&f=1",
			"display_name": "Cris",
			"link": "https://stackoverflow.com/users/7612904/cris"
		},
		"is_answered": true,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75487782,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676661694,
		"creation_date": 1676654023,
		"question_id": 75487336,
		"link": "https://stackoverflow.com/questions/75487336/hot-to-use-shinyjs-to-get-the-id-of-a-clickable-div-element",
		"title": "Hot to use shinyjs to get the id of a clickable &lt;div&gt; element?",
		"body": "<p>I'm making a ShinyApp that uses plain HTML to order clickable <code>&lt;div&gt;</code> sub-elements inside another <code>&lt;div&gt;</code> element.</p>\n<p>I want the click event on the sub-elements to trigger a <code>reactiveVal()</code> in my server logic. I could do so by using <code>shinyjs::onclick(&quot;&lt;div&gt;.id&quot;, reactiveVal(id))</code>, but I would appreciate a better way of using the <code>.id</code> attribute of my <code>sub&lt;div&gt;</code> to directly modify my <code>reactiveVal()</code>, hopefully saving my from writting 118 <code>onclick()</code>s...</p>\n<p>Below is the MWE of what I tried so far:</p>\n<pre><code>library(shiny)\nlibrary(shinyjs)\n\nui &lt;- fluidPage(\n  useShinyjs(),\n  fluidRow(\n    column(\n      2, offset = 1, h3('List of elements:'),\n      HTML(\n        '&lt;div class = &quot;periodic-table&quot;&gt;\n            &lt;div class = &quot;element&quot; style = &quot;cursor: pointer;&quot; id = &quot;Hydrogen&quot;&gt; Hydrogen &lt;/div&gt;\n            &lt;div class = &quot;element&quot; style = &quot;cursor: pointer;&quot; id = &quot;Helium&quot;&gt; Helium &lt;/div&gt;\n            &lt;div class = &quot;element&quot; style = &quot;cursor: pointer;&quot; id = &quot;Lithium&quot;&gt; Lithium &lt;/div&gt;\n            ... &lt;br&gt; (115 more chemical elements)\n         &lt;/div&gt;'\n      )\n    ),\n    column(2, h3('Selected element:'), textOutput('SelectedElem'))\n  )\n)\n\nserver &lt;- function(input, output, session, devMode = TRUE) {\n  SelectedElem &lt;- reactiveVal()\n  \n  onclick(&quot;Hydrogen&quot;, SelectedElem(&quot;Hydrogen&quot;))\n  onclick(&quot;Helium&quot;, SelectedElem(&quot;Helium&quot;))\n  onclick(&quot;Lithium&quot;, SelectedElem(&quot;Lithium&quot;))\n  \n  output$SelectedElem &lt;- renderText(SelectedElem())\n}\n\nshinyApp(ui = ui, server = server, enableBookmarking = &quot;URL&quot;)\n</code></pre>\n<p>Desired behaviour:</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/i7Epk.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7Epk.gif\" alt=\"GIF of the working app\" /></a></p>\n</blockquote>\n"
	}, {
		"tags": ["r", "statistics", "data-fitting", "glmmtmb", "glmm"],
		"owner": {
			"reputation": 1,
			"user_id": 21235555,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4386ce7f1bf03ed23de484238c6618a8?s=256&d=identicon&r=PG&f=1",
			"display_name": "Ryan",
			"link": "https://stackoverflow.com/users/21235555/ryan"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676661669,
		"creation_date": 1676661633,
		"last_edit_date": 1676661669,
		"question_id": 75488464,
		"link": "https://stackoverflow.com/questions/75488464/justifying-need-for-zero-inflated-model-in-glmms",
		"title": "Justifying need for zero-inflated model in GLMMs",
		"body": "<p>I am using GLMMs in R to examine the influence of continuous predictor variables (x) on biological counts variable (y). My response variables (n=5) each have a high number of zeros (<a href=\"https://i.stack.imgur.com/Etb4w.png\" rel=\"nofollow noreferrer\">data distribution</a>), so I have tested the fit of various distributions (genpois, poisson, nbinom1, nbinom2, zip, zinb1, zinb2) and selected the best fit one according to the lowest AIC/LogLik value.</p>\n<p>According to this selection criteria, three of my response variables with the highest number of zeros are best fit to the zero inflated negative binomial (zinb2) distribution. Compared to the regular NB distribution (non-zero inflated), the delta AIC is between 30-150.</p>\n<p>My question is: must I use the ZI models for these variables considering the dAIC? I have received advice from a statistician that if dAIC is small enough between the ZI and non-ZI model, use the non-ZI model even if it is marginally worse fit since ZI models involve much more complicated modelling &amp; interpretation. The distribution matters in this case because ZINB / NB models select a different combination of top candidate models when testing my predictors.</p>\n<p>Thank you for any clarification!</p>\n"
	}, {
		"tags": ["javascript", "r", "openair"],
		"owner": {
			"reputation": 1,
			"user_id": 21181318,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5623km-9pfmvClTv9vr7A0vJ0KPCFSi1ho1Fw5=k-s256",
			"display_name": "eeeeessss",
			"link": "https://stackoverflow.com/users/21181318/eeeeessss"
		},
		"is_answered": false,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676661375,
		"creation_date": 1676661375,
		"question_id": 75488434,
		"link": "https://stackoverflow.com/questions/75488434/how-do-i-display-an-r-interactive-map-in-javascript",
		"title": "How do I display an R interactive map in Javascript?",
		"body": "<p>So I have this website, using Javascript as the frontend and PHP as the backend. PHP calls an R file that creates an interactive map (openairmaps), and I need to show that map in the website.</p>\n<p>So far, I was able to output a non interactive map (just an image) using bitmap, but I need the map to be interactive because there is a lot of info in said map, so the user will need to zoom in to the desired location.</p>\n"
	}, {
		"tags": ["r", "function", "histogram"],
		"owner": {
			"reputation": 45,
			"user_id": 17447797,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhK12u5YPeo1ZcX8JmuTmZF8CQhx4Jc0KMNR9BY=k-s256",
			"display_name": "Amelia",
			"link": "https://stackoverflow.com/users/17447797/amelia"
		},
		"is_answered": false,
		"view_count": 55,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676661160,
		"creation_date": 1676573517,
		"last_edit_date": 1676661160,
		"question_id": 75476726,
		"link": "https://stackoverflow.com/questions/75476726/non-integer-numbers-are-not-correctly-plotted-in-the-histogram",
		"title": "Non-integer numbers are not correctly plotted in the histogram",
		"body": "<p>The histogram plot is not correct, as in this case:</p>\n<p><a href=\"https://i.stack.imgur.com/RS73z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RS73z.png\" alt=\"enter image description here\" /></a></p>\n<p>The idea is to find a function that repeats the same value a non-integer number of times. In the example, 8.4, it takes it as 8 and 12.4 as 12 and 6.6, as 6.</p>\n<p>I am using rep(distance[2],d<a href=\"https://i.stack.imgur.com/RS73z.png\" rel=\"nofollow noreferrer\">1</a>),rep(distance[3],d[2]) and rep(distance[4],d[3]) and it is not correct.</p>\n<pre><code>LI &lt;- sample(10:20,1)\nlim&lt;-c(LI)\na&lt;-sample(5:18,replace=F,3)\nfor(k in 1:3){\nlim&lt;-c(lim,lim[k]+a[k])\n}\n\ndistancia &lt;-c(lim)\n\nlimites &lt;- function(m){\nv &lt;- NULL\nfor (i in 1:m){v &lt;-c(v, paste (lim [i],&quot;-&quot;,lim [i+1]))}\nv\n}\n\ndensidades &lt;- function(m){\nv &lt;- NULL\nfor (i in 1:m){v &lt;-c(v, c(lim [i+1]-lim [i]))}\nv\n}\n\ndensi&lt;-densidades(3)\nintervalos &lt;- limites(3) \nfrecuencias &lt;-frecuencias &lt;- sample(55:99, 3)\nd &lt;-round(frecuencias/densidades(3),2)\n\nsi &lt;-c(rep(distancia[1]),rep(distancia[2],d[1]),rep(distancia[3],d[2]),rep(distancia[4],d[3]))\n\nsi1 &lt;-c(distancia[1],distancia[2],distancia[3],distancia[4])\n\ndistancia1 &lt;-c(lim[1],lim[2],lim[3],lim[4])\n\nsi2 &lt;-c(d[1],d[2],d[3])\n\nhist(c(rep(distancia[2],d[1]),rep(distancia[3],d[2]),rep(distancia[4],d[3])), main=&quot;&quot;, breaks = c(lim[1],lim[2],lim[3],lim[4]), freq = T, axes = FALSE, labels = paste0(d),\n xlab = &quot;Edad&quot;, ylab = &quot;Densidades de frecuencias&quot;) \nrug(si)\naxis(1,\n     at = lim,\n     col = &quot;blue&quot;,        # Color l\u00ednea ejes\n     col.ticks = &quot;blue&quot;, # Color marcas ejes\n     col.axis = &quot;blue&quot;)    # Color de las etiquetas\naxis(2,\n     col = &quot;blue&quot;,        # Color l\u00ednea ejes\n     col.ticks = &quot;blue&quot;, # Color marcas ejes\n     col.axis = &quot;blue&quot;)    # Color de las etiquetas\ngrid(nx = NA, ny = NULL)\n</code></pre>\n"
	}, {
		"tags": ["r", "stringr"],
		"owner": {
			"reputation": 11,
			"user_id": 17979364,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a6cbbc6bb931da5c76895207a4e89a1f?s=256&d=identicon&r=PG",
			"display_name": "Claire",
			"link": "https://stackoverflow.com/users/17979364/claire"
		},
		"is_answered": true,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676660256,
		"creation_date": 1676653101,
		"question_id": 75487166,
		"link": "https://stackoverflow.com/questions/75487166/remove-part-of-a-string-and-turn-it-into-a-number",
		"title": "Remove part of a string and turn it into a number?",
		"body": "<p>I have a dataframe called &quot;Camera_data&quot; and a column called &quot;Numeric_time&quot;</p>\n<p>My &quot;Numeric_time&quot; column is in character format and includes hours, minutes and seconds, it looks like this: 08:40:01</p>\n<p>I need to remove the numbers that pertain to seconds and replace the semicolons with periods to make a decimal number for my time. I need it to look like this: 08.40 in order to turn my time into radians for an analysis I'm running.</p>\n<p>I've looked for a few solutions in stringr, but so far can't work out how to consistently take off the last three characters. I think once I have removed the seconds and replaced the : with a . I can just use as.numeric to turn the character column into a numerical column, but would really appreciate any help!</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 171,
			"user_id": 12918834,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fe4b4790ee0e8f9368e7540120fdff06?s=256&d=identicon&r=PG&f=1",
			"display_name": "jpryan28",
			"link": "https://stackoverflow.com/users/12918834/jpryan28"
		},
		"is_answered": true,
		"view_count": 43,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676659996,
		"creation_date": 1676652034,
		"last_edit_date": 1676655120,
		"question_id": 75487000,
		"link": "https://stackoverflow.com/questions/75487000/create-new-variable-based-on-outcome-of-other-variable-in-group-r",
		"title": "Create new variable based on outcome of other variable in group - R",
		"body": "<p>This a similar/followup question to this <a href=\"https://stackoverflow.com/questions/75475934/r-how-to-code-new-variable-based-on-grouped-variable-and-conditioned-on-earlier\">R: How to code new variable based on grouped variable and conditioned on earlier row</a> <em>but it is different because within donors there are potentially two match runs.</em></p>\n<p>I have a data file with organ donors.  I'm looking at lungs that are donated - there are two lungs.</p>\n<p>If the lungs are split (L and R) and put up for donation, they are each attempted to match with recipients (&quot;matchrun&quot;).  They go through eligible recipients until one matches (&quot;sequence&quot;).</p>\n<p>If the lung is matched to a recipient, it goes to them (&quot;organ_placed&quot;).</p>\n<p>If the lung doesn't match, it continues in the sequence and then just remains NA at the maximum sequence number.</p>\n<p>I would like to create a new variable that has the outcome of the match run such that if one lung is placed and the other is not, it tells you that the lung was discarded.  i.e. see case of Donor 2 in the data - the left lung is placed, but the right doesn't match.</p>\n<p>In donor 3, the first match run doesn't match but the match run for the other lung does.</p>\n<p>I figure it will be something like group_by(donorid, matchrun) but then how do you make a condition based on the match run?</p>\n<pre><code>library(tribble)\nlibrary(dplyr)\n\ndata &lt;- tribble(\n  ~donorid, ~matchrun, ~sequence, ~organ_placed,\n    2, 3, 1, NA,\n  2, 3, 2, NA,\n  2, 3, 3, &quot;L&quot;,\n  2, 4, 1, NA,\n  2, 4, 2, NA,\n  2, 4, 3, NA,\n  3, 5, 1, NA,\n  3, 5, 1, NA,\n  3, 5, 1, NA,\n  3, 6, 1, NA,\n  3, 6, 2, NA,\n  3, 6, 3, &quot;L&quot;\n)\n\ndesired_outcome &lt;- tribble(\n  ~donorid, ~matchrun, ~sequence, ~organ_placed, ~organ,\n  2, 3, 1, NA, NA, \n  2, 3, 2, NA, NA, \n  2, 3, 3, &quot;L&quot;, &quot;Left Single&quot;,\n  2, 4, 1, NA, NA,\n  2, 4, 2, NA, NA, \n  2, 4, 3, NA, &quot;Right Discarded&quot;,\n  3, 5, 1, NA, NA,\n  3, 5, 1, NA, NA,\n  3, 5, 1, NA, &quot;Right Discarded&quot;,\n  3, 6, 1, NA, NA,\n  3, 6, 2, NA, NA,\n  3, 6, 3, &quot;L&quot;, &quot;Left Single&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 25,
			"user_id": 21229177,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4wsV5c7jLHJG0dOh_wzQG8Lx2qY0hOE8dZZCB19g=k-s256",
			"display_name": "Buddhika Bellana",
			"link": "https://stackoverflow.com/users/21229177/buddhika-bellana"
		},
		"is_answered": true,
		"view_count": 34,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75488096,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676659931,
		"creation_date": 1676658377,
		"last_edit_date": 1676659123,
		"question_id": 75488035,
		"link": "https://stackoverflow.com/questions/75488035/permute-the-position-of-a-subset-of-a-vector",
		"title": "Permute the position of a subset of a vector",
		"body": "<p>I want to permute a subset of a vector.</p>\n<p>For example, say I have a vector (x) and I select a random subset of the vector (e.g., 40% of its values).</p>\n<p>What I want to do is output a new vector (x2) that is identical to (x) except the positions of the values within the random subset are randomly swapped.</p>\n<p>For example:</p>\n<ul>\n<li><em>x</em> = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</li>\n<li><em>random subset</em> = 1, 4, 5, 8</li>\n<li><em>x2</em> could be = 4, 2, 3, 8, 1, 6, 7, 5, 9, 10</li>\n</ul>\n<p>Here's an an example vector (x) and how I'd select the indices of a random subset of 40% of its values. Any help making (x2) would be appreciated!</p>\n<pre><code>x &lt;- seq(1,10,1)\nwhich(x%in%sample(x)[seq_len(length(x)*0.40)])\n</code></pre>\n"
	}, {
		"tags": ["r", "integer", "numeric"],
		"owner": {
			"reputation": 53,
			"user_id": 14873823,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b643a66eb0e2dfe9f946bc8c77eb8090?s=256&d=identicon&r=PG&f=1",
			"display_name": "Honestiore",
			"link": "https://stackoverflow.com/users/14873823/honestiore"
		},
		"is_answered": true,
		"view_count": 43,
		"down_vote_count": 0,
		"up_vote_count": 4,
		"accepted_answer_id": 75486889,
		"answer_count": 1,
		"score": 4,
		"last_activity_date": 1676659738,
		"creation_date": 1676650195,
		"last_edit_date": 1676655490,
		"question_id": 75486678,
		"link": "https://stackoverflow.com/questions/75486678/comparing-numeric-and-integer-values-sometimes-gives-true-and-sometimes-false",
		"title": "Comparing numeric and integer values sometimes gives TRUE and sometimes FALSE",
		"body": "<p>I use <code>%in%</code> to compare two lists, one with a vector of <em>numeric</em> values and the other with <em>corresponding integer</em> values. The result is really weird; sometimes <code>TRUE</code> and sometimes <code>FALSE</code> and I can't figure out why.</p>\n<p>For example the code below gives <code>TRUE</code></p>\n<pre><code>list(c(1, 1)) %in% list(c(1L, 1L))\n</code></pre>\n<p>However, if we change the second number in the vectors to 2 and 2L we get <code>FALSE</code></p>\n<pre><code>list(c(1, 2)) %in% list(c(1L, 2L))\n</code></pre>\n<p>Changing the second number to 3 or 4 gives <code>TRUE</code> again.</p>\n<pre><code>list(c(1, 3)) %in% list(c(1L, 3L))\nlist(c(1, 4)) %in% list(c(1L, 4L))\n</code></pre>\n<p>Using some other values again produces <code>FALSE</code> but I can't see any pattern to this. For example using 8 and 9 results in <code>FALSE</code>:</p>\n<pre><code>list(c(8, 9)) %in% list(c(8L, 9L))\n</code></pre>\n<p>Does anyone know why this is the case? It's really baffling and I'm completely lost why it's happening.</p>\n"
	}, {
		"tags": ["r", "string", "vector", "duplicates"],
		"owner": {
			"reputation": 1686,
			"user_id": 3703912,
			"user_type": "registered",
			"accept_rate": 57,
			"profile_image": "https://www.gravatar.com/avatar/04433d4ffdd016fa01c0a08c0f3f7d22?s=256&d=identicon&r=PG&f=1",
			"display_name": "shecode",
			"link": "https://stackoverflow.com/users/3703912/shecode"
		},
		"is_answered": true,
		"view_count": 7334,
		"down_vote_count": 0,
		"up_vote_count": 8,
		"accepted_answer_id": 28033338,
		"answer_count": 3,
		"score": 8,
		"last_activity_date": 1676659040,
		"creation_date": 1421700909,
		"last_edit_date": 1487169556,
		"question_id": 28033312,
		"link": "https://stackoverflow.com/questions/28033312/how-do-keep-only-unique-words-within-each-string-in-a-vector",
		"title": "How do keep only unique words within each string in a vector",
		"body": "<p>I have data that looks like this:</p>\n\n<pre><code>vector = c(\"hello I like to code hello\",\"Coding is fun\", \"fun fun fun\")\n</code></pre>\n\n<p>I want to remove duplicate words (space delimited) i.e. the output should look like</p>\n\n<p>vector_cleaned</p>\n\n<pre><code>[1] \"hello I like to code\"\n[2] \"coding is fun\"\n[3] \"fun\"\n</code></pre>\n"
	}, {
		"tags": ["r", "latex", "rstudio", "knitr", "r-markdown"],
		"owner": {
			"reputation": 1886,
			"user_id": 5013084,
			"user_type": "registered",
			"accept_rate": 89,
			"profile_image": "https://www.gravatar.com/avatar/561f38e0ddb14f32a9ad8206bf2fc532?s=256&d=identicon&r=PG&f=1",
			"display_name": "Revan",
			"link": "https://stackoverflow.com/users/5013084/revan"
		},
		"is_answered": true,
		"view_count": 18157,
		"down_vote_count": 0,
		"up_vote_count": 25,
		"accepted_answer_id": 53492020,
		"answer_count": 2,
		"score": 25,
		"last_activity_date": 1676658673,
		"creation_date": 1473879281,
		"last_edit_date": 1480860844,
		"question_id": 39497696,
		"link": "https://stackoverflow.com/questions/39497696/rmarkdown-to-latex",
		"title": "Rmarkdown to LaTeX",
		"body": "<p>I made a presentation in RStudio with RMarkdown/Knitr - it compiles without problems to a pdf (via LaTeX Beamer). </p>\n\n<p>But I cannot get the LaTeX file. Is there any way to export also the LaTeX file which should be produced in the conversion?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21031292,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/412f69ba4e31b0e87a2f9f8f17319479?s=256&d=identicon&r=PG",
			"display_name": "Mary",
			"link": "https://stackoverflow.com/users/21031292/mary"
		},
		"is_answered": false,
		"view_count": 96,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676658233,
		"creation_date": 1673993460,
		"last_edit_date": 1674018951,
		"question_id": 75152731,
		"link": "https://stackoverflow.com/questions/75152731/r-ggforest-error-in-match-namesclabs-namesxi-names-do-not-match-previou",
		"title": "R ggforest(): Error in match.names(clabs, names(xi)): names do not match previous names",
		"body": "<p>I just updated R to version 4.2.2 and RStudio to version 2022.12.0+353 and now when I run ggforest() on my Cox model, I get a name match error (shown below).</p>\n<p>This is while this exact code was working perfectly prior to the updates. Has anyone else faced such error or know how to fix it?</p>\n<p>I'm using a Mac M1, OS version 12.5.1.</p>\n<pre><code>cx1 &lt;- coxph(Surv(surv_time, surv_status) ~ mygrp + age + sex + educ, data =mydata)\nggforest(cx1, data = mydata)\n\n**Error in match.names(clabs, names(xi)) :\nnames do not match previous names**\n</code></pre>\n<p>Note that when I run a univariate cox model with any single one of the covariates alone, ggforest() works error-free. But as soon as there is more than one coviariate in the cox model, ggforest() throws the above error.</p>\n"
	}, {
		"tags": ["r", "gtsummary"],
		"owner": {
			"reputation": 3,
			"user_id": 21233281,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1f67648d025c3cf7c465ddebca504ee1?s=256&d=identicon&r=PG",
			"display_name": "MegStats",
			"link": "https://stackoverflow.com/users/21233281/megstats"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676658098,
		"creation_date": 1676642225,
		"last_edit_date": 1676658098,
		"question_id": 75485223,
		"link": "https://stackoverflow.com/questions/75485223/tbl-summary-chi-squared-testing",
		"title": "Tbl_Summary Chi Squared Testing",
		"body": "<p>I have created a summary table for some data using <code>tbl_summary()</code>. The table sums numerical values in columns grouped by a factor, producing a 2x2 table.</p>\n<p>I'd like to use <code>tlb_summary()</code>'s built-in statistics to calculate the p value using a Chi Squared test, however I can't tell if this is possible. Using the <code>add_p()</code> line gives me a p value for each row, which is incorrect:</p>\n<pre><code>library(gtsummary)\nlibrary(tidyverse)\n\ntest &lt;- data.frame(&quot;With_assistant&quot; = c(TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE),\n                   &quot;correct_answers&quot; = c(2,4,5,6,1,2,7,2,1,2,3),\n                   &quot;incorrect_answers&quot; = c(1,2,1,5,3,1,2,5,3,2,4))\n\ntest %&gt;%\n  tbl_summary(\n    by = With_assistant,\n    type = list(c(correct_answers, incorrect_answers) ~ &quot;continuous&quot;),\n    statistic = list(c(correct_answers, incorrect_answers) ~ &quot;{sum}&quot;) \n  ) %&gt;%\nadd_p(test = everything () ~ &quot;chisq.test&quot;)\n\n</code></pre>\n"
	}, {
		"tags": ["r", "machine-learning", "knn"],
		"owner": {
			"reputation": 39,
			"user_id": 12352561,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7015ceb0cf30b4f9c5f20fb1e9471412?s=256&d=identicon&r=PG&f=1",
			"display_name": "stefan485",
			"link": "https://stackoverflow.com/users/12352561/stefan485"
		},
		"is_answered": true,
		"view_count": 798,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 60107536,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676657935,
		"creation_date": 1581040152,
		"last_edit_date": 1581075469,
		"question_id": 60106062,
		"link": "https://stackoverflow.com/questions/60106062/knn-train-and-class-have-different-lengths",
		"title": "knn train and class have different lengths",
		"body": "<p>NN model to predict new data, but the error says: \n\"'train' and 'class' have different lengths\"</p>\n\n<p>can someone replicate and solve this error?</p>\n\n<pre><code>weather &lt;- c(1, 1, 1, 0, 0, 0)\ntemperature &lt;- c(1, 0, 0, 1, 0, 0)\ngolf &lt;- c(1, 0, 1, 0, 1, 0)\ndf &lt;- data.frame(weather, temperature, golf)\ndf_new &lt;- data.frame(weather = c(1,1,1,1,1,1,1,1,1), temp = c(0,0,0,0,0,0,0,0,0), sunnday= c(1,1,1,0,1,1,1,0,0))\npred_knn &lt;- knn(train=df[, c(1,2)], test=df_new, cl=df$golf, k=1)\n\n</code></pre>\n\n<p>Thank you very much!</p>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 445,
			"user_id": 9319259,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-acdbQxsqSM0/AAAAAAAAAAI/AAAAAAAAAAk/B8OSkIhtWeY/photo.jpg?sz=256",
			"display_name": "Nader Mehri",
			"link": "https://stackoverflow.com/users/9319259/nader-mehri"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676657580,
		"creation_date": 1676657263,
		"last_edit_date": 1676657580,
		"question_id": 75487854,
		"link": "https://stackoverflow.com/questions/75487854/conditioning-mainpanel-output-on-inputid-value-in-shiny",
		"title": "Conditioning mainPanel output on inputID value in shiny",
		"body": "<p>Using the code below, I am trying to condition the mainPanel output on inputID values such that if ProjectD==&quot;18&quot; then three maps appear in UI. Otherwise, the message &quot;This is a different mainPanel output for option 2&quot; appears.</p>\n<p>I am getting an error: Error in output$mainPanelOutput &lt;- renderUI({ : object 'output' not found\nCalls: runApp ... fluidPage -&gt; bootstrapPage -&gt; list2 -&gt; div -&gt; dots_list\nExecution halted&quot;.</p>\n<p><strong>Here is my code:</strong></p>\n<pre><code>mainPanel(\n    output$mainPanelOutput &lt;- renderUI({\n      if (input$ProjectID == &quot;18&quot;) {\n          fluidRow(\n            column(\n              width = 4,\n              shinyjs::useShinyjs(),\n              leafletOutput(&quot;svi&quot;, height = &quot;500px&quot;)\n            ),\n            column(\n              width = 4,\n              shinyjs::useShinyjs(),\n              leafletOutput(&quot;BlackP&quot;, height = &quot;500px&quot;)\n            ),\n            column(\n              width = 4,\n              shinyjs::useShinyjs(),\n              leafletOutput(&quot;bi_svi_BlackP&quot;, height = &quot;500px&quot;)\n            )\n          )\n        \n          } else if (input$ProjectID == &quot;44&quot;) {\n        # generate a different mainPanel output for option2\n        h2(&quot;This is a different mainPanel output for option 2&quot;)\n      }\n    })\n),\n</code></pre>\n"
	}, {
		"tags": ["r", "diagrammer"],
		"owner": {
			"reputation": 984,
			"user_id": 4035303,
			"user_type": "registered",
			"accept_rate": 88,
			"profile_image": "https://i.stack.imgur.com/NMaQ2.jpg?s=256&g=1",
			"display_name": "COLO",
			"link": "https://stackoverflow.com/users/4035303/colo"
		},
		"is_answered": true,
		"view_count": 3368,
		"down_vote_count": 0,
		"up_vote_count": 7,
		"accepted_answer_id": 47836372,
		"answer_count": 1,
		"score": 7,
		"last_activity_date": 1676657502,
		"creation_date": 1511970841,
		"last_edit_date": 1511986275,
		"question_id": 47556794,
		"link": "https://stackoverflow.com/questions/47556794/diagrammer-how-to-add-labels-to-mermaid-connectors",
		"title": "Diagrammer: how to add labels to mermaid connectors",
		"body": "<p>I am trying R DiagrammeR library, and can noT add a label for the connectors between boxes...\nMy code (which works fine) is:</p>\n\n<pre><code>library(DiagrammeR)\nmermaid(\"\ngraph TD\n        A[node 1]--&gt;B[node 2]\n        A--&gt;C[node 3]\n        C--&gt;E[another node]\n        B--&gt;D[node 4]\n        \")\n</code></pre>\n\n<p>Using the function grViz of the same library, labels could be added like:</p>\n\n<pre><code> A[label:'This is the NO path\"]\n</code></pre>\n\n<p>but this way gives error in mermaid function...\nI tried:</p>\n\n<pre><code> A[node 1]--&gt;B[node 2][label=\"test\"]\n A[node 1]--&gt;B[node 2, label=\"test\"]\n</code></pre>\n\n<p>and many others with no success.</p>\n\n<p>I want something similar to this diagramm with the 'YES' added in a connection\n<a href=\"https://i.stack.imgur.com/JmZGX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JmZGX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas? Thanks in advance! </p>\n"
	}, {
		"tags": ["r", "raster", "projection", "r-raster"],
		"owner": {
			"reputation": 65,
			"user_id": 11499903,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-KYzLYLcdyIQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6sBucY2UHqq8phY-3Ob40B1GDMg/mo/photo.jpg?sz=256",
			"display_name": "Priya Patel",
			"link": "https://stackoverflow.com/users/11499903/priya-patel"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676656775,
		"creation_date": 1676655051,
		"last_edit_date": 1676656775,
		"question_id": 75487483,
		"link": "https://stackoverflow.com/questions/75487483/how-to-re-project-a-raster-in-r",
		"title": "How to re-project a raster in r",
		"body": "<p>I'm working with a raster layer that looks like this:</p>\n<pre><code>class      : RasterLayer \ndimensions : 7040, 9020, 63500800  (nrow, ncol, ncell)\nresolution : 1, 1  (x, y)\nextent     : 0.5, 9020.5, 0.5, 7040.5  (xmin, xmax, ymin, ymax)\ncrs        : +proj=longlat +datum=WGS84 +no_defs \nsource     : omi_surface_no2_2005.nc \nnames      : surface_no2_ppb \nzvar       : surface_no2_ppb \n</code></pre>\n<p>And I need to re-project it so that I can crop it to this shape file:</p>\n<pre><code>Simple feature collection with 1 feature and 0 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -80.24869 ymin: 43.05051 xmax: -78.43696 ymax: 44.51657\nGeodetic CRS:  NAD83\n                        geometry\n1 MULTIPOLYGON (((-79.38536 4...\n</code></pre>\n<p>But when I try to re-project it, it doesn't work.</p>\n<p>This is the code that I used:</p>\n<pre><code>omi_reproj &lt;- projectRaster(omi, crs = crs(gtha_shp))\n</code></pre>\n<p>Has the raster layer been assigned the CRS incorrectly? I'm not sure what I'm doing wrong. If you need the data layers, I can provide a link.</p>\n<p>Link to raster: <a href=\"https://utoronto-my.sharepoint.com/:u:/g/personal/prp_patel_utoronto_ca/EURVW-RIFsZFk3m_oRANGD4BeClUlhG2GY-cjauuDwoanQ?e=iCwoWq\" rel=\"nofollow noreferrer\">link</a></p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 767,
			"user_id": 12857915,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/17c4a3ea6914edcb3eba138e62e7e73d?s=256&d=identicon&r=PG&f=1",
			"display_name": "H.Cheung",
			"link": "https://stackoverflow.com/users/12857915/h-cheung"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75487599,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676656285,
		"creation_date": 1676655506,
		"question_id": 75487568,
		"link": "https://stackoverflow.com/questions/75487568/see-the-attributes-of-a-dataframe-but-exclude-rownames",
		"title": "See the attributes of a dataframe but exclude rownames",
		"body": "<p>I'd like to see the attributes of a dataframe but exclude the <strong>$row.names</strong> part.\nI'm using attributes().</p>\n<pre><code>attributes( df )\n</code></pre>\n<p>Is there a way to achieve this using this function or do I need to seek a different function?\nThanks in advance.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 6381,
			"user_id": 6447399,
			"user_type": "registered",
			"accept_rate": 54,
			"profile_image": "https://www.gravatar.com/avatar/46f7288222024483b021c1c106c2f0cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "user113156",
			"link": "https://stackoverflow.com/users/6447399/user113156"
		},
		"is_answered": true,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75487659,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676656089,
		"creation_date": 1675982125,
		"question_id": 75405155,
		"link": "https://stackoverflow.com/questions/75405155/financial-break-even-point-given-a-stream-of-cashflows-in-r",
		"title": "financial break even point given a stream of cashflows in R",
		"body": "<p>Suppose I have every month an income of <code>1200</code>\nThe interest rate is 1% - so after 1 year the price will increase 1%</p>\n<p>I would like to find out how many years it will take until each investment will break even</p>\n<p>Suppose an investment costs 200,000 with a momthly income of 1200</p>\n<p>My first year and subsequent years annual income will be:</p>\n<pre><code>firstYear = 1200 * 12\nadditionalYears = (1200*12)*(1+0.01)^c(1:5)\nc(firstYear, additionalYears)\n\n14400.00 14544.00 14689.44 14836.33 14984.70 15134.54\n</code></pre>\n<p>I would like to make the &quot;5&quot; in the above example <code>dynamic</code> until it find the breakeven point.</p>\n<p>In this example I have:</p>\n<pre><code>sum(c(firstYear, additionalYears))\n198854.3\n</code></pre>\n<p>So the investment did not breakeven yet. Adjusting it to &quot;12&quot; gives me the breakeven point:</p>\n<pre><code>firstYear = 1200 * 12\nadditionalYears = (1200*12)*(1+0.01)^c(1:12)\nsum(c(firstYear, additionalYears))\n</code></pre>\n<p>If possible I would like to determine the month of that year it will break even (so given this example it breakseven in month 12 of year 12, but others might break even in month 8 of year 6 etc.</p>\n"
	}, {
		"tags": ["r", "heatmap", "correlation", "r-corrplot", "ggcorrplot"],
		"owner": {
			"reputation": 184,
			"user_id": 7395807,
			"user_type": "registered",
			"accept_rate": 67,
			"profile_image": "https://www.gravatar.com/avatar/404fe7c0898f9b281b8da698812be1bc?s=256&d=identicon&r=PG&f=1",
			"display_name": "hcg",
			"link": "https://stackoverflow.com/users/7395807/hcg"
		},
		"is_answered": true,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75487560,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676655466,
		"creation_date": 1676653333,
		"question_id": 75487220,
		"link": "https://stackoverflow.com/questions/75487220/corrplot-one-column-multiple-groups-single-plot",
		"title": "corrplot one column multiple groups single plot",
		"body": "<p>I would like a corrplot, where I only have the first column. I got that solution from here:\n<a href=\"https://stackoverflow.com/questions/23613188/corrplot-with-only-one-variable-on-x-axis\">Corrplot with only one variable on x axis</a></p>\n<pre><code>corrplot(cor(iris[,1:4])[1:4,1, drop=FALSE], cl.pos='n')\n</code></pre>\n<p>but I would like the first column to repeat WITHIN THE SAME PLOT by group:\n<a href=\"https://i.stack.imgur.com/OrTmE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OrTmE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I am not married to using corrplot but need some similar solution. Thanks for any and all help.</p>\n"
	}, {
		"tags": ["r", "matrix", "glmmtmb", "tmb", "glmm"],
		"owner": {
			"reputation": 1,
			"user_id": 21235555,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4386ce7f1bf03ed23de484238c6618a8?s=256&d=identicon&r=PG&f=1",
			"display_name": "Ryan",
			"link": "https://stackoverflow.com/users/21235555/ryan"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676655243,
		"creation_date": 1676655243,
		"question_id": 75487513,
		"link": "https://stackoverflow.com/questions/75487513/mistmatch-between-glmmtmb-and-matrix-in-r",
		"title": "Mistmatch between glmmTMB and Matrix in R",
		"body": "<p>I am running GLMMs in R but have run into the issue of package version inconsistencies between TMB, Matrix (both pre-installed) and glmmTMB (the GLMM package).</p>\n<p>I have attempted to (1) follow the instructions in the warning message, (2) reinstall all three versions from source on github, and (3) clean reinstall RStudio and repeat, but cannot seem to get the versions to match up.</p>\n<p>I'm not sure if this is even an issue (beyond a warning) considering the versions are so close to one another, but would like to resolve this just in case. Any rec's/instructions to fix this is greatly appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/HRem2.png\" rel=\"nofollow noreferrer\">Warning message in R when loading glmmTMB</a></p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 263,
			"user_id": 15541756,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6ab3a5a662f7dbc161caf0c9544b14be?s=256&d=identicon&r=PG&f=1",
			"display_name": "vcat",
			"link": "https://stackoverflow.com/users/15541756/vcat"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75487313,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676654834,
		"creation_date": 1676653520,
		"question_id": 75487256,
		"link": "https://stackoverflow.com/questions/75487256/create-new-column-based-on-non-numerical-variables-from-several-columns-in-the-s",
		"title": "Create new column based on non-numerical variables from several columns in the same dataframe in R",
		"body": "<p>I have a large df which I have simplified where I would love to create two new column K_status and S_status with based on variables in another column and I am struggling on how best to code for this.</p>\n<pre><code>A &lt;- c(&quot;K&quot;, &quot;K&quot;, &quot;K&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;NA&quot;)\nB &lt;- c(&quot;NA&quot;, &quot;AA&quot;, &quot;AC&quot;, &quot;NA&quot;, &quot;AA&quot;, &quot;AB&quot;, &quot;LD&quot;)\nC &lt;- c(&quot;TT&quot;, &quot;YY&quot;, &quot;YY&quot;, &quot;TT&quot;, &quot;YY&quot;, &quot;Y&quot;, &quot;TT&quot;)\ndf &lt;- data.frame(A, B, C)\n</code></pre>\n<p>To generate the K_status and S_status additional columns to df my current code is:</p>\n<pre><code>df &lt;- df %&gt;%\nmutate(K_status = case_when(all(&quot;K&quot;, &quot;AA&quot;, &quot;YY&quot;) %in% df) ~ &quot;Mut&quot;,\nTRUE ~ &quot;WT&quot;)) %&gt;%\nmutate(S_status = case_when(all(&quot;S&quot;, &quot;AB&quot;, &quot;Y&quot;) %in% df) ~ &quot;Mut&quot;,\nTRUE ~ &quot;WT&quot;)) \n</code></pre>\n<p>This code is not working as my intended new df should look like this</p>\n<pre><code>A &lt;- c(&quot;K&quot;, &quot;K&quot;, &quot;K&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;NA&quot;)\nB &lt;- c(&quot;NA&quot;, &quot;AA&quot;, &quot;AC&quot;, &quot;NA&quot;, &quot;AA&quot;, &quot;AB&quot;, &quot;LD&quot;)\nC &lt;- c(&quot;TT&quot;, &quot;YY&quot;, &quot;YY&quot;, &quot;TT&quot;, &quot;YY&quot;, &quot;Y&quot;, &quot;TT&quot;)\nK_status &lt;- c(&quot;WT&quot;, &quot;Mut&quot;, &quot;WT&quot;, &quot;WT&quot;, &quot;WT&quot;, &quot;WT&quot;, &quot;WT&quot;)\nS_status &lt;- c(&quot;WT&quot;, &quot;WT&quot;, &quot;WT&quot;, &quot;WT&quot;, &quot;WT&quot;, &quot;Mut&quot;, &quot;WT&quot;)\ndf &lt;- data.frame(A, B, C, K_status, S_status)\n\n</code></pre>\n<p>Any help in writing this code to generate K_status and S_status would be greatly appreciated.  Thank you.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "r-mice", "grob"],
		"owner": {
			"reputation": 609,
			"user_id": 6938000,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/db2909defcbe5b695094cf451ec6117e?s=256&d=identicon&r=PG&f=1",
			"display_name": "DeMelkbroer",
			"link": "https://stackoverflow.com/users/6938000/demelkbroer"
		},
		"is_answered": false,
		"view_count": 9,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676654542,
		"creation_date": 1676654542,
		"question_id": 75487414,
		"link": "https://stackoverflow.com/questions/75487414/saving-s3-aggr-object-in-a-way-mice-plots-can-be-visualized-by-ggplot-in-a-grid",
		"title": "Saving S3 aggr object in a way mice_plots can be visualized by ggplot in a grid arrangement",
		"body": "<p>I am using a for loop to loop through a dataset and produce a mice_plot per category. In the for loop, I would like to save the produced mice_plot so that I can later plot them all in a grid.</p>\n<p>my code looks like this atm:</p>\n<pre><code>for center in unique(df$center){\n\n    dispatch_centers &lt;- list()\n    mice_plot &lt;- aggr(center, ...)\n\n    # save mice_plot some how in a way I can later open it with ggplot\n    as.grob()?\n\n    #add to list\n    center_plots[[center]] &lt;- mice_plot\n\n}\n\ngrid.arrange(grobs = center_plots, ncol = 2)\n</code></pre>\n<p>However, I do not understand the aggr() object nor how to save it so I can later handle it with ggplot2. Does anyone have any ideas?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1279,
			"user_id": 7091646,
			"user_type": "registered",
			"accept_rate": 69,
			"profile_image": "https://www.gravatar.com/avatar/e5ffcd67722650216f92a3e6908dea55?s=256&d=identicon&r=PG&f=1",
			"display_name": "Eric",
			"link": "https://stackoverflow.com/users/7091646/eric"
		},
		"is_answered": true,
		"view_count": 85,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 52545652,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676653667,
		"creation_date": 1538085124,
		"question_id": 52545634,
		"link": "https://stackoverflow.com/questions/52545634/how-to-use-tabulate-function-to-count-zeros",
		"title": "How to use tabulate function to count zeros?",
		"body": "<p>I am trying to count integers in a vector that also contains zeros. However, tabulate doesn't count the zeros.  Any ideas what I am doing wrong?</p>\n\n<p>Example:</p>\n\n<pre><code>&gt; tabulate(c(0,4,4,5))\n[1] 0 0 0 2 1\n</code></pre>\n\n<p>but the answer I expect is:</p>\n\n<pre><code>[1] 1 0 0 0 2 1\n</code></pre>\n"
	}, {
		"tags": ["r", "gis"],
		"owner": {
			"reputation": 55,
			"user_id": 7436465,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f19ed13eb135510fbe01bdb186dbb9b3?s=256&d=identicon&r=PG&f=1",
			"display_name": "remote.sensing.scientist",
			"link": "https://stackoverflow.com/users/7436465/remote-sensing-scientist"
		},
		"is_answered": true,
		"view_count": 1351,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676652816,
		"creation_date": 1498068106,
		"question_id": 44683183,
		"link": "https://stackoverflow.com/questions/44683183/export-composite-rgb-image-with-spatial-information-r",
		"title": "Export composite RGB image with spatial information, R",
		"body": "<p>I am processing hundreds of 4-band images in R and need help on what is probably a very simple task.  As part of the processing, I need to export a single band RGB composite that maintains the spatial information of the original GeoTiff.  In other software I've exported a .jgw file but I need to be able to do this in R.  These images will be used as basemaps and fed into another mapping interface.  I have searched and searched and can only find how to plotRGB() and how to writeRaster().  PlotRGB loses the spatial information and writeRaster() produces a multi-band image.  </p>\n\n<p>Any ideas? There is a built in raster in R that can be used.</p>\n\n<pre><code>library(raster)\nlibrary(rgdal)\nr &lt;- raster(system.file(\"external/test.grd\", package=\"raster\"))\nx &lt;- RGB(r)\nplotRGB(x)  #Is there a way to output this where it will maintain spatial information?\nwriteRaster(x, filename=\"file.tif\")  #This produces a 3-band tiff, not a composite\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "na", "z-score"],
		"owner": {
			"reputation": 11,
			"user_id": 20121478,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/ACNPEu-MZzYoo-a8FL08YmJPrCZX0t5HFM0v7I0a8TGYMQ=k-s256",
			"display_name": "Guilherme Afonso Vergara",
			"link": "https://stackoverflow.com/users/20121478/guilherme-afonso-vergara"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676652781,
		"creation_date": 1676652494,
		"question_id": 75487074,
		"link": "https://stackoverflow.com/questions/75487074/trouble-with-nas-in-large-dataframe",
		"title": "Trouble with NA&#39;s in large dataframe",
		"body": "<p>I'm having trouble trying to standardize my data.\nSo, first things first, I create the dataframe object with my data, with my desired row names (and I remove the 1st column, as it is not needed.</p>\n<pre><code>EXPGli &lt;-read.delim(&quot;C:/Users/i5/Dropbox/Guilherme Vergara/Doutorado/Data/Datasets/MergedEXP3.txt&quot;, row.names=2)\nEXPGli &lt;- EXPGli[,-1]\nEXPGli &lt;- as.data.frame(EXPGli)\n</code></pre>\n<p>Then, I am supposed to convert all the columns to Z-score (each column = gene expression values; each row = sample) -&gt; the idea here is to convert every gene expression data to a Z-score value of it for each cell</p>\n<pre><code>Z_score &lt;- function(x) {(x-mean(x))/ sd(x)}\napply(EXPGli, 2, Z_score)\n</code></pre>\n<p>Which returns me [ reached 'max' / getOption(&quot;max.print&quot;) -- omitted 1143 rows ]\nAnd now my whole df is NA's cells.\nIndeed, there are several NAs in the dataset, some full rows and even some columns.</p>\n<p>I tried several approaches to remove NAs</p>\n<pre><code>EXPGli &lt;- na.omit(EXPGli)\nEXPGli %&gt;% drop_na()\nprint(EXPGli[rowSums(is.na(EXPGli)) == 0, ])\nna.exclude(EXPGli)\n</code></pre>\n<p>Yet apparently, it does not work. Additionally, trying to is.na(EXPGli)\nReturns me False to all fields.\nI would like to understand what am I doing wrong here, it seems that the issue might be NA's not being recognized in R as NA but I couldnt find a solve for this. Any input is very appreciatted, thanks in advance!</p>\n"
	}, {
		"tags": ["r", "machine-learning", "svm", "r-caret"],
		"owner": {
			"reputation": 2363,
			"user_id": 5571686,
			"user_type": "registered",
			"accept_rate": 84,
			"profile_image": "https://www.gravatar.com/avatar/65b8ff8d43e7125bcbd21e49eb803ee0?s=256&d=identicon&r=PG&f=1",
			"display_name": "TheGoat",
			"link": "https://stackoverflow.com/users/5571686/thegoat"
		},
		"is_answered": false,
		"view_count": 1212,
		"down_vote_count": 0,
		"up_vote_count": 10,
		"answer_count": 1,
		"score": 10,
		"last_activity_date": 1676652017,
		"creation_date": 1491520547,
		"last_edit_date": 1543410005,
		"question_id": 43267209,
		"link": "https://stackoverflow.com/questions/43267209/line-search-fails-when-training-a-model-using-caret",
		"title": "line search fails when training a model using caret",
		"body": "<p>I am using the train function in caret to train a SVM using the svmRadial kernel for a binary classification task I have. </p>\n\n<p>When I run the train function on my data, I incrementally get these messages which say </p>\n\n<p><code>line search fails -2.13865 -0.1759025 1.01927e-05 3.812143e-06 -5.240749e-08 -1.810113e-08 -6.03178e-13line search fails -0.7148131 0.1612894 2.32937e-05 3.518543e-06 -1.821269e-08 -1.37704e-08 -4.726926e-13</code></p>\n\n<p>Once the code is finished (compiling/running?) I received the following warnings also:</p>\n\n<pre><code>    &gt; warnings()\nWarning messages:\n1: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n2: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n3: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n4: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n5: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n6: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n7: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n8: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n9: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n10: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n11: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n12: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n13: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n14: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n15: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n16: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n17: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n18: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n19: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n20: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n21: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n22: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n23: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n24: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n25: In method$predict(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class prediction calculations failed; returning NAs\n26: In method$prob(modelFit = modelFit, newdata = newdata,  ... :\n  kernlab class probability calculations failed; returning NAs\n27: In data.frame(..., check.names = FALSE) :\n  row names were found from a short variable and have been discarded\n28: In nominalTrainWorkflow(x = x, y = y, wts = weights, info = trainInfo,  ... :\n  There were missing values in resampled performance measures.\n</code></pre>\n\n<p>As you can see from the warnings above there's mention of NA values for some probability calculations, why would these calculations be failing?</p>\n\n<p>As per @HFBrowning request here is an example of the data I am using. I am trying to build a classifier to predict whether a telecommunications cell is either overshooting or not.overshooting (Class). </p>\n\n<pre><code>&gt; head(imbal_training,10)\n   Total.Tx.Height Antenna.Tilt Antenna.Gain Ant.Vert.Beamwidth       RTWP Voice.Drops Range Max.Distance Rural Suburban Urban\n2            31.25            0         15.9               10.0 -103.55396          12  5.14         6.24     1        0     0\n5            31.25            0         18.2                4.4 -104.76192           1  3.88         4.98     1        0     0\n7            25.14            4         15.9                9.6 -102.93839           1  6.58         9.17     1        0     0\n9            25.14            2         18.8                4.3 -104.23198           4  5.08         7.67     1        0     0\n11           10.66            4         16.2               10.0  -98.23691          17 23.33        24.69     0        1     0\n12           10.66            6         16.2               10.0 -103.78522           5 18.24        19.60     0        1     0\n13           10.66            5         16.2               10.0  -94.59940           5 20.20        21.56     0        1     0\n14           10.66            3         18.7                4.4 -103.17622           3 23.86        25.22     0        1     0\n15           10.66            5         18.7                4.4 -104.97827           0 23.86        25.22     0        1     0\n16           10.66            4         18.8                4.4 -105.78948           1 23.86        25.22     0        1     0\n              Class HSUPA.Throughput Max.HSDPA.Users HS.DSCH.throughput Max.HSUPA.Users Avg.CQI\n2  Not.Overshooting           222.62              16            2345.54              25   17.99\n5      Overshooting           263.83               8            3894.07              13   21.82\n7      Overshooting           392.66              14            5134.80              15   23.00\n9      Overshooting           478.58               8            7203.39               8   24.70\n11     Overshooting           173.21              11            2429.06              15   23.51\n12     Overshooting           210.61              16            2694.93              20   19.76\n13     Overshooting           205.81              11            3278.06              13   22.10\n14     Overshooting           394.10              10            3881.88              13   25.01\n15     Overshooting           371.71              10            3765.10              13   23.33\n16     Overshooting           321.32               6            4422.15               8   24.85\n</code></pre>\n\n<p>Here is the code for my train control:</p>\n\n<pre><code>#run the algorithms using 10 fold cross validation\nset.seed(123)\ntrain_Control &lt;- trainControl(method = \"repeatedCV\", \n                              number = 10, \n                              repeats = 3,\n                              savePredictions = T,\n                              classProbs = T, #required for the ROC curve calcs\n                              summaryFunction = twoClassSummary) #uses AUC to pick the best model\n</code></pre>\n\n<p>And here is my train function:</p>\n\n<pre><code> #uses the rose_training dataset with a kernel model\nset.seed(123)\nfit.rose.Kernel &lt;- train(Class ~ Total.Tx.Height +\n                         Antenna.Tilt +\n                         Antenna.Gain +\n                         Ant.Vert.Beamwidth +\n                         RTWP +\n                         Voice.Drops +\n                         Range +\n                         Max.Distance +\n                         Rural +\n                         Suburban +\n                         Urban +\n                         HSUPA.Throughput +\n                         Max.HSDPA.Users +\n                         HS.DSCH.throughput + \n                         Max.HSUPA.Users +\n                         Avg.CQI, \n                       data = rose_train,\n                       method = 'svmRadial',\n                       preProcess = c('center','scale'),\n                       trControl=train_Control,\n                       tuneLength=15,\n                       metric = \"ROC\")\n</code></pre>\n\n<p>In order to better understand which section of the code was causing problems I cleared all the existing warnings and ran each model piece by piece to see where it was flagging. </p>\n\n<p>Initially I flagged lines 444 to 469 as the problematic section but today this part ran without any warnings. Now the next few lines are spitting up the same warnings as the previous day but nothing has changed expect clearing the warnings.</p>\n\n<p>In summary I have 2 types of models I am trying to compare, linear SVM using svmLinear and a kernel model using smvRadial.</p>\n\n<p>For both models I am using different configurations of training data since my original dataset was heavily imbalanced to \"overshooting\" (~80/20). I used the original unbalanced data, then I down sampled, up sampled, used SMOTE and ROSE to generate synthetic data to train both the linear and kernel models using each type of training set.</p>\n\n<p>Does anyone know what these line search fails and warnings are referring to?</p>\n\n<p>In order to provide a reproducible example, <a href=\"https://drive.google.com/file/d/0BxgkBr1CkDf7d0VNZ1ZaRlhyakE/view?usp=sharing\" rel=\"noreferrer\">here</a> is a link to a copy of my code and <a href=\"https://drive.google.com/file/d/0BxgkBr1CkDf7SUVNekFnVVNSSGM/view?usp=sharing\" rel=\"noreferrer\">here</a> is the dput version of the dataset I am using. The part of the code that is causing these messages and warnings starts at line 444.</p>\n\n<p>If anyone can provide some help I would be very grateful.  </p>\n"
	}, {
		"tags": ["r", "dataframe"],
		"owner": {
			"reputation": 880,
			"user_id": 17081051,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/aa97ee3950261276bba1a0576c7faf77?s=256&d=identicon&r=PG",
			"display_name": "alec22",
			"link": "https://stackoverflow.com/users/17081051/alec22"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676651927,
		"creation_date": 1676643433,
		"last_edit_date": 1676651927,
		"question_id": 75485404,
		"link": "https://stackoverflow.com/questions/75485404/impact-of-events-in-one-dataframe-have-on-the-values-of-another-dataframe",
		"title": "Impact of events in one dataframe have on the values of another dataframe",
		"body": "<p>I have two very large dataframes of the following structure(s):\ndf1:</p>\n<pre><code>structure(list(Date = structure(c(18871, 18873, 18883, 18928, \n18950, 18961, 18962, 18963, 18967, 18969, 18970, 18971, 18974, \n18975, 18976, 18977, 18978, 18981, 18982, 18983, 18984, 18985, \n18990, 18991, 18992, 18996, 18997, 18998, 18999, 19002, 19003, \n19004, 19005, 19006, 19009, 19010, 19011, 19012, 19013, 19016, \n19017, 19018, 19019, 19020, 19023, 19025, 19026, 19027, 19030, \n19031, 19033, 19034, 19037, 19038, 19039, 19040, 19041, 19044, \n19045, 19046, 19047, 19048, 19051, 19052, 19053, 19054, 19055, \n19058, 19059, 19066, 19082, 19104, 19107, 19108, 19109, 19110, \n19111, 19115, 19143, 19166, 19167, 19170, 19171, 19172, 19173, \n19174, 19177, 19178, 19179, 19180, 19181, 19184, 19185, 19186, \n19187, 19188, 19191, 19192, 19193, 19194, 19195, 19198, 19199, \n19200, 19201, 19202, 19205, 19206, 19207, 19208, 19209, 19212, \n19213, 19214, 19215, 19216, 19219, 19220, 19221, 19222, 19223, \n19226, 19227, 19228, 19229, 19230, 19234, 19235, 19236, 19237, \n19240, 19241, 19242, 19243, 19244, 19247, 19248, 19249, 19250, \n19251, 19255, 19256, 19257, 19258, 19261, 19262, 19263, 19269, \n19270, 19271, 19272, 19275, 19276, 19291, 19292, 19293, 19296, \n19297, 19298, 19299, 19300, 19303, 19304, 19305, 19306, 19307, \n19310, 19312, 19313, 19314, 19317, 19318, 19319, 19320, 19321, \n19324, 19325, 19326, 19327, 19328, 19333, 19334, 19335, 19338, \n19339, 19340, 19341, 19342, 19345, 19346, 19347, 19348, 19349, \n19354, 19355, 19356, 19360, 19361, 19362, 19363, 19366, 19367, \n19368, 19369, 19370, 19373, 19374, 19375, 19376, 19377, 19380, \n19381, 19382, 19383, 19384, 19387, 19388, 19389, 19390, 19391, \n19394, 19395, 19396, 19397, 19398, 19401, 19402, 19403, 19404, \n18964, 18968, 19024, 19032, 19103, 19264, 19268, 18884, 18935, \n19060, 19061, 19068, 19102, 19165, 19278, 18907, 18919, 18942, \n18914, 18872, 18876, 18877, 18878, 18879, 18880, 18885, 18886, \n18887, 18890, 18891, 18892, 18893, 18894, 18897, 18898, 18899, \n18900, 18901, 18904, 18905, 18906, 18908, 18911, 18912, 18913, \n18915, 18918, 18920, 18921, 18922, 18925, 18926, 18927, 18929, \n18932, 18933, 18934, 18936, 18939, 18940, 18941, 18943, 18946, \n18947, 18948, 18949, 18953, 18954, 18955, 18956, 18957, 18960, \n19062, 19065, 19067, 19069, 19072, 19073, 19074, 19075, 19076, \n19079, 19080, 19081, 19083, 19086, 19087, 19088, 19089, 19090, \n19093, 19094, 19095, 19096, 19101, 19116, 19117, 19118, 19121, \n19122, 19123, 19124, 19125, 19128, 19129, 19130, 19131, 19132, \n19135, 19136, 19137, 19138, 19139, 19142, 19144, 19149, 19150, \n19151, 19152, 19153, 19156, 19157, 19158, 19159, 19160, 19163, \n19164, 19265, 19277, 19279, 19282, 19283, 19284, 19285, 19286, \n19289, 19290, 19311, 19331, 19332), class = &quot;Date&quot;), Value = c(-5.33417292743301, \n-2.52617494564308, -1.49324009324009, -17.0425444455863, -9.35793961841595, \n-11.8841517857143, -9.69152125451611, -10.5028364323984, -8.5025565123789, \n-7.38025700934579, -7.78238256870689, -8.17978487280178, -7.7131012583794, \n-6.41295139213209, -8.91708282295298, -8.71221652160492, -10.0680747922438, \n-11.9437278705109, -16.4053740896049, -20.3138418538824, -23.3452022125799, \n-28.1797446210017, -28.9915196362348, -22.7089976941569, -53.3396956436279, \n-12.4708793300343, -11.1787848605578, -11.2914868901427, -9.00403312503746, \n-5.26940458505923, -3.2678042007321, -1.80023400936037, -1.00480716704905, \n-2.57038505839299, -6.25052713783678, -4.13951632213265, -4.66916949663517, \n-5.80691219642381, -9.01403811889207, -8.76200989722116, -5.14415894039735, \n-4.49265067482651, -6.81002817489304, -5.00625312656328, -12.9697844076655, \n-16.4525949550594, 1.35574468085106, -11.14101743721, -10.3890230312036, \n-9.95399610136452, -10.7999731146659, -10.0551036897388, -8.00489963647858, \n-6.98869824910699, -5.52771977448319, -5.8565313387104, -10.6561639051647, \n-10.1591881404835, -10.5755809770487, -12.7858263854831, -12.4515269244669, \n-9.75300293620429, -10.6174887030093, -10.9297709205513, -8.62649503888442, \n-5.67639625979277, -7.76497565794115, -5.11864292912328, -4.15677111515569, \n-1.24773160858034, -13.3209387381896, -4.61524571133755, -2.7064391500322, \n-2.54590337369225, -4.7534422125529, -5.77741708660495, -9.54039920679418, \n-3.49263873159683, -6.37633384146341, -4.8018775807754, -5.92095982827354, \n-6.7982259326898, -8.14429721160882, -14.0318602941176, -15.7693341697285, \n-6.33099406742874, -6.02467779730522, -6.67451006984472, -5.78277734678045, \n-6.76536805011747, -5.30100480559197, -5.48448933319592, -3.07906668141104, \n-1.19141872046993, -0.986825656313108, -2.78210279591495, -1.85680436798187, \n1.15368964707724, 0.592389680247037, 2.09444444444445, 1.47565073474096, \n-3.77455441789913, -4.99841919285848, -4.54737286347331, -6.52210666135604, \n-12.4586229788041, -9.76655410805627, -10.1672813163265, -10.1071078030427, \n12.1093036008042, -6.27654856354408, -11.7451651977779, -9.69657142857144, \n-14.7645443406988, -13.8044752609797, -12.8212930202637, -10.7131114789657, \n-9.7502835651603, -9.12285518188058, -7.82418739307804, -7.37290867229471, \n-5.42488374865864, -7.16548962504551, -7.22640747577296, -5.67880989576978, \n-2.38449197860963, -4.98403249527278, -8.01237481293888, -8.92721143345521, \n-11.0038498048729, -7.91574019894676, -7.24256979885921, -13.0468491640639, \n-12.4842416971359, -13.1832300362112, -9.69594285190952, -11.8236710963455, \n-15.4970313957103, -16.001590401224, -23.0116940912636, -20.0316726652775, \n-15.7387646961417, 14.3248459700742, -33.9856294639016, -29.5890893667004, \n-24.5815039111784, 0.351626092151443, -12.4957158872518, -13.5265822044065, \n-15.8057934508816, -18.5712850985479, -19.0062351207346, -17.8759978712081, \n-30.248495829345, -33.496764540864, -32.9090642540002, -35.9095838866755, \n-39.0622059592264, -37.4053056372396, 30.4444623180246, -17.2843857072932, \n-10.2894505770196, -9.46059792738388, -10.9101340816963, -10.6768441621886, \n-15.8564689156004, -25.0377375363291, -23.491809908999, -16.0848675710594, \n-9.52203025543524, -9.57329945269742, -8.26118487113689, -8.77146105741898, \n-7.52932569974554, -7.51696981061316, -6.34114162627894, -4.169791026429, \n-8.65363440517035, -7.07429566797939, -6.04901960784313, -3.95286523637039, \n-4.57831931564948, -4.70401930472815, -4.58048473762432, -4.19802716367601, \n-4.8712225795747, 33.7199676963457, -8.38811297695784, -8.41675133350266, \n-7.95239554602104, -7.61540762007296, -7.36910990686483, -5.19474884165624, \n-6.40677640427848, -6.6880699933269, -2.50748947332091, -5.01177083333332, \n-4.96342420082369, -3.74379953975965, -4.39864864864864, -3.96323864499468, \n-3.64570892339191, -4.00421168284196, -4.32506635700066, -3.84347776249426, \n-3.98014059753953, -4.93978444946085, -2.00666607412675, -4.40675836944916, \n-4.67217558943196, -4.69624595469255, -4.93134138588684, -4.59980852082335, \n-3.79959344732751, -3.56417422281594, -3.72577039757304, -6.8438477254722, \n-6.90215521144616, 17.0278089071515, -8.69234350531171, -8.31160081053697, \n-6.48055612912106, -2.82488289917003, -1.97938846776255, -2.76711193952573, \n-3.57596324527513, -2.66680277664353, -2.76065192083818, -3.07607539874335, \n-9.19352066115703, -7.40534903692798, -20.9290200655884, -9.4949337142347, \n-1.67593031748771, -4.00032731786333, -12.9233908365795, -3.12797485406376, \n-4.58038461538462, -4.92624181954726, -1.64177861663151, 14.5233533882204, \n-3.43662848605578, -7.00163549013596, -22.4328399502006, -5.68106442090641, \n-10.4667593755607, -8.32068944589428, -7.5574384739845, -1.18996298205332, \n0.685336364575798, 0.683983218163869, -0.190581124472707, 0.40016858076072, \n-0.685425265972909, -3.23485727546995, -2.17232406175909, -4.03732694666745, \n-3.43151815181518, -4.09670641680863, -6.31686046511628, -8.351512347464, \n-8.85095265741279, -7.33867558133818, -8.51522800856061, -8.98040313549832, \n-21.688225290116, -7.97696621402419, -7.54824182322704, -6.15927894799952, \n-4.38810945273632, -4.66345711216818, -6.63357687936353, -6.46356517733763, \n-7.69505643096672, -8.85590341722938, -9.65988090292203, -7.41890982503365, \n-8.4019243496411, -9.20245522237875, -11.7157621602604, -15.8009129904372, \n-16.7188609056313, -29.5936953565184, -16.1899352493468, -14.6818673311081, \n-9.23683475995534, -7.2676923950379, -5.58227412415489, -6.1622267560478, \n-7.530241504595, -8.17124428752656, -6.35655475028349, -8.35745036021789, \n-8.91222072419106, -8.32131192161132, -8.17337013669821, -10.877467450651, \n-9.77258672063867, -11.2631774313289, -10.1360580092287, -7.70075269546349, \n-3.16698645907571, -2.38109087441594, -0.022514417531718, -1.08499335989376, \n-3.3854513350099, -13.1874976421323, -12.0737487121089, -6.16346335921227, \n-6.0325834936609, -8.26060968320382, -6.76706578585191, -9.52737443465841, \n-3.80397824702367, -4.72200198216056, -5.16157624343703, -7.23900280010839, \n-6.18115990990991, -2.1293152465275, -3.7406576456566, -3.66946114241044, \n-2.04129052515896, -0.222846441947564, -0.318394134689292, -2.16259885464958, \n14.1518376302798, -1.73382942186606, 0.100049115913557, -0.378155479059093, \n-0.588078533746669, -0.121356930514267, -2.06994937873907, -2.84085812981032, \n-4.51622825625796, -3.44699324686462, -6.08916034821679, -10.3705139175517, \n-7.18844523191799, -7.9430781129157, -5.99308878256247, -7.00972211589987, \n-3.268970347887, -0.549423136888057, -6.08099664736361, -2.04115579182029, \n-0.832810782197972, -0.916704322940202, -0.2527559897864, -1.11381138113811, \n-1.81908592321755, -2.61384042630849, -2.35869084475896, 11.992052157715, \n-2.80402835408022, -1.61877788005381, -2.68177518524358, -11.6975791772843, \n-20.9404339865207, -27.5328187051002, -29.4899791627202, -28.9357382364862, \n-30.3360181743081, -30.4065839909808, -32.100806252164, -34.963228894691, \n-36.3754188653083, -24.3521969489358, -7.1991154066672, -4.39962753162101\n)), row.names = c(NA, -369L), class = c(&quot;data.table&quot;, &quot;data.frame&quot;\n), .internal.selfref = &lt;pointer: 0x00000214068b1ef0&gt;)\n</code></pre>\n<p>df2:</p>\n<pre><code>structure(list(Date = structure(c(19402, 19396, 19395, \n19389, 19376, 19374, 19367, 19362, 19346, 19339, 19333, 19332, \n19332, 19327, 19319, 19311, 19311, 19306, 19305, 19291, 19290, \n19284, 19283, 19277, 19276, 19270, 19269, 19262, 19242, 19241, \n19236, 19227, 19220, 19213, 19206, 19200, 19194, 19192, 19185, \n19178, 19171, 19151, 19150, 19136, 19129, 19123, 19122, 19102, \n19094, 19087, 19066, 19059, 19053, 19038, 19018, 19010, 19003, \n18968, 18962, 18947, 18941, 18934, 18933, 18933, 18926, 18920, \n18913, 18912, 18906, 18905, 18905, 18898, 18892, 18885, 18884, \n18878, 18877, 18877, 18871, 18863, 18856, 18850, 18849, 18842, \n18835, 18828, 18815, 18814, 18814, 18809, 18801, 18794, 18793, \n18793, 18787, 18786, 18786, 18780, 18780, 18766, 18765, 18765, \n18758, 18758, 18752, 18752, 18745, 18738, 18737, 18731, 18730, \n18725, 18724, 18724, 18710, 18709, 18703, 18702, 18702, 18696, \n18695, 18690, 18688, 18688, 18681, 18675, 18674, 18674, 18668, \n18661, 18660, 18660, 18654, 18653, 18653, 18648, 18640, 18639, \n18639, 18633, 18605, 18604, 18604, 18598, 18598, 18597, 18597, \n18590, 18590, 18584, 18583, 18583, 18578, 18578, 18577, 18570, \n18569, 18569, 18563, 18562, 18562, 18557, 18557, 18555, 18549, \n18548, 18548, 18542, 18542, 18541, 18541, 18536, 18536, 18534, \n18529, 18529, 18521, 18520, 18520, 18515, 18515, 18508, 18508, \n18507, 18500, 18499, 18499, 18494, 18493, 18492, 18492, 18486, \n18485, 18485, 18479, 18479, 18478, 18478, 18472, 18472, 18471, \n18471, 18465, 18465, 18464, 18464, 18458, 18458, 18457, 18457, \n18452, 18450, 18450, 18445, 18445, 18444, 18444, 18438, 18437, \n18437, 18436, 18436, 18430, 18430, 18429, 18429, 18424, 18424, \n18423, 18416, 18416, 18415, 18415, 18410, 18410, 18409, 18409, \n18403, 18403, 18402, 18396, 18396, 18395, 18388, 18388, 18387, \n18387, 18381, 18381, 18380, 18380, 18374, 18374, 18373, 18373, \n18368, 18368, 18367, 18367, 18360, 18360, 18359, 18359, 18354, \n18340, 18338, 18331, 18326, 18325, 18317, 18312, 18296, 18289, \n18282, 18275, 18270, 18268, 18247, 18241, 18235, 18233, 18226, \n18214, 18205, 18198, 18191, 18184, 18177, 18170, 18163, 18144, \n18142, 18128, 18121, 18114, 18100, 18093, 18079, 18072, 18065, \n18059, 18051, 18039, 18025, 18002, 17995, 17988, 17981, 17969, \n17961, 17953, 17948, 17941, 17918, 17913, 17904, 17877, 17871, \n17869, 17855, 17850, 17841, 17827, 17808, 17799, 17794, 17785, \n17780, 17764, 17751, 17736, 17731, 17715, 17708, 17702, 17688, \n17675, 17660, 17654, 17645, 17640, 17631, 17625, 17617, 17605, \n17596, 17591, 17584, 17577, 17554, 17549, 17542, 17540, 17513, \n17507, 17505, 17491, 17486, 17479, 17463, 17458, 17449, 17444, \n17436, 17428, 17422, 17401, 17386, 17379, 17372, 17366, 17353, \n17344, 17339, 17323, 17318, 17309, 17304, 17290, 17282, 17276, \n17268, 17260, 17253, 17247, 17239, 17234, 17227, 17220, 17212, \n17206, 17204, 17197, 17184, 17178, 17176, 17171), class = &quot;Date&quot;), \n    Amount = c(3000, 2000, 3500, 3000, 1195.925, 4440.75, 3702.5, \n    3500, 3619.25, 3749.999, 744.65, 4062.498, 2812.5, 2812.499, \n    3559.5, 3250, 2250, 4374.998, 2750, 3500, 898.85, 4062.5, \n    3125, 4365.25, 1106.299, 3749.999, 2500, 1200, 3437.5, 4183.157, \n    2499.999, 750, 2803.5, 1760, 2771.875, 700, 4366.249, 2500, \n    3437.5, 2378.75, 1011.975, 3125, 3075, 847.7, 2187.499, 2500, \n    2250, 2499.998, 3124.998, 3250, 1239.4, 1874.999, 3250, 2250, \n    600, 3124.998, 3000, 1875, 2250, 2170.375, 900, 2500, 3000, \n    1533.75, 2750, 2812.5, 567.4, 1562.5, 3125, 3000, 2288.125, \n    2000, 350, 2857.916, 3000, 1010.725, 3250, 1250, 2859, 3000, \n    2274.25, 705, 3437.499, 2000, 3000, 1562.5, 701.05, 3437.499, \n    1866.25, 4232.497, 500, 3118.75, 3055.281, 2000, 1172.438, \n    3742.497, 1562.5, 3437.499, 2500, 3093.749, 4062.495, 2812.499, \n    3283.75, 1500, 2750, 2000, 1113.65, 3124.999, 4062.498, 713.825, \n    1000, 3437.5, 3394, 2000, 357.25, 2250, 2500, 4375, 1633, \n    878.975, 2812.5, 3437.5, 3147.351, 1562.499, 2499.998, 2500, \n    3250, 1250, 2000, 3143, 3000, 1071.25, 1036.3, 2936.25, 1750, \n    3250, 375, 3000, 1450.624, 3749.999, 3011.102, 4029.372, \n    2500, 1250, 2750, 3669.355, 2250, 3002.75, 1562.499, 2500, \n    4062.499, 2500, 3749.999, 1562.499, 861.4, 3000, 3405.625, \n    2499.999, 3084.999, 3510.742, 1249.999, 2632, 1986.875, 697.049, \n    3125, 3000, 1562.499, 2500, 884.149, 3518.452, 2000, 3250, \n    2000, 3437.499, 3749.999, 1310.749, 3124.999, 2867.5, 2187.5, \n    3250, 2421.749, 3412.749, 2500, 459.05, 2750, 3000, 1342.375, \n    1374.999, 3437.5, 4062.497, 2477.25, 3437.499, 3250, 1250, \n    2750, 562.25, 4062.499, 2812.499, 3500, 3008.875, 3437.499, \n    1874.999, 3000, 500, 3749.999, 2711, 3250, 1500, 3834.095, \n    3750, 1062.85, 3750, 2812.5, 4261.195, 2329.25, 3000, 2785.999, \n    1229.576, 3250, 1768.25, 3250, 3628.75, 4260.749, 2812.5, \n    3716.25, 2000, 3250, 4036.624, 900, 3941.249, 1500, 3328.75, \n    3749.999, 2927.5, 2357.75, 3750, 1785.499, 1562.499, 2500, \n    3869.624, 3250, 2250, 745.85, 3897.958, 1750, 4062.499, 3000, \n    3616.375, 2152.5, 1499.999, 3749.999, 3671.476, 3141, 4062.499, \n    1874.999, 3648.75, 2499.998, 3676.249, 2313.749, 2750, 2092.5, \n    4062.5, 1562.499, 2299.997, 3250, 2299.999, 2587.488, 1244.238, \n    3500, 3441.975, 3269.875, 800, 2750, 2545.872, 3250, 1056.037, \n    3162.497, 3162.496, 500, 2082.45, 3162.498, 3449.922, 2356.675, \n    2820.25, 1100, 3449.997, 3162.499, 919.998, 2250, 574.995, \n    2750, 3000, 1264.997, 2299.997, 3000, 3162.497, 2250, 3373.097, \n    2250, 3162.499, 700, 3000, 1437.496, 3000, 2250, 3135.1, \n    3449.998, 325, 1724.998, 3414.749, 1254.571, 1688.5, 2587.497, \n    2012.498, 2799.403, 2563.87, 500, 2012.499, 2500, 555.065, \n    2299.997, 2250, 1100, 3000, 872.72, 2750, 2500, 3000, 1100, \n    2500, 2750, 2299.997, 2874.995, 2587.495, 1381.4, 2750, 1146.874, \n    2810.081, 3427.034, 750, 2500, 2185.16, 2750, 675.24, 2864.731, \n    2250, 2815.66, 950, 2562.68, 1000, 2500, 2250, 2587.497, \n    800, 2276.5, 2750, 1000, 2722.32, 2750, 650, 2599.24, 2500, \n    3162.5, 950, 2500, 2500, 3158.628, 1000, 2250, 2500, 3162.498, \n    2867.806, 1000, 2587.498, 2874.999, 2500, 882.3, 2962.15, \n    2293.788, 857.793, 3162.497, 1724.999, 2867.739, 2874.999, \n    2299.997, 2557.917, 833.737, 2500, 2299.997, 1250, 2624.29, \n    3004.215, 2444.046, 2881.949, 2250, 837.798, 2329.914)), row.names = c(NA, \n397L), class = &quot;data.frame&quot;)\n</code></pre>\n<p>I'm trying to work out the percentage impact the events listed in the second dataframe (df2) have on the values from the previous day entry listed in the first dataframe (df1). Does anyone know how I can achieve this? APologies if unclear, English is not my first language.</p>\n"
	}, {
		"tags": ["r", "dplyr", "aggregate", "summarize"],
		"owner": {
			"reputation": 1006,
			"user_id": 1535580,
			"user_type": "registered",
			"accept_rate": 97,
			"profile_image": "https://i.stack.imgur.com/eelbo.jpg?s=256&g=1",
			"display_name": "Usman YousafZai",
			"link": "https://stackoverflow.com/users/1535580/usman-yousafzai"
		},
		"is_answered": true,
		"view_count": 34,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676651800,
		"creation_date": 1676643926,
		"last_edit_date": 1676645345,
		"question_id": 75485503,
		"link": "https://stackoverflow.com/questions/75485503/collapse-merge-multiple-rows-with-non-empty-cells-values",
		"title": "Collapse / Merge multiple rows with non empty cells/ values",
		"body": "<p>I am trying to merge two rows by a similar group which I did by looking at different questions on stack overflow (<a href=\"https://stackoverflow.com/questions/15933958/collapse-concatenate-aggregate-a-column-to-a-single-comma-separated-string-w\">Question1</a>, <a href=\"https://stackoverflow.com/questions/49225596/merge-multiple-rows-into-one-using-r\">Qestion2</a>, <a href=\"https://stackoverflow.com/questions/69868520/how-to-combine-fields-with-duplicate-keys-to-comma-separated\">Question3</a>). All these questions stated what I want but I also have some empty fields in my data frame and I don't want to merge them.  I only want to merge the similar/duplicate rows based on <code>Col1</code> that contain values and not <strong>empty</strong> or <code>NA</code>. I use below code but it also merges cells that are <strong>empty</strong> or <code>NA</code>.</p>\n<pre><code>merge_my_rows &lt;- df %&gt;%\n  group_by(Col1) %&gt;%\n  summarise(Col2 = paste(Col2, collapse = &quot;,&quot;))\n</code></pre>\n<p>Below please is the sample <strong>df</strong> and Output df that I want.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Col1</th>\n<th>Col2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>F212</td>\n<td>ALICE</td>\n</tr>\n<tr>\n<td>D23</td>\n<td>John</td>\n</tr>\n<tr>\n<td>C64</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>F212</td>\n<td>BOB</td>\n</tr>\n<tr>\n<td>C64</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>D23</td>\n<td>JohnY</td>\n</tr>\n<tr>\n<td>D19</td>\n<td>Marquis</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>Output df</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Col1</th>\n<th>Col2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>F212</td>\n<td>ALICE, BOB</td>\n</tr>\n<tr>\n<td>D23</td>\n<td>John, JohnY</td>\n</tr>\n<tr>\n<td>C64</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>C64</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>D19</td>\n<td>Marquis</td>\n</tr>\n</tbody>\n</table>\n</div>"
	}, {
		"tags": ["r", "matrix", "dataset"],
		"owner": {
			"reputation": 103,
			"user_id": 12262259,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/adfdc813e3344f75b5e4958934ebe928?s=256&d=identicon&r=PG&f=1",
			"display_name": "Simone",
			"link": "https://stackoverflow.com/users/12262259/simone"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"closed_date": 1676678198,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676651799,
		"creation_date": 1676651799,
		"question_id": 75486960,
		"link": "https://stackoverflow.com/questions/75486960/convert-a-docx-text-into-dataset-or-matrix-using-r",
		"closed_reason": "Not suitable for this site",
		"title": "convert a docx text into dataset or matrix using R",
		"body": "<p>I have a 150pages microsoft word document with info on books listed. I include an example right here:<a href=\"https://i.stack.imgur.com/ed0iO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ed0iO.png\" alt=\"enter image description here\" /></a></p>\n<p>So this document contains several pieces of information per each book, there are hundreds of different books listed in this docx file and I want to extract and convert the information in a classic dataset with each column being &quot;Title (en)&quot;, &quot;Title (de)&quot;...&quot;Abstract&quot; and so on. In this way I would organize all the info in a dataset which has 1 line per book and each cloumn with attributes like English name, abstract and so on. The point is that not all the books have the same piece of information so sometimes the Abstract (for example) is missing so I would need that cell empty.</p>\n<p>How can I do that in R? I am not new in R but I never worked with texts so I am not sure what would be the best approach here.</p>\n<p>Thanks</p>\n"
	}, {
		"tags": ["r", "dplyr", "data-manipulation", "tibble"],
		"owner": {
			"reputation": 21,
			"user_id": 21182839,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2b1305773e42a314debecfc3e0ee0c67?s=256&d=identicon&r=PG",
			"display_name": "LilyLew",
			"link": "https://stackoverflow.com/users/21182839/lilylew"
		},
		"is_answered": false,
		"view_count": 29,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"closed_date": 1676678203,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676651503,
		"creation_date": 1676651310,
		"last_edit_date": 1676651503,
		"question_id": 75486877,
		"link": "https://stackoverflow.com/questions/75486877/using-complete-to-get-all-possible-combinations-of-two-character-columns",
		"closed_reason": "Not suitable for this site",
		"title": "Using complete() to get all possible combinations of two character columns",
		"body": "<p>I am trying to expand the tibble below such that each combination of filename and move appears in the tibble, and those with no observations have 0 in the n column.</p>\n<pre><code>structure(list(filename = c(&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, \n&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, \n&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, \n&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n&quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n&quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n&quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.Gustavus.1.txt&quot;\n), move = c(&quot;achievement&quot;, &quot;benefits&quot;, &quot;competence&quot;, &quot;gap&quot;, &quot;goal&quot;, \n&quot;importance&quot;, &quot;means&quot;, &quot;previous_research&quot;, &quot;timeline&quot;, &quot;achievement&quot;, \n&quot;benefits&quot;, &quot;gap&quot;, &quot;goal&quot;, &quot;hypothesis&quot;, &quot;importance&quot;, &quot;means&quot;, \n&quot;previous_research&quot;, &quot;territory&quot;, &quot;timeline&quot;, &quot;achievement&quot;), \n    n = c(12L, 1L, 9L, 1L, 1L, 3L, 5L, 7L, 2L, 1L, 3L, 3L, 1L, \n    2L, 2L, 35L, 3L, 34L, 2L, 2L)), class = c(&quot;grouped_df&quot;, &quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -20L), groups = structure(list(\n    filename = c(&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n    &quot;Texts/Bio.Gustavus.1.txt&quot;), .rows = structure(list(1:9, \n        10:19, 20L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n    &quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -3L), .drop = TRUE))\n</code></pre>\n<p>I tried the following code:</p>\n<pre><code>moves_expanded &lt;- moves %&gt;% complete(move, filename, fill = list(n = 0L))\n\n</code></pre>\n<p>But the output looks exactly like the original tibble, with no rows added. I'm not sure why it doesn't work.</p>\n<pre><code>structure(list(move = c(&quot;achievement&quot;, &quot;benefits&quot;, &quot;competence&quot;, \n&quot;gap&quot;, &quot;goal&quot;, &quot;importance&quot;, &quot;means&quot;, &quot;previous_research&quot;, &quot;timeline&quot;, \n&quot;achievement&quot;, &quot;benefits&quot;, &quot;gap&quot;, &quot;goal&quot;, &quot;hypothesis&quot;, &quot;importance&quot;, \n&quot;means&quot;, &quot;previous_research&quot;, &quot;territory&quot;, &quot;timeline&quot;, &quot;achievement&quot;\n), filename = c(&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, \n&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, \n&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.CSU.1.txt&quot;, \n&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n&quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n&quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n&quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, &quot;Texts/Bio.Gustavus.1.txt&quot;\n), n = c(12L, 1L, 9L, 1L, 1L, 3L, 5L, 7L, 2L, 1L, 3L, 3L, 1L, \n2L, 2L, 35L, 3L, 34L, 2L, 2L)), class = c(&quot;grouped_df&quot;, &quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -20L), groups = structure(list(\n    filename = c(&quot;Texts/Bio.CSU.1.txt&quot;, &quot;Texts/Bio.EMich.1.txt&quot;, \n    &quot;Texts/Bio.Gustavus.1.txt&quot;), .rows = structure(list(1:9, \n        10:19, 20L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n    &quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -3L), .drop = TRUE))\n</code></pre>\n<p>I also tried the following, which gave an error:</p>\n<pre><code>moves %&gt;% expand_grid(move, filename)\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21235273,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7I_44mvUo4Y9FF45U-vgSJZGgjeJNt8sC1ra5f=k-s256",
			"display_name": "Shofiul Alam",
			"link": "https://stackoverflow.com/users/21235273/shofiul-alam"
		},
		"is_answered": false,
		"view_count": 19,
		"down_vote_count": 4,
		"up_vote_count": 0,
		"closed_date": 1676651258,
		"answer_count": 0,
		"score": -4,
		"last_activity_date": 1676651077,
		"creation_date": 1676651077,
		"question_id": 75486843,
		"link": "https://stackoverflow.com/questions/75486843/what-is-the-r-code-for-nested-minimization-to-work-out-an-estimate-for-ck-i",
		"closed_reason": "Needs details or clarity",
		"title": "What is the R code for Nested minimization to work out an estimate for c^((k)) in a non linear threshold regression model",
		"body": "<p>\u3016\u3016rx\u3017<em>(t+12)\u3017^((k))= \u03b1_1  + \u3016\u03b1_2\u3017^((k) ) 1(zt\u2264c^((k) ))+\u3016\u03b2_1\u3017^((k)) \u3016s_t\u3017^((k))+ \u3016\u03b2_2\u3017^((k)) \u3016s_t\u3017^((k)) 1(zt\u2264c^((k) ))+\u3016\u03b5</em>(t+12)\u3017^((k)), That is the regression model</p>\n<p>I cant figure out exactly how to input the correct R code for this model using nested minimisation technique</p>\n"
	}, {
		"tags": ["r", "dplyr", "mapreduce", "tidyr", "xts"],
		"owner": {
			"reputation": 954,
			"user_id": 4436572,
			"user_type": "registered",
			"accept_rate": 83,
			"profile_image": "https://i.stack.imgur.com/UhOOs.png?s=256&g=1",
			"display_name": "stucash",
			"link": "https://stackoverflow.com/users/4436572/stucash"
		},
		"is_answered": true,
		"view_count": 32,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676649250,
		"creation_date": 1676642054,
		"last_edit_date": 1676649250,
		"question_id": 75485183,
		"link": "https://stackoverflow.com/questions/75485183/failed-when-i-was-trying-to-use-defuse-inject-pattern-in-dplyr-group-map-functio",
		"title": "failed when I was trying to use defuse-inject pattern in dplyr group_map function",
		"body": "<p>Following is an example of what I am trying to achieve.</p>\n<pre><code>library(dplyr)\n\ntbl.data &lt;- tidyquant::tq_get(c(&quot;GS&quot;, &quot;C&quot;, &quot;BAC&quot;))\n\nto.xts &lt;- function(group, group_key, date_col, price_col){\n  a &lt;- group %&gt;% dplyr::pull({{ price_col }}) \n  b &lt;- group %&gt;% dplyr::pull({{ date_col }})\n  x &lt;- xts::xts(a, order.by=b)\n  colnames(x) &lt;- key$symbol\n  x\n}\n\nmake.xts &lt;- function(data, date_col, price_col){\n  data %&gt;% \n   group_by(symbol) %&gt;%\n   group_map(~to.xts(.x, .y, date_col, price_col))\n}\n\n# Failed example one:\ntbl.data %&gt;% group_by(symbol) %&gt;% group_map(to.xts, date, close)\n\n# Failed example two:\nmake.xts(tbl.data, date, close)\n\n# Error in `dplyr::pull()`:\n# ! Can't extract column with `!!enquo(var)`.\n# \u2716 `!!enquo(var)` must be numeric or character, not a function.\n# Run `rlang::last_error()` to see where the error occurred.\n\n# However, If I single out a group myself and apply `to.xts` to that group it'll work. The only thing changed, which I doubt that it would have effect on the function itself, is that the `group_key` is now a string (it was a data-variable in the context of `group_map`'s `.f`)\n\ngs.grp &lt;- tbl.data %&gt;% dplyr::filter(symbol==&quot;GS&quot;)\ngs.grp %&gt;% to.xts(&quot;GS&quot;, date, col)\n \n# A simply pull operation would also work.\n\ngs.grp %&gt;% dplyr::pull(close)\n</code></pre>\n<p>I don't quite understand what has changed internally; why this is the case and what's not correct here?</p>\n<p>Given the error message that it seems <code>dplyr::pull</code> is doing\ndefuse (<code>enquo</code>) and inject (<code>!!</code>) itself internally, therefore I shall not use embracing operator; however, without it it didn't work either and caused the same error.</p>\n"
	}, {
		"tags": ["r", "dplyr", "mean", "rowwise"],
		"owner": {
			"reputation": 867,
			"user_id": 8201618,
			"user_type": "registered",
			"accept_rate": 71,
			"profile_image": "https://www.gravatar.com/avatar/7c233039735a283e6c195eab4a19889a?s=256&d=identicon&r=PG&f=1",
			"display_name": "Mike",
			"link": "https://stackoverflow.com/users/8201618/mike"
		},
		"is_answered": true,
		"view_count": 32,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75486069,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676649041,
		"creation_date": 1676646794,
		"question_id": 75486050,
		"link": "https://stackoverflow.com/questions/75486050/using-dplyr-to-calculate-geomean-in-a-row-wise-fashion",
		"title": "Using dplyr to calculate geomean in a row wise fashion",
		"body": "<p>I'd like to calculate the <code>geomean</code> using each row from three columns. I found solutions to calculate it from the values in one column (<a href=\"https://stackoverflow.com/questions/33554556/getting-a-geometric-mean-sd-based-on-column-value-in-dplyr\">example</a>), but not from a row.</p>\n<p>Here's a simplified example:</p>\n<pre><code>data &lt;- structure(list(fs_id = structure(1:8, levels = c(&quot;CON1&quot;, &quot;NC&quot;, \n&quot;water&quot;, &quot;SCR1&quot;, &quot;FAN1_1&quot;, &quot;CON2&quot;, &quot;SCR2&quot;, &quot;FAN1_2&quot;), class = &quot;factor&quot;), \n    twodct_ATP5B = c(1.06960527260684, 0.00241424406360917, NA, \n    0.953100847649869, 0.404512354245938, 0.934924336678708, \n    1.32283164360403, 0.194667767059346), twodct_EIF4A2 = c(1.07741209897215, \n    NA, NA, 1.01873805854745, 0.467988708062081, 0.928149963188649, \n    1.31762036152893, 0.33377442013251), twodct_GAPDH = c(1.04388739915294, \n    0.000156497290441042, NA, 0.972431569982792, 0.547030142788418, \n    0.957957726869246, 0.942311505534324, 0.337842927620691)), row.names = c(NA, \n-8L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n<p>The table looks like this:</p>\n<pre><code>&gt; data\n# A tibble: 8 \u00d7 4\n  fs_id  twodct_ATP5B twodct_EIF4A2 twodct_GAPDH\n  &lt;fct&gt;         &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;\n1 CON1        1.07            1.08      1.04    \n2 NC          0.00241        NA         0.000156\n3 water      NA              NA        NA       \n4 SCR1        0.953           1.02      0.972   \n5 FAN1_1      0.405           0.468     0.547   \n6 CON2        0.935           0.928     0.958   \n7 SCR2        1.32            1.32      0.942   \n8 FAN1_2      0.195           0.334     0.338\n</code></pre>\n<p>I want to get the row wise geomean of columns <code>twodct_ATP5B</code>, <code>twodct_EIF4A2</code> and <code>twodct_GAPDH</code>.</p>\n<p>I've had a crack like this, but doesn't seem to work:</p>\n<pre><code>data %&gt;%\n  rowwise() %&gt;%\n  dplyr::mutate(geomean = exp(mean(log(select(., c(&quot;twodct_ATP5B&quot;, &quot;twodct_EIF4A2&quot;, &quot;twodct_GAPDH&quot;)))))) %&gt;%\n  ungroup()\n</code></pre>\n"
	}, {
		"tags": ["r", "datetime"],
		"owner": {
			"reputation": 23165,
			"user_id": 373908,
			"user_type": "registered",
			"accept_rate": 73,
			"profile_image": "https://www.gravatar.com/avatar/3e3303f1a856408290a6664ea292b69e?s=256&d=identicon&r=PG",
			"display_name": "lokheart",
			"link": "https://stackoverflow.com/users/373908/lokheart"
		},
		"is_answered": true,
		"view_count": 107107,
		"down_vote_count": 0,
		"up_vote_count": 56,
		"accepted_answer_id": 16557077,
		"answer_count": 3,
		"score": 56,
		"last_activity_date": 1676648942,
		"creation_date": 1368593025,
		"question_id": 16557028,
		"link": "https://stackoverflow.com/questions/16557028/date-conversion-from-posixct-to-date-in-r",
		"title": "Date conversion from POSIXct to Date in R",
		"body": "<p>can anyone tell me why R give such outcome below:</p>\n\n<pre><code>&gt; as.POSIXct(\"2013-01-01 08:00\")\n[1] \"2013-01-01 08:00:00 HKT\"\n&gt; as.Date(as.POSIXct(\"2013-01-01 08:00\"))\n[1] \"2013-01-01\"\n&gt; as.POSIXct(\"2013-01-01 07:00\")\n[1] \"2013-01-01 07:00:00 HKT\"\n&gt; as.Date(as.POSIXct(\"2013-01-01 07:00\"))\n[1] \"2012-12-31\"\n</code></pre>\n\n<p>Shouldn't it be <code>2013-01-01</code> after converting <code>POSIXct</code> to <code>Date</code> for <code>2013-01-01 07:00</code>, is there any way to change the cutoff from <code>08:00</code> to <code>00:00</code>?</p>\n\n<h3>Update #1</h3>\n\n<p>I found the following can fix my problem, but in a less neat way</p>\n\n<pre><code>&gt; as.Date(as.character(as.POSIXct(\"2013-01-01 07:00\")))\n[1] \"2013-01-01\"\n</code></pre>\n"
	}, {
		"tags": ["r", "date", "date-formatting", "strptime", "as.date"],
		"owner": {
			"reputation": 58322,
			"user_id": 403310,
			"user_type": "registered",
			"accept_rate": 86,
			"profile_image": "https://i.stack.imgur.com/DiApA.jpg?s=256&g=1",
			"display_name": "Matt Dowle",
			"link": "https://stackoverflow.com/users/403310/matt-dowle"
		},
		"is_answered": true,
		"view_count": 246495,
		"down_vote_count": 1,
		"up_vote_count": 113,
		"accepted_answer_id": 14755653,
		"answer_count": 8,
		"score": 112,
		"last_activity_date": 1676648702,
		"creation_date": 1360252706,
		"last_edit_date": 1551057983,
		"question_id": 14755425,
		"link": "https://stackoverflow.com/questions/14755425/what-are-the-standard-unambiguous-date-formats-for-string-to-date-conversion-i",
		"title": "What are the &quot;standard unambiguous date&quot; formats for string-to-date conversion in R?",
		"body": "<p>Please consider the following</p>\n\n<pre><code>$ R --vanilla\n\n&gt; as.Date(\"01 Jan 2000\")\nError in charToDate(x) :\n    character string is not in a standard unambiguous format\n</code></pre>\n\n<p>But that date clearly <em>is</em> in a standard unambiguous format. Why the error message?</p>\n\n<p>Worse, an ambiguous date is apparently accepted without warning or error and then read incorrectly!</p>\n\n<pre><code>&gt; as.Date(\"01/01/2000\")\n[1] \"0001-01-20\"\n</code></pre>\n\n<p>I've searched and found 28 other questions in the [R] tag containing this error message. All with solutions and workarounds involving specifying the format, iiuc. This question is different in that I'm asking where are the standard unambiguous formats defined anyway, and can they be changed?  Does everyone get these messages or is it just me? Perhaps it is locale related?</p>\n\n<p>In other words, is there a better solution than needing to specify the format?</p>\n\n<p><a href=\"https://stackoverflow.com/search?q=%5Br%5D%20standard%20unambiguous%20format\">29 questions containing \"[R] standard unambiguous format\"</a></p>\n\n<pre><code>&gt; sessionInfo()\nR version 2.15.2 (2012-10-26)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\n\nlocale:\n[1] LC_COLLATE=English_United Kingdom.1252\n[2] LC_CTYPE=English_United Kingdom.1252\n[3] LC_MONETARY=English_United Kingdom.1252\n[4] LC_NUMERIC=C\n[5] LC_TIME=English_United Kingdom.1252\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 202,
			"user_id": 1520670,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/66d1198c4c3fe7300f6f5777cd623810?s=256&d=identicon&r=PG",
			"display_name": "Jeremy Kidwell",
			"link": "https://stackoverflow.com/users/1520670/jeremy-kidwell"
		},
		"is_answered": true,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75486401,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676648581,
		"creation_date": 1676648046,
		"question_id": 75486287,
		"link": "https://stackoverflow.com/questions/75486287/how-can-i-center-geom-label-repel-labels-so-that-they-are-in-the-middle-of-each",
		"title": "How can I center geom_label_repel labels so that they are in the middle of each bar?",
		"body": "<p>I'm using <code>geom_label_repel</code> to place percentages in a faceted horizontal bar chart, which mostly works great, except that I can't seem to find a way to shift the labels to the middle (or as close as possible) of each bar. Instead, they are justified right, which visually is a bit confusing as some bars are close to one another.</p>\n<p>I've tried using <code>h_just</code> and <code>v_just</code>, but these just center the text within its box rather than the box within the plot. If I drop <code>position_identity()</code> in favour of <code>nudge_x</code> the bars all drop out, so that doesn't get me there. Assuming there is some simple way to do this, but I'm not seeing it!</p>\n<p>Here's the function I've made to do the plot:</p>\n<pre><code>plot_single_result_with_facets &lt;- function(x) {\n  x %&gt;% \n    # we need to get the data including facet info in long format, so we use pivot_longer()\n    pivot_longer(!response, names_to = &quot;bin_name&quot;, values_to = &quot;b&quot;) %&gt;% \n    # add counts for plot below\n    count(response, bin_name, b) %&gt;%\n    # remove nas\n    filter(!is.na(response)) %&gt;%\n    # add grouping by bins\n    group_by(bin_name,b) %&gt;%\n    # calculate percentages\n    mutate(perc=paste0(round(n*100/sum(n),0),&quot;%&quot;)) %&gt;% \n    # run ggplot\n    ggplot(aes(x = n, y = &quot;&quot;, fill = response, label = perc)) +\n    # reversing order here using forcats::fct_rev() note - needs to be changed under geom_label_repel as well\n    geom_col(position=position_fill(), aes(fill=forcats::fct_rev(response))) +\n    coord_cartesian(clip = &quot;off&quot;) +\n    geom_vline(xintercept = x_limits, linetype = 3) +\n    geom_label_repel(\n      # important to make sure grouping of data matches grouping of labels so they aren't backwards\n      # reversing order here using forcats::fct_rev() note - needs to be changed above as well\n      aes(group = forcats::fct_rev(response), label = perc),\n      # justify text using center = 0.5, left = 0 and right = 1\n      hjust = 0.5,\n      vjust = 0.5,\n      direction = &quot;y&quot;,\n      force = 1.5,\n      fill = &quot;white&quot;, \n      # font size in the text labels\n      size = 1.5,\n      # allow labels to overlap\n      max.overlaps = Inf,\n      # make sure that bars are included\n      position = position_fill(),\n      # hide points\n      segment.size = 0.2,\n      point.size = NA,\n      # reduce padding around each text label\n      box.padding = 0.001\n    ) +\n    scale_fill_brewer(palette=&quot;YlOrBr&quot;, direction = -1) +\n    scale_x_continuous(labels = scales::percent_format(), expand = c(0.05, 0.05)) +\n    facet_grid(vars(b), vars(bin_name), labeller=as_labeller(facet_names)) + \n    labs(title = title, caption = caption, x = &quot;&quot;, y = &quot;&quot;) + \n    guides(fill = guide_legend(title = NULL)) +\n    theme_classic()\n}\n</code></pre>\n<p>And the code that uses it:</p>\n<pre><code>caption &lt;- NULL\ndf &lt;- select(data, Q51_bin, Q52_bin, Q57_bin, Q53_bin, Q4)\ndf &lt;- as_factor(df)\nnames(df) &lt;- c(&quot;Q51_bin&quot;, &quot;Q52_bin&quot;, &quot;Q57_bin&quot;, &quot;Q53_bin&quot;, &quot;response&quot;)\nfacet_names &lt;- c(`Q51_bin` = &quot;Nature Relatedness&quot;, `Q52_bin` = &quot;Spirituality&quot;, `Q57_bin` = &quot;Religiosity&quot;, `Q53_bin` = &quot;Politics L/R&quot;, `low`=&quot;low&quot;, `medium`=&quot;medium&quot;, `high`=&quot;high&quot;)\nfacet_labeller &lt;- function(variable,value){return(facet_names[value])}\nx_limits &lt;- c(.50, NA)\nfacet_grid(~fct_relevel(df,'Nature Relatedness','Spirituality','Religiosity','Politics L/R'))\nplot_single_result_with_facets(df)\nggsave(&quot;figures/q5_faceted.png&quot;, width = 20, height = 10, units = &quot;cm&quot;)\n</code></pre>\n<p>Here's the plot as it currently stands:</p>\n<p><a href=\"https://i.stack.imgur.com/WwCFF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WwCFF.png\" alt=\"enter image description here\" /></a></p>\n<p>And a bit of data to make it reproducible:</p>\n<pre><code>df &lt;- structure(list(Q51_bin = structure(c(2L, 2L, 2L, 2L), levels = c(&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;), class = &quot;factor&quot;), Q52_bin = structure(c(3L, 2L, 2L, 2L), levels = c(&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;), class = &quot;factor&quot;), Q57_bin = structure(c(2L, 2L, 2L, 2L), levels = c(&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;), class = &quot;factor&quot;), Q53_bin = structure(c(2L, 3L, 2L, 2L), levels = c(&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;), class = &quot;factor&quot;), Q4 = structure(c(2, 3, 3, 5), label = &quot;How much have you thought about climate change before today?&quot;, format.spss = &quot;F40.0&quot;, display_width = 5L, labels = c(`Not at all` = 1, `A little` = 2, Some = 3, `A lot` = 4, `A great deal` = 5, `Don't know` = 99), class = c(&quot;haven_labelled&quot;, &quot;vctrs_vctr&quot;, &quot;double&quot;))), class = c(&quot;rowwise_df&quot;, &quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -4L), groups = structure(list(.rows = structure(list(1L, 2L, 3L, 4L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, &quot;vctrs_vctr&quot;, &quot;list&quot;))), row.names = c(NA, -4L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;)))\n</code></pre>\n"
	}, {
		"tags": ["r", "machine-learning", "split"],
		"owner": {
			"reputation": 23,
			"user_id": 21165548,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7L1bHIb-Bkyf8YrMpnOlkrKylqrg65w9PJ5orT=k-s256",
			"display_name": "NDe",
			"link": "https://stackoverflow.com/users/21165548/nde"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676648481,
		"creation_date": 1676643700,
		"last_edit_date": 1676645041,
		"question_id": 75485455,
		"link": "https://stackoverflow.com/questions/75485455/split-dataset-stratify-by-outcome-and-keep-same-patients-in-the-same-groups",
		"title": "Split dataset, stratify by Outcome and keep same patients in the same groups",
		"body": "<p>Here is my dataset :</p>\n<pre><code>structure(list(PatientID = c(&quot;P1&quot;, &quot;P1&quot;, &quot;P1&quot;, \n&quot;P2&quot;, &quot;P3&quot;, &quot;P3&quot;, &quot;P4&quot;, &quot;P5&quot;, \n&quot;P5&quot;, &quot;P6&quot;), LesionResponse = structure(c(2L, 2L, 1L, 2L, 2L, 2L, 2L, \n    2L, 1L, 2L), .Label = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), pyrad_tum_original_shape_LeastAxisLength = c(19.7842995242803, \n    15.0703960571122, 21.0652247652897, 11.804125918871, 27.3980336338908, \n    17.0584330264122, 4.90406343942677, 4.78480430022189, 6.2170232078547, \n    5.96309532740722, 5.30141540007441), pyrad_tum_original_shape_Sphericity = c(0.652056853392657, \n    0.773719977240238, 0.723869070051882, 0.715122964970338, \n    0.70796498824535, 0.811937882810929, 0.836458991713367, 0.863337931630415, \n    0.851654860256904, 0.746212862162174), pyrad_tum_log.sigma.5.0.mm.3D_firstorder_Skewness = c(0.367453961973625, \n    0.117673346718817, 0.0992025164349288, -0.174029385779302, \n    -0.863570016875989, -0.8482193060411, -0.425424618080682, \n    -0.492420174157913, 0.0105111292451967, 0.249865833210199), pyrad_tum_log.sigma.5.0.mm.3D_glcm_Contrast = c(0.376932105256115, \n    0.54885738172596, 0.267158344601612, 2.90094719958076, 0.322424096161189, \n    0.221356030145403, 1.90012334870722, 0.971638740404501, 0.31547550396399, \n    0.653999340294952), pyrad_tum_wavelet.LHH_glszm_GrayLevelNonUniformityNormalized = c(0.154973213866752, \n    0.176128379241556, 0.171129002059539, 0.218343919352019, \n    0.345985943932352, 0.164905080489496, 0.104536489151874, \n    0.1280276816609, 0.137912385073012, 0.133420904484894), pyrad_tum_wavelet.LHH_glszm_LargeAreaEmphasis = c(27390.2818110851, \n    11327.7931034483, 51566.7948885976, 7261.68702290076, 340383.536555142, \n    22724.7792207792, 45.974358974359, 142.588235294118, 266.744186046512, \n    1073.45205479452), pyrad_tum_wavelet.LHH_glszm_LargeAreaLowGrayLevelEmphasis = c(677.011907073653, \n    275.281153810458, 582.131636238695, 173.747506476692, 6140.73990175018, \n    558.277670638306, 1.81042257642817, 4.55724031114589, 6.51794350173746, \n    19.144924585586), pyrad_tum_wavelet.LHH_glszm_SizeZoneNonUniformityNormalized = c(0.411899490603372, \n    0.339216399209913, 0.425584323452468, 0.355165782879786, \n    0.294934042125209, 0.339208410636982, 0.351742274819198, \n    0.394463667820069, 0.360735532720389, 0.36911240382811)), row.names = c(NA, -10L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, \n&quot;data.frame&quot;))\n</code></pre>\n<p>I want here to split my datas into three sets :</p>\n<ul>\n<li>Train : 60%</li>\n<li>Validation and testing : 20% each.</li>\n</ul>\n<p>As you can see, some rows correspond to the same patient. Imagine I have 127 unique patients with 1052 total rows and 156 features...</p>\n<p>I must logically keep all the same patients in the same group to avoid overfitting...and I must stratify on the binary outcome 1-0.</p>\n<p>I tried many codes like this one (I would prefer to have a loop for all this thing but nothing works) but in my sets, I have some rows missing for absolutely no reason. Second, I have common rows among my 3 sets of datas and don't know why...</p>\n<pre><code>set.seed(123)\n\n# Get unique patient IDs\npatient_ids &lt;- unique(df$PatientID)\n\n# Randomly assign patient IDs to training, validation, or testing group\npatient_groups &lt;- rep(c(&quot;train&quot;, &quot;val&quot;, &quot;test&quot;), length.out = length(patient_ids))\npatient_groups &lt;- sample(patient_groups)\n\n# Split data by patient group\ntrain_patients &lt;- patient_ids[patient_groups == &quot;train&quot;]\nval_patients &lt;- patient_ids[patient_groups == &quot;val&quot;]\ntest_patients &lt;- patient_ids[patient_groups == &quot;test&quot;]\n\ntrain_data &lt;- df %&gt;% filter(PatientID %in% train_patients) %&gt;% group_by(PatientID) %&gt;% slice_sample(prop = 0.6, replace = FALSE)\nval_data &lt;- df %&gt;% filter(PatientID %in% val_patients) %&gt;% group_by(PatientID) %&gt;% slice_sample(prop = 0.5, replace = FALSE)\ntest_data &lt;- df %&gt;% filter(PatientID %in% test_patients) %&gt;% group_by(PatientID) %&gt;% slice_sample(prop = 0.5, replace = FALSE)\n\n# Verify that all patients are included in only one group\nall_patients &lt;- c(train_patients, val_patients, test_patients)\nstopifnot(length(unique(all_patients)) == length(patient_ids))\n\n# Stratify the split based on LesionResponse\nprop_train &lt;- sum(train_data$LesionResponse == &quot;1&quot;) / nrow(train_data)\nprop_val &lt;- sum(val_data$LesionResponse == &quot;1&quot;) / nrow(val_data)\nprop_test &lt;- sum(test_data$LesionResponse == &quot;1&quot;) / nrow(test_data)\n\n# Print proportions of positive LesionResponse in each group\ncat(&quot;Proportion of positive LesionResponse in training set:&quot;, round(prop_train, 2), &quot;\\n&quot;)\ncat(&quot;Proportion of positive LesionResponse in validation set:&quot;, round(prop_val, 2), &quot;\\n&quot;)\ncat(&quot;Proportion of positive LesionResponse in testing set:&quot;, round(prop_test, 2), &quot;\\n&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 1958,
			"user_id": 8487930,
			"user_type": "registered",
			"accept_rate": 33,
			"profile_image": "https://www.gravatar.com/avatar/5d111c64ef9b405c9a0f2095f18ef666?s=256&d=identicon&r=PG&f=1",
			"display_name": "Nautica",
			"link": "https://stackoverflow.com/users/8487930/nautica"
		},
		"is_answered": true,
		"view_count": 55,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676648308,
		"creation_date": 1676567706,
		"question_id": 75475754,
		"link": "https://stackoverflow.com/questions/75475754/mutating-new-columns-based-on-common-string-using-existing-columns",
		"title": "Mutating new columns based on common string using existing columns",
		"body": "<p>Sample data:</p>\n<pre><code>    X_5   X_1     Y alpha_5 alpha_1 beta_5 beta_1\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1  0.21  0.02  0.61   10      5       3      0.01\n2  0.01  0.02  0.37    0.4    0.01    0.8    0.5 \n3  0.02  0.03  0.55    0.01   0.01    0.3    0.99\n4  0.04  0.05  0.29    0.01   0.005   0.03   0.55\n5  0.11  0.1  -0.08    0.22   0.015   0.01   0.01\n6  0.22  0.21 -0.08    0.02   0.03    0.01   0.01\n</code></pre>\n<p>I have a dataset which has columns of some variable of interest, say alpha, beta, and so on. I also have this saved as a character vector. I want to be able to mutate new columns based on these variable names, suffixed with an identifier, using the existing columns in the dataset as part of some transformation, like this:</p>\n<pre><code>df %&gt;% mutate(\n  alpha_new = ((alpha_5-alpha_1) / (X_5-X_1) * Y),\n  beta_new = ((beta_5-beta_1) / (X_5-X_1) * Y)\n)\n\n    X_5   X_1     Y alpha_5 alpha_1 beta_5 beta_1 alpha_new beta_new\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1  0.21  0.02  0.61   10      5       3      0.01   16.1        9.60\n2  0.01  0.02  0.37    0.4    0.01    0.8    0.5   -14.4      -11.1 \n3  0.02  0.03  0.55    0.01   0.01    0.3    0.99    0         38.0 \n4  0.04  0.05  0.29    0.01   0.005   0.03   0.55   -0.145     15.1 \n5  0.11  0.1  -0.08    0.22   0.015   0.01   0.01   -1.64       0   \n6  0.22  0.21 -0.08    0.02   0.03    0.01   0.01    0.0800     0  \n</code></pre>\n<p>In my real data I have many more columns like this and I'm struggling to implement this in a &quot;tidy&quot; way which isn't hardcoded, what's the best practice for my situation?</p>\n<p>Sample code:</p>\n<pre><code>  structure(\n  list(\n    X_5 = c(0.21, 0.01, 0.02, 0.04, 0.11, 0.22),\n    X_1 = c(0.02,\n            0.02, 0.03, 0.05, 0.10, 0.21),\n    Y = c(0.61, 0.37, 0.55, 0.29, -0.08, -0.08),\n    alpha_5 = c(10, 0.4, 0.01, 0.01, 0.22, 0.02),\n    alpha_1 = c(5, 0.01, 0.01, 0.005, 0.015, 0.03),\n    beta_5 = c(3, 0.8, 0.3, 0.03, 0.01, 0.01),\n    beta_1 = c(0.01, 0.5, 0.99, 0.55, 0.01, 0.01)\n  ),\n  row.names = c(NA, -6L),\n  class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;)\n) -&gt; df\n\nvariable_of_interest &lt;- c(&quot;alpha&quot;, &quot;beta&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe"],
		"owner": {
			"reputation": 1,
			"user_id": 21234994,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/177bf2bdbacbe85e0773cc33e97c79fd?s=256&d=identicon&r=PG",
			"display_name": "aaliad",
			"link": "https://stackoverflow.com/users/21234994/aaliad"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 2,
		"up_vote_count": 0,
		"closed_date": 1676651843,
		"answer_count": 0,
		"score": -2,
		"last_activity_date": 1676648301,
		"creation_date": 1676648212,
		"last_edit_date": 1676648301,
		"question_id": 75486323,
		"link": "https://stackoverflow.com/questions/75486323/query-in-r-in-relation-to-dataframe",
		"closed_reason": "Needs details or clarity",
		"title": "Query in R in relation to dataframe",
		"body": "<p>I'm trying to run a long code, but the error I'm getting on Rstudio is</p>\n<blockquote>\n<p>Error in data.frame(..., check.names = FALSE) :\narguments imply differing number of rows: 0, 75</p>\n</blockquote>\n<p>how do I resolve this?</p>\n<p>expecting to get a csv file in the end</p>\n"
	}, {
		"tags": ["r", "shiny", "module", "tabs", "modal-dialog"],
		"owner": {
			"reputation": 286,
			"user_id": 8214946,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e9da309d8fac9df4e62b443e6dfda404?s=256&d=identicon&r=PG&f=1",
			"display_name": "nimliug",
			"link": "https://stackoverflow.com/users/8214946/nimliug"
		},
		"is_answered": true,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75486321,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676648202,
		"creation_date": 1676644773,
		"last_edit_date": 1676646452,
		"question_id": 75485672,
		"link": "https://stackoverflow.com/questions/75485672/rshiny-modal-popup-when-good-tab-selected-with-navbarpage-function",
		"title": "Rshiny modal popup when good tab selected with navbarPage function",
		"body": "<p>I have a modular Rshiny application in which I want to display a dataset selection popup (modal) ONLY when the user is on the &quot;TAB 1&quot; tab.<br />\nIdeally, I would like this popup to be displayed only once on the first click on the right tab.</p>\n<p>I really don't know how to get the input on which tab is active and then, create a counter to display popup only if counter == 1....</p>\n<p>Here is my code :</p>\n<p>1st module :</p>\n<pre><code>library(shiny)\nlibrary(shinyjs)\nlibrary(shinyWidgets)\n#_________________________________________________________________\n#                          MODULE 1                           ----\n#_________________________________________________________________\n\nmodule1_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  \n  tabPanel(\n    title = &quot;Home&quot;,\n    shiny::tags$p(\n      &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&quot;\n    )\n  )\n  \n}\n\nmodule1_server &lt;- function(id, r_global) {\n  moduleServer(id, function(input, output, session) {\n    \n  })\n}\n</code></pre>\n<p>2nd module :</p>\n<pre><code>#_________________________________________________________________\n#                          MODULE 2                           ----\n#_________________________________________________________________\nmodule2_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  \n  tabPanel(\n    title = &quot;Tab 1&quot;,\n    \n    useShinyjs(),\n    \n    actionLink(\n      inputId = ns(&quot;display_modal&quot;),\n      label = &quot;S\\u00e9lectionner les donn\\u00e9es&quot;,\n      style = &quot;position: relative; left:90%&quot;\n    ),\n    \n    tableOutput(outputId = ns(&quot;myTable&quot;))\n  )\n}\n\nmodule2_server &lt;- function(id, r_global) {\n  moduleServer(id, function(input, output, session) {\n    ns &lt;- session$ns\n    \n    #_________________________________________________________________\n    #                      MODAL DEFINITION                       ----\n    #_________________________________________________________________\n    dataModal &lt;- function(failed = FALSE) {\n      modalDialog(\n        shiny::tags$h3(&quot;Choose dataset : &quot;),\n        \n        panel(\n          shinyWidgets::pickerInput(\n            inputId = ns(&quot;dataset_select&quot;),\n            label = &quot;Dataset :&quot;,\n            choices = c(&quot;dt1&quot; = &quot;dt1&quot;,\n                        &quot;dt2&quot; = &quot;dt2&quot;),\n            multiple = FALSE,\n            options = list(`actions-box` = TRUE)\n          )\n        ),\n        footer = tagList(\n          modalButton(label = &quot;Cancel&quot;),\n          actionButton(inputId = ns(&quot;ok&quot;), label = &quot;OK&quot;)\n        )\n      )\n    }\n        \n    #_________________________________________________________________\n    #                          SHOW MODAL                         ----\n    #_________________________________________________________________\n    showModal(dataModal())\n    \n    #_________________________________________________________________\n    #              ACTION WHEN CLICKING ON OK MODAL               ----\n    #_________________________________________________________________\n    observeEvent(input$ok, {\n      removeModal()\n      \n      output$myTable = renderTable({\n        if(input$dataset_select == &quot;dt1&quot;){\n          iris\n        }else{\n          mtcars\n        }\n      })\n    })\n    \n    #________________________________________________________________\n    #        ACTION WHEN CLICKING ON LINK TO DISPLAY MODAL       ----\n    #________________________________________________________________\n    observeEvent(input$display_modal, {\n      showModal(dataModal())\n    })\n  })\n}\n</code></pre>\n<p>UI et SERVER:</p>\n<pre><code>\n#________________________________________________________________\n#                          MAIN UI                           ----\n#________________________________________________________________\napp_ui &lt;- function(request) {\n  tagList(\n    navbarPage(id = &quot;main_menu&quot;, &quot;My app&quot;, \n               module1_ui(&quot;mod1&quot;),\n               module2_ui(&quot;mod2&quot;)\n    )\n  )\n}\n\n#________________________________________________________________\n#                        MAIN SERVER                         ----\n#________________________________________________________________\napp_server &lt;- function(input, output, session) {\n  \n  r_global &lt;- reactiveValues(data = NULL)\n  \n  module1_server(id = &quot;mod1&quot;, r_global = r_global)\n  module2_server(id = &quot;mod2&quot;, r_global = r_global)\n}\n\nshinyApp(ui = app_ui, server = app_server)\n\n</code></pre>\n"
	}, {
		"tags": ["r", "sf"],
		"owner": {
			"user_type": "does_not_exist",
			"display_name": "user9302275"
		},
		"is_answered": true,
		"view_count": 4185,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676647717,
		"creation_date": 1576276398,
		"question_id": 59330611,
		"link": "https://stackoverflow.com/questions/59330611/grouping-by-with-multipolygon-geometry-with-sf-using-r",
		"title": "Grouping by with multipolygon geometry with sf (using R)",
		"body": "<p>I have a custom shapefile I put together. It works fine when I plot it all at once. But I'd like to group by certain variables to plot specific shaped regions. For example:</p>\n\n<pre><code>+-------------+--------+-------+\n|   county    | region | sales |\n+-------------+--------+-------+\n| washoe      |      1 |     5 |\n| carson city |      1 |    10 |\n| clark       |      2 |    15 |\n| harmon      |      2 |    20 |\n+-------------+--------+-------+\n</code></pre>\n\n<p>If I run:</p>\n\n<pre><code>leaflet() %&gt;% addTiles %&gt;% addPolygons(data=df)\n</code></pre>\n\n<p>That will plot four separate polygons based on where those four are located. </p>\n\n<p>But let's say I wanted to create polygons based on regions. So theoretically, the output would contain just two Polygons. One that is the combined shape of montgomery and stevens, and another combining moses and harmon county, and I also want to sum up the total sales.</p>\n\n<pre><code>x &lt;- df %&gt;% group_by(region) %&gt;% summarise(totals=sum(ones))\n</code></pre>\n\n<p>It will give me this error:</p>\n\n<pre><code>Error in CPL_geos_union(st_geometry(x), by_feature) : \n  Evaluation error: TopologyException: Input geom 0 is invalid: Ring Self-intersection at or near point -119.97497995771261 39.521600907266631 at -119.97497995771261 39.521600907266631\n</code></pre>\n\n<p>In terms of information on the geometry variable:</p>\n\n<pre><code>df$geometry\n\nGeometry set for 2106 features \ngeometry type:  GEOMETRY\ndimension:      XY\nbbox:           xmin: -115.8968 ymin: 35.00184 xmax: -114.0428 ymax: 36.85366\nepsg (SRID):    4326\nproj4string:    +proj=longlat +datum=WGS84 +no_defs\n</code></pre>\n\n<p>Do I need to convert it to something else?</p>\n"
	}, {
		"tags": ["r", "svg", "plot", "save", "diagrammer"],
		"owner": {
			"reputation": 39,
			"user_id": 16069949,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a20a896b71a4821f915cafef5857d114?s=256&d=identicon&r=PG&f=1",
			"display_name": "Gaspar",
			"link": "https://stackoverflow.com/users/16069949/gaspar"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676647713,
		"creation_date": 1676646752,
		"question_id": 75486045,
		"link": "https://stackoverflow.com/questions/75486045/save-high-quality-diagrammer-node-graph",
		"title": "Save high-quality {DiagrammeR} node graph",
		"body": "<p>I've made a node graph with {DiagrammeR} and need to save it in high-quality for publication, but none of the usual high-quality saving methods work (e.g. ggsave() -naturally-, svg(), png(), etc.)</p>\n<p>No need to upload the whole code, but the two final lines (should suffy) are the following:</p>\n<pre><code>graph &lt;- create_graph(nodes_df = nodes, edges_df = \nrender_graph(graph)\n</code></pre>\n<p>Does anybody know how can I do it? I've tried simply exporting it as .png in the viewer panel and vectorize it online, but couldn't get the quality I want (though if anybody knows of a very good free only vectorizer, grateful to hear it).</p>\n<p>Thanks!</p>\n"
	}, {
		"tags": ["r", "mixed-models"],
		"owner": {
			"reputation": 11,
			"user_id": 21232591,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp475RBdLZ84XYe082V-wHrzv2NUqTBrUzxrA1Zh=k-s256",
			"display_name": "Jenny",
			"link": "https://stackoverflow.com/users/21232591/jenny"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676647466,
		"creation_date": 1676627524,
		"last_edit_date": 1676647466,
		"question_id": 75482644,
		"link": "https://stackoverflow.com/questions/75482644/simulating-data-for-a-repeated-measures-design",
		"title": "Simulating data for a repeated measures design",
		"body": "<p>I'm planning to conduct a simulation-based power analysis for a Generalized Linear-Mixed Effects Model using the simr package. I understand the first step is to create artificial data from scratch. However, I'm fairly new to R coding and am having trouble creating an artificial dataframe.</p>\n<p>This is the model I'm planning to achieve:</p>\n<pre><code>Y ~ 1 + X1*X2 + (1 + X1 + X2|Participant) + (1 + X1|Word)\n</code></pre>\n<p>In my study design, each participant learns 12 words. The repeated measures design is 2x3:</p>\n<ul>\n<li>X1 and X2 are both are within-subject variables</li>\n<li>X1 is the learning condition and has two levels: yes, no</li>\n<li>X2 is the characteristic of word and has three levels: A, B, C</li>\n<li>Y has two levels: 0, 1 (inaccurate vs accurate)</li>\n</ul>\n<p>Here is what a participant's (P1) data should look like (not including the outcome variable Y) :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Participant</th>\n<th>X1</th>\n<th>X2</th>\n<th>Word</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>P1</td>\n<td>yes</td>\n<td>A</td>\n<td>Word1</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>yes</td>\n<td>A</td>\n<td>Word2</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>yes</td>\n<td>B</td>\n<td>Word3</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>yes</td>\n<td>B</td>\n<td>Word4</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>yes</td>\n<td>C</td>\n<td>Word5</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>yes</td>\n<td>C</td>\n<td>Word6</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>no</td>\n<td>A</td>\n<td>Word7</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>no</td>\n<td>A</td>\n<td>Word8</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>no</td>\n<td>B</td>\n<td>Word9</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>no</td>\n<td>B</td>\n<td>Word10</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>no</td>\n<td>C</td>\n<td>Word11</td>\n</tr>\n<tr>\n<td>P1</td>\n<td>no</td>\n<td>C</td>\n<td>Word12</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li><em>Note1</em>: Word1 is always in the &quot;A&quot; category, Word3 is always in the &quot;B&quot; category, etc.</li>\n<li><em>Note2</em>: Words 1-6 can be in the &quot;yes&quot; condition or &quot;no&quot; condition, but they always stick together; same with Words 7-12.</li>\n</ul>\n<p>My progress on the simulation data so far is very basic, and doesn't allow the levels of X1 and X2 to vary within each participant:</p>\n<pre><code># including variables used as random effects in artificial data: 12 word stimuli, 50 participants\nartificial_data &lt;- expand.grid(Stimuli = (1:12), Participant = (1:50))\n\n# including X1 (2 levels)\nX1 &lt;- c(rep(&quot;yes&quot;, each=300), rep(&quot;no&quot;, each=300))\nartificial_data[&quot;X1&quot;] &lt;- X1\n\n# including X2 (three levels)\nX2 &lt;- c(rep(&quot;A&quot;, each=200), rep(&quot;B&quot;, each=200), rep(&quot;C&quot;, each=200)\nartificial_data[&quot;X2&quot;] &lt;- X2\n</code></pre>\n<p>What codes should I use to achieve the dataframe I would like to have?</p>\n"
	}, {
		"tags": ["r", "factor-analysis"],
		"owner": {
			"reputation": 11908,
			"user_id": 2822004,
			"user_type": "registered",
			"accept_rate": 60,
			"profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=256&d=identicon&r=PG&f=1",
			"display_name": "tumultous_rooster",
			"link": "https://stackoverflow.com/users/2822004/tumultous-rooster"
		},
		"is_answered": true,
		"view_count": 2642,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676647354,
		"creation_date": 1397969518,
		"last_edit_date": 1397972591,
		"question_id": 23178558,
		"link": "https://stackoverflow.com/questions/23178558/getting-factor-analysis-scores-when-using-the-factanal-function",
		"title": "Getting factor analysis scores when using the factanal function",
		"body": "<p>I have used the <code>factanal</code> function in R to do a factor analysis on a data set.</p>\n\n<p>Viewing the summary of the output, I see I have access to the loading and other objects, but I am interested in the scores of the factor analysis.  </p>\n\n<p>How can I get the scores when using the <code>factanal</code> function?</p>\n\n<p>I attempted to calculate the scores myself:</p>\n\n<pre><code>m &lt;- t(as.matrix(factor$loadings))\nn &lt;- (as.matrix(dataset))\nscores &lt;- m%*%n\n</code></pre>\n\n<p>and got the error:</p>\n\n<p><code>Error in m %*% n : non-conformable arrays</code></p>\n\n<p>which I'm not sure why, since I double checked the dimension of the data and the dimensionality is in agreement.</p>\n\n<p>Thanks everyone for your help.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "r-markdown"],
		"owner": {
			"reputation": 55,
			"user_id": 17098600,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f9deb5fc7de70191d56a5e7210e0e021?s=256&d=identicon&r=PG",
			"display_name": "Jeffrey Sachs",
			"link": "https://stackoverflow.com/users/17098600/jeffrey-sachs"
		},
		"is_answered": true,
		"view_count": 73,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676647345,
		"creation_date": 1676223798,
		"last_edit_date": 1676561463,
		"question_id": 75428952,
		"link": "https://stackoverflow.com/questions/75428952/when-knitting-html-from-rmd-file-datapoints-in-plot-disappear",
		"title": "When knitting HTML from Rmd file, datapoints in plot disappear",
		"body": "<p>When I put together my Rmd-file for a report and print out the code, the plot appears exactly they I want it. But when I knit it to HTML, the datapoints in the plot disappear. Anyone with a potential idea, why this could be the case?</p>\n<p>See my Rmd chunk below:</p>\n<pre><code>{r position_per_year, message=FALSE, warning=FALSE, include=FALSE, fig.show='asis'}\n# Position reached per year\nposition_2007 &lt;- gp_2007 %&gt;%\n  group_by(location, surname) %&gt;%\n  summarise(position = as.numeric(positionText), .groups = &quot;drop&quot;) %&gt;%\n  ungroup() %&gt;%\n  ggplot(aes(\n    x = location,\n    y = position,\n    group = surname,\n    color = surname,\n  )) +\n  geom_point() +\n  geom_line() +\n  scale_y_reverse(breaks = seq(24, 1), limits = c(24,1)) +\n  scale_x_discrete(guide = guide_axis(angle = 90)) +\n  xlab(&quot;GP Location&quot;) +\n  ylab(&quot;Place reached&quot;)\n</code></pre>\n<p>In R-Markdown the plot appearing through</p>\n<pre><code>print(position_2007)\n</code></pre>\n<p>is as following:</p>\n<p><a href=\"https://i.stack.imgur.com/gSIlI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSIlI.png\" alt=\"R-markdown output\" /></a></p>\n<p>whereas when the plot is shown in the knitted HTML it looks like this (datapoints simply disappear):</p>\n<p><a href=\"https://i.stack.imgur.com/okcQZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/okcQZ.png\" alt=\"HTML knit output\" /></a></p>\n<p>If someone has an idea on what could be the problem, this would be highly appreciated!</p>\n<p><strong>Edit (on request):</strong></p>\n<p>gp_2007 is the following dataframe:\n<a href=\"https://i.stack.imgur.com/dM8BX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dM8BX.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>dput(gp_2007)\n</code></pre>\n<p>delivers the following ouput:</p>\n<pre><code>structure(list(positionText = c(&quot;9&quot;, &quot;3&quot;, &quot;4&quot;, &quot;R&quot;, &quot;1&quot;, &quot;3&quot;, \n&quot;4&quot;, &quot;1&quot;, &quot;5&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;7&quot;, &quot;2&quot;, &quot;2&quot;, &quot;3&quot;, &quot;3&quot;, \n&quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;5&quot;, &quot;7&quot;, &quot;1&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;2&quot;, &quot;2&quot;, &quot;R&quot;, &quot;7&quot;, \n&quot;1&quot;, &quot;2&quot;), positionOrder = c(9L, 3L, 4L, 19L, 1L, 3L, 4L, 1L, \n5L, 1L, 2L, 3L, 1L, 2L, 7L, 2L, 2L, 3L, 3L, 3L, 1L, 2L, 5L, 7L, \n1L, 1L, 2L, 3L, 2L, 2L, 21L, 7L, 1L, 2L), points = c(0, 6, 5, \n0, 10, 6, 5, 10, 4, 10, 8, 6, 10, 8, 2, 8, 8, 6, 6, 6, 10, 8, \n4, 2, 10, 10, 8, 6, 8, 8, 0, 2, 10, 8), rank = c(&quot;3&quot;, &quot;4&quot;, &quot;4&quot;, \n&quot;19&quot;, &quot;1&quot;, &quot;6&quot;, &quot;3&quot;, &quot;2&quot;, &quot;3&quot;, &quot;2&quot;, &quot;3&quot;, &quot;3&quot;, &quot;1&quot;, &quot;3&quot;, &quot;1&quot;, \n&quot;2&quot;, &quot;2&quot;, &quot;4&quot;, &quot;3&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;4&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;, &quot;4&quot;, \n&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;3&quot;, &quot;2&quot;, &quot;2&quot;), year = c(2007L, 2007L, 2007L, \n2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, \n2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, \n2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, \n2007L, 2007L, 2007L, 2007L), round = c(10L, 8L, 14L, 16L, 5L, \n17L, 11L, 11L, 12L, 6L, 9L, 4L, 13L, 7L, 6L, 16L, 4L, 9L, 14L, \n1L, 15L, 13L, 3L, 17L, 7L, 10L, 2L, 12L, 1L, 5L, 15L, 8L, 2L, \n3L), gp = c(&quot;European Grand Prix&quot;, &quot;French Grand Prix&quot;, &quot;Belgian Grand Prix&quot;, \n&quot;Chinese Grand Prix&quot;, &quot;Monaco Grand Prix&quot;, &quot;Brazilian Grand Prix&quot;, \n&quot;Hungarian Grand Prix&quot;, &quot;Hungarian Grand Prix&quot;, &quot;Turkish Grand Prix&quot;, \n&quot;Canadian Grand Prix&quot;, &quot;British Grand Prix&quot;, &quot;Spanish Grand Prix&quot;, \n&quot;Italian Grand Prix&quot;, &quot;United States Grand Prix&quot;, &quot;Canadian Grand Prix&quot;, \n&quot;Chinese Grand Prix&quot;, &quot;Spanish Grand Prix&quot;, &quot;British Grand Prix&quot;, \n&quot;Belgian Grand Prix&quot;, &quot;Australian Grand Prix&quot;, &quot;Japanese Grand Prix&quot;, \n&quot;Italian Grand Prix&quot;, &quot;Bahrain Grand Prix&quot;, &quot;Brazilian Grand Prix&quot;, \n&quot;United States Grand Prix&quot;, &quot;European Grand Prix&quot;, &quot;Malaysian Grand Prix&quot;, \n&quot;Turkish Grand Prix&quot;, &quot;Australian Grand Prix&quot;, &quot;Monaco Grand Prix&quot;, \n&quot;Japanese Grand Prix&quot;, &quot;French Grand Prix&quot;, &quot;Malaysian Grand Prix&quot;, \n&quot;Bahrain Grand Prix&quot;), date = c(&quot;2007-07-22&quot;, &quot;2007-07-01&quot;, &quot;2007-09-16&quot;, \n&quot;2007-10-07&quot;, &quot;2007-05-27&quot;, &quot;2007-10-21&quot;, &quot;2007-08-05&quot;, &quot;2007-08-05&quot;, \n&quot;2007-08-26&quot;, &quot;2007-06-10&quot;, &quot;2007-07-08&quot;, &quot;2007-05-13&quot;, &quot;2007-09-09&quot;, \n&quot;2007-06-17&quot;, &quot;2007-06-10&quot;, &quot;2007-10-07&quot;, &quot;2007-05-13&quot;, &quot;2007-07-08&quot;, \n&quot;2007-09-16&quot;, &quot;2007-03-18&quot;, &quot;2007-09-30&quot;, &quot;2007-09-09&quot;, &quot;2007-04-15&quot;, \n&quot;2007-10-21&quot;, &quot;2007-06-17&quot;, &quot;2007-07-22&quot;, &quot;2007-04-08&quot;, &quot;2007-08-26&quot;, \n&quot;2007-03-18&quot;, &quot;2007-05-27&quot;, &quot;2007-09-30&quot;, &quot;2007-07-01&quot;, &quot;2007-04-08&quot;, \n&quot;2007-04-15&quot;), gp_place = c(&quot;N\u00fcrburgring&quot;, &quot;Circuit de Nevers Magny-Cours&quot;, \n&quot;Circuit de Spa-Francorchamps&quot;, &quot;Shanghai International Circuit&quot;, \n&quot;Circuit de Monaco&quot;, &quot;Aut\u00f3dromo Jos\u00e9 Carlos Pace&quot;, &quot;Hungaroring&quot;, \n&quot;Hungaroring&quot;, &quot;Istanbul Park&quot;, &quot;Circuit Gilles Villeneuve&quot;, \n&quot;Silverstone Circuit&quot;, &quot;Circuit de Barcelona-Catalunya&quot;, &quot;Autodromo Nazionale di Monza&quot;, \n&quot;Indianapolis Motor Speedway&quot;, &quot;Circuit Gilles Villeneuve&quot;, &quot;Shanghai International Circuit&quot;, \n&quot;Circuit de Barcelona-Catalunya&quot;, &quot;Silverstone Circuit&quot;, &quot;Circuit de Spa-Francorchamps&quot;, \n&quot;Albert Park Grand Prix Circuit&quot;, &quot;Fuji Speedway&quot;, &quot;Autodromo Nazionale di Monza&quot;, \n&quot;Bahrain International Circuit&quot;, &quot;Aut\u00f3dromo Jos\u00e9 Carlos Pace&quot;, \n&quot;Indianapolis Motor Speedway&quot;, &quot;N\u00fcrburgring&quot;, &quot;Sepang International Circuit&quot;, \n&quot;Istanbul Park&quot;, &quot;Albert Park Grand Prix Circuit&quot;, &quot;Circuit de Monaco&quot;, \n&quot;Fuji Speedway&quot;, &quot;Circuit de Nevers Magny-Cours&quot;, &quot;Sepang International Circuit&quot;, \n&quot;Bahrain International Circuit&quot;), location = c(&quot;N\u00fcrburg&quot;, &quot;Magny Cours&quot;, \n&quot;Spa&quot;, &quot;Shanghai&quot;, &quot;Monte-Carlo&quot;, &quot;S\u00e3o Paulo&quot;, &quot;Budapest&quot;, &quot;Budapest&quot;, \n&quot;Istanbul&quot;, &quot;Montreal&quot;, &quot;Silverstone&quot;, &quot;Montmel\u00f3&quot;, &quot;Monza&quot;, \n&quot;Indianapolis&quot;, &quot;Montreal&quot;, &quot;Shanghai&quot;, &quot;Montmel\u00f3&quot;, &quot;Silverstone&quot;, \n&quot;Spa&quot;, &quot;Melbourne&quot;, &quot;Oyama&quot;, &quot;Monza&quot;, &quot;Sakhir&quot;, &quot;S\u00e3o Paulo&quot;, \n&quot;Indianapolis&quot;, &quot;N\u00fcrburg&quot;, &quot;Kuala Lumpur&quot;, &quot;Istanbul&quot;, &quot;Melbourne&quot;, \n&quot;Monte-Carlo&quot;, &quot;Oyama&quot;, &quot;Magny Cours&quot;, &quot;Kuala Lumpur&quot;, &quot;Sakhir&quot;\n), country = c(&quot;Germany&quot;, &quot;France&quot;, &quot;Belgium&quot;, &quot;China&quot;, &quot;Monaco&quot;, \n&quot;Brazil&quot;, &quot;Hungary&quot;, &quot;Hungary&quot;, &quot;Turkey&quot;, &quot;Canada&quot;, &quot;UK&quot;, &quot;Spain&quot;, \n&quot;Italy&quot;, &quot;USA&quot;, &quot;Canada&quot;, &quot;China&quot;, &quot;Spain&quot;, &quot;UK&quot;, &quot;Belgium&quot;, \n&quot;Australia&quot;, &quot;Japan&quot;, &quot;Italy&quot;, &quot;Bahrain&quot;, &quot;Brazil&quot;, &quot;USA&quot;, &quot;Germany&quot;, \n&quot;Malaysia&quot;, &quot;Turkey&quot;, &quot;Australia&quot;, &quot;Monaco&quot;, &quot;Japan&quot;, &quot;France&quot;, \n&quot;Malaysia&quot;, &quot;Bahrain&quot;), forename = c(&quot;Lewis&quot;, &quot;Lewis&quot;, &quot;Lewis&quot;, \n&quot;Lewis&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Lewis&quot;, &quot;Lewis&quot;, \n&quot;Lewis&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, \n&quot;Fernando&quot;, &quot;Lewis&quot;, &quot;Lewis&quot;, &quot;Fernando&quot;, &quot;Lewis&quot;, &quot;Lewis&quot;, &quot;Lewis&quot;, \n&quot;Fernando&quot;, &quot;Lewis&quot;, &quot;Lewis&quot;, &quot;Fernando&quot;, &quot;Lewis&quot;, &quot;Fernando&quot;, \n&quot;Fernando&quot;, &quot;Lewis&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Fernando&quot;, &quot;Lewis&quot;\n), surname = c(&quot;Hamilton&quot;, &quot;Hamilton&quot;, &quot;Hamilton&quot;, &quot;Hamilton&quot;, \n&quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Hamilton&quot;, &quot;Hamilton&quot;, &quot;Hamilton&quot;, \n&quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Hamilton&quot;, \n&quot;Hamilton&quot;, &quot;Alonso&quot;, &quot;Hamilton&quot;, &quot;Hamilton&quot;, &quot;Hamilton&quot;, &quot;Alonso&quot;, \n&quot;Hamilton&quot;, &quot;Hamilton&quot;, &quot;Alonso&quot;, &quot;Hamilton&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, \n&quot;Hamilton&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Alonso&quot;, &quot;Hamilton&quot;), name = c(&quot;McLaren&quot;, \n&quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, \n&quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, \n&quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, \n&quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, \n&quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;, \n&quot;McLaren&quot;, &quot;McLaren&quot;, &quot;McLaren&quot;)), row.names = c(13L, 41L, 44L, \n89L, 132L, 150L, 159L, 231L, 251L, 305L, 314L, 315L, 341L, 361L, \n363L, 384L, 387L, 430L, 466L, 486L, 493L, 512L, 581L, 599L, 635L, \n649L, 672L, 704L, 759L, 768L, 769L, 801L, 826L, 838L), class = &quot;data.frame&quot;)\n</code></pre>\n<p><strong>Edit 2 (on request):</strong></p>\n<p>The dataframe &quot;Hamilton_Alonso&quot; looks as following (screenshot only shows first 43 of 668 rows):\n<a href=\"https://i.stack.imgur.com/NQ3AO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NQ3AO.jpg\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "image-processing"],
		"owner": {
			"reputation": 395,
			"user_id": 6248271,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/euJf8.jpg?s=256&g=1",
			"display_name": "Lee",
			"link": "https://stackoverflow.com/users/6248271/lee"
		},
		"is_answered": false,
		"view_count": 5,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676647170,
		"creation_date": 1676565459,
		"last_edit_date": 1676647170,
		"question_id": 75475330,
		"link": "https://stackoverflow.com/questions/75475330/can-image-location-be-specified-with-image-mosaic-or-image-flatten-magick-functi",
		"title": "Can image location be specified with image_mosaic or image_flatten magick functions in R?",
		"body": "<p>When using the image_mosaic or image_flatten functions from the magick R package, the second image is always placed in the upper left of the combined image.  Can it be placed in the lower left or lower right of the larger image?  Is there a more general way to specify location with pixel or index coordinates?</p>\n<pre><code>library(magick)\n\n# grab sample images from magick documentation\nbigdata &lt;- image_read(&quot;https://jeroen.github.io/images/bigdata.jpg&quot;)\nrlogo &lt;- image_read(&quot;https://jeroen.github.io/images/Rlogo.png&quot;)\n\n# scale images for easier viewing in RStudio\nbigdata &lt;- image_scale(bigdata, &quot;600x600&quot;)\nrlogo &lt;- image_scale(rlogo, &quot;150x150&quot;)\n\n# combine \nimg &lt;- c(bigdata, rlogo)\n\n# flatten and mosaic both result in the R logo being in the upper left.\n# how can the location of the logo in the combined image be specified,\n# for example in the lower left or lower right?\nimage_flatten(img)\nimage_mosaic(img)\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21234569,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7vAAcYzGcV219fjXmgOQnDQ1nMNiNn3o7osZh0=k-s256",
			"display_name": "Lasse Degnbol",
			"link": "https://stackoverflow.com/users/21234569/lasse-degnbol"
		},
		"is_answered": false,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676647021,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676646914,
		"creation_date": 1676644245,
		"last_edit_date": 1676646914,
		"question_id": 75485563,
		"link": "https://stackoverflow.com/questions/75485563/can-somebody-help-me-activate-interflex-in-r",
		"closed_reason": "Needs details or clarity",
		"title": "Can somebody help me activate interflex in R",
		"body": "<p>I cant use Interflex, but i don't know why. It just show this error:</p>\n<pre><code>Error in if (xi &gt; xj) 1L else -1L : missing value where TRUE/FALSE needed\nIn addition: Warning messages:\n1: In xtfrm.data.frame(x) : cannot xtfrm data frames\n2: In Ops.factor(xi, xj) : \u2018&gt;\u2019 er ikke meningsfuld for faktorer\n\nError in `x[order(x, na.last = na.last, decreasing = decreasing)]`:\n! Can't subset columns past the end.\n\u2139 Location 2 doesn't exist.\n\u2139 There is only 1 column.\nRun `rlang::last_error()` to see where the error occurred.\n</code></pre>\n<p>I have tried to restart R, but it didn't work. Hope somebody can help :)</p>\n<p>I tried to restart R and install interflex again, but i didn't work</p>\n"
	}, {
		"tags": ["r", "ggplot2", "violin-plot"],
		"owner": {
			"reputation": 781,
			"user_id": 644568,
			"user_type": "registered",
			"accept_rate": 73,
			"profile_image": "https://www.gravatar.com/avatar/ec8a2ff8d6d9175f8028fed2424c98df?s=256&d=identicon&r=PG",
			"display_name": "Exocom",
			"link": "https://stackoverflow.com/users/644568/exocom"
		},
		"is_answered": true,
		"view_count": 6511,
		"down_vote_count": 0,
		"up_vote_count": 8,
		"accepted_answer_id": 52035174,
		"answer_count": 2,
		"score": 8,
		"last_activity_date": 1676646779,
		"creation_date": 1535355756,
		"last_edit_date": 1535357720,
		"question_id": 52034747,
		"link": "https://stackoverflow.com/questions/52034747/plot-only-one-side-half-of-the-violin-plot",
		"title": "Plot only one side/half of the violin plot",
		"body": "<p>I would like to have only one half of violin plots (similar to the plots created by stat_density_ridges from ggridges). A MWE</p>\n\n<pre><code>library(ggplot2)\n\ndframe = data.frame(val = c(), group = c())\nfor(i in 1:5){\n  offset = i - 3\n  dframe = rbind(dframe, \n                 data.frame(val = rnorm(n = 50, mean = 0 - offset), group = i)\n                 )\n}\ndframe$group = as.factor(dframe$group)\n\nggplot(data = dframe, aes(x = group, y = val)) + \n  geom_violin()      \n</code></pre>\n\n<p>produces a plot like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/tGDqc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tGDqc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I though would like to have one looking like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/34F8G.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/34F8G.png\" alt=\"enter image description here\"></a></p>\n\n<p>Ideally, the plots would also be scaled to like 1.5 to 2 times the width.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "tidyverse", "ggpattern"],
		"owner": {
			"reputation": 13,
			"user_id": 21234411,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c0e740917858c96c88631f26a84bd024?s=256&d=identicon&r=PG",
			"display_name": "maximumspitelihood",
			"link": "https://stackoverflow.com/users/21234411/maximumspitelihood"
		},
		"is_answered": true,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75485956,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676646374,
		"creation_date": 1676644281,
		"last_edit_date": 1676646374,
		"question_id": 75485570,
		"link": "https://stackoverflow.com/questions/75485570/how-to-remove-border-colour-of-geom-rect-pattern-from-ggpattern",
		"title": "How to remove border colour of geom_rect_pattern from {ggpattern}?",
		"body": "<p>I want to plot two rectangles with internal gradients beside each other using <code>ggpattern::geom_rect_pattern(pattern = &quot;gradient&quot;)</code> without a border around each rectangle.</p>\n<p>Example:</p>\n<pre><code>library(tidyverse)\nlibrary(ggpattern)\n\ntibble(\n  id = c(&quot;a&quot;, &quot;b&quot;),\n  xmin = c(-1, -1),\n  xmax = c(1, 1),\n  ymin = c(-1, 0),\n  ymax = c(0, 1)\n) |&gt; \n  ggplot() +\n  geom_rect_pattern(\n    aes(xmin = xmin, xmax = xmax, ymin = ymin, ymax = ymax, pattern_fill2 = id), \n    pattern_fill = &quot;white&quot;, pattern = &quot;gradient&quot;, pattern_orientation = &quot;horizontal&quot;\n    ) +\n  theme_classic() +\n  coord_fixed(xlim = c(-1.1,1.1), ylim = c(-1.1,1.1), ratio = 1)\n\n\n</code></pre>\n<p>Which produces:</p>\n<p><img src=\"https://i.stack.imgur.com/uuCVK.png\" alt=\"image of the problem\" /></p>\n<p><strong>My issue is how do I remove the border around the rectangles?</strong></p>\n<p>Setting <code>colour = &quot;white&quot;</code> in <code>geom_rect_pattern()</code> will work to remove the outer border, but will introduce an internal border which is undesirable for my figure:</p>\n<p><img src=\"https://i.stack.imgur.com/K2CTZ.png\" alt=\"image with colour = &quot;white&quot;\" /></p>\n<p>Setting <code>colour = NA</code> and/or <code>pattern_colour = NA</code> produces the same plot as the first</p>\n<p><img src=\"https://i.stack.imgur.com/uuCVK.png\" alt=\"the first\" />.</p>\n<p>Is there an aesthetic I am missing here?</p>\n"
	}, {
		"tags": ["r", "leaflet"],
		"owner": {
			"reputation": 6381,
			"user_id": 6447399,
			"user_type": "registered",
			"accept_rate": 54,
			"profile_image": "https://www.gravatar.com/avatar/46f7288222024483b021c1c106c2f0cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "user113156",
			"link": "https://stackoverflow.com/users/6447399/user113156"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676645980,
		"creation_date": 1676642522,
		"last_edit_date": 1676645980,
		"question_id": 75485276,
		"link": "https://stackoverflow.com/questions/75485276/leaflet-choropleth-plot-not-plotting-as-expected",
		"title": "Leaflet choropleth plot not plotting as expected -",
		"body": "<p>I have some geographical data that I would like to plot in a <code>leaflet</code> plot.</p>\n<pre><code># A tibble: 52 \u00d7 2\n   provincia     mean_price\n   &lt;chr&gt;              &lt;dbl&gt;\n 1 A Coru\u00f1a         179833.\n 2 Albacete         148584.\n 3 Alicante         418148.\n 4 Almer\u00eda          142338.\n</code></pre>\n<p>I can get the geographic coordinates from the <code>mapSpain</code> package.</p>\n<pre><code>library(mapSpain)\nprovincias = mapSpain::esp_get_prov() %&gt;%\n  select(c(&quot;cpro&quot;, &quot;ine.prov.name&quot;, &quot;iso2.prov.name.es&quot;, &quot;iso2.prov.name.ca&quot;, &quot;iso2.prov.name.ga&quot;, &quot;iso2.prov.name.eu&quot;))\n</code></pre>\n<p>This contains a few columns for the names of the regions plus the geographical coordinates.</p>\n<p>I want to join my <code>mean_price</code> up with the geographical data - (since the data is not able to 100% match/join I loop over the columns to find the region which &quot;fits&quot;. I run the following to join the two data sets up:</p>\n<pre><code>main_df &lt;- map(names(provincias)[-1],\n           ~ regex_left_join(df, provincias, by = c(&quot;provincia&quot; = .x))) %&gt;%\n  reduce(power_left_join, by = c(&quot;provincia&quot;, &quot;mean_price&quot;),\n         conflict = coalesce_xy) \n</code></pre>\n<p>This gets me my &quot;main&quot; dataframe which looks like:</p>\n<pre><code>   provincia     mean_price cpro  ine.prov.name    iso2.prov.name.es iso2.prov.name.ca iso2.pr\u2026\u00b9 iso2.\u2026\u00b2                  geometry\n   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;             &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;              &lt;GEOMETRY [\u00b0]&gt;\n 1 A Coru\u00f1a         179833. 15    Coru\u00f1a, A        La Coru\u00f1a         NA                A Coru\u00f1a  NA       GEOMETRYCOLLECTION EMPTY\n 2 Albacete         148584. 02    Albacete         Albacete          NA                NA        NA      POLYGON ((-0.928884 38.7\u2026\n 3 Alicante         418148. 03    Alicante/Alacant Alicante          Alacant           NA        NA       GEOMETRYCOLLECTION EMPTY\n 4 Almer\u00eda          142338. 04    Almer\u00eda          Almer\u00eda           NA                NA        NA      MULTIPOLYGON (((-1.63003\u2026\n 5 Araba - \u00c1lava    243705. 01    Araba/\u00c1lava      \u00c1lava             NA                NA        Araba    GEOMETRYCOLLECTION EMPTY\n 6 Asturias         149180. 33    Asturias         Asturias          NA                NA        NA      MULTIPOLYGON (((-4.51230\u2026\n 7 Badajoz          147803. 06    Badajoz          Badajoz           NA                NA        NA      POLYGON ((-5.046996 38.7\u2026\n 8 Barcelona        462814. 08    Barcelona        Barcelona         NA                NA        NA      MULTIPOLYGON (((2.778513\u2026\n 9 Bizkaia          286462. 48    Bizkaia          NA                NA                NA        Bizkaia MULTIPOLYGON (((-2.41284\u2026\n10 Burgos           134636. 09    Burgos           Burgos            NA                NA        NA      MULTIPOLYGON (((-3.14139\u2026\n</code></pre>\n<p>Now, I have my variable of interest <code>mean_price</code> matched with the geographical coordinates. I now want to plot a <code>leaflet</code> map but I am having difficultly.</p>\n<p>I run the folllowing code:</p>\n<pre><code>main_df = main_df %&gt;% \n  mutate(\n    bins = ntile(mean_price, 52) # I cretae bins for the choropleth colour pallet\n  ) %&gt;% \n  data.frame() %&gt;% \n  sf::st_as_sf()\n\npal = colorBin(&quot;RdYlBu&quot;, domain = main_df$mean_price, bins = main_df$bins)\nleaflet() %&gt;%\n  addProviderTiles(providers$Stamen.Toner) %&gt;%\n  setView(lng = 2.154007, lat =  41.390205, zoom = 12) %&gt;%\n  addPolygons(data = main_df,\n              color = &quot;darkblue&quot;,\n              weight = 1,\n              smoothFactor = 0.5,\n              fillOpacity = 0.8,\n              fillColor = pal(main_df$mean_price),\n              highlight = highlightOptions(\n                weight = 5,\n                color = &quot;grey&quot;,\n                dashArray = &quot;&quot;, # keep straightlines\n                fillOpacity = 0.7,\n                bringToFront = TRUE\n              )\n  )\n</code></pre>\n<blockquote>\n<p>Error in to_ring.default(x) :    Don't know how to get polygon data\nfrom object of class XY,GEOMETRYCOLLECTION,sfg In addition: Warning\nmessages: 1: In pal(main_df$mean_price) :   Some values were outside\nthe color scale and will be treated as NA 2: sf layer has inconsistent\ndatum (+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs).\nNeed '+proj=longlat +datum=WGS84'</p>\n</blockquote>\n<p>Question: How can I correctly plot the cloropleth plot in leaflet? and how can I adjust it to have say 10 bins?</p>\n<p>When I adjust it to 10 bins I get this error:</p>\n<blockquote>\n<p>Error in cut.default(x, binsToUse, labels = FALSE, include.lowest =\nTRUE,  :    'breaks' are not unique</p>\n</blockquote>\n<p>Libraries:</p>\n<pre><code>library(leaflet)\nlibrary(dplyr)\nlibrary(ggmap)\nlibrary(rgdal)\nlibrary(htmltools)\nlibrary(mapview)\nlibrary(htmlwidgets)\n\nlibrary(powerjoin)\nlibrary(purrr)\nlibrary(fuzzyjoin)\n</code></pre>\n<p>Data:</p>\n<pre><code>df = structure(list(provincia = c(&quot;A Coru\u00f1a&quot;, &quot;Albacete&quot;, &quot;Alicante&quot;, \n&quot;Almer\u00eda&quot;, &quot;Araba - \u00c1lava&quot;, &quot;Asturias&quot;, &quot;Badajoz&quot;, &quot;Barcelona&quot;, \n&quot;Bizkaia&quot;, &quot;Burgos&quot;, &quot;Cantabria&quot;, &quot;Castell\u00f3n&quot;, &quot;Ceuta&quot;, &quot;Ciudad Real&quot;, \n&quot;Cuenca&quot;, &quot;C\u00e1ceres&quot;, &quot;C\u00e1diz&quot;, &quot;C\u00f3rdoba&quot;, &quot;Gipuzkoa&quot;, &quot;Girona&quot;, \n&quot;Granada&quot;, &quot;Guadalajara&quot;, &quot;Huelva&quot;, &quot;Huesca&quot;, &quot;Illes Balears&quot;, \n&quot;Ja\u00e9n&quot;, &quot;La Rioja&quot;, &quot;Las Palmas&quot;, &quot;Le\u00f3n&quot;, &quot;Lleida&quot;, &quot;Lugo&quot;, \n&quot;Madrid&quot;, &quot;Melilla&quot;, &quot;Murcia&quot;, &quot;M\u00e1laga&quot;, &quot;Navarra&quot;, &quot;Ourense&quot;, \n&quot;Palencia&quot;, &quot;Pontevedra&quot;, &quot;Salamanca&quot;, &quot;Santa Cruz de Tenerife&quot;, \n&quot;Segovia&quot;, &quot;Sevilla&quot;, &quot;Soria&quot;, &quot;Tarragona&quot;, &quot;Teruel&quot;, &quot;Toledo&quot;, \n&quot;Valencia&quot;, &quot;Valladolid&quot;, &quot;Zamora&quot;, &quot;Zaragoza&quot;, &quot;\u00c1vila&quot;), mean_price = c(179833.167862839, \n148583.87109077, 418148.151437643, 142337.792926704, 243704.750636132, \n149179.732438607, 147802.894486692, 462813.775190776, 286461.604484305, \n134635.540239044, 201214.437926878, 139819.15323646, 204318.181818182, \n113856.401715511, 116992.998609179, 143137.441025641, 251270.65520481, \n166586.746650426, 340663.440746753, 365733.360551724, 219325.194605466, \n173221.569037657, 142430.992912371, 141754.603535354, 749037.540922619, \n131396.292428198, 160838.235963581, 656553.777123633, 140312.919506463, \n160485.155614973, 129787.667711599, 433665.652781242, 234306.12244898, \n188635.237652749, 687127.622056842, 197388.050991501, 137829.640394089, \n123450.853813559, 230344.604904632, 159999.046077894, 328912.419004007, \n184829.536144578, 180692.511036468, 155759.235955056, 193651.956693536, \n128909.006756757, 132623.629553967, 177825.529404212, 165240.297002725, \n116820.125531915, 164934.932635983, 124977.724215247)), row.names = c(NA, \n-52L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n<p>EDIT:</p>\n<pre><code>provincias &lt;- sf::st_transform(provincias, crs = 4326)\n\nn_colors &lt;- 52\nmy_palette &lt;- colorRampPalette(brewer.pal(n_colors, &quot;RdYlBu&quot;))\n\npal = colorBin(my_palette(n_colors), domain = spain_summary$mean_price, bins = spain_summary$bins, na.color = &quot;transparent&quot;, alpha = 1)\nleaflet() %&gt;%\n  addProviderTiles(providers$Stamen.Toner) %&gt;% \n  addPolygons(data = provincias,\n              weight = 1,\n              smoothFactor = 0.5,\n              color = &quot;white&quot;,\n              fillOpacity = 0.5,\n              fillColor = ~pal(spain_summary$mean_price),\n              stroke = TRUE,\n              highlight = highlightOptions(\n                color = &quot;black&quot;,\n                weight = 2,\n                #dashArray = &quot;&quot;,\n                fillOpacity = 0.8,\n                bringToFront = TRUE\n                )\n  )\n</code></pre>\n"
	}, {
		"tags": ["r", "list", "function", "loops"],
		"owner": {
			"reputation": 1,
			"user_id": 11275027,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/10156860196716071/picture?type=large",
			"display_name": "Edwin Sanchez",
			"link": "https://stackoverflow.com/users/11275027/edwin-sanchez"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676645878,
		"creation_date": 1676643517,
		"last_edit_date": 1676643790,
		"question_id": 75485427,
		"link": "https://stackoverflow.com/questions/75485427/how-can-i-create-a-function-that-loops-through-a-vector-and-provides-me-with-a-v",
		"title": "How can I create a function that loops through a vector and provides me with a vector of only Ns in sampleN.TOST in R?",
		"body": "<p>I created a function that loops over three different power scenarios with a specific CV%, but cannot get it to spit out only the Ns in a list (see below):</p>\n<pre><code>pwr.vec = c(0.80,0.85,0.90)\n\nsample.3.cross = function(x, pwr.vec){\n\n  for (i in pwr.vec){\n    result = list()\n\n    sample.size = sampleN.TOST(CV = x, design = &quot;3x3&quot;, targetpower = i, theta0 = 1.11)[['Sample size']]\n\n    result[i] = list(sample.size)\n\n  }\n  return(data.frame(result))\n}\n</code></pre>\n<p>I have tried modifying the function countless ways, to no end. When I run the function, I get the following output.</p>\n<pre><code>sample.3.cross(.23,pwr.vec)\n\ndata frame with 0 columns and 0 rows\n</code></pre>\n<p>I just need the three Ns in a simple list. Any help would be greatly appreciated.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 5033,
			"user_id": 1088647,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://www.gravatar.com/avatar/aecac6862fef6086c0a0a103270512e0?s=256&d=identicon&r=PG",
			"display_name": "smillig",
			"link": "https://stackoverflow.com/users/1088647/smillig"
		},
		"is_answered": true,
		"view_count": 152371,
		"down_vote_count": 0,
		"up_vote_count": 148,
		"accepted_answer_id": 14771584,
		"answer_count": 5,
		"score": 148,
		"last_activity_date": 1676645866,
		"creation_date": 1360322912,
		"last_edit_date": 1676645866,
		"question_id": 14771546,
		"link": "https://stackoverflow.com/questions/14771546/remove-legend-title-in-ggplot",
		"title": "Remove legend title in ggplot",
		"body": "<p>I'm trying to remove the title of a legend in <code>ggplot2</code>:</p>\n\n<pre><code>df &lt;- data.frame(\n  g = rep(letters[1:2], 5),\n  x = rnorm(10),\n  y = rnorm(10)\n)\n\nlibrary(ggplot2)\nggplot(df, aes(x, y, colour=g)) +\n  geom_line(stat=\"identity\") + \n  theme(legend.position=\"bottom\")\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/S0UjQ.png\" alt=\"enter image description here\"></p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/6022898\">this question</a> and none of the solutions there seem to work for me. Most give an error about how <code>opts</code> is deprecated and to use <code>theme</code> instead. I've also tried various versions of <code>theme(legend.title=NULL)</code>, <code>theme(legend.title=\"\")</code>, <code>theme(legend.title=element_blank)</code>, etc. Typical error messages are: </p>\n\n<pre><code>'opts' is deprecated. Use 'theme' instead. (Deprecated; last used in version 0.9.1)\n'theme_blank' is deprecated. Use 'element_blank' instead. (Deprecated; last used in version 0.9.1)\n</code></pre>\n\n<p>I'm using <code>ggplot2</code> for the first time since version 0.9.3 was released and I'm finding it difficult to navigate some of the changes... </p>\n"
	}, {
		"tags": ["r", "ggplot2", "visualization", "ggpattern"],
		"owner": {
			"reputation": 27,
			"user_id": 16759394,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJwFeZ2NSneMHT44pNM8mDIpK8z_9cBnBeHcQ0_d=k-s256",
			"display_name": "Balina",
			"link": "https://stackoverflow.com/users/16759394/balina"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676645817,
		"creation_date": 1676640987,
		"last_edit_date": 1676643705,
		"question_id": 75485002,
		"link": "https://stackoverflow.com/questions/75485002/how-to-give-different-pattern-for-side-by-side-boxplots-in-r",
		"title": "How to give different pattern for side by side boxplots in R",
		"body": "<p>My code is:</p>\n<pre><code>ggplot(my_data, aes(x = factor(inst), y = value, fill = color)) + \n geom_boxplot(position = position_dodge(width = 0.75)) +\n scale_fill_manual(values = c(&quot;blue&quot; = &quot;blue&quot;, &quot;green&quot; = &quot;green&quot;, &quot;red&quot; = &quot;red&quot;, &quot;yellow&quot; = \n &quot;yellow&quot;)) +\n theme_bw()\n</code></pre>\n<p>And it shows a graph like this:<a href=\"https://i.stack.imgur.com/W6NZt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W6NZt.png\" alt=\"enter image description here\" /></a></p>\n<p>My grouping variable is color. How can I visualize the boxplots with different patterns inside,just black and white background, instead of colors.</p>\n"
	}, {
		"tags": ["r", "linux", "windows", "debian", "blas"],
		"owner": {
			"reputation": 73,
			"user_id": 11532632,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2974cd673660267c57f505a7b401b933?s=256&d=identicon&r=PG&f=1",
			"display_name": "Rai",
			"link": "https://stackoverflow.com/users/11532632/rai"
		},
		"is_answered": true,
		"view_count": 241,
		"down_vote_count": 0,
		"up_vote_count": 6,
		"bounty_amount": 150,
		"bounty_closes_date": 1677027388,
		"answer_count": 3,
		"score": 6,
		"last_activity_date": 1676645554,
		"creation_date": 1676249564,
		"last_edit_date": 1676364879,
		"question_id": 75431116,
		"link": "https://stackoverflow.com/questions/75431116/basic-operations-in-r-giving-different-results-on-windows-and-linux",
		"title": "Basic operations in R giving different results on Windows and Linux",
		"body": "<p>I have been running some code in R and while testing realized the results were different on Windows and Linux. I have tried to understand why this happens, but couldn't find an answer. Let's illustrate it with an example:</p>\n<p>These are some hard-coded values for reproducibility, always starting from a clean environment. I have checked that the bit representation of these values is exactly the same in both the Windows and the Linux machines:</p>\n<pre class=\"lang-r prettyprint-override\"><code>data &lt;- structure(list(x = c(0.1, 0.1, 0.1, 5, 5, 5, 10, 10, 10, 20, 20, 20), \n                       y = c(0.013624804, 0.014023006, 0.013169554, 0.70540352, \n                             0.68711807, 0.69233506, 1.4235181, 1.348244, 1.4141854, 2.779813, \n                             2.7567347, 2.7436437)), class = c(&quot;data.frame&quot;), row.names = c(NA, 12L))\nval &lt;- c(43.3065849160736, 0.00134925463859564, 1.03218302435548, 270.328323775978)\ntheta &lt;- 1.60812569803848\ninit &lt;- c(b0 = 2.76836653333333, b1 = 0.0134350095, b2 = 2.15105945932773, \n          b3 = 6.85922519794374)\n</code></pre>\n<p>Now I define a new variable <code>W</code> which is again exactly the same in bit representation in Windows and Linux:</p>\n<pre class=\"lang-r prettyprint-override\"><code>f &lt;- function(X, b0, b1, b2, b3) {\n  b0 + (b1 - b0) / (1 + exp(b2*(log(X) - log(b3))))\n}\n\nW &lt;- 1 / f(data$x, val[1], val[2], val[3], val[4])^theta\n</code></pre>\n<p>And finally I apply an <code>optim</code> function:</p>\n<pre class=\"lang-r prettyprint-override\"><code>SSw &lt;- function(Y, X, b0, b1, b2, b3, w) {\n  sum(w * (Y - f(X, b0, b1, b2, b3))^2)\n}\n\nSSw.vec &lt;- function(par) SSw(data$y, data$x, par[1], par[2], par[3], par[4], W)\n\nmod &lt;- optim(init, SSw.vec, method = &quot;L-BFGS-B&quot;, lower = c(-Inf,-Inf,-Inf,0))\n\nprint(mod$par)\n# In Windows it returns:\n#          b0           b1           b2           b3 \n# 3.097283e+01 1.831543e-03 1.047613e+00 1.842448e+02\n# In Linux it returns: \n#           b0           b1           b2           b3 \n# 3.459241e+01 1.530134e-03 1.040363e+00 2.101996e+02 \n</code></pre>\n<p>As you can see the differences are quite significative, but even if they weren't... just why are there any differences?</p>\n<p>Any help will be really appreciated!</p>\n<h2>Edit</h2>\n<p>Here I add the <code>sessionInfo()</code> on both Windows and Linux.</p>\n<p>On Windows:</p>\n<pre><code>R version 3.6.3 (2020-02-29)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 19045)\n\nMatrix products: default\n\nlocale:\n[1] LC_COLLATE=English_United Kingdom.1252  LC_CTYPE=English_United Kingdom.1252    LC_MONETARY=English_United Kingdom.1252\n[4] LC_NUMERIC=C                            LC_TIME=English_United Kingdom.1252    \n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nloaded via a namespace (and not attached):\n [1] Rcpp_1.0.8.3        plyr_1.8.6          cellranger_1.1.0    compiler_3.6.3      pillar_1.7.0        nloptr_1.2.2.2      tools_3.6.3        \n [8] bit_4.0.4           boot_1.3-24         lme4_1.1-29         lifecycle_1.0.0     tibble_3.1.7        nlme_3.1-144        gtable_0.3.0       \n[15] lattice_0.20-38     pkgconfig_2.0.3     rlang_1.0.2         Matrix_1.2-18       cli_3.4.1           rstudioapi_0.11     dplyr_1.0.6        \n[22] generics_0.1.0      vctrs_0.3.8         lmerTest_3.1-3      grid_3.6.3          tidyselect_1.1.1    glue_1.4.2          R6_2.4.1           \n[29] fansi_0.4.1         readxl_1.3.1        minqa_1.2.4         ggplot2_3.3.6       purrr_0.3.5         magrittr_1.5        scales_1.1.1       \n[36] ellipsis_0.3.2      MASS_7.3-51.5       splines_3.6.3       colorspace_1.4-1    numDeriv_2016.8-1.1 renv_0.13.2         utf8_1.1.4         \n[43] munsell_0.5.0       crayon_1.3.4       \n</code></pre>\n<p>On Linux:</p>\n<pre><code>R version 3.6.3 (2020-02-29)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Debian GNU/Linux 10 (buster)\n\nMatrix products: default\nBLAS:   /opt/r/lib/R/lib/libRblas.so\nLAPACK: /opt/r/lib/R/lib/libRlapack.so\n\nlocale:\n [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       \n [4] LC_COLLATE=C           LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   \n [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          \n[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   \n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nloaded via a namespace (and not attached):\n[1] compiler_3.6.3 tools_3.6.3    renv_0.13.2   \n\n</code></pre>\n"
	}, {
		"tags": ["r", "loops", "append"],
		"owner": {
			"reputation": 61,
			"user_id": 20389781,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b173459f38e889b199d1182c090ce423?s=256&d=identicon&r=PG",
			"display_name": "Fish_Person",
			"link": "https://stackoverflow.com/users/20389781/fish-person"
		},
		"is_answered": false,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676645514,
		"creation_date": 1676645037,
		"last_edit_date": 1676645514,
		"question_id": 75485731,
		"link": "https://stackoverflow.com/questions/75485731/appending-a-vector-inside-a-double-for-loop-in-r",
		"title": "Appending a vector inside a double for loop in R",
		"body": "<p>I am trying to edit the values inside a vector determined before the loop. I want to append every element in the vector sequentially but can't figure out how to do it.</p>\n<p>So here I tried</p>\n<pre><code>hr &lt;- seq(0,5,1)\nhr2 = hr\n\nvec &lt;- vector(&quot;list&quot;,length = length(hr)^2)\n\nfor (x in seq(hr)) {\n  for (i in seq(hr2)) {\n    vec[[x]] &lt;- i +1\n  }\n}\n</code></pre>\n<p>But this just edits the first 6 elements of the list. I would like to update element 1, then 2, then 3,.... finally element 36.</p>\n<p>EDIT: The expected output would be a vector of length 36 with values in each element</p>\n"
	}, {
		"tags": ["r", "parallel-processing", "gis", "sf", "geosphere"],
		"owner": {
			"reputation": 1,
			"user_id": 21230162,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/8b859ef9e68c352cbf93721cd873cd4d?s=256&d=identicon&r=PG&f=1",
			"display_name": "Rub&#233;n Bernardo-Madrid",
			"link": "https://stackoverflow.com/users/21230162/rub%c3%a9n-bernardo-madrid"
		},
		"is_answered": true,
		"view_count": 68,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676644577,
		"creation_date": 1676588507,
		"last_edit_date": 1676622739,
		"question_id": 75478761,
		"link": "https://stackoverflow.com/questions/75478761/r-optimisation-of-the-calculation-of-the-geographical-distance-between-a-large-n",
		"title": "R Optimisation of the calculation of the geographical distance between a large number of polygons (&gt;11.000)",
		"body": "<p>How can I optimise in R the calculation of the geographical distance between millions of pairs of centroids of polygons?</p>\n<p>The polygons represent 111 km x 111 km grid cells covering the entire Earth.\nI'm using the <code>st_distance</code> R function. But the high number of polygons (&gt;11,000) suppose a computational challenge. Any suggestions on how to optimize it? In terms of accuracy, it does not need to be overly precise.</p>\n<p>Toy code:</p>\n<pre><code># Create a SpatialPolygonsDataFrame with five polygons\npolygons &lt;- st_as_sfc(list(\n  st_polygon(list(cbind(c(0, 0, 1, 1, 0), c(0, 1, 1, 0, 0)))),\n  st_polygon(list(cbind(c(1, 1, 2, 2, 1), c(0, 1, 1, 0, 0)))),\n  st_polygon(list(cbind(c(2, 2, 3, 3, 2), c(0, 1, 1, 0, 0)))),\n  st_polygon(list(cbind(c(0, 0, -1, -1, 0), c(0, -1, -1, 0, 0)))),\n  st_polygon(list(cbind(c(-1, -1, -2, -2, -1), c(0, -1, -1, 0, 0))))\n))\nst_crs(polygons)=4326\ndata &lt;- data.frame(ID = 1:5, Name = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;))\npolygons &lt;- st_sf(polygons, data)\n\n# Get the centroids of the polygons and calculate the distance\ncentroids &lt;- st_centroid(polygons$polygons)\ndistance &lt;- st_distance(centroids)\n</code></pre>\n<p>Thanks in advance</p>\n"
	}, {
		"tags": ["r", "regression"],
		"owner": {
			"reputation": 13,
			"user_id": 20966151,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f02a28ee5cb039d95640d464bb61eb00?s=256&d=identicon&r=PG",
			"display_name": "Lilly",
			"link": "https://stackoverflow.com/users/20966151/lilly"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676644542,
		"creation_date": 1676640864,
		"last_edit_date": 1676644542,
		"question_id": 75484979,
		"link": "https://stackoverflow.com/questions/75484979/regression-output-double-and-with-capital-letter",
		"title": "Regression output double and with capital letter",
		"body": "<p>I am doing a linear regression in R. The output shows some variables (<code>equity</code> &amp; <code>Equity</code>, and <code>loan</code> &amp; <code>Loan</code>) double and one is written with a capital letter. In the column, they are always written in lowercase in the column and appear in two different ways when I run the regression. I do not find the answer online, so maybe some of you can help me out? Any ideas are highly appreciated!</p>\n<pre><code>Model1 &lt;- lm(Lifetime_CO2 ~ signatory + as.factor(Finance_Type), data = Data_dup)\nsummary(Model1)\n\nCoefficients:\n                                          Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                                 90.351      4.397  20.550  &lt; 2e-16 ***\nsignatory                                    7.378      1.732   4.259 2.10e-05 ***\nas.factor(Finance_Type)equity              -29.059      4.640  -6.263 4.18e-10 ***\nas.factor(Finance_Type)Equity               14.549     38.971   0.373 0.708914    \nas.factor(Finance_Type)government grant    -81.284     22.784  -3.568 0.000365 ***\nas.factor(Finance_Type)insurance            -2.810     16.397  -0.171 0.863948    \nas.factor(Finance_Type)loan                -25.183      4.422  -5.695 1.32e-08 ***\nas.factor(Finance_Type)Loan                 14.549     27.731   0.525 0.599852    \nas.factor(Finance_Type)refinancing bond     -9.728     19.878  -0.489 0.624578    \nas.factor(Finance_Type)refinancing equity  -40.601     27.731  -1.464 0.143252    \nas.factor(Finance_Type)refinancing loan    -26.889      5.344  -5.031 5.09e-07 ***\n---\nSignif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n</code></pre>\n"
	}, {
		"tags": ["r", "date"],
		"owner": {
			"reputation": 5,
			"user_id": 21186653,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/279b5445fcb052c919bb520719dec97f?s=256&d=identicon&r=PG",
			"display_name": "ElenaRose",
			"link": "https://stackoverflow.com/users/21186653/elenarose"
		},
		"is_answered": true,
		"view_count": 51,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676640455,
		"accepted_answer_id": 75484834,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676644462,
		"creation_date": 1676639629,
		"last_edit_date": 1676643645,
		"question_id": 75484780,
		"link": "https://stackoverflow.com/questions/75484780/a-question-about-difference-between-two-dates-in-r",
		"closed_reason": "Duplicate",
		"title": "A question about difference between two dates in R",
		"body": "<p><em>I have two coloumns START and DATE, I need to calculate the difference between the dates (in year, month and days) and then calculate average of the differences mean (START-END). Thanks for the help. This question is not the same to other questions which have been already posted before</em></p>\n<p>Data:</p>\n<pre><code>start           end         diff\n&quot;2020-5-16&quot;    &quot;2029-7-15&quot;    9 years, 2 months and etc\n&quot;2024-5-16&quot;    &quot;2028-3-13&quot;\n&quot;2023-4-17&quot;    &quot;2025-4-12&quot;\n&quot;2026-7-18&quot;    &quot;2028-5-16&quot;\n\n star&lt;-c(&quot;2020-5-16&quot; ,  &quot;2024-5-16&quot; , &quot;2023-4-17&quot; ,  &quot;2026-7-18&quot;)\n end&lt;-c( &quot;2029-7-15&quot;, &quot;2028-3-13&quot;,&quot;2025-4-12&quot;,&quot;2028-5-16&quot;)\n data&lt;-data.frame(star,end)\n</code></pre>\n"
	}, {
		"tags": ["r", "r-package"],
		"owner": {
			"reputation": 14186,
			"user_id": 89706,
			"user_type": "registered",
			"accept_rate": 96,
			"profile_image": "https://www.gravatar.com/avatar/7484b466a474ebffc58e91bc5aa7e892?s=256&d=identicon&r=PG",
			"display_name": "Ofek Shilon",
			"link": "https://stackoverflow.com/users/89706/ofek-shilon"
		},
		"is_answered": false,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676644333,
		"creation_date": 1676623633,
		"question_id": 75482010,
		"link": "https://stackoverflow.com/questions/75482010/r-packaging-a-function-with-trace",
		"title": "R: Packaging a function with trace",
		"body": "<p>We have some internal R packages with a very large number of functions. As part of an effort to eliminate unused code I looked into <code>covr</code> and <code>codetools::checkUsage</code> and both are insufficient - so we opted to hook all functions with <code>trace</code> that would record activity somewhere. Toy example with no technical details:</p>\n<pre class=\"lang-r prettyprint-override\"><code>&gt; f &lt;- function() { print(&quot;Doing very very important work&quot;)  }\n&gt; trace(f, tracer=substitute(print(&quot;recording call&quot;)))\n[1] &quot;f&quot;\n&gt; f()\nTracing f() on entry \n[1] &quot;recording call&quot;\n[1] &quot;Doing very very important work&quot;\n</code></pre>\n<p>The tracer operation does not significantly delay the work, but the tracing all package functions (~35K) takes ~3 minutes - and I'm looking for ways to shorten it.</p>\n<p>Is there some way to package the functions <em>with the trace</em>, so it won't have to be added in a separate post-load stage? Is there another direction I didn't think of?</p>\n"
	}, {
		"tags": ["r", "csv", "lapply"],
		"owner": {
			"reputation": 361,
			"user_id": 10370962,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b1250c388429eff45148fa6231ea53b8?s=256&d=identicon&r=PG&f=1",
			"display_name": "C. Guff",
			"link": "https://stackoverflow.com/users/10370962/c-guff"
		},
		"is_answered": true,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75485555,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676644209,
		"creation_date": 1676643750,
		"question_id": 75485468,
		"link": "https://stackoverflow.com/questions/75485468/rename-elements-of-a-list-from-a-vector-file-r",
		"title": "Rename elements of a list from a vector file [R]",
		"body": "<p>I have here a list:</p>\n<pre><code>    df.list &lt;- list(structure(list(time = c(&quot;2023-02-14 14:33:13&quot;, &quot;2023-02-14 14:33:13&quot;\n), lat = c(50.085588, 50.0855878333333), lon = c(4.55540016666667, \n4.5554), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:29:21&quot;, &quot;2023-02-14 13:29:22&quot;\n    ), lat = c(50.0855996666667, 50.0855998333333), lon = c(4.55512916666667, \n    4.555129), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:39:30&quot;, &quot;2023-02-14 13:39:31&quot;\n    ), lat = c(50.0856193333333, 50.0856195), lon = c(4.55519116666667, \n    4.5551915), alt = c(196.1, 196.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:38:54&quot;, &quot;2023-02-14 13:38:55&quot;\n    ), lat = c(50.0856118333333, 50.0856118333333), lon = c(4.555187, \n    4.55518716666667), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:14:30&quot;, &quot;2023-02-14 14:14:31&quot;\n    ), lat = c(50.0856361666667, 50.0856361666667), lon = c(4.55524916666667, \n    4.55524966666667), alt = c(195.6, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:36:21&quot;, &quot;2023-02-14 14:36:21&quot;\n    ), lat = c(50.0855886666667, 50.0855886666667), lon = c(4.55543483333333, \n    4.55543466666667), alt = c(196.9, 196.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:28:20&quot;, &quot;2023-02-14 13:28:21&quot;\n    ), lat = c(50.0856001666667, 50.0856003333333), lon = c(4.55512016666667, \n    4.55511983333333), alt = c(196.2, 196.2)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:34:59&quot;, &quot;2023-02-14 13:35:00&quot;\n    ), lat = c(50.085614, 50.0856141666667), lon = c(4.555184, \n    4.55518416666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:24:10&quot;, &quot;2023-02-14 14:24:11&quot;\n    ), lat = c(50.0856, 50.0856001666667), lon = c(4.55531633333333, \n    4.55531583333333), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:26:25&quot;, &quot;2023-02-14 13:26:26&quot;\n    ), lat = c(50.0855585, 50.0855583333333), lon = c(4.55509816666667, \n    4.55509816666667), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:32:33&quot;, &quot;2023-02-14 13:32:34&quot;\n    ), lat = c(50.0856156666667, 50.0856155), lon = c(4.55516366666667, \n    4.55516366666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:30:04&quot;, &quot;2023-02-14 13:30:05&quot;\n    ), lat = c(50.0855856666667, 50.0855855), lon = c(4.55513816666667, \n    4.55513866666667), alt = c(196.3, 196.3)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:30:52&quot;, &quot;2023-02-14 13:30:53&quot;\n    ), lat = c(50.0856061666667, 50.0856061666667), lon = c(4.55516116666667, \n    4.555161), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:24:23&quot;, &quot;2023-02-14 13:24:24&quot;\n    ), lat = c(50.0855631666667, 50.0855631666667), lon = c(4.55508666666667, \n    4.55508683333333), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:29:07&quot;, &quot;2023-02-14 14:29:07&quot;\n    ), lat = c(50.0855993333333, 50.0855993333333), lon = c(4.5553505, \n    4.55535083333333), alt = c(194.4, 194.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:34:33&quot;, &quot;2023-02-14 14:34:33&quot;\n    ), lat = c(50.085565, 50.085565), lon = c(4.55539216666667, \n    4.55539216666667), alt = c(196.1, 196.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:31:46&quot;, &quot;2023-02-14 13:31:47&quot;\n    ), lat = c(50.0855913333333, 50.0855913333333), lon = c(4.55516316666667, \n    4.55516316666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:38:58&quot;, &quot;2023-02-14 14:38:58&quot;\n    ), lat = c(50.0855555, 50.0855555), lon = c(4.55541816666667, \n    4.55541833333333), alt = c(196.1, 196.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:17:03&quot;, &quot;2023-02-14 14:17:03&quot;\n    ), lat = c(50.0856198333333, 50.0856196666667), lon = c(4.55523316666667, \n    4.55523316666667), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:33:52&quot;, &quot;2023-02-14 13:33:53&quot;\n    ), lat = c(50.0855915, 50.0855913333333), lon = c(4.55516533333333, \n    4.55516566666667), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:20:15&quot;, &quot;2023-02-14 14:20:16&quot;\n    ), lat = c(50.0856486666667, 50.0856485), lon = c(4.55524616666667, \n    4.555246), alt = c(196.1, 196.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:25:46&quot;, &quot;2023-02-14 13:25:47&quot;\n    ), lat = c(50.085564, 50.0855641666667), lon = c(4.555103, \n    4.55510283333333), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:15:11&quot;, &quot;2023-02-14 14:15:11&quot;\n    ), lat = c(50.0856263333333, 50.0856263333333), lon = c(4.55524366666667, \n    4.555244), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:37:21&quot;, &quot;2023-02-14 15:37:22&quot;\n    ), lat = c(50.0855968333333, 50.0855968333333), lon = c(4.55584216666667, \n    4.55584216666667), alt = c(195.8, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:21:50&quot;, &quot;2023-02-14 13:21:51&quot;\n    ), lat = c(50.0855355, 50.0855353333333), lon = c(4.55500733333333, \n    4.55500716666667), alt = c(195.8, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:22:14&quot;, &quot;2023-02-14 14:22:14&quot;\n    ), lat = c(50.0856335, 50.0856335), lon = c(4.55530833333333, \n    4.55530833333333), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:17:40&quot;, &quot;2023-02-14 14:17:40&quot;\n    ), lat = c(50.0856283333333, 50.0856283333333), lon = c(4.55523816666667, \n    4.5552385), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:11:32&quot;, &quot;2023-02-14 14:11:32&quot;\n    ), lat = c(50.0856538333333, 50.0856531666667), lon = c(4.55523933333333, \n    4.55523966666667), alt = c(194.7, 194.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:15:59&quot;, &quot;2023-02-14 14:16:00&quot;\n    ), lat = c(50.085632, 50.085632), lon = c(4.5552615, 4.55526183333333\n    ), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:59:04&quot;, &quot;2023-02-14 14:59:04&quot;\n    ), lat = c(50.0855613333333, 50.0855613333333), lon = c(4.5554735, \n    4.55547283333333), alt = c(197, 197)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:13:12&quot;, &quot;2023-02-14 14:13:13&quot;\n    ), lat = c(50.0856505, 50.0856506666667), lon = c(4.55523633333333, \n    4.55523633333333), alt = c(194.6, 194.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:32:37&quot;, &quot;2023-02-14 14:32:37&quot;\n    ), lat = c(50.085606, 50.0856061666667), lon = c(4.55541633333333, \n    4.55541633333333), alt = c(196.3, 196.3)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:25:28&quot;, &quot;2023-02-14 14:25:28&quot;\n    ), lat = c(50.085589, 50.085589), lon = c(4.55532783333333, \n    4.55532783333333), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:10:13&quot;, &quot;2023-02-14 14:10:13&quot;\n    ), lat = c(50.0856455, 50.0856455), lon = c(4.55524866666667, \n    4.55524866666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:11:51&quot;, &quot;2023-02-14 14:11:51&quot;\n    ), lat = c(50.0856356666667, 50.0856358333333), lon = c(4.55522716666667, \n    4.55522716666667), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:00:10&quot;, &quot;2023-02-14 13:00:11&quot;\n    ), lat = c(50.085519, 50.085519), lon = c(4.55486433333333, \n    4.55486433333333), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:15:03&quot;, &quot;2023-02-14 13:15:04&quot;\n    ), lat = c(50.085515, 50.085515), lon = c(4.5548905, 4.5548905\n    ), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:12:39&quot;, &quot;2023-02-14 13:12:40&quot;\n    ), lat = c(50.0855135, 50.0855135), lon = c(4.5548845, 4.55488433333333\n    ), alt = c(195.8, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:09:51&quot;, &quot;2023-02-14 13:09:52&quot;\n    ), lat = c(50.0855061666667, 50.085506), lon = c(4.554888, \n    4.55488816666667), alt = c(195.1, 195)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:02:16&quot;, &quot;2023-02-14 13:02:17&quot;\n    ), lat = c(50.0855231666667, 50.0855231666667), lon = c(4.55488, \n    4.55487983333333), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:26:28&quot;, &quot;2023-02-14 14:26:28&quot;\n    ), lat = c(50.085593, 50.0855931666667), lon = c(4.55534183333333, \n    4.55534183333333), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:08:12&quot;, &quot;2023-02-14 13:08:13&quot;\n    ), lat = c(50.0855063333333, 50.0855063333333), lon = c(4.5548845, \n    4.5548845), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:01:28&quot;, &quot;2023-02-14 13:01:29&quot;\n    ), lat = c(50.0855268333333, 50.0855268333333), lon = c(4.55487533333333, \n    4.55487583333333), alt = c(195.9, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:30:59&quot;, &quot;2023-02-14 14:31:00&quot;\n    ), lat = c(50.0855911666667, 50.0855911666667), lon = c(4.55538766666667, \n    4.55538733333333), alt = c(196.6, 196.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:20:18&quot;, &quot;2023-02-14 13:20:19&quot;\n    ), lat = c(50.0855385, 50.0855386666667), lon = c(4.5549915, \n    4.55499116666667), alt = c(196.1, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:07:05&quot;, &quot;2023-02-14 13:07:06&quot;\n    ), lat = c(50.0855238333333, 50.085524), lon = c(4.55489133333333, \n    4.55489116666667), alt = c(197, 197)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 12:46:35&quot;, &quot;2023-02-14 12:46:36&quot;\n    ), lat = c(50.08553, 50.0855301666667), lon = c(4.55487016666667, \n    4.55487016666667), alt = c(196.8, 196.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:13:52&quot;, &quot;2023-02-14 13:13:53&quot;\n    ), lat = c(50.0855223333333, 50.0855225), lon = c(4.55489, \n    4.55489016666667), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:35:42&quot;, &quot;2023-02-14 13:35:43&quot;\n    ), lat = c(50.085597, 50.085597), lon = c(4.55519583333333, \n    4.55519583333333), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:36:59&quot;, &quot;2023-02-14 14:37:00&quot;\n    ), lat = c(50.0855678333333, 50.0855676666667), lon = c(4.5554255, \n    4.55542533333333), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:37:19&quot;, &quot;2023-02-14 13:37:20&quot;\n    ), lat = c(50.0856065, 50.0856065), lon = c(4.55519516666667, \n    4.55519533333333), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:57:13&quot;, &quot;2023-02-14 14:57:13&quot;\n    ), lat = c(50.0855648333333, 50.0855668333333), lon = c(4.55544983333333, \n    4.5554505), alt = c(194.8, 194.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:21:27&quot;, &quot;2023-02-14 14:21:27&quot;\n    ), lat = c(50.0856253333333, 50.0856261666667), lon = c(4.55531183333333, \n    4.55531333333333), alt = c(195, 195)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:24:47&quot;, &quot;2023-02-14 14:24:47&quot;\n    ), lat = c(50.085599, 50.085599), lon = c(4.555322, 4.55532216666667\n    ), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:32:02&quot;, &quot;2023-02-14 14:32:02&quot;\n    ), lat = c(50.0856021666667, 50.0856021666667), lon = c(4.5553805, \n    4.5553805), alt = c(195.6, 195.5)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:38:11&quot;, &quot;2023-02-14 13:38:12&quot;\n    ), lat = c(50.0856053333333, 50.0856053333333), lon = c(4.5551895, \n    4.55518966666667), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:39:38&quot;, &quot;2023-02-14 14:39:39&quot;\n    ), lat = c(50.0855733333333, 50.0855731666667), lon = c(4.55541783333333, \n    4.55541783333333), alt = c(196.6, 196.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 13:36:34&quot;, &quot;2023-02-14 13:36:35&quot;\n    ), lat = c(50.0856043333333, 50.0856043333333), lon = c(4.555195, \n    4.555195), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:23:15&quot;, &quot;2023-02-14 14:23:15&quot;\n    ), lat = c(50.0855998333333, 50.0855998333333), lon = c(4.55529116666667, \n    4.55529116666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:27:51&quot;, &quot;2023-02-14 14:27:51&quot;\n    ), lat = c(50.0856001666667, 50.0856), lon = c(4.5553565, \n    4.5553565), alt = c(196.7, 196.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:28:31&quot;, &quot;2023-02-14 14:28:32&quot;\n    ), lat = c(50.0855761666667, 50.0855761666667), lon = c(4.55535483333333, \n    4.55535483333333), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:51:31&quot;, &quot;2023-02-14 14:51:31&quot;\n    ), lat = c(50.085597, 50.0855971666667), lon = c(4.555469, \n    4.55546916666667), alt = c(197.5, 197.5)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:14:10&quot;, &quot;2023-02-14 15:14:10&quot;\n    ), lat = c(50.085603, 50.085601), lon = c(4.5555135, 4.55551683333333\n    ), alt = c(195.1, 195.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:38:16&quot;, &quot;2023-02-14 14:38:16&quot;\n    ), lat = c(50.085572, 50.0855718333333), lon = c(4.5554355, \n    4.5554355), alt = c(196.1, 196.2)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:18:52&quot;, &quot;2023-02-14 15:18:52&quot;\n    ), lat = c(50.0856136666667, 50.0856136666667), lon = c(4.5556125, \n    4.55561266666667), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:26:24&quot;, &quot;2023-02-14 15:26:24&quot;\n    ), lat = c(50.0856231666667, 50.0856235), lon = c(4.5556855, \n    4.555686), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:32:37&quot;, &quot;2023-02-14 15:32:37&quot;\n    ), lat = c(50.0855908333333, 50.085591), lon = c(4.555776, \n    4.555776), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:29:45&quot;, &quot;2023-02-14 15:29:45&quot;\n    ), lat = c(50.0855873333333, 50.0855871666667), lon = c(4.55573133333333, \n    4.5557305), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:27:14&quot;, &quot;2023-02-14 15:27:15&quot;\n    ), lat = c(50.0856126666667, 50.0856123333333), lon = c(4.55569433333333, \n    4.55569466666667), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:06:59&quot;, &quot;2023-02-14 15:06:59&quot;\n    ), lat = c(50.0855725, 50.085573), lon = c(4.55551, 4.55551\n    ), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:47:27&quot;, &quot;2023-02-14 15:47:28&quot;\n    ), lat = c(50.0856143333333, 50.085615), lon = c(4.55612283333333, \n    4.55612266666667), alt = c(197, 197.2)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:56:02&quot;, &quot;2023-02-14 14:56:02&quot;\n    ), lat = c(50.0855743333333, 50.0855738333333), lon = c(4.55546416666667, \n    4.55546416666667), alt = c(196.8, 196.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:02:53&quot;, &quot;2023-02-14 15:02:54&quot;\n    ), lat = c(50.08558, 50.0855801666667), lon = c(4.55546933333333, \n    4.55546916666667), alt = c(196.4, 196.4)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:31:27&quot;, &quot;2023-02-14 15:31:28&quot;\n    ), lat = c(50.0856178333333, 50.085618), lon = c(4.55578316666667, \n    4.55578316666667), alt = c(196.6, 196.5)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:08:36&quot;, &quot;2023-02-14 16:08:36&quot;\n    ), lat = c(50.0856126666667, 50.0856121666667), lon = c(4.55632333333333, \n    4.556323), alt = c(196.9, 196.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:14:05&quot;, &quot;2023-02-14 16:14:06&quot;\n    ), lat = c(50.0856433333333, 50.0856431666667), lon = c(4.55659083333333, \n    4.55659083333333), alt = c(197.2, 197.2)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:07:59&quot;, &quot;2023-02-14 15:07:59&quot;\n    ), lat = c(50.0855476666667, 50.0855476666667), lon = c(4.55550666666667, \n    4.55550683333333), alt = c(195.6, 195.5)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:01:22&quot;, &quot;2023-02-14 15:01:23&quot;\n    ), lat = c(50.0855551666667, 50.0855553333333), lon = c(4.55547383333333, \n    4.55547366666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:22:51&quot;, &quot;2023-02-14 16:22:51&quot;\n    ), lat = c(50.0858058333333, 50.085806), lon = c(4.55701266666667, \n    4.557013), alt = c(197, 196.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:24:31&quot;, &quot;2023-02-14 15:24:31&quot;\n    ), lat = c(50.0856235, 50.0856235), lon = c(4.5556625, 4.5556625\n    ), alt = c(195.9, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:56:58&quot;, &quot;2023-02-14 14:56:58&quot;\n    ), lat = c(50.0855568333333, 50.0855568333333), lon = c(4.55544083333333, \n    4.55544066666667), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:27:12&quot;, &quot;2023-02-14 16:27:13&quot;\n    ), lat = c(50.0858683333333, 50.0858683333333), lon = c(4.55712366666667, \n    4.55712283333333), alt = c(196.9, 196.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:08:46&quot;, &quot;2023-02-14 15:08:47&quot;\n    ), lat = c(50.0855598333333, 50.08556), lon = c(4.55551833333333, \n    4.55551833333333), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:23:59&quot;, &quot;2023-02-14 16:23:59&quot;\n    ), lat = c(50.0858056666667, 50.0858058333333), lon = c(4.55700616666667, \n    4.55700616666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:00:58&quot;, &quot;2023-02-14 15:00:59&quot;\n    ), lat = c(50.0855675, 50.0855676666667), lon = c(4.5554855, \n    4.55548566666667), alt = c(196.5, 196.5)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:41:33&quot;, &quot;2023-02-14 15:41:33&quot;\n    ), lat = c(50.0856088333333, 50.0856093333333), lon = c(4.55588816666667, \n    4.55588816666667), alt = c(194.8, 194.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:49:17&quot;, &quot;2023-02-14 15:49:17&quot;\n    ), lat = c(50.0856085, 50.0856086666667), lon = c(4.55617033333333, \n    4.55617083333333), alt = c(197, 197)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:12:49&quot;, &quot;2023-02-14 15:12:49&quot;\n    ), lat = c(50.0855995, 50.0855993333333), lon = c(4.55548366666667, \n    4.55548383333333), alt = c(195.5, 195.5)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:00:04&quot;, &quot;2023-02-14 15:00:04&quot;\n    ), lat = c(50.0855471666667, 50.085547), lon = c(4.55546633333333, \n    4.55546633333333), alt = c(195.9, 195.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:19:51&quot;, &quot;2023-02-14 15:19:51&quot;\n    ), lat = c(50.0856081666667, 50.085608), lon = c(4.55562966666667, \n    4.5556295), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:52:49&quot;, &quot;2023-02-14 14:52:49&quot;\n    ), lat = c(50.0855915, 50.0855915), lon = c(4.5554585, 4.55545916666667\n    ), alt = c(195, 195.2)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:35:50&quot;, &quot;2023-02-14 15:35:50&quot;\n    ), lat = c(50.0855946666667, 50.0855946666667), lon = c(4.55583466666667, \n    4.55583466666667), alt = c(196.1, 196.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:42:33&quot;, &quot;2023-02-14 15:42:33&quot;\n    ), lat = c(50.0856031666667, 50.0856033333333), lon = c(4.55590166666667, \n    4.55590166666667), alt = c(195.7, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:11:28&quot;, &quot;2023-02-14 15:11:28&quot;\n    ), lat = c(50.0855835, 50.0855833333333), lon = c(4.55551433333333, \n    4.55551416666667), alt = c(196.5, 196.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:16:57&quot;, &quot;2023-02-14 15:16:57&quot;\n    ), lat = c(50.0856133333333, 50.0856135), lon = c(4.55559883333333, \n    4.55559833333333), alt = c(196.2, 196.2)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:39:07&quot;, &quot;2023-02-14 15:39:07&quot;\n    ), lat = c(50.0856143333333, 50.085614), lon = c(4.555848, \n    4.55584816666667), alt = c(195.7, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 14:54:20&quot;, &quot;2023-02-14 14:54:21&quot;\n    ), lat = c(50.085583, 50.085583), lon = c(4.555483, 4.555483\n    ), alt = c(196.1, 196.1)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:51:51&quot;, &quot;2023-02-14 15:51:51&quot;\n    ), lat = c(50.0855886666667, 50.0855881666667), lon = c(4.55624983333333, \n    4.55625066666667), alt = c(196.3, 196.3)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:04:17&quot;, &quot;2023-02-14 15:04:18&quot;\n    ), lat = c(50.0855578333333, 50.0855578333333), lon = c(4.55549733333333, \n    4.55549766666667), alt = c(195.8, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:35:09&quot;, &quot;2023-02-14 15:35:09&quot;\n    ), lat = c(50.0855715, 50.0855715), lon = c(4.5558175, 4.5558175\n    ), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:40:20&quot;, &quot;2023-02-14 15:40:21&quot;\n    ), lat = c(50.0856128333333, 50.0856131666667), lon = c(4.55587233333333, \n    4.5558725), alt = c(194.4, 194.4)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:38:24&quot;, &quot;2023-02-14 15:38:24&quot;\n    ), lat = c(50.0856028333333, 50.0856028333333), lon = c(4.5558445, \n    4.55584466666667), alt = c(195.6, 195.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:25:23&quot;, &quot;2023-02-14 16:25:24&quot;\n    ), lat = c(50.0858448333333, 50.0858445), lon = c(4.55710433333333, \n    4.55710416666667), alt = c(196.5, 196.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:34:09&quot;, &quot;2023-02-14 15:34:09&quot;\n    ), lat = c(50.0855921666667, 50.0855921666667), lon = c(4.55580083333333, \n    4.55580083333333), alt = c(195.9, 195.8)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:03:49&quot;, &quot;2023-02-14 15:03:49&quot;\n    ), lat = c(50.0855466666667, 50.0855466666667), lon = c(4.55548433333333, \n    4.55548383333333), alt = c(196, 196)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 15:28:39&quot;, &quot;2023-02-14 15:28:39&quot;\n    ), lat = c(50.0856093333333, 50.08561), lon = c(4.555721, \n    4.5557215), alt = c(195.6, 195.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:40:30&quot;, &quot;2023-02-14 16:40:30&quot;\n    ), lat = c(50.0847675, 50.0847673333333), lon = c(4.5522415, \n    4.5522415), alt = c(202.7, 202.7)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 12:36:46&quot;, &quot;2023-02-14 12:36:47&quot;\n    ), lat = c(50.0855291666667, 50.0855291666667), lon = c(4.55525866666667, \n    4.55525866666667), alt = c(197.4, 197.4)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 12:38:04&quot;, &quot;2023-02-14 12:38:05&quot;\n    ), lat = c(50.085533, 50.0855333333333), lon = c(4.55529516666667, \n    4.55529566666667), alt = c(196.8, 196.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 12:31:58&quot;, &quot;2023-02-14 12:31:59&quot;\n    ), lat = c(50.0853416666667, 50.0853415), lon = c(4.55401133333333, \n    4.554011), alt = c(197.9, 197.9)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 12:33:13&quot;, &quot;2023-02-14 12:33:14&quot;\n    ), lat = c(50.0853436666667, 50.0853445), lon = c(4.55403066666667, \n    4.55403083333333), alt = c(197.2, 197.4)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 12:29:48&quot;, &quot;2023-02-14 12:29:49&quot;\n    ), lat = c(50.0852323333333, 50.0852321666667), lon = c(4.55357316666667, \n    4.55357366666667), alt = c(198.6, 198.6)), row.names = 1:2, class = &quot;data.frame&quot;), \n    structure(list(time = c(&quot;2023-02-14 16:45:13&quot;, &quot;2023-02-14 16:45:13&quot;\n    ), lat = c(50.085568, 50.0855681666667), lon = c(4.55523516666667, \n    4.555235), alt = c(198.4, 198.3)), row.names = 1:2, class = &quot;data.frame&quot;))\n</code></pre>\n<p>Imported from different .csv files with that code:</p>\n<pre><code>filenames &lt;- list.files(pattern='*.csv', full.names=TRUE)\ndf.list &lt;- lapply(filenames, read.csv)\n\ndput(filenames)\nc(&quot;./12112.csv&quot;, &quot;./12201.csv&quot;, &quot;./12202.csv&quot;, &quot;./12203.csv&quot;, \n&quot;./12208.csv&quot;, &quot;./12209.csv&quot;, &quot;./12210.csv&quot;, &quot;./12215.csv&quot;, &quot;./12216.csv&quot;, \n&quot;./12220.csv&quot;, &quot;./12223.csv&quot;, &quot;./12225.csv&quot;, &quot;./12226.csv&quot;, &quot;./12230.csv&quot;, \n&quot;./12232.csv&quot;, &quot;./12234.csv&quot;, &quot;./12246.csv&quot;, &quot;./12248.csv&quot;, &quot;./12249.csv&quot;, \n&quot;./12251.csv&quot;, &quot;./12253.csv&quot;, &quot;./12261.csv&quot;, &quot;./12262.csv&quot;, &quot;./12267.csv&quot;, \n&quot;./12268.csv&quot;, &quot;./12269.csv&quot;, &quot;./12271.csv&quot;, &quot;./12276.csv&quot;, &quot;./12277.csv&quot;, \n&quot;./12279.csv&quot;, &quot;./12282.csv&quot;, &quot;./12283.csv&quot;, &quot;./12290.csv&quot;, &quot;./12294.csv&quot;, \n&quot;./12299.csv&quot;, &quot;./13102.csv&quot;, &quot;./13104.csv&quot;, &quot;./13106.csv&quot;, &quot;./13107.csv&quot;, \n&quot;./13108.csv&quot;, &quot;./13114.csv&quot;, &quot;./13117.csv&quot;, &quot;./13119.csv&quot;, &quot;./13121.csv&quot;, \n&quot;./13124.csv&quot;, &quot;./13125.csv&quot;, &quot;./13126.csv&quot;, &quot;./13130.csv&quot;, &quot;./13137.csv&quot;, \n&quot;./13140.csv&quot;, &quot;./13142.csv&quot;, &quot;./13147.csv&quot;, &quot;./13148.csv&quot;, &quot;./13150.csv&quot;, \n&quot;./13151.csv&quot;, &quot;./13152.csv&quot;, &quot;./13154.csv&quot;, &quot;./13157.csv&quot;, &quot;./13158.csv&quot;, \n&quot;./13162.csv&quot;, &quot;./13163.csv&quot;, &quot;./13180.csv&quot;, &quot;./13193.csv&quot;, &quot;./13197.csv&quot;, \n&quot;./13200.csv&quot;, &quot;./2206.csv&quot;, &quot;./2207.csv&quot;, &quot;./2211.csv&quot;, &quot;./2213.csv&quot;, \n&quot;./2219.csv&quot;, &quot;./2229.csv&quot;, &quot;./2235.csv&quot;, &quot;./2236.csv&quot;, &quot;./2239.csv&quot;, \n&quot;./2244.csv&quot;, &quot;./2257.csv&quot;, &quot;./2260.csv&quot;, &quot;./2264.csv&quot;, &quot;./2265.csv&quot;, \n&quot;./2266.csv&quot;, &quot;./2274.csv&quot;, &quot;./2286.csv&quot;, &quot;./2288.csv&quot;, &quot;./2289.csv&quot;, \n&quot;./2291.csv&quot;, &quot;./2298.csv&quot;, &quot;./3103.csv&quot;, &quot;./3135.csv&quot;, &quot;./3136.csv&quot;, \n&quot;./3138.csv&quot;, &quot;./3144.csv&quot;, &quot;./3149.csv&quot;, &quot;./3159.csv&quot;, &quot;./3161.csv&quot;, \n&quot;./3165.csv&quot;, &quot;./3173.csv&quot;, &quot;./3176.csv&quot;, &quot;./3177.csv&quot;, &quot;./3178.csv&quot;, \n&quot;./3181.csv&quot;, &quot;./3183.csv&quot;, &quot;./3184.csv&quot;, &quot;./3185.csv&quot;, &quot;./3188.csv&quot;, \n&quot;./3191.csv&quot;, &quot;./3199.csv&quot;, &quot;./BorneSNCB.csv&quot;, &quot;./Panneau1droit.csv&quot;, \n&quot;./Panneau1gauche.csv&quot;, &quot;./Panneau3droite.csv&quot;, &quot;./Panneau3gauche.csv&quot;, \n&quot;./Piquet0uhab.csv&quot;, &quot;./Piquetrisberme.csv&quot;)\n</code></pre>\n<p>Nevertheless the df.list does not keep the names of the CSV. hese names which are contained in the vector &quot;filenames&quot;.</p>\n<p>Therefore, I am looking for a way to use the values from &quot;filenames&quot; to name each data.frame of the list &quot;df.list&quot;\n(or a way to keep the names during the importation of the .csv files)</p>\n"
	}, {
		"tags": ["r", "encoding", "character-encoding"],
		"owner": {
			"reputation": 144,
			"user_id": 9724214,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5b99b10e33c6820ab16d80c3319d16eb?s=256&d=identicon&r=PG&f=1",
			"display_name": "jeparoff",
			"link": "https://stackoverflow.com/users/9724214/jeparoff"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676643981,
		"creation_date": 1676643981,
		"question_id": 75485509,
		"link": "https://stackoverflow.com/questions/75485509/encoding-issue-of-polish-characters",
		"title": "Encoding issue of Polish characters",
		"body": "<p>I have a data frame containing character vectors. The data I used is a web scraping output of a particular website gathered during previous year within different computers (PC). Operational system probably was the same (Windows). After I combined all pieces together into single data frame I found, that after applying of <code>gsub</code> function for instance (<code>str_replace</code> causes same issue) cause an encoding distortion, so that some of Polish characters become wrongly encoded (Figure and system specification of PC presented below). <strong>voivodeshipRaw</strong> is a raw\\original data, while <strong>voivodeshipProcessed</strong> is a character vector after applying <code>gsub()</code> (I tried to remove unusual spaces \u201c\\s+\u201d). I applied <code>Encoding</code> and <code>stri_enc_detect</code> to detect encoding. The output presented in columns: <strong>encodingType</strong> and <strong>stri_enc_detect</strong>. As you might see output differs. Cells with encoding distortions (column <strong>voivodeshipProcessed</strong> id: 4, 7, 1946505 and 1946507) have <strong>unknown</strong> encoding based on <code>Encoding</code> function and <strong>windows-1250</strong> based on <code>stri_enc_detect</code>. I tried to change encoding of such cells using following functions:</p>\n<pre><code>stri_enc_toutf8 = stri_enc_toutf8(str = voivodeshipRaw)\n\nencoding = sapply(voivodeshipRaw, function(x){\n      Encoding(x) &lt;- &quot;UTF-8&quot;\n      return(x)\n      })\n\niconv = iconv(voivodeshipRaw, from = &quot;windows-1250&quot;, to = &quot;utf-8&quot;)\n</code></pre>\n<p>The output presented in Figure below. A you might see distortions still exist.</p>\n<p><code>charToRaw()</code> output for <strong>voivodeshipRaw</strong> column in figure below (raw data, \u015bl\u0105skie voivodeship, id: 1946504 and 1946505) without and with an encoding issue:</p>\n<pre><code># id: 1946504 -&gt; proper encoding\nc5 9b 6c c4 85 73 6b 69 65\n\n# id: 1946505 -&gt; wrong encoding\n9c 6c b9 73 6b 69 65\n</code></pre>\n<p><strong>My question</strong> is how could I avoid such encoding distortions after applying <code>gsub</code>, <code>str</code> or <code>stri</code> functions?</p>\n<p><strong>Figure</strong>\n<a href=\"https://i.stack.imgur.com/pyCVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pyCVp.png\" alt=\"enter image description here\" /></a></p>\n<p>System specification:</p>\n<pre><code>sessionInfo()\n# R version 4.1.1 (2021-08-10)\n# Platform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 19045)\n\nlocale:\n[1] LC_COLLATE=Polish_Poland.1250  LC_CTYPE=Polish_Poland.1250    LC_MONETARY=Polish_Poland.1250 LC_NUMERIC=C                   LC_TIME=Polish_Poland.1250    \nsystem code page: 1251\n</code></pre>\n"
	}, {
		"tags": ["r", "raster", "netcdf"],
		"owner": {
			"reputation": 1,
			"user_id": 20296051,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/ALm5wu0cNEGNiB5bo2BW9OkrGyprXX24jBh3r8AIEHlY=k-s256",
			"display_name": "C&#233;sar Carvallo",
			"link": "https://stackoverflow.com/users/20296051/c%c3%a9sar-carvallo"
		},
		"is_answered": false,
		"view_count": 32,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676643727,
		"creation_date": 1676589369,
		"last_edit_date": 1676643727,
		"question_id": 75478863,
		"link": "https://stackoverflow.com/questions/75478863/extract-cmip6-information-with-r",
		"title": "Extract CMIP6 information with R",
		"body": "<p>I'm doing a research about climate change and I want to extract the CMIP6 information using R but I don't get the results I want. This is the code.</p>\n<pre><code>library(raster)\nlibrary(ncdf4)\nlong_lat &lt;- read.csv(&quot;C:/Users/USUARIO/Desktop/Tesis/Coordenadas - copia.csv&quot;, header = T)\nraster_pp &lt;- raster::brick(&quot;pr_day_ACCESS-CM2_historical_r1i1p1f1_gn_2000.nc&quot;)\nsp::coordinates(long_lat) &lt;- ~XX+YY\nraster::projection(long_lat) &lt;- raster::projection(raster_pp)\npoints_long_lat &lt;- raster::extract(raster_pp[[1]], long_lat, cellnumbers = T)[,1]\ndata_long_lat &lt;- t(raster_pp[points_long_lat])\n</code></pre>\n<p>The cordinates I've used are the following: -77.7754,-9.5352 (latitude, longitude), but I've tried these as well and still doesn't work 102.2246,-9.5352. Thanks for your response.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "sf"],
		"owner": {
			"reputation": 155,
			"user_id": 8075564,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/54f086c99bf5bb4ae1531b0e2c7a19a0?s=256&d=identicon&r=PG&f=1",
			"display_name": "Bruno Conte Leite",
			"link": "https://stackoverflow.com/users/8075564/bruno-conte-leite"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75485394,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676643513,
		"creation_date": 1676641327,
		"question_id": 75485057,
		"link": "https://stackoverflow.com/questions/75485057/ggplot-and-sf-category-by-color",
		"title": "ggplot and sf - category by color",
		"body": "<p>when plotting this very simple <code>sf</code> multipoint feature</p>\n<pre><code>gm.multipoints &lt;- st_multipoint(rbind(\n  c(0.1, 51.5),\n  c(11.3, 44.4),\n  c(-3.7, 40.4),\n  c(2.3, 48.8)\n))\n\ndf.attr &lt;- data.frame(\n  name = c('London', 'Bologna', 'Madrid', 'Paris'),\n  temperature = c(21,31,29,25),\n  language = c('English', 'Italian', 'Spanish', 'French')\n)\n\ngmsf.multipoint &lt;- st_sf(df.attr,geometry = st_sfc(gm.multipoints,crs = 'EPSG:4326'))\n</code></pre>\n<p>with <code>ggplot</code> as</p>\n<pre><code>ggplot(gmsf.multipoint) +\n  geom_sf(aes(color=name))\n</code></pre>\n<p>I get the same color for all cities as in the attached figure. Why isn't each city colored differently?</p>\n<p><a href=\"https://i.stack.imgur.com/H8DBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H8DBZ.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "validation", "cluster-analysis"],
		"owner": {
			"reputation": 177,
			"user_id": 15917305,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=256",
			"display_name": "EB3112",
			"link": "https://stackoverflow.com/users/15917305/eb3112"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676643474,
		"creation_date": 1676640875,
		"last_edit_date": 1676643474,
		"question_id": 75484983,
		"link": "https://stackoverflow.com/questions/75484983/external-cluster-validation-categorical-data-r",
		"title": "External Cluster Validation - Categorical Data R",
		"body": "<p>I've recently been attempting to evaluate output from k-modes (a cluster label), relative to a so-called True cluster label (labelled 'class' below).</p>\n<p>In other words: I've been attempting to external validate the clustering output. However, when I tried external validation measures from the 'fpc' package, I was unsuccessful (error term posted below script).</p>\n<p>I've attached my code for the mushroom dataset. I would appreciate if anyone could show me how to successful execute these external validation measures in the context of categorical data.</p>\n<p>Any help appreciated.</p>\n<pre><code>\n# LIBRARIES \n\ninstall.packages('klaR')\ninstall.packages('fpc')\n\nlibrary(klaR)\nlibrary(fpc)\n\n#MUSHROOM DATA\n\nmushrooms &lt;- read.csv(file = &quot;https://raw.githubusercontent.com/miachen410/Mushrooms/master/mushrooms.csv&quot;, header = FALSE)\n\nnames(mushrooms) &lt;- c(&quot;edibility&quot;, &quot;cap-shape&quot;, &quot;cap-surface&quot;, &quot;cap-color&quot;, \n                      &quot;bruises&quot;, &quot;odor&quot;, &quot;gill-attachment&quot;, &quot;gill-spacing&quot;, \n                      &quot;gill-size&quot;, &quot;gill-color&quot;, &quot;stalk-shape&quot;, &quot;stalk-root&quot;,\n                      &quot;stalk-surface-above-ring&quot;, &quot;stalk-surface-below-ring&quot;, \n                      &quot;stalk-color-above-ring&quot;, &quot;stalk-color-below-ring&quot;, &quot;veil-type&quot;, \n                      &quot;veil-color&quot;, &quot;ring-number&quot;, &quot;ring-type&quot;, &quot;spore-print-color&quot;, \n                      &quot;population&quot;, &quot;habitat&quot;)\n\nnames(mushrooms)[names(mushrooms)==&quot;edibility&quot;] &lt;- &quot;class&quot;\n\nindexes &lt;- apply(mushrooms, 2, function(x) any(is.na(x) | is.infinite(x)))\n\ncolnames(mushrooms)[indexes]\ntable(mushrooms$class)\nstr(mushrooms)\n\n#REMOVING CLASS VARIABLE\n\nmushroom.df &lt;- subset(mushrooms, select = -c(class))\n\n#KMODES ANALYSIS\n\nresult.kmode &lt;- kmodes(mushroom.df, 2, iter.max = 50, weighted = FALSE)\n\n#EXTERNAL VALIDATION ATTEMPT\n\nmushrooms$class &lt;- as.factor(mushrooms$class)\nclass &lt;- as.numeric(mushrooms$class))\nclust_stats &lt;- cluster.stats(d = dist(mushroom.df), \n                             class, result.kmode$cluster)\n\n#ERROR TERM \n\nError in silhouette.default(clustering, dmatrix = dmat) : \n  NA/NaN/Inf in foreign function call (arg 1)\nIn addition: Warning message:\nIn dist(mushroom.df) : NAs introduced by coercion\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "hover", "tooltip", "dashboard"],
		"owner": {
			"reputation": 3,
			"user_id": 20041720,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2b84fa768286bee3bd3dff5b339468de?s=256&d=identicon&r=PG",
			"display_name": "Mike",
			"link": "https://stackoverflow.com/users/20041720/mike"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676643004,
		"creation_date": 1676643004,
		"question_id": 75485340,
		"link": "https://stackoverflow.com/questions/75485340/on-hover-tooltip-on-mouse-hover-at-geom-label-repel-label",
		"title": "On hover tooltip on mouse hover at geom_label_repel() label",
		"body": "<p>My plots in shiny dashboard use geom_label_repel() to repel overlapped labels.\nI whant show information on mouse hover over this labels - brand name.\nPlotly package can`t support geom_label_repel() labels, so I using this snippet to solve:</p>\n<p><a href=\"https://www.stackoverflow.com/\">https://gitlab.com/-/snippets/16220\n</a></p>\n<p>My plots are like this:</p>\n<pre><code>ggplot(reactive1(), aes(wave, value, group = brand, color = brand)) +\n               geom_point() +\n               geom_path() +\n               geom_label_repel(reactive1(),\n                                mapping=aes(wave, value, group = brand, color = brand, label = sig),\n                                ...\n)\n\n\nggplot(reactive2(), aes(wave, value, group = brand, color = brand)) +\n               geom_point() +\n               geom_path() +\n               geom_label_repel(reactive2(),\n                                mapping=aes(wave, value, group = brand, color = brand, label = sig),\n                                ...\n)\n\n\n</code></pre>\n<p>and so on...</p>\n<p>ui.R</p>\n<pre><code>div(\n style = &quot;position:relative&quot;,\n\n withSpinner(\n  plotOutput(&quot;plot_x&quot;,\n   height = &quot;600px&quot;, \n   hover = hoverOpts(id = &quot;plot_hover&quot;, delay = 50)\n  ),\n                                                                                      \n ),\nuiOutput(&quot;dynamic&quot;)\n)\n</code></pre>\n<p>each plot have own reactive dataset in server.R.</p>\n<pre><code>     reactive1 &lt;-  reactive({\n          \n          current_data_list &lt;- cb_a\n          \n          combo_name &lt;- &quot;cb_a&quot;\n          \n          \n          res &lt;- calculate_data(input, output, session, current_data_list, combo_name)\n          res\n          \n     })\n\n</code></pre>\n<p>res =\n| wave | brand | value | sig  |\n| -------- | -------- | -------- | -------- |\n| Cell 1   | Cell 2   | Cell 3   | Cell 4   |</p>\n<p>so snippet works ok with</p>\n<pre><code>     output$dynamic &lt;- renderUI({\n          renderUI({\n               hover &lt;- input$plot_hover\n               point &lt;- nearPoints(reactive1(), hover, threshold = 5, maxpoints = 1, addDist = TRUE)\n.\n.\n.\n</code></pre>\n<p>My main problem is tooltip shown over geom_point() hover. I need over geom_label_repel() label hover.</p>\n<p>My second problem is reactive datasets. How to pass correct reactive2() dataset into output$dynamic nearPoints() for plot_x2?</p>\n<p>Tryed</p>\n<pre><code>output$plot_x &lt;-   renderPlot({\n gglpot()\n current_plot &lt;- reactive1()\n})\n</code></pre>\n<p>and</p>\n<pre><code>     output$dynamic &lt;- renderUI({\n          renderUI({\n               hover &lt;- input$plot_hover\n               point &lt;- nearPoints(current_plot, hover, threshold = 5, maxpoints = 1, addDist = TRUE)\n</code></pre>\n<p>with no effect</p>\n<p>and tryed a plotly package over ggplot(). With &quot;geom_label_repel() is not supported&quot; error.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 2887,
			"user_id": 4224718,
			"user_type": "registered",
			"accept_rate": 91,
			"profile_image": "https://i.stack.imgur.com/0zvNV.jpg?s=256&g=1",
			"display_name": "M. Beausoleil",
			"link": "https://stackoverflow.com/users/4224718/m-beausoleil"
		},
		"is_answered": true,
		"view_count": 2503,
		"down_vote_count": 0,
		"up_vote_count": 6,
		"accepted_answer_id": 33962358,
		"answer_count": 1,
		"score": 6,
		"last_activity_date": 1676642822,
		"creation_date": 1448645034,
		"last_edit_date": 1676642822,
		"question_id": 33962234,
		"link": "https://stackoverflow.com/questions/33962234/difference-between-setting-aes-in-ggplot-function-or-in-a-geom",
		"title": "Difference between setting aes in ggplot function or in a geom?",
		"body": "<p>I wonder how it's working to set aesthetics in <code>ggplot</code>. How it's possible to know where to put the <code>aes</code> in <code>ggplot</code>?</p>\n<p>Consider this code:</p>\n<pre><code>p &lt;- ggplot(data = mtcars, \n            mapping = aes(x = wt, \n                          y = mpg, \n                          colour = &quot;blue&quot;))\n# A basic scatter plot\nhello = p + geom_point(size = 4) + ggtitle(label = 'Hello')\ngoodbye = p + geom_point(aes(colour = factor(cyl)), size = 4)  + ggtitle(label = 'Goodbye')\ncol.points = p + geom_point(size = 4, color = &quot;blue&quot;) + ggtitle(label = 'Col.points')\n\ngridExtra::grid.arrange(hello, goodbye, col.points)\n</code></pre>\n<p>Here, it's possible to see that the colour &quot;blue&quot; is not applied to the points in the first graph (hello), and in the second (goodbye) it's getting the colour from a column. But what's the difference? The col.points example shows that the points are indeed coloured.</p>\n<p><a href=\"https://i.stack.imgur.com/Quceh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Quceh.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "resampling", "statistics-bootstrap", "mlr3"],
		"owner": {
			"reputation": 1,
			"user_id": 7693570,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/87fc6f337395bbb7d4549d91babf823b?s=256&d=identicon&r=PG&f=1",
			"display_name": "Hugh Graham",
			"link": "https://stackoverflow.com/users/7693570/hugh-graham"
		},
		"is_answered": false,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676642735,
		"creation_date": 1676628764,
		"last_edit_date": 1676642735,
		"question_id": 75482882,
		"link": "https://stackoverflow.com/questions/75482882/bootstrap-resampling-for-stacked-ensemble-leaner-with-mlr3-in-r",
		"title": "Bootstrap resampling for stacked/ensemble leaner with mlr3 in R",
		"body": "<p>So I'm trying to generate bootstrapped resamples for an ensemble model which throws an error. This seems to result from the duplication of <code>row_ids</code>; I suppose these duplicate rows should be expected due to the resampling with replacement but I'm not sure why this fails in the ensemble context but not with a single learner.</p>\n<p>Please see below for a reprex.</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(mlr3)\nlibrary(mlr3learners)\nlibrary(mlr3pipelines)\nlibrary(progressr)\nlgr::get_logger(&quot;mlr3&quot;)$set_threshold(&quot;warn&quot;)\n\nens.lrnr &lt;- gunion(list(\n  po(&quot;learner_cv&quot;,lrn(&quot;regr.lm&quot;)), \n  po(&quot;learner_cv&quot;,lrn(&quot;regr.rpart&quot;)))) %&gt;&gt;%\n  po(&quot;featureunion&quot;) %&gt;&gt;% \n  lrn(&quot;regr.lm&quot;, id=&quot;master&quot;) |&gt; \n  as_learner()\n\ntask &lt;- tsk(&quot;boston_housing&quot;)\ntask$select(task$feature_names[! task$feature_names %in% &quot;town&quot;])\n\nboot_res &lt;- function(.lrnr) {\n  progressr::with_progress(expr = {\n    mlr3::resample(\n      task = task,\n      learner = .lrnr,\n      resampling = rsmp(&quot;bootstrap&quot;, repeats = 100, ratio = 1), \n      store_models = FALSE\n    )\n  })\n}\n\n# single learner works\nrpart_boot &lt;- boot_res(lrn(&quot;regr.rpart&quot;))\n\n#ensemble learner fails\nens_boot &lt;- boot_res(ens.lrnr)\n#&gt; Error in as_data_backend.data.frame(data, primary_key = row_ids):   \n#&gt;  Assertion on 'data[[primary_key]]' failed: Contains duplicated \n#&gt;values, position 8.\n#&gt; This happened PipeOp regr.lm's $train()\n</code></pre>\n<p><sup>Created on 2023-02-17 with <a href=\"https://reprex.tidyverse.org\" rel=\"nofollow noreferrer\">reprex v2.0.2</a></sup></p>\n"
	}, {
		"tags": ["r", "mutate"],
		"owner": {
			"reputation": 1,
			"user_id": 21072729,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/556387f1f05615c03d96d1984be4a6aa?s=256&d=identicon&r=PG",
			"display_name": "Wisam_Saeed",
			"link": "https://stackoverflow.com/users/21072729/wisam-saeed"
		},
		"is_answered": false,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676642606,
		"creation_date": 1676640416,
		"last_edit_date": 1676642606,
		"question_id": 75484902,
		"link": "https://stackoverflow.com/questions/75484902/error-in-mutate-%e2%84%b9-in-argument-non-numeric-argument-to-binary-operator",
		"title": "Error in `mutate()`: \u2139 In argument - non-numeric argument to binary operator",
		"body": "<p>I am a beginner in R , I am trying to find the multiply (product price) column by (purchase price) in a new column name ( total ) , but I get an error when run the following :</p>\n<pre><code>new_test_import &lt;- read_csv(&quot;test_import.csv&quot;)\n\nhead(new_test_import)\n\nstr(new_test_import)\n\ncolnames(new_test_import)\n\ntotal_price &lt;- select (new_test_import , &quot;product&quot; , &quot;product_price&quot; , &quot;purchase_price&quot;)\n\nmutate(total_price, total = product_price * purchase_price)\n</code></pre>\n<hr />\n<blockquote>\n<p>cols( product_price = col_character(),    purchase_price =\ncol_character()</p>\n</blockquote>\n<pre><code>Error in `mutate()`:\n`**\u2139 In argument: `total = product_price * purchase_price`.\nCaused by error in `product_price * purchase_price`:\n! non-numeric argument to binary operator***\n\nBacktrace:    \n`1. dplyr::mutate(total_price, total = product_price * purchase_price)    \n 2. dplyr:::mutate.data.frame(total_price, total = product_price * purchase_price)    \n 3. dplyr:::mutate_cols(.data, dplyr_quosures(...), by)    \n 5. dplyr:::mutate_col(dots[[i]], data, mask, new_columns)    \n 6. mask$eval_all_mutate(quo)    \n 7. dplyr (local) eval()    \n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 13,
			"user_id": 12451136,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/86a1d50a3607b9ae58f85cad0922f6be?s=256&d=identicon&r=PG&f=1",
			"display_name": "A.F.R.S2022",
			"link": "https://stackoverflow.com/users/12451136/a-f-r-s2022"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676640899,
		"creation_date": 1676640899,
		"question_id": 75484987,
		"link": "https://stackoverflow.com/questions/75484987/extracting-the-weight-that-maximize-my-function-r-code",
		"title": "extracting the weight that maximize my function- R code",
		"body": "<p>I am calculating a quantile regression for a 99 sequence tau=.01,..., .99. I am doing this process for 1000 different response(y), where y_it = w^T_i  *  r_t. where i=1,...,1000</p>\n<p>For instance for tau=.01 I will have 1000 quantile each quantile correspond to different y</p>\n<p>So in total I will have a matrix of 1000x99, each column correspond to a specific tau values,   my code as follows:</p>\n<pre><code>#this is to calculate y observations \nall_yts1 &lt;- matrix(nrow = nrow(return) ,\n                   ncol = 1000 )\nfor( i in 1:1000){\n  all_yts1[,i]&lt;-rowSums(all_wts1[i,] * return) } \n\n###calculate quantile matrix \n\ntau=seq(0.01,.99,by=.01)\nquant.matrix.reg3&lt;- matrix(nrow = np1 ,ncol = length(tau) )\nfor( i in 1:np1){\n  quant.matrix.reg3[i,]&lt;- rq(all_yts1[,i][-1]~ x.reg[,3], tau)$rho\n  colnames(quant.matrix.reg3)&lt;- tau\n}\n</code></pre>\n<p>I am using rho values in the code because my next step is to allocate the row that contains the maximum quantile value from each column as follows:</p>\n<pre><code>opt.w3.alltaus=matrix(ncol = length(tau) )\nfor(j in 1: length(tau)){\n  opt.w3.alltaus[,j]=which( quant.matrix.reg3[,j]== max(quant.matrix.reg3[,j]),arr.ind = T) \n}\n</code></pre>\n<p>So I am expecting to allocate a 99 row numbers. for example, for tau=.01  the row that contains the maximum value is row 577. ( this what the codes tells me )</p>\n<p>As a final step, since y_it= w^T_i  *  r_t.  I want to extract the w values that lying in the row 577 , is there anyway to do that rather than do it manually , because extracting 99 w values will be a time consuming especially if you are doing this process for several regressors.</p>\n<p>Any advice to improve my code will be appreciated</p>\n<p>Thanks</p>\n"
	}, {
		"tags": ["r", "plm", "linearhypothesis"],
		"owner": {
			"reputation": 21,
			"user_id": 20652865,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1b50dc6e861b704db6d4ad95286ef641?s=256&d=identicon&r=PG&f=1",
			"display_name": "AKJ",
			"link": "https://stackoverflow.com/users/20652865/akj"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676640774,
		"creation_date": 1676509708,
		"last_edit_date": 1676638826,
		"question_id": 75466892,
		"link": "https://stackoverflow.com/questions/75466892/robust-f-test-with-plm-regression-in-r",
		"title": "Robust F Test with PLM regression in R",
		"body": "<p>I'm trying to run a robust F-Test using a PLM object in R. I'm running the following code:</p>\n<pre><code>library('wooldridge')\ndata(wagepan,package='wooldridge')\nlibrary('plm')\npdata&lt;-pdata.frame(wagepan,index=c(&quot;nr&quot;,&quot;year&quot;))\nfdreg&lt;-plm(lwage~educ*(d81+d82+d83+d84+d85+d86+d87)+union,data=pdata,model=&quot;fd&quot;)\nsummary(fdreg)\nlibrary('car')\nH0&lt;-matchCoefs(fdreg,&quot;educ&quot;)\nlinearHypothesis(fdreg,H0)\nlinearHypothesis(fdreg,H0,vcov=vcovHC(fdreg,&quot;HC1&quot;))\n</code></pre>\n<p>I'm getting the following error message:</p>\n<pre><code>'arg' should be one of \u201carellano\u201d, \u201cwhite1\u201d, \u201cwhite2\u201d\n</code></pre>\n<p>Can anyone help me with this?</p>\n"
	}, {
		"tags": ["sql", "r", "jupyter-notebook", "jupyter", "jupyter-irkernel"],
		"owner": {
			"reputation": 2998,
			"user_id": 11932936,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e37dbd046a4a4abd5eb7e39a938e75bb?s=256&d=identicon&r=PG&f=1",
			"display_name": "shs",
			"link": "https://stackoverflow.com/users/11932936/shs"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676640739,
		"creation_date": 1676640739,
		"question_id": 75484948,
		"link": "https://stackoverflow.com/questions/75484948/sql-cells-with-r-kernel-in-jupyter",
		"title": "SQL cells with R kernel in Jupyter",
		"body": "<p>In a Jupyter notebook you can use an <code>R</code> kernel through <code>IRkernel</code>. It works fine, but with a <code>Python</code> kernel you can mix in other languages like <code>SQL</code> using <code>ipython-sql</code>. This is possible for <code>R</code> in <code>Rmarkdown</code>, where you can have <code>SQL</code> chunks and hand the result off to an <code>R</code> variable for further analysis.</p>\n<p><strong>Question</strong>:</p>\n<p>Is it possible to have <code>SQL</code> cells in <code>Jupyter</code> with an <code>R</code> kernel, like it is for a <code>Python</code> kernel in <code>Jupyter</code> and for <code>R</code> in <code>Rmarkdown</code>?</p>\n"
	}, {
		"tags": ["r", "flextable", "gt"],
		"owner": {
			"reputation": 117,
			"user_id": 11599214,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-MlMPpLIbM-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcX9dJv6BqUK3S1FGEWQCvMwF8Gg/mo/photo.jpg?sz=256",
			"display_name": "Klaus Peter",
			"link": "https://stackoverflow.com/users/11599214/klaus-peter"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75484706,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676640620,
		"creation_date": 1676633966,
		"question_id": 75483833,
		"link": "https://stackoverflow.com/questions/75483833/presentation-of-calculated-data-within-a-table-omitting-the-value-of-the-respect",
		"title": "Presentation of calculated data within a table omitting the value of the respective column",
		"body": "<p>Apologies for the awkward title; I hope it becomes clear soon.</p>\n<p>I have data like this: People are attributed to specific Locations, and it has been recorded whether an event has been successful or the data is missing.</p>\n<pre><code>df &lt;- data.frame(PersonID = c(1:20),\n                 Location = c(&quot;B&quot;,&quot;A&quot;,&quot;D&quot;,&quot;C&quot;,&quot;A&quot;,&quot;D&quot;,&quot;C&quot;,&quot;D&quot;,&quot;A&quot;,&quot;D&quot;,&quot;B&quot;,&quot;A&quot;,&quot;D&quot;,&quot;C&quot;,&quot;A&quot;,&quot;D&quot;,&quot;C&quot;,&quot;D&quot;,&quot;A&quot;,&quot;D&quot;),\n                 Success = c(&quot;yes&quot;,&quot;no&quot;,&quot;yes&quot;,NA,&quot;yes&quot;,&quot;no&quot;,&quot;no&quot;,&quot;yes&quot;,NA,&quot;yes&quot;,&quot;no&quot;,&quot;yes&quot;,NA,&quot;yes&quot;,&quot;no&quot;,&quot;no&quot;,&quot;yes&quot;,NA,&quot;yes&quot;,&quot;no&quot;))\n</code></pre>\n<p>I would like to know how each location &quot;performs&quot; relative to the other locations, i. e. how many valid attempts have been successful and how the location's rate of success compares to the other locations.</p>\n<p>So in my example, location &quot;A&quot; has seen 5 valid attempts (1 &quot;NA&quot;), of which 3 were successful (60%). The other locations have a success rate of 50%, 66.7%, and 50%, an average of 55.6%. Location A is thus 4.4 percentage points higher than the other locations' average. I want to display all that information in a table just like this:</p>\n<p><a href=\"https://i.stack.imgur.com/UZYA0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UZYA0.png\" alt=\"table\" /></a></p>\n<p>I don't have a specific preference regarding packages, but I like and know some <code>gt</code> and <code>flextable</code>. Alas, not enough to implement this \u2026</p>\n<p>Thank you all in advance!</p>\n"
	}, {
		"tags": ["css", "r", "shiny", "datatable"],
		"owner": {
			"reputation": 1091,
			"user_id": 10915988,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fba3c0dbd3412cdc6d7098a47a656d03?s=256&d=identicon&r=PG&f=1",
			"display_name": "TobKel",
			"link": "https://stackoverflow.com/users/10915988/tobkel"
		},
		"is_answered": true,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75484930,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676640608,
		"creation_date": 1676639501,
		"question_id": 75484753,
		"link": "https://stackoverflow.com/questions/75484753/r-datatable-disable-highlighting-row-on-cklick",
		"title": "R DataTable disable highlighting row on cklick",
		"body": "<p>I have a datatable in a shiny web app.\nHowever, the default setting for datatable is that a line is highlighted in blue if it is clicked.\nI would like to disable this option. It should no longer be highlighted in color.</p>\n<p>This problem has already been discussed here a few years ago:<br />\n<a href=\"https://stackoverflow.com/questions/44967894/r-shiny-datatable-selected-row-color\">R Shiny DataTable selected row color</a></p>\n<p>Apparently, however, the css / javascript command has changed. Now, it seems to be <code>box-shadow</code>:<br />\n<a href=\"https://datatables.net/forums/discussion/comment/208770\" rel=\"nofollow noreferrer\">https://datatables.net/forums/discussion/comment/208770</a></p>\n<p>However, I do not get this new option implemented in my example.<br />\nCan anyone help me?</p>\n<p><a href=\"https://i.stack.imgur.com/ciin6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ciin6.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my reproducible example:</p>\n<pre><code>library(ggplot2)\nlibrary(shiny)\n\nui &lt;- fluidPage(\n  titlePanel(&quot;Basic DataTable&quot;),\n  \n  fluidRow(\n    column(4,\n           selectInput(&quot;man&quot;,\n                       &quot;Manufacturer:&quot;,\n                       c(&quot;All&quot;,\n                         unique(as.character(mpg$manufacturer))))\n    ),\n    column(4,\n           selectInput(&quot;trans&quot;,\n                       &quot;Transmission:&quot;,\n                       c(&quot;All&quot;,\n                         unique(as.character(mpg$trans))))\n    ),\n    column(4,\n           selectInput(&quot;cyl&quot;,\n                       &quot;Cylinders:&quot;,\n                       c(&quot;All&quot;,\n                         unique(as.character(mpg$cyl))))\n    )\n  ),\n  DT::dataTableOutput(&quot;table&quot;)\n)\n\nserver &lt;- function(input, output) {\n  \n  output$table &lt;- DT::renderDataTable(DT::datatable({\n    data &lt;- mpg\n    if (input$man != &quot;All&quot;) {\n      data &lt;- data[data$manufacturer == input$man,]\n    }\n    if (input$cyl != &quot;All&quot;) {\n      data &lt;- data[data$cyl == input$cyl,]\n    }\n    if (input$trans != &quot;All&quot;) {\n      data &lt;- data[data$trans == input$trans,]\n    }\n    data\n  }))\n  \n}\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "significance", "dunn.test"],
		"owner": {
			"reputation": 49,
			"user_id": 12890863,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/2570343623233578/picture?type=large",
			"display_name": "Roma JC",
			"link": "https://stackoverflow.com/users/12890863/roma-jc"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 0,
		"score": 2,
		"last_activity_date": 1676640461,
		"creation_date": 1676640461,
		"question_id": 75484907,
		"link": "https://stackoverflow.com/questions/75484907/is-there-a-way-to-place-significance-results-in-my-ggplot",
		"title": "is there a way to place significance results in my ggplot?",
		"body": "<p>I'm looking for a way to place my dunn's test results on my ggplot:</p>\n<ul>\n<li><p>either directly by somehow implementing the necessary code lines on the plot regarding the results of the dunn test</p>\n</li>\n<li><p>or indirectly by placing just the letters regarding significance by the order in which i know they appear</p>\n</li>\n</ul>\n<p>In the example graphic I attached, I put in the letters myself through a 2nd party drawing software, to give you an idea of what I'm looking for - ideally i would want the lower case letters to represent significant differences only within the same variable called &quot;<strong>type</strong>&quot; but a different &quot;<strong>day</strong>&quot; and capitals for the opposite. I do however recognize this is a tall order, and would be happy with just the differences within the same <strong>type</strong>.\n<a href=\"https://i.stack.imgur.com/73tn9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73tn9.png\" alt=\"example\" /></a></p>\n<p>here is my dput and str:</p>\n<pre><code>&gt; dput(table5)\nstructure(list(day = c(&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 00&quot;, &quot;day 00&quot;, \n&quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 00&quot;, &quot;day 07&quot;, \n&quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, &quot;day 07&quot;, \n&quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, &quot;day 14&quot;, \n&quot;day 14&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, &quot;day 21&quot;, \n&quot;day 21&quot;, &quot;day 21&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;, \n&quot;day 28&quot;, &quot;day 28&quot;, &quot;day 28&quot;), type = c(&quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, \n&quot;control&quot;, &quot;control&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, \n&quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, \n&quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, \n&quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, \n&quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, \n&quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, &quot;nZn1_&quot;, \n&quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, \n&quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, \n&quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, \n&quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, \n&quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, \n&quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn10_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, \n&quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;nZn100_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, \n&quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, \n&quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, \n&quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, \n&quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, \n&quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn1_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, \n&quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, \n&quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, \n&quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, \n&quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, \n&quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, &quot;Zn10_&quot;, \n&quot;Zn10_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, \n&quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, \n&quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, \n&quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, \n&quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, \n&quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;, &quot;Zn100_&quot;), \n    TAC = c(0.0134723395589115, 0.0161888871061509, 0.0146337654145718, \n    0.0153067871292595, 0.012800314735395, 0.0160841665978896, \n    0.0140621616691814, 0.0135425580967982, 0.0132198270328205, \n    0.0138496077219653, 0.0135775493518084, 0.0126333962864469, \n    0.0164821881641534, 0.0132516331108305, 0.0157791571175251, \n    0.0129960024291699, 0.0146323678504021, 0.0134451215151322, \n    0.0143262838325461, 0.0153573779185249, 0.0139773746147923, \n    0.0159350865128266, 0.0156720782857077, 0.0155096081292032, \n    0.013476349735956, 0.0140104181996115, 0.0129878390010014, \n    0.0147239859165112, 0.015160930718777, 0.0148955399340424, \n    0.013274378116328, 0.0153663044374496, 0.0145472559523844, \n    0.0132898660703847, 0.0139871399975842, 0.0124985111701027, \n    0.0149240276338179, 0.0129573902698069, 0.0147729343794709, \n    0.0128674264777598, 0.0147815872982594, 0.0139767796824041, \n    0.0144185398405766, 0.0155799146991459, 0.0135417909851351, \n    0.015988596586438, 0.0139603963976125, 0.0126397298299191, \n    0.013297964384596, 0.012347536157165, 0.0152573470818857, \n    0.0136566619097667, 0.0125192707022401, 0.0141156296691061, \n    0.0139603724286662, 0.0141388938152221, 0.0127749097766803, \n    0.0142082519110294, 0.0149398326676766, 0.0143207529313558, \n    0.0144381103787128, 0.0149147414885484, 0.0139224295866318, \n    0.0161358891403436, 0.0151690152511571, 0.0120945286936824, \n    0.0153132383654698, 0.0131770823852777, 0.0136750345235747, \n    0.0129352436377984, 0.0162120454010317, 0.0155409171425954, \n    0.0135940425474181, 0.0142951343511937, 0.0143779323175896, \n    0.0136891451722703, 0.0140286347004686, 0.0122667606250391, \n    0.0152446224172418, 0.013442306549535, 0.0129068996979612, \n    0.0147404146947943, 0.013688825582269, 0.0130193063055386, \n    0.01285971255513, 0.0151660181611206, 0.0138280467330508, \n    0.0135147736966651, 0.0158580706409006, 0.0149366602534351, \n    0.0106554950909403, 0.0179654260106192, 0.0120425346368713, \n    0.0145387164119486, 0.0139546280207597, 0.0121871897075845, \n    0.0150418870034593, 0.0148117380734173, 0.0139690179111281, \n    0.0170751257982307, 0.0129661477952429, 0.0144612227917873, \n    0.0146065893466387, 0.0126241343210384, 0.0170751257982307, \n    0.0130964557093226, 0.0134570968344701, 0.0165480203562944, \n    0.0151921149184481, 0.0130666062376204, 0.012722050697886, \n    0.0155582048904096, 0.0125288074742436, 0.016985639190516, \n    0.0176528351294189, 0.0138432089287227, 0.013890319218671, \n    0.017035215335001, 0.0168839977227436, 0.0133203267470888, \n    0.013892777179513, 0.0155216139064973, 0.0130076218759369, \n    0.013903958340264, 0.0135000204009635, 0.0148519977852621, \n    0.0153029154169557, 0.0141832966293512, 0.0176005510379328, \n    0.0180687740940438, 0.0177789446952697, 0.0182099087520794, \n    0.0184723827329167, 0.022483746075728, 0.0196648164641345, \n    0.0170131886149416, 0.0215058343136062, 0.0211259597744559, \n    0.0196373761289472, 0.0206737739206, 0.020532594441278, 0.0193494766153245, \n    0.0211617300063814, 0.0213333413267872, 0.0202163436360403, \n    0.0236752367085596, 0.0231873026647459, 0.0228522660496144, \n    0.0238366734630018, 0.0264524093818515, 0.0268093919646026, \n    0.0252668406573153, 0.0258403852690662, 0.0223986018317785, \n    0.0272147558779617, 0.0225116847733454, 0.0247724813762193, \n    0.022691182948792, 0.0235805783268122, 0.0270689051186104, \n    0.0126334908832258, 0.0164665820507107, 0.0129386884401034, \n    0.0119158011756844, 0.0130928729787235, 0.0149940706645974, \n    0.0129535502638655, 0.0162831996423606, 0.0176755444192191, \n    0.0161755659998132, 0.0174173101524856, 0.0155714069341957, \n    0.01433383826834, 0.0143819293817603, 0.0185494616259894, \n    0.0140319779691521, 0.0144114680062016, 0.0174497227904159, \n    0.0180907703704672, 0.0157478259355293, 0.0158958906812569, \n    0.0147163839619763, 0.0146701443994308, 0.0180369287296324, \n    0.0149336258279806, 0.0186097801562105, 0.0137231521985133, \n    0.0153650910635747, 0.0138998273293687, 0.0155199902217533, \n    0.0163903022171882, 0.015754928008943, 0.0171808546793322, \n    0.0154244829039175, 0.0134954450270778, 0.0147187179502944, \n    0.0160939056001929, 0.0145497150558122, 0.0154571534643691, \n    0.015511148172344, 0.0132885919777709, 0.0138910418368534, \n    0.0152496449072613, 0.0132820365830201, 0.013480084079182, \n    0.016683045565325, 0.0176337406920335, 0.0151657804062655, \n    0.0125455114843902, 0.0118102856445592, 0.0116410665300014, \n    0.0146556231989517, 0.014464999427952, 0.0121229802720933, \n    0.0146834533301593, 0.0121645122630423, 0.0136816673389857, \n    0.0135984961089614, 0.0164906141382343, 0.0149265724276527, \n    0.0163311308492402, 0.017967595623527, 0.0143263172313383, \n    0.0145117513172078, 0.0149694356038913, 0.0136478358101476, \n    0.0148523043836901, 0.0140267859486034, 0.0136857372651645, \n    0.0161384954212, 0.0171836598216303, 0.0165288287203719, \n    0.0163703032374203, 0.0149628937118673, 0.0167639896711626, \n    0.0144140290861155, 0.0164700832677882, 0.017097353142466, \n    0.0177233791174971, 0.016410406871025, 0.0145656397252108, \n    0.0127795571441824, 0.0139787766512734, 0.0145603577832239, \n    0.0130325210010334, 0.0157142193796273, 0.0165295708322065, \n    0.0154878492755022, 0.0176888974165639, 0.0186435561581489, \n    0.0177330425080685, 0.0182856446463086, 0.0219973970170363, \n    0.0217533371623466, 0.0176290655250839, 0.0202192044566584, \n    0.01917805317661, 0.0186277616395779, 0.0170154664932417, \n    0.0195884686724334, 0.0201420675026667, 0.0183148068985733, \n    0.020836323932372, 0.0207067552945439, 0.018534989031893, \n    0.019680916901509, 0.0219673944081694, 0.0236890701508884, \n    0.0235543150426157, 0.0234233849979097, 0.0210565415662947, \n    0.0232511101944444, 0.0227186732866978, 0.0225332903957415, \n    0.0234773944195847, 0.0229988542468931, 0.022618525386521, \n    0.0197686090869307, 0.0186686467858637, 0.0189525178016395\n    ), conditions = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, \n    3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 5L, 5L, 5L, 5L, 5L, 5L, \n    5L, 5L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 7L, 7L, 7L, 7L, 7L, \n    7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 9L, 9L, 9L, 9L, \n    9L, 9L, 9L, 9L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 11L, \n    11L, 11L, 11L, 11L, 11L, 11L, 11L, 12L, 12L, 12L, 12L, 12L, \n    12L, 12L, 12L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 14L, \n    14L, 14L, 14L, 14L, 14L, 14L, 14L, 15L, 15L, 15L, 15L, 15L, \n    15L, 15L, 15L, 16L, 16L, 16L, 16L, 16L, 16L, 16L, 16L, 17L, \n    17L, 17L, 17L, 17L, 17L, 17L, 17L, 18L, 18L, 18L, 18L, 18L, \n    18L, 18L, 18L, 19L, 19L, 19L, 19L, 19L, 19L, 19L, 19L, 20L, \n    20L, 20L, 20L, 20L, 20L, 20L, 20L, 21L, 21L, 21L, 21L, 21L, \n    21L, 21L, 21L, 22L, 22L, 22L, 22L, 22L, 22L, 22L, 22L, 23L, \n    23L, 23L, 23L, 23L, 23L, 23L, 23L, 24L, 24L, 24L, 24L, 24L, \n    24L, 24L, 24L, 25L, 25L, 25L, 25L, 25L, 25L, 25L, 25L, 26L, \n    26L, 26L, 26L, 26L, 26L, 26L, 26L, 27L, 27L, 27L, 27L, 27L, \n    27L, 27L, 27L, 28L, 28L, 28L, 28L, 28L, 28L, 28L, 28L, 29L, \n    29L, 29L, 29L, 29L, 29L, 29L, 29L, 30L, 30L, 30L, 30L, 30L, \n    30L, 30L, 30L, 31L, 31L, 31L, 31L, 31L, 31L, 31L, 31L, 32L, \n    32L, 32L, 32L, 32L, 32L, 32L, 32L, 33L, 33L, 33L, 33L, 33L, \n    33L, 33L, 33L, 34L, 34L, 34L, 34L, 34L, 34L, 34L, 34L, 35L, \n    35L, 35L, 35L, 35L, 35L, 35L, 35L), levels = c(&quot;controlday 00&quot;, \n    &quot;controlday 07&quot;, &quot;controlday 14&quot;, &quot;controlday 21&quot;, &quot;controlday 28&quot;, \n    &quot;nZn1_day 00&quot;, &quot;nZn1_day 07&quot;, &quot;nZn1_day 14&quot;, &quot;nZn1_day 21&quot;, \n    &quot;nZn1_day 28&quot;, &quot;nZn10_day 00&quot;, &quot;nZn10_day 07&quot;, &quot;nZn10_day 14&quot;, \n    &quot;nZn10_day 21&quot;, &quot;nZn10_day 28&quot;, &quot;nZn100_day 00&quot;, &quot;nZn100_day 07&quot;, \n    &quot;nZn100_day 14&quot;, &quot;nZn100_day 21&quot;, &quot;nZn100_day 28&quot;, &quot;Zn1_day 00&quot;, \n    &quot;Zn1_day 07&quot;, &quot;Zn1_day 14&quot;, &quot;Zn1_day 21&quot;, &quot;Zn1_day 28&quot;, &quot;Zn10_day 00&quot;, \n    &quot;Zn10_day 07&quot;, &quot;Zn10_day 14&quot;, &quot;Zn10_day 21&quot;, &quot;Zn10_day 28&quot;, \n    &quot;Zn100_day 00&quot;, &quot;Zn100_day 07&quot;, &quot;Zn100_day 14&quot;, &quot;Zn100_day 21&quot;, \n    &quot;Zn100_day 28&quot;), class = &quot;factor&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, \n-280L))\n</code></pre>\n<pre><code>&gt; str(table5)\n'data.frame':   280 obs. of  4 variables:\n $ day       : chr  &quot;day 00&quot; &quot;day 00&quot; &quot;day 00&quot; &quot;day 00&quot; ...\n $ type      : chr  &quot;control&quot; &quot;control&quot; &quot;control&quot; &quot;control&quot; ...\n $ TAC       : num  0.0135 0.0162 0.0146 0.0153 0.0128 ...\n $ conditions: Factor w/ 35 levels &quot;controlday 00&quot;,..: 1 1 1 1 1 1 1 1 2 2 ...\n</code></pre>\n<p>and my ggplot plus dunn codes:</p>\n<pre><code>library(plotrix)\nlibrary(ggplot2)\n\naa &lt;- aggregate(CAT ~ day + type, data=table5, FUN=mean)\nbb &lt;- aggregate(CAT ~ day + type, data=table5, FUN=sd)\nee &lt;- aggregate(CAT ~ day + type, data=table5, FUN=std.error)  \ncc &lt;- merge(aa, ee, by=c(&quot;day&quot;, &quot;type&quot;))\ncolnames(cc)[3:4] &lt;- c(&quot;mean&quot;, &quot;se&quot;)\n\n\nggplot(cc, aes(x = type, y = mean, fill = day))+\n  geom_bar(stat=&quot;identity&quot;, position= &quot;dodge&quot;) + \n  scale_fill_brewer(palette=&quot;Paired&quot;)+\n  theme_minimal() +\n  labs(x=&quot;&quot;, y=&quot;ratio&quot;, title = &quot;CAT&quot;) +\n  theme(panel.background = element_blank(),\n        axis.line = element_line(colour = &quot;black&quot;),\n        panel.grid=element_blank(),\n        plot.title = element_text(size=40, hjust = 0),\n        legend.text = element_text(size=30), \n        legend.title = element_text(size=32),\n        axis.title.x = element_text(size = 36),\n        axis.text.x = element_text(size = 34),\n        axis.title.y = element_text(size = 36),\n        axis.text.y = element_text(size = 28)\n  ) +\n  geom_errorbar(aes(ymin = mean-se,\n                    ymax = mean+se), \n                position = &quot;dodge&quot;)\n</code></pre>\n<pre><code>library(dunn.test)\ndunn.test(table5$CAT, table5$conditions, method = &quot;bh&quot;)\n</code></pre>\n<p>All my thanks for any help provided.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "data-science", "visualization"],
		"owner": {
			"reputation": 3,
			"user_id": 19783286,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4a9d92740e9fbac296630b0994a14138?s=256&d=identicon&r=PG",
			"display_name": "asi",
			"link": "https://stackoverflow.com/users/19783286/asi"
		},
		"is_answered": true,
		"view_count": 29,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75484728,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676640272,
		"creation_date": 1676638215,
		"last_edit_date": 1676640272,
		"question_id": 75484532,
		"link": "https://stackoverflow.com/questions/75484532/how-to-put-labels-to-the-graph-line-on-the-plot-at-certain-x-points",
		"title": "How to put labels to the graph line on the plot at certain x points",
		"body": "<p>I'm new to data scinece and I need any help, please.</p>\n<p>I need to put labels from column (integers) on to the graphed line on the plot at certain x points, like x=20, then, x=50, then x=80 or at least every 20-30 steps. I am using geam_text, but it puts the labels on every point that it draws, and I need only on some certain points, so it is readable.</p>\n<p>the code is:</p>\n<pre><code>ggp&lt;-cut_offs %&gt;%\n  ggplot(mapping=aes(x=IL6, y=RhoTSHT3_in_less))+\n  geom_line(color=&quot;blue&quot;)+\n  geom_point(col=ifelse(cut_offs$pvalTSHT3_in_less&lt;0.05, &quot;red&quot;, &quot;black&quot;))+\n  ylim(0.1,0.7)+\n  geom_text(aes(label=n_more))\n</code></pre>\n<p>So, I guess I need to change my last line of code to something like this:\n<code>geom_text(aes(label=ifelse(x in labels, cut_offs$n_more, &quot;&quot;)))</code></p>\n<p>where labels is a list with point where I wanna put labels.</p>\n<p>currently, my graph looks like this, which is unreadable:</p>\n<p><img src=\"https://i.stack.imgur.com/2mQQW.png\" alt=\"enter image description here\" /></p>\n<p>I tried this\n<code>geom_text(aes(label=ifelse(x in labels, cut_offs$n_more, &quot;&quot;)))</code></p>\n<p>and of course it's not working, how do I write it in R?</p>\n"
	}, {
		"tags": ["r", "morphological-analysis", "tps"],
		"owner": {
			"reputation": 13,
			"user_id": 13157717,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/416a3a69817c0d8912c17d921dd53316?s=256&d=identicon&r=PG&f=1",
			"display_name": "MilosVf",
			"link": "https://stackoverflow.com/users/13157717/milosvf"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676640262,
		"creation_date": 1676640262,
		"question_id": 75484872,
		"link": "https://stackoverflow.com/questions/75484872/how-to-merge-a-tps-with-csv-file",
		"title": "How to merge a TPS with CSV file",
		"body": "<p>I'm doing my thesis using R and geomorph and I need to produce some PCAs for an anlysis. I've got a TPS file with IDspecimen's correspondent to thier photo number. Also in the CSV the information are marked by the same photo number. How can I produce a TPS file, with the CSV information attached to each specimen?\nSo far I only managed to select on the csv the speciment present in the file, but I don't know how to merge them.</p>\n<pre><code>\n\ntps&lt;-readland.tps(&quot;data.TPS&quot;, specID=&quot;imageID&quot;)    \ndat&lt;-read.csv2(&quot;CSV.csv&quot;)\ne&lt;-match(dimnames(tps)[[3]] ,Parametri$foto)   \ntable(is.na(e))                        \ndimnames(tps)[[3]][is.na(e)]   \nView(Parametri) \n</code></pre>\n"
	}, {
		"tags": ["r", "openmp", "rcpp"],
		"owner": {
			"reputation": 1,
			"user_id": 21233956,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4dJu5Pl8-8CQtT9CEHmweZY_tgBuBrkUSCRvxS=k-s256",
			"display_name": "Ezequiel Toum",
			"link": "https://stackoverflow.com/users/21233956/ezequiel-toum"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676640234,
		"creation_date": 1676638352,
		"question_id": 75484566,
		"link": "https://stackoverflow.com/questions/75484566/how-to-use-openmp-in-rcpp-when-calling-functions-from-headers",
		"title": "How to use OpenMP in Rcpp when calling functions from headers?",
		"body": "<p>I have created many functions that I want to called in my current .cpp script. As usually, I do it by calling the headers (eg: my_function.h). The issue is that when I want to use OpenMP, my R session blows-up.</p>\n<pre><code>#include &lt;Rcpp.h&gt;\n#include &quot;my_function.h&quot;\nusing namespace Rcpp;\n\n#ifdef _OPENMP\n#include &lt;omp.h&gt;\n#endif\n\nNumericMatrix m_shortwave_extra(NumericMatrix latitude,\n                                NumericMatrix longitude,\n                                double time_zone,\n                                double year,\n                                double month,\n                                double day,\n                                double time,\n                                NumericMatrix slope,\n                                NumericMatrix orientation,\n                                double S = 1364.0,\n                                int threads = 1){\n      \n      int n_it  = latitude.ncol();\n      int n_row = latitude.nrow(); \n      \n      NumericMatrix shortwave_out(n_row, n_it);\n      \n      #ifdef _OPENMP\n            if ( threads &gt; 0 )\n              omp_set_num_threads( threads );\n      #endif\n      \n      #pragma omp parallel for\n      \n      for(int i = 0; i &lt; n_it; i++){\n               \n        shortwave_out(_, i) = \n               my_function (latitude(_, i),\n                            longitude(_, i),\n                            time_zone,\n                            year,\n                            month,\n                            day,\n                            time,\n                            slope(_, i),\n                            orientation(_, i),\n                            S);\n      }\n      \n      return shortwave_out;\n      \n}\n</code></pre>\n<p>I would like to know what I am doing wrong when using OpenMP (the routine works fine when I am not parallelizing).</p>\n"
	}, {
		"tags": ["r", "ggplot2", "linewidth"],
		"owner": {
			"reputation": 59,
			"user_id": 3899716,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/75da480ae477f5515d382546f8099b4b?s=256&d=identicon&r=PG&f=1",
			"display_name": "Christian",
			"link": "https://stackoverflow.com/users/3899716/christian"
		},
		"is_answered": true,
		"view_count": 29,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75484859,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676640188,
		"creation_date": 1676636824,
		"last_edit_date": 1676640078,
		"question_id": 75484288,
		"link": "https://stackoverflow.com/questions/75484288/r-ggplot2-format-linewidth-and-linetype-on-a-specific-serie-when-using-group-a",
		"title": "R ggplot2 - format linewidth and linetype on a specific serie when using group and color",
		"body": "<p>I had this diagram based on df (78 obs. of 3 variables), see head of df below:</p>\n<pre><code> head(df_konj)\n            Indikator     Period value\n1 Barometerindikatorn 2022-01-01 110.9\n2 Barometerindikatorn 2022-02-01 114.0\n3 Barometerindikatorn 2022-03-01 112.2\n4 Barometerindikatorn 2022-04-01 110.3\n5 Barometerindikatorn 2022-05-01 110.8\n6 Barometerindikatorn 2022-06-01 106.1\n\n</code></pre>\n<p>[![enter image description here][1]][1]</p>\n<p>But wanted the serie &quot;Barometerindikatorn&quot; to be thicker.</p>\n<p>Old code:</p>\n<pre><code>ggplot(df_konj, aes(x = Period, y = value, group=Indikator, color=Indikator)) +\n  geom_point(size=2) + \n  geom_line(linewidth=1.1, aes(linetype=Indikator)) +\n  labs(x = &quot;M\u00e5nad&quot;, y = &quot;V\u00e4rde&quot;,\n       title=&quot;Konjunkturbarometern - m\u00e5nadsbarometern, flera indikatorer&quot;,\n       subtitle=&quot;Sverige&quot;,\n       caption=&quot;K\u00e4lla: Konjunkturinstitutet&quot;,\n       fill=&quot;\u00c5r&quot;)\n</code></pre>\n<p>New code:</p>\n<pre><code>ggplot(df_konj_exlB, aes(x = Period, y = value, group=Indikator, color=Indikator)) +\n  geom_point(size=2) + \n  geom_line(linewidth=1.1, aes(linetype=Indikator)) +\n  geom_line(data = filter(df_konj, Indikator == &quot;Barometerindikatorn&quot;), linewidth = 2)\n  labs(x = &quot;M\u00e5nad&quot;, y = &quot;V\u00e4rde&quot;,\n       title=&quot;Konjunkturbarometern - m\u00e5nadsbarometern, flera indikatorer&quot;,\n       subtitle=&quot;Sverige&quot;,\n       caption=&quot;K\u00e4lla: Konjunkturinstitutet&quot;,\n       fill=&quot;\u00c5r&quot;)\n</code></pre>\n<p>Not what I wanted:\n[![enter image description here][2]][2]</p>\n<p>The serie I wanted got thicker, but <strong>issue 1. the legend changed to 2 and it divided it up</strong> - which I don't want. <strong>2. I also don't want the serie (observations of) &quot;Bygg &amp; anl\u00e4ggning&quot; to get solid - none of the rest of the series should be solid</strong></p>\n<p><strong>Desired state</strong></p>\n<p>Everything like figure 1 - except serie (observations) of &quot;Barometerindikatorn&quot; in col. Indikator should be the only one which is both <strong>solid</strong> and <strong>thicker</strong>. How can I achieve this?</p>\n<p>I'm beginner to R so my understanding of ggplot, and why I even need to use group e.g. is not good at all.</p>\n<p>Thanks in advance!</p>\n<p>EDIT3 - correct code w result I wanted:</p>\n<pre><code>ggplot(df_konj, aes(x = Period, y = value, group=Indikator, color=Indikator, \n                    linetype=Indikator, linewidth = Indikator)) +\n  geom_point(size=2) + \n  geom_line() +\n  scale_discrete_manual(&quot;linewidth&quot;, values = c(2, rep(1, 5))) +\n  labs(x = &quot;M\u00e5nad&quot;, y = &quot;V\u00e4rde&quot;,\n       title=&quot;Konjunkturbarometern - m\u00e5nadsbarometern, flera indikatorer&quot;,\n       subtitle=&quot;Sverige&quot;,\n       caption=&quot;K\u00e4lla: Konjunkturinstitutet&quot;,\n       fill=&quot;\u00c5r&quot;)+\n  theme(legend.title = element_text(face=&quot;bold&quot;)) +\n  theme_bw() \n</code></pre>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 1189,
			"user_id": 12380466,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-XFWvSSZZRIU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf5JUxrq6MX9XzelQfRpQkhRmIEAw/photo.jpg?sz=256",
			"display_name": "Lenn",
			"link": "https://stackoverflow.com/users/12380466/lenn"
		},
		"is_answered": true,
		"view_count": 36,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676639961,
		"creation_date": 1676637631,
		"question_id": 75484428,
		"link": "https://stackoverflow.com/questions/75484428/remove-duplicate-character-strings-from-list-column",
		"title": "Remove duplicate character strings from list column",
		"body": "<p>I have this dataframe:</p>\n<pre><code>structure(list(class = c(&quot;Gro\u00dfbrittanien&quot;, &quot;Rest Europa&quot;), countries = list(\n    c(&quot;United Kingdom&quot;, &quot;United Kingdom&quot;), &quot;Spain&quot;)), row.names = c(NA, \n-2L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n<p>it looks like this:\n<a href=\"https://i.stack.imgur.com/jj7JK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jj7JK.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to turn the <code>countries</code>-list column into a character column. I want to remove duplicate entries. Such that United Kingdom only appears once. I am a little confused how I could, using the dplyr syntax, achieve that.</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 879,
			"user_id": 16730940,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJyXYJhp-Kjy-h7bPTVSdAg9gQFXms-Dk804g50w=k-s256",
			"display_name": "Paul Stafford Allen",
			"link": "https://stackoverflow.com/users/16730940/paul-stafford-allen"
		},
		"is_answered": true,
		"view_count": 41,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75484601,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676639466,
		"creation_date": 1676636073,
		"last_edit_date": 1676639123,
		"question_id": 75484140,
		"link": "https://stackoverflow.com/questions/75484140/replacing-rowwise-operations-in-grouped-data",
		"title": "replacing rowwise() operations in grouped data",
		"body": "<p>Anonymised example subset of a much larger dataset (now edited to show an option with multiple competing types):</p>\n<pre><code>structure(list(`Sample File` = c(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, \n&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;), \n    Marker = c(&quot;X&quot;, &quot;X&quot;, &quot;X&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Z&quot;, \n    &quot;Z&quot;, &quot;Z&quot;, &quot;Z&quot;, &quot;Z&quot;, &quot;q&quot;, &quot;q&quot;, &quot;q&quot;, &quot;q&quot;), Allele = c(19, 20, \n    22, 23, 18, 18.2, 19, 19.2, 20, 12, 13, 14, 15, 16, 10, 10.2, \n    11, 12), Size = c(249.15, 253.13, 260.64, 264.68, 366, 367.81, \n    369.97, 372.02, 373.95, 91.65, 95.86, 100, 104.24, 108.38, \n    177.51, 179.4, 181.42, 185.49), Height = c(173L, 1976L, 145L, \n    1078L, 137L, 62L, 1381L, 45L, 1005L, 38L, 482L, 5766L, 4893L, \n    19L, 287L, 36L, 5001L, 50L), Type = c(&quot;minusone&quot;, &quot;allele&quot;, \n    &quot;minusone&quot;, &quot;allele&quot;, &quot;ambiguous&quot;, &quot;minushalf&quot;, &quot;allele&quot;, \n    &quot;minushalf&quot;, &quot;allele&quot;, &quot;minustwo&quot;, &quot;ambiguous&quot;, &quot;allele&quot;, \n    &quot;allele&quot;, &quot;plusone&quot;, &quot;minusone&quot;, &quot;minushalf&quot;, &quot;allele&quot;, &quot;plusone&quot;\n    ), LUS = c(11.75, 11.286, 13.375, 13.5, 18, 9, 19, 10, 20, \n    12, 11, 14, 15, 16, 9.5, NA, 11, 11.5)), class = c(&quot;grouped_df&quot;, \n&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -18L), groups = structure(list(\n    `Sample File` = c(&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;), Marker = c(&quot;X&quot;, &quot;Y&quot;, \n    &quot;Z&quot;, &quot;q&quot;), .rows = structure(list(1:4, 5:9, 10:14, 15:18), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n    &quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -4L), .drop = TRUE))\n</code></pre>\n<p>I want to look up values based on the classification <code>$Type</code>.</p>\n<ul>\n<li>&quot;minustwo&quot; means I want to look up the &quot;Allele&quot;, &quot;Height&quot; and &quot;LUS&quot;\nvalues for the row with &quot;Allele&quot; equal to t<em>he current row plus two</em>,\nwith the same <code>Sample File</code> and <code>Marker</code>.</li>\n<li>&quot;minusone&quot; means the same but for &quot;Allele&quot; equal to the current row plus one.</li>\n<li>&quot;minushalf&quot; means the same but for &quot;Allele&quot; equal to the current row plus 0.2 but the dot values here are 25% each, so 12.1, 12.3, 12.3, 13, 13.1 etc - I have a helper function <code>plusTwoBP()</code> for this.</li>\n<li>&quot;plusone&quot; means the same for &quot;Allele&quot; equal to the current row -1</li>\n<li>&quot;allele&quot; or &quot;ambiguous&quot; don't need to do anything.</li>\n</ul>\n<p>Ideal output:</p>\n<pre><code># A tibble: 18 \u00d7 10\n# Rowwise:  Sample File, Marker\n   `Sample File` Marker Allele  Size Height Type        LUS ParentHeight ParentAllele ParentLUS\n   &lt;chr&gt;         &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;        &lt;int&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 A             X        19   249.     173 minusone   11.8         1976           20      11.3\n 2 A             X        20   253.    1976 allele     11.3           NA           NA      NA  \n 3 A             X        22   261.     145 minusone   13.4         1078           23      13.5\n 4 A             X        23   265.    1078 allele     13.5           NA           NA      NA  \n 5 A             Y        18   366      137 ambiguous  18             NA           NA      NA  \n 6 A             Y        18.2 368.      62 minushalf   9           1381           19      19  \n 7 A             Y        19   370.    1381 allele     19             NA           NA      NA  \n 8 A             Y        19.2 372.      45 minushalf  10           1005           20      20  \n 9 A             Y        20   374.    1005 allele     20             NA           NA      NA  \n10 B             Z        12    91.6     38 minustwo   12           5766           14      14  \n11 B             Z        13    95.9    482 ambiguous  11             NA           NA      NA  \n12 B             Z        14   100     5766 allele     14             NA           NA      NA  \n13 B             Z        15   104.    4893 allele     15             NA           NA      NA  \n14 B             Z        16   108.      19 plusone    16           4893           15      15  \n15 C             q        10   178.     287 minusone    9.5         5001           11      11  \n16 C             q        10.2 179.      36 minushalf  NA           5001           11      11  \n17 C             q        11   181.    5001 allele     11             NA           NA      NA  \n18 C             q        12   185.      50 plusone    11.5         5001           11      11 \n</code></pre>\n<p>I have a rather belaboured way of doing it:</p>\n<pre><code># eg for minustwo\nsampleData %&gt;%\n  filter(Type == &quot;minustwo&quot;) %&gt;%\n  rowwise() %&gt;%\n  mutate(ParentHeight = sampleData$Height[sampleData$`Sample File` == `Sample File` &amp; sampleData$Marker == Marker &amp; sampleData$Allele == (Allele + 2)],\n         ParentAllele = sampleData$Allele[sampleData$`Sample File` == `Sample File` &amp; sampleData$Marker == Marker &amp; sampleData$Allele == (Allele + 2)],\n         ParentLUS = sampleData$LUS[sampleData$`Sample File` == `Sample File` &amp; sampleData$Marker == Marker &amp; sampleData$Allele == (Allele + 2)]) %&gt;%\n  right_join(sampleData)\n\n</code></pre>\n<p>I then have to redo that for each of my Types</p>\n<p>My real dataset is thousands of rows so this ends up being a little slow but manageable, but more to the point I want to learn a better way to do it, in particular the <code>sampleData$'Sample File' == 'Sample File' &amp; sampleData$Marker == Marker</code> seems like it should be doable with grouping so I must be missing a trick there.</p>\n<p>I have tried using group_map() but I've clearly not understood it correctly:</p>\n<pre><code>sampleData$ParentHeight &lt;- sampleData %&gt;% \n  group_by(`Sample File`, `Marker`) %&gt;%\n  group_map(.f = \\(.x, .y) {\n    pmap_dbl(.l = .x, .f = \\(Allele, Height, Type, ...){\n      if(Type == &quot;allele&quot; | Type == &quot;ambiguous&quot;) { return(0)\n      } else if (Type == &quot;plusone&quot;) {\n        return(.x$Height[.x$Allele == round(Allele - 1, 1)])\n      } else if (Type == &quot;minushalf&quot;) {\n        return(.x$Height[.x$Allele == round(plustwoBP(Allele), 1)])\n      } else if (Type == &quot;minusone&quot;) {\n        return(.x$Height[.x$Allele == round(Allele + 1, 1)])\n      } else if (Type == &quot;minustwo&quot;) {\n        return(.x$Height[.x$Allele == round(Allele + 2, 1)])\n      } else { stop(&quot;unexpected peak type&quot;) }\n    })}) %&gt;% unlist()\n</code></pre>\n<p>Initially seems to work, but on investigation it's not respecting both layers of grouping, so brings matches from the wrong <code>Marker</code>.  Additionally, here I'm assigning the output to a new column in the data frame, but if I try to instead wrap a <code>mutate()</code> around this so that I can create all three new columns in one go then the <code>group_map()</code> no longer works at all.</p>\n<p>I also considered using <code>complete()</code> to hugely extend the data frame will all possible values of <code>Allele</code> (including x.0, x.1, x.2, x.3 variants) then use <code>lag()</code> to select the corresponding rows, then drop the spare rows.  This seems like it'd make the data frame enormous in the interim.</p>\n<p><strong>To summarise</strong></p>\n<p>This works, but it feels ugly and like I'm missing a more elegant and obvious solution.  How would you approach this?</p>\n"
	}, {
		"tags": ["r", "api", "heroku", "webhooks", "plumber"],
		"owner": {
			"reputation": 41,
			"user_id": 13169419,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/be065c50de92cb313ee656b9761efe63?s=256&d=identicon&r=PG&f=1",
			"display_name": "Walleo",
			"link": "https://stackoverflow.com/users/13169419/walleo"
		},
		"is_answered": false,
		"view_count": 656,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676639387,
		"creation_date": 1624479686,
		"last_edit_date": 1624480158,
		"question_id": 68106609,
		"link": "https://stackoverflow.com/questions/68106609/plumber-does-not-find-request-body",
		"title": "Plumber does not find request body",
		"body": "<p>I am currently writing a webhook on a heroku server and for some reason I am having difficulty obtaining the values stored in the body of the request as it always seems to turn up as <code>NULL</code>. My app.R script looks like all those in the guides:</p>\n<pre><code>#app.R\nlibrary(plumber)\nlibrary(tidyverse)\n\nport &lt;- Sys.getenv('PORT')\n\npr &lt;- plumb(&quot;plumber.R&quot;)\n\npr$run(\n  host = '0.0.0.0',\n  port = as.numeric(port)\n)\n</code></pre>\n<p>My plumber.R file starts like this.</p>\n<pre><code>library(plumber)\nlibrary(tidyverse)\n#* Log some information about the incoming request\n#* @filter logger\nfunction(req){\n  print('LOGGER')\n  print( req)\n  cat(as.character(Sys.time()), &quot;-&quot;,\n      req$REQUEST_METHOD, req$PATH_INFO, &quot;-&quot;,\n      req$HTTP_USER_AGENT, &quot;@&quot;, req$REMOTE_ADDR, &quot;\\n&quot;)\n  plumber::forward()\n}\n\n#* @filter bodyExists?\nfunction(req, res){\n  print( 'BODY FILTER')\n  print( req$body)\n  if (is.null(req$body)){\n    res$status &lt;- 404 \n    return(list(error=&quot;Body not found&quot;))\n  } else {\n    plumber::forward()\n  }\n}\n</code></pre>\n<p>Every time it receives a request the console shows out this:\n<a href=\"https://i.stack.imgur.com/fd43l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fd43l.png\" alt=\"enter image description here\" /></a></p>\n<p>And stops because there is no body.  I have tried sending it requests from multiple sources where I know a body is being sent with the request but for some reason plumber does not find it when it reaches my api.  I have been following using <a href=\"https://github.com/virtualstaticvoid/heroku-plumber-app\" rel=\"nofollow noreferrer\">https://github.com/virtualstaticvoid/heroku-plumber-app</a> as a template and I don't see what Im doing different from them.</p>\n"
	}, {
		"tags": ["r", "dataframe", "split"],
		"owner": {
			"reputation": 73,
			"user_id": 19325405,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bc0005ac99facc5433d1d0311699eabc?s=256&d=identicon&r=PG&f=1",
			"display_name": "goshawk",
			"link": "https://stackoverflow.com/users/19325405/goshawk"
		},
		"is_answered": false,
		"view_count": 51,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676638852,
		"creation_date": 1676330616,
		"last_edit_date": 1676638852,
		"question_id": 75442095,
		"link": "https://stackoverflow.com/questions/75442095/splitting-a-data-frame-into-n-parts-of-approximately-equal-length-in-r",
		"title": "Splitting a data.frame into N parts of approximately equal length in R",
		"body": "<p>Consider the following dataset, where:</p>\n<ul>\n<li>X<em>n</em> values are rib length measurements for ten lizard species (A-J). <code>X1</code>\nis the length of the first rib, <code>X2</code> is the length of the second rib,\nand so on.</li>\n<li>Y<em>n</em> values are between-rib space lengths for the same lizards. <code>Y1</code> is\nthe length of the space between the first and second ribs, <code>Y2</code> is the\nlength of the space between the second and third ribs, and so on.</li>\n<li>The variable <code>n.ribs</code> is the number of ribs of each lizard. Note that\nthe lizards have different numbers of ribs, ranging from 7 to 20.</li>\n<li>The variable <code>total.length</code> is the total length of the ribcage of\neach lizard.</li>\n<li>The variable <code>delta</code> is a measure that summarizes rib spacing.</li>\n</ul>\n<pre><code>data &lt;- data.frame(X1 = runif(10),\n                   Y1 = runif(10),\n                   X2 = runif(10),\n                   Y2 = runif(10),\n                   X3 = runif(10),\n                   Y3 = runif(10),\n                   X4 = runif(10),\n                   Y4 = runif(10),\n                   X5 = runif(10),\n                   Y5 = runif(10),\n                   X6 = runif(10),\n                   Y6 = runif(10),\n                   X7 = runif(10),\n                   Y7 = c(NA,runif(9)),\n                   X8 = c(NA,runif(9)),\n                   Y8 = c(NA,NA,runif(8)),\n                   X9 = c(NA,NA,runif(8)),\n                   Y9 = c(NA,NA,NA,runif(7)),\n                   X10 = c(NA,NA,NA,runif(7)),\n                   Y10 = c(NA,NA,NA,NA,runif(6)),\n                   X11 = c(NA,NA,NA,NA,runif(6)),\n                   Y11 = c(NA,NA,NA,NA,NA,runif(5)),\n                   X12 = c(NA,NA,NA,NA,NA,runif(5)),\n                   Y12 = c(NA,NA,NA,NA,NA,runif(5)),\n                   X13 = c(NA,NA,NA,NA,NA,runif(5)),\n                   Y13 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   X14 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   Y14 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   X15 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   Y15 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   X16 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   Y16 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   X17 = c(NA,NA,NA,NA,NA,NA,runif(4)),\n                   Y17 = c(NA,NA,NA,NA,NA,NA,NA,NA,runif(2)),\n                   X18 = c(NA,NA,NA,NA,NA,NA,NA,NA,runif(2)),\n                   Y18 = c(NA,NA,NA,NA,NA,NA,NA,NA,runif(2)),\n                   X19 = c(NA,NA,NA,NA,NA,NA,NA,NA,runif(2)),\n                   Y19 = c(NA,NA,NA,NA,NA,NA,NA,NA,runif(2)),\n                   X20 = c(NA,NA,NA,NA,NA,NA,NA,NA,runif(2)))\n\nrow.names(data) &lt;- LETTERS[1:10]\n\n# Creating the variable n.ribs\ndata$n.ribs &lt;- rowSums(!is.na(data[,seq(from = 1, to = 39, by = 2)]))\n\n# Creating the variable total.length\ndata$total.length &lt;- rowSums(data[,1:39], na.rm = TRUE)\n\n# Creating the variable delta\nsubset.data &lt;- data[,1:39]\nlast.X.value &lt;- subset.data[cbind(seq_len(nrow(data[,1:39])), max.col(!is.na(data[,1:39]), &quot;last&quot;))]\ndata$delta &lt;- data$n.ribs / (data$total.length - last.X.value)\n\n# See the dataset\ndata\n</code></pre>\n<p>I'd like to calculate <code>delta</code> for parts of the ribcage with approximately equal numbers of ribs. For example, one could split the lizards' ribcage into three sections with approximately the same number of ribs, and then calculate <code>delta</code> for the first, second and final third of the ribcage. I just don't have enough proficiency in R language to do this operation. Particularly, I don't know how to split the variable number of ribs into <em>N</em> parts of approximately equal length.</p>\n<p>Could someone please demonstrate how to create three new variables named <code>delta.1/3</code>, <code>delta.2/3</code> and <code>delta.3/3</code> in the above dataframe? To calculate <code>delta</code> for each section, please use the following formula: number of ribs in the section divided by the total length of the section minus the length of the section's last rib.</p>\n<p>Some code I've been trying to use and that might be helpful in the answer.</p>\n<p>Illustrating the desired operation with lizard B only</p>\n<pre><code># Creating a vector containing all non-NA values of lizard B\nx &lt;- as.vector(data[2,1:rowSums(!is.na(data[2,1:39]))])\n    \n# How many values are there for lizard B?\nn.values &lt;- rowSums(!is.na(data[2,1:39]))\n    \n# If divided into 3 sections, how many values will there be in each section?\nk &lt;- as.numeric(n.values/3)\n    \n# Splitting the vector containing all measurement values into 3 chunks\n# It's necessary to add some extra code here so that every chunk begins and ends with an X*n* value. For example, the second chunck here begins with variable `Y3`. It should begin with `X4`, and the `Y3` value could be excluded. There's no problem if chunks are of slightly different sizes, but they cannot begin with a Y*n* value.\nsplit.x &lt;- split(x, ceiling(seq_along(x)/k))\n    \n# Calculating delta for the first chunk    \nchunk1 &lt;- as.data.frame(split.x[[1]])\n\nn.ribs.chunk1 &lt;- length(chunk1[grep(&quot;^[X]&quot;, names(chunk1), value = TRUE)])\n\ntotal.length.chunk1 &lt;- sum(chunk1)\n\nlast.X.value.chunk1 &lt;- chunk1[cbind(seq_len(nrow(chunk1)), max.col(!is.na(chunk1), &quot;last&quot;))]\n\ndelta.chunk1 &lt;- n.ribs.chunk1 / (total.length.chunk1 - last.X.value.chunk1)\n</code></pre>\n<p>The above code illustrates the operation with the first chunk of one row. I pointed out problems that need to be resolved before it's possible to apply the above code both for the other two chunks of that row and for all other rows. Loops with <code>for</code> might be useful for applying this operation in the entire dataset when we have a code that works for an entire row.</p>\n<p>For the other rows, when division into 3 chunks results in non-integer values, it's necessary to require that the first value be rounded up to the next integer while the two other values are rounded down to the next integer. For example, for lizard A: 13 measurements divided into 3 chunks = 4.33. When rounded, the chunks must have 5, 4 and 4 measures. The following code may be useful for this:</p>\n<pre><code># How many measures are there for each lizard?\nn.measures &lt;- rowSums(!is.na(data[,1:39]))\n\n# Rounded up\nceiling(n.measures/3)\n\n# Rounded down\nfloor(n.measures/3)\n</code></pre>\n<p>Because rows will be split differently, it may be necessary to create a vector for each row and then divide each vector into three vectors using the number obtained above. Then, one could calculate delta for each of these vectors and write the values as new variables in the original dataframe.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "tidyr", "benchmarking", "percentile"],
		"owner": {
			"reputation": 13,
			"user_id": 14780830,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/ee0929879a1f0408323257c077cc3db0?s=256&d=identicon&r=PG&f=1",
			"display_name": "AlHu",
			"link": "https://stackoverflow.com/users/14780830/alhu"
		},
		"is_answered": false,
		"view_count": 26,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676638435,
		"creation_date": 1676638435,
		"question_id": 75484585,
		"link": "https://stackoverflow.com/questions/75484585/calculating-percentiles-and-showing-them-as-stacked-bars-for-benchmarking",
		"title": "Calculating percentiles and showing them as stacked bars for benchmarking",
		"body": "<p>This is a follow up question to <a href=\"https://stackoverflow.com/questions/75475115/calculate-proportions-of-multiple-columns?noredirect=1#comment133166704_75475115\">Calculate proportions of multiple columns</a>.\nI have the following data:</p>\n<pre><code>location = rep(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;), \n               times = c(4, 6, 3, 7))\nID = (1:20)\nVar1 = rep(c(0,2,1,1,0), times = 4)\nVar2 = rep(c(2,1,1,0,2), times = 4)\nVar3 = rep(c(1,1,0,2,0), times = 4)\n\ndf=as.data.frame(cbind(location, ID, Var1, Var2, Var3))\n</code></pre>\n<p>And with some help I counted occurrences and proportions of the different scores (0, 1, 2) in the different Vars like this:</p>\n<pre><code>df %&gt;%\n  pivot_longer(starts_with(&quot;Var&quot;), values_to = &quot;score&quot;) %&gt;%\n  type_convert() %&gt;%\n  group_by(location, name) %&gt;%\n  count(score) %&gt;%\n  mutate(frac = n / sum(n)) -&gt; dfmut\n</code></pre>\n<p>Now I have a data frame that looks like this, which I called dfmut:</p>\n<pre><code># A tibble: 36 \u00d7 5\n# Groups:   location, name [12]\n   location name  score     n  frac\n   &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;\n 1 A        Var1      0     2   0.4\n 2 A        Var1      1     2   0.4\n 3 A        Var1      2     1   0.2\n 4 A        Var2      0     1   0.2\n 5 A        Var2      1     2   0.4\n 6 A        Var2      2     2   0.4\n 7 A        Var3      0     2   0.4\n 8 A        Var3      1     2   0.4\n 9 A        Var3      2     1   0.2\n10 B        Var1      0     2   0.4\n</code></pre>\n<p>Now what I like to do is get the 10th, 25th, 75th and 90th percentiles of the scores that are not 0 and turn them into a stacked bar chart. I'll give you an example story: location (A, B, etc.) is gardens of different people where they grew different kinds of vegetables (Var1, Var 2, etc.). We scored how well the vegetables turned out with score 0 = optimal, score 1 = suboptimal, score 2 = failure.\nThe goal is to get a stacked bar chart that shows how high the proportion of non-optimal (score 1 and 2) vegetables is in the 10% best, the 25% best gardens, etc. Then I want to indicate to each gardener where they lie in the ranking regarding each Var.\nThis could look something like in the image with dark green: best 10% to dark pink-purplish: worst 10% with the dot indicating garden A.</p>\n<p>I started making a new data frame with the quantiles, which is probable not very elegant, so feel free to point out how I could do this more efficiently:</p>\n<pre><code>dfmut %&gt;%\n  subset(name ==&quot;Var1&quot;) %&gt;%\n  subset(score == &quot;1&quot;| score == &quot;2&quot;) -&gt; Var1_12\n\nPercentiles &lt;- c(&quot;10&quot;, &quot;25&quot;, &quot;75&quot;, &quot;90&quot;)\nVar1 &lt;- quantile(Var1_12$frac, probs = c(0.1, 0.25, 0.75, 0.9))\ndata &lt;- data.frame(Percentiles, Var1)\n\ndfmut %&gt;%\n  subset(name ==&quot;Var2&quot;) %&gt;%\n  subset(score == &quot;1&quot;| score == &quot;2&quot;) -&gt; Var2_12\ndata$Var2 &lt;- quantile(Var2_12$frac, probs = c(0.1, 0.25, 0.75, 0.9))\n\ndata_tidy &lt;- melt(data, id.vars = &quot;Percentiles&quot;)\n</code></pre>\n<p>I can't get any further than this. Probably because I'm on an entirely wrong path...\nThank you for your help![<img src=\"https://i.stack.imgur.com/ktvgf.jpg\" alt=\"example of what the plot could look like\" />]</p>\n"
	}, {
		"tags": ["r", "bar-chart"],
		"owner": {
			"reputation": 15,
			"user_id": 20666916,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/402e25e153573e87fcf2aa3d7faf87d9?s=256&d=identicon&r=PG",
			"display_name": "Dnjl_01",
			"link": "https://stackoverflow.com/users/20666916/dnjl-01"
		},
		"is_answered": true,
		"view_count": 34,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"accepted_answer_id": 75483976,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676638176,
		"creation_date": 1676631383,
		"last_edit_date": 1676638176,
		"question_id": 75483380,
		"link": "https://stackoverflow.com/questions/75483380/automatic-creation-of-barplots-for-all-columns",
		"title": "Automatic creation of barplots for all columns",
		"body": "<p>For a very large table, I would like to automatically have a barplot for each column, which is then also saved as a png.</p>\n<p>The title can simply be the column title and the description of the columns correspond to the column variables. So no individual edit of the barplots is necessary</p>\n<p>I have already created barplots by hand and experimented with the &quot;lapply&quot; command without success.\nHere the barplot code</p>\n<pre><code>png(file=&quot;a_x.png&quot;, width=600, height=400)\nbarplot(table(Example$a_x), main = &quot;a_x&quot;)\ndev.off()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wwi1k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwi1k.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "ggplot2", "axis"],
		"owner": {
			"reputation": 1,
			"user_id": 5774041,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/edefc94ecf9a1879abd4d3f8b3adf80b?s=256&d=identicon&r=PG&f=1",
			"display_name": "diego",
			"link": "https://stackoverflow.com/users/5774041/diego"
		},
		"is_answered": false,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676638151,
		"creation_date": 1676633225,
		"last_edit_date": 1676635809,
		"question_id": 75483702,
		"link": "https://stackoverflow.com/questions/75483702/ggplot-in-r-define-breaks-for-character-column-in-x-axis",
		"title": "ggplot in R define breaks for character column in x axis",
		"body": "<pre><code>graf4&lt;-ggplot(DF,\n     aes(x=variable,y=value,color=paese)) +\n     geom_line(aes(linetype=paese,group=paese),size=2.5)+\n     theme_bw()+\n     labs(x=&quot;&quot;,y=&quot;&quot;)+\n    scale_colour_manual(values=c(&quot;darkorange1&quot;,&quot;darkorchid1&quot;,&quot;darkgreen&quot;,&quot;steelblue3&quot;,&quot;maroon2&quot;,&quot;grey2&quot;,&quot;yellow4&quot;,\n                               &quot;burlywood4&quot;, &quot;chocolate&quot;))+\n    scale_y_continuous(labels=fmt_dcimals(1))+\n\n    theme(panel.grid.major = element_line(colour = &quot;grey&quot;,size=0.1)) +\n    theme(panel.grid.minor = element_line(colour = &quot;white&quot;,linetype=&quot;dashed&quot;,size=0.1)) +\n    theme(strip.text.y=element_text(angle=0))+\n    theme(axis.text.x = element_text(angle=90,vjust=0.5,size=12),\n    axis.text.y = element_text(size=12),\n    legend.position = &quot;bottom&quot;,\n    legend.box=&quot;horizontal&quot;,\n    legend.box.background=element_rect(),\n    legend.title = element_blank(),\n    legend.text=element_text(size=12))+\n    guides(col=guide_legend(nrow=1,byrow=TRUE))\n    print(graf4)\n</code></pre>\n<p>The code above work but my problem is that the tick (label) on x axis are too many and I would like to have less tick on the graph. For example have a breaks every 3 observation.</p>\n<p>Note that VARIABLE isn't date format but character format. I dont want, for some other reason date format.</p>\n<p>I tried with scale_x_discrete, scale_x_continuous and other instruction with parameters or not but I cant have on the x axis every 3 observation tick, for example.</p>\n<p>I know that for numeric type on the x axis I cant set a breaks, but I don't know hot to set for character value type.</p>\n<pre><code>   Variable * value * paese \n#1  1999 q1    12      UK\n#2  1999 q2    15      UK\n#3  1999 q3    55      UK  \n#4  1999 q4    67      UK  \n#5  1999 q1    12      DE  \n#6  1999 q2    15      DE  \n#7  1999 q3    55      DE \n#8  1999 q4    67      DE\n#9  2000 q1    33      UK\n#10 2000 q2    23      UK\n#11 2000 q3    65      UK\n#12 2000 q4    34      UK\n#13 2000 q1    33      DE\n#14 2000 q2    23      DE\n#15 2000 q3    65      DE\n#16 2000 q4    34      DE\n# ....  .   ..        \n#45 2023 q1    23      UK    \n#46 2023 q2    11      UK \n#47 2023 q3    23      UK \n#48 2023 q1    23      DE \n#49 2023 q2    11      DE \n#50 2023 q3    23      DE \n</code></pre>\n"
	}, {
		"tags": ["r", "web-scraping", "rvest"],
		"owner": {
			"reputation": 3826,
			"user_id": 3808018,
			"user_type": "registered",
			"accept_rate": 75,
			"profile_image": "https://i.stack.imgur.com/wlWk3.jpg?s=256&g=1",
			"display_name": "Derek Corcoran",
			"link": "https://stackoverflow.com/users/3808018/derek-corcoran"
		},
		"is_answered": false,
		"view_count": 50,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676638118,
		"creation_date": 1641295283,
		"last_edit_date": 1676638118,
		"question_id": 70578014,
		"link": "https://stackoverflow.com/questions/70578014/cant-scrape-a-table-from-naturereport-miljoeportal-dk-using-rvest",
		"title": "Can&#39;t Scrape a table from naturereport.miljoeportal.dk using rvest",
		"body": "<p>I am trying to scrape a table from the following site (<a href=\"https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1\" rel=\"nofollow noreferrer\">https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1</a>)</p>\n<p>I am using rvest and the Selector Gadget to try to make it work, but so far I have only been able to get it in text form.</p>\n<h1>What I need to extract:</h1>\n<p>I am mostly interested in extracting the number of species of two areas the <strong>Stjernearter</strong>, and the <strong>2-stjernearter</strong>, as seen in the image bellow:</p>\n<p><a href=\"https://i.stack.imgur.com/j9G41.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9G41.png\" alt=\"enter image description here\" /></a></p>\n<p>As seen in the developer tools of firefox that corresponds to a table:</p>\n<p><a href=\"https://i.stack.imgur.com/PSJh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSJh0.png\" alt=\"enter image description here\" /></a></p>\n<p>But as I have tried to get the table with Gadget selector, I have not had any success.</p>\n<h2>What I have tried:</h2>\n<p>This are some ideas I have tried with limited success:</p>\n<p>I have been able to get the text, but not the table with this 2 codes</p>\n<pre><code>library(rvest)\n\nrvest::read_html(&quot;https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1%22&quot;) %&gt;% \n  html_elements(&quot;:nth-child(9) .table-col&quot;) %&gt;% \n  html_text()\n</code></pre>\n<p>this gets me the following:</p>\n<pre><code> [1] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tStjernearter (arter med artsscorer = 4 eller 5):\\r\\n\\t\\t\\t\\t\\t\\t&quot;\n [2] &quot;Strandarve | Honckenya peploides&quot;                                                  \n [3] &quot;Bidende stenurt | Sedum acre&quot;                                                      \n [4] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\t2-stjernearter (artsscore = 6 eller 7):\\r\\n\\t\\t\\t\\t\\t\\t&quot;         \n [5] &quot;Ingen arter registreret&quot;                                                           \n [6] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\t    N-f\u00f8lsomme arter:\\r\\n\\t\\t\\t\\t\\t\\t    &quot;                       \n [7] &quot;Bidende stenurt | Sedum acre&quot;                                                      \n [8] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tProblemarter:\\r\\n\\t\\t\\t\\t\\t\\t&quot;                                   \n [9] &quot;Ingen arter registreret&quot;                                                           \n[10] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tInvasive arter:\\r\\n\\t\\t\\t\\t\\t\\t&quot;                                 \n[11] &quot;Ingen arter registreret&quot;                                                           \n[12] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tHabitatdirektivets bilagsarter:\\r\\n\\t\\t\\t\\t\\t\\t&quot;                 \n[13] &quot;Ingen arter registreret&quot;                                                           \n[14] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tR\u00f8dlistede arter:\\r\\n\\t\\t\\t\\t\\t\\t&quot;                               \n[15] &quot;Ingen arter registreret&quot;                                                           \n[16] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tFredede arter:\\r\\n\\t\\t\\t\\t\\t\\t&quot;                                  \n[17] &quot;Ingen arter registreret&quot;                                                           \n[18] &quot;\\r\\n\\t\\t\\t\\t\\t\\t\\tAntal arter:\\r\\n\\t\\t\\t\\t\\t\\t&quot;                                    \n[19] &quot;Mosser: 1 fund&quot;                                                                    \n[20] &quot;Planter: 7 fund&quot;    \n</code></pre>\n<p>And I get a similar result with</p>\n<pre><code>rvest::read_html(&quot;https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1%22&quot;) %&gt;% \n  html_elements(&quot;:nth-child(9) .table-col&quot;) %&gt;% \n  html_text2()\n</code></pre>\n<p>I have also tried the following codes:</p>\n<pre><code>rvest::read_html(&quot;https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1%22&quot;) %&gt;% \n  html_elements(&quot;:nth-child(9) .table-col&quot;) %&gt;% \n  html_table()\n</code></pre>\n<p>and</p>\n<pre><code>rvest::read_html(&quot;https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1%22&quot;) %&gt;% \n  html_elements(&quot;.report-body&quot;) %&gt;%\n  html_table()\n</code></pre>\n<p>This will be done for several sites that I will loop from, so I will need it in a table format.</p>\n<h3>Edit</h3>\n<p>It seems that this code is bringing me closer to the answer:</p>\n<pre><code>rvest::read_html(&quot;https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1%22&quot;) %&gt;% \n  html_elements(&quot;.report-section-body&quot;)\n</code></pre>\n<p>The eighth element has the table, but I have not been able to extract it:</p>\n<pre><code>Test &lt;- rvest::read_html(&quot;https://naturereport.miljoeportal.dk/HtmlViewer?id=827472&amp;bA=1&amp;bI=1&amp;bN=1%22&quot;) %&gt;% \n  html_elements(&quot;.report-section-body&quot;)\n\nTest[8]\n{xml_nodeset (1)}\n[1] &lt;div class=&quot;report-section-body&quot;&gt;&lt;div class=&quot;table&quot;&gt;\\n&lt;div class=&quot; \n</code></pre>\n"
	}, {
		"tags": ["r", "docker", "rstudio"],
		"owner": {
			"reputation": 3826,
			"user_id": 3808018,
			"user_type": "registered",
			"accept_rate": 75,
			"profile_image": "https://i.stack.imgur.com/wlWk3.jpg?s=256&g=1",
			"display_name": "Derek Corcoran",
			"link": "https://stackoverflow.com/users/3808018/derek-corcoran"
		},
		"is_answered": true,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75282180,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676637996,
		"creation_date": 1675057239,
		"last_edit_date": 1676637996,
		"question_id": 75280600,
		"link": "https://stackoverflow.com/questions/75280600/cant-find-local-volume-on-docker-rocker",
		"title": "Cant find local volume on Docker rocker",
		"body": "<p>I can't seem to solve this question, even though it seems that this has been answered here:</p>\n<p>I am trying to run the <a href=\"https://hub.docker.com/r/rocker/tensorflow\" rel=\"nofollow noreferrer\">rocker/tensorflow</a> Docker container in Ubuntu 20.04 but I also need it to access the following folder <code>/home/au687614/Documents/LUCAS_ML</code></p>\n<p>So I tried to follow <a href=\"https://stackoverflow.com/questions/48432299/mount-local-volume-accessible-to-r-rstudio-in-docker-tidyverse\">this answer</a> and run this:</p>\n<pre><code>docker run -d -p 8787:8787 -v $(pwd):/home/au687614/Documents/LUCAS_ML:/home/rstudio/LOOKATMEEE -e ROOT=TRUE rocker/tensorflow\n</code></pre>\n<p>This however gets me the following error:</p>\n<pre><code>docker: Error response from daemon: invalid mode: /home/rstudio/LOOKATMEEE.\nSee 'docker run --help'\n</code></pre>\n<p>What is my mistake?</p>\n"
	}, {
		"tags": ["r", "posixct"],
		"owner": {
			"reputation": 23,
			"user_id": 5552601,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c56ae9218e9694968cbdd2ec963d2855?s=256&d=identicon&r=PG&f=1",
			"display_name": "Kj Ell",
			"link": "https://stackoverflow.com/users/5552601/kj-ell"
		},
		"is_answered": true,
		"view_count": 39,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75484186,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676637617,
		"creation_date": 1676635263,
		"last_edit_date": 1676637617,
		"question_id": 75484033,
		"link": "https://stackoverflow.com/questions/75484033/using-which-to-find-values-between-certain-posix-times-and-fill-na-when-there",
		"title": "Using which() to find values between certain posix times and fill NA when there is no data",
		"body": "<p>I have a dataframe that looks something like this:</p>\n<pre><code>dat &lt;- data.frame(&quot;posix_time&quot; = as.POSIXct(c(&quot;2021-07-01 01:00:00 CEST&quot;, &quot;2021-07-01 01:10:00 CEST&quot;, &quot;2021-07-01 01:20:00 CEST&quot;, \n                                   &quot;2021-07-01 01:30:00 CEST&quot;, &quot;2021-07-01 01:40:00 CEST&quot;, &quot;2021-07-01 01:50:00 CEST&quot;,\n                                   &quot;2021-07-01 02:00:00 CEST&quot;, &quot;2021-07-01 02:10:00 CEST&quot;, &quot;2021-07-01 02:20:00 CEST&quot;)),\n                  &quot;value&quot; = c(5, 8, 15, 7, 12, 5, 89, 1, 17))\n\n</code></pre>\n<p>Now I want to get the index or in this case data of &quot;value&quot; directly using the which-function. Doing it like this works fine:</p>\n<pre><code>temp &lt;- dat$value[which(dat$posix_time &gt;= &quot;2021-07-01 01:00:00&quot; &amp; dat$posix_time &lt;= &quot;2021-07-01 02:00:00&quot;)]\n\n</code></pre>\n<p>This should then be written into a pre defined matrix of a certain size:</p>\n<pre><code>mat &lt;- matrix(NA, ncol = 15, nrow = 1)\n</code></pre>\n<p>Where ncol is a number of timesteps. Here it would be:</p>\n<pre><code>colnames(mat) &lt;- c(&quot;00:00&quot;, &quot;00:10&quot;, &quot;00:20&quot;, &quot;00:30&quot;, &quot;00:40&quot;, &quot;00:50&quot;, &quot;01:00&quot;, &quot;01:10&quot;, &quot;01:20&quot;, &quot;01:30&quot;, &quot;01:40&quot;, &quot;01:50&quot;, &quot;02:00&quot;, &quot;02:10&quot;, &quot;02:20&quot;)\n</code></pre>\n<p>Now I would like to write the value into the matrix that corresponds to the correct time from <code>dat</code>. But I am not sure how to do that.</p>\n<p>It should look like this:</p>\n<pre><code>00:00 00:10 00:20 00:30 00:40 00:50 01:00 01:10 01:20 01:30 01:40 01:50 02:00 02:10 02:20\nNA    NA    NA    NA    NA    NA     5     8    15     7    12     5    89    NA    NA\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 725,
			"user_id": 5385502,
			"user_type": "registered",
			"accept_rate": 89,
			"profile_image": "https://lh6.googleusercontent.com/-ClxBOhF8C3U/AAAAAAAAAAI/AAAAAAAABBo/nPFA5rQkEnQ/photo.jpg?sz=256",
			"display_name": "Javier Fajardo",
			"link": "https://stackoverflow.com/users/5385502/javier-fajardo"
		},
		"is_answered": true,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676638123,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676637332,
		"creation_date": 1676636657,
		"question_id": 75484258,
		"link": "https://stackoverflow.com/questions/75484258/balance-observations-in-data-frame-by-factor-level",
		"closed_reason": "Duplicate",
		"title": "Balance observations in data.frame by factor level",
		"body": "<p>I would like to subsample a dataframe that has an imbalanced number of observations by factor level.</p>\n<p>The output I want is another dataframe built from data from the original one where the number of observations by factor level is similar across factor levels (doesn't need to be exactly the same number for each level, but roughly similar).</p>\n<p>I am not sure if this called &quot;thinning&quot; the data, or &quot;undersampling&quot; the data.</p>\n<p>Consider for instance this dataframe:</p>\n<pre><code>data &lt;- data.frame(id = 1:1000,\n           class = c(rep(&quot;A&quot;, 700), rep(&quot;B&quot;, 200), rep(&quot;C&quot;, 50), rep(&quot;D&quot;, 50)))\n</code></pre>\n<p>How can I slice rows so that I extract ~200 rows, 50 for each class A, B, C and D?</p>\n<p>I can do this manually, but I would like to find a method that I can use with larger datasets and based on a factor with more levels.</p>\n<p>I would also be thankful for advice on the name of what I need (thinning? undersampling? stratified sampling?). Thanks!</p>\n"
	}, {
		"tags": ["r", "function", "dplyr", "data-wrangling", "mutate"],
		"owner": {
			"reputation": 25,
			"user_id": 19642403,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AItbvmnCaHUABarkBskc89pGp6iCbZx42d2pMspwkHzD=k-s256",
			"display_name": "FrancoBattiato",
			"link": "https://stackoverflow.com/users/19642403/francobattiato"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676636731,
		"creation_date": 1676635251,
		"last_edit_date": 1676636731,
		"question_id": 75484030,
		"link": "https://stackoverflow.com/questions/75484030/apply-a-self-made-function-with-mutate-across",
		"title": "Apply a self-made function with mutate across",
		"body": "<p>I have created a function and I want to create new variables according to the conditions of the self-made function but I get mistakes...</p>\n<p>This is my function:</p>\n<pre><code>percentages &lt;- function(x) {\n  mutate(x = case_when(\n    x &lt; 25 ~ &quot;Menos 25%&quot;,\n    x &lt;50 ~ &quot;Entre 30% 50%&quot;, \n    x &lt;75 ~ &quot;Entre 50% 75%&quot;,\n    x &gt;= 75 ~ &quot;M\u00e1s 75%&quot;)\n  )\n  return(x)\n}\n</code></pre>\n<p>When I apply this code:</p>\n<pre><code>transp6 &lt;- transp_articles %&gt;% mutate\n(across(c(perc_index_info_inst_org:perc_index_art_10_portal), percentages))\n</code></pre>\n<p>I get this result:</p>\n<p>Error: Problem with <code>mutate()</code> input <code>..1</code>.\ni <code>..1 = across(...)</code>.\nx no applicable method for 'mutate' applied to an object of class &quot;character&quot;\nRun <code>rlang::last_error()</code> to see where the error occurred.</p>\n<p>When I apply this:</p>\n<pre><code>transp6 &lt;- transp_articles %&gt;% \nmutate(across \n(.cols = c(perc_index_info_inst_org:perc_index_art_10_portal), \n.fns = percentages(c(perc_index_info_inst_org:perc_index_art_10_portal)),\n.names = &quot;{.col}_rank&quot;))\n\n</code></pre>\n<p>I get this:</p>\n<p>rror: Problem with <code>mutate()</code> input <code>..1</code>.\ni <code>..1 = across(...)</code>.\nx no applicable method for 'mutate' applied to an object of class &quot;character&quot;</p>\n<pre><code>Run `rlang::last_error()` to see where the error occurred.\nIn addition: Warning messages:\n1: Problem with `mutate()` input `..1`.\ni `..1 = across(...)`.\ni numerical expression has 1031 elements: only the first used \n Error: Problem with `mutate()` input `..1`.\ni `..1 = across(...)`.\nx no applicable method for 'mutate' applied to an object of class &quot;character&quot;\nRun `rlang::last_error()` to see where the error occurred.\n</code></pre>\n<p>Finally, I try to do it with an apply:</p>\n<pre><code>apply(transp_articles$perc_index_info_inst_org:transp_articles$perc_index_art_10_portal, \nmargin = 2, percentages)\n</code></pre>\n<p>And I get:</p>\n<blockquote>\n<p>Error in match.fun(FUN) : argument &quot;FUN&quot; is missing, with no default</p>\n</blockquote>\n"
	}, {
		"tags": ["r", "math", "factorial"],
		"owner": {
			"reputation": 183,
			"user_id": 7035787,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/18e310e6ca5a0b75fe70011ad0a276dd?s=256&d=identicon&r=PG&f=1",
			"display_name": "enroute",
			"link": "https://stackoverflow.com/users/7035787/enroute"
		},
		"is_answered": true,
		"view_count": 46,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"closed_date": 1676636053,
		"accepted_answer_id": 75484091,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676636190,
		"creation_date": 1676634835,
		"last_edit_date": 1676635077,
		"question_id": 75483957,
		"link": "https://stackoverflow.com/questions/75483957/r-factorial-is-not-yielding-the-correct-result",
		"closed_reason": "Duplicate",
		"title": "R factorial() is not yielding the correct result",
		"body": "<p>I am trying to calculate the factorial of 52 in R. Astonishingly, I am getting contradicting results.</p>\n<pre><code>aaa&lt;-1*2*3*4*5*6*7*8*9*10*11*12*13*14*15*16*17*18*19*20*21*22*23*24*25*26*27*28*29*30*31*32*33*34*35*36*37*38*39*40*41*42*43*44*45*46*47*48*49*50*51*52\n\nbbb&lt;-factorial(52)\n\naaa\n[1] 80658175170943876845634591553351679477960544579306048386139594686464\n\nbbb\n[1] 80658175170944942408940349866698506766127860028660283290685487972352\n\naaa==bbb #False\n</code></pre>\n<p>What am I doing wrong?</p>\n"
	}, {
		"tags": ["r", "excel", "png", "kable"],
		"owner": {
			"reputation": 81,
			"user_id": 13475980,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/649f6fe6adb1fec2fa2951251e7e59fa?s=256&d=identicon&r=PG&f=1",
			"display_name": "Fendi",
			"link": "https://stackoverflow.com/users/13475980/fendi"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676635692,
		"creation_date": 1676629362,
		"last_edit_date": 1676635692,
		"question_id": 75482990,
		"link": "https://stackoverflow.com/questions/75482990/how-to-add-png-file-to-a-worksheet-in-excel",
		"title": "How to add png file to a worksheet in excel?",
		"body": "<p>My original file is a kableExtra file and I want to insert it as image to excel workbook.\nTo do so I saved it to my wd as png. file. I wanted to create new workbook and add png image to worksheet.</p>\n<p>I tried to do it with addImage function but I cannot install any package where the function is, although I have the newest R version installed.</p>\n<p>Is there any way to save kableExtra file straight into excelworkbook as image? If not how can I do it with png. file without using function addImage?</p>\n<p>Thank you for help</p>\n"
	}, {
		"tags": ["r", "random", "integer", "range"],
		"owner": {
			"reputation": 5293,
			"user_id": 13203841,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-HvRPkbZ2fww/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmIukuXG4_xNEC7bwKps7j_IsLrwQ/s96-c/photo.jpg?sz=256",
			"display_name": "stats_noob",
			"link": "https://stackoverflow.com/users/13203841/stats-noob"
		},
		"is_answered": true,
		"view_count": 2238,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 67698308,
		"answer_count": 4,
		"score": 2,
		"last_activity_date": 1676634962,
		"creation_date": 1621999925,
		"question_id": 67698170,
		"link": "https://stackoverflow.com/questions/67698170/r-generate-random-numbers-with-floor-and-runif",
		"title": "R: Generate Random Numbers with &quot;floor&quot; and &quot;runif&quot;",
		"body": "<p>I am using the R programming language. I am trying to generate random integers between 1 and 0. Using the following link (<a href=\"http://www.cookbook-r.com/Numbers/Generating_random_numbers/\" rel=\"nofollow noreferrer\">http://www.cookbook-r.com/Numbers/Generating_random_numbers/</a>), I tried this code to generate 1000 random integers between 0 and 1:</p>\n<pre><code>x = floor(runif(1000, min=0, max=1))\ny = floor(runif(1000, min=0, max=1))\ngroup &lt;- sample( LETTERS[1:2], 1000, replace=TRUE, prob=c(0.8,0.2) )\n\nd = data.frame(x,y,group)\nd$group = as.factor(d$group)\n</code></pre>\n<p>However, both &quot;x&quot; and &quot;y&quot; seem to only have a value of 0.</p>\n<p>Does anyone know what I am doing wrong?\nThanks</p>\n"
	}, {
		"tags": ["r", "devtools", "roxygen2", "r6", "roxygen"],
		"owner": {
			"reputation": 2593,
			"user_id": 5252007,
			"user_type": "registered",
			"accept_rate": 86,
			"profile_image": "https://i.stack.imgur.com/3aIfg.jpg?s=256&g=1",
			"display_name": "Mihai",
			"link": "https://stackoverflow.com/users/5252007/mihai"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676634566,
		"creation_date": 1676633501,
		"last_edit_date": 1676634566,
		"question_id": 75483756,
		"link": "https://stackoverflow.com/questions/75483756/how-to-use-the-template-tag-of-roxygen2-for-r6-class-methods",
		"title": "How to use the `@template` tag of `roxygen2` for `R6` class methods?",
		"body": "<p>I have the following <code>R6</code> class that I want to document using <code>roxygen2</code> <code>v7.2.1</code>.</p>\n<pre class=\"lang-r prettyprint-override\"><code>#' @template test\n#' @export\nTest &lt;- R6::R6Class(&quot;Test&quot;,\n    cloneable = FALSE,\n\n    public = list(\n        #' @template test-something\n        something = function(x) { x + 1 },\n\n        #' @description\n        #' This is a method on the test class.\n        #'\n        #' @param x A number.\n        #'\n        #' @return The number plus one.\n        something_else = function(x) { x + 1 }\n    )\n)\n</code></pre>\n<p>Then, in the <code>man-roxygen</code> directory, I have the following files:</p>\n<ul>\n<li><code>test.R</code></li>\n</ul>\n<pre class=\"lang-r prettyprint-override\"><code>#' Test Class\n#'\n#' @description\n#' This is a test class.\n</code></pre>\n<ul>\n<li><code>test-something.R</code></li>\n</ul>\n<pre class=\"lang-r prettyprint-override\"><code>#' @description\n#' This is a method on the test class.\n#'\n#' @param x A number.\n#'\n#' @return The number plus one.\n</code></pre>\n<p>After running <code>devtools::document()</code>, I see that the <code>test-something</code> template\nis not correctly applied. Instead, the contents under the <code>@description</code> tag for\nthat template are not added to the <code>something</code> method but instead to the <code>Test</code> class. Here is a screenshot, and below the resulting <code>.Rd</code> file:</p>\n<p><a href=\"https://i.stack.imgur.com/8YtZu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8YtZu.png\" alt=\"resulting documentation\" /></a></p>\n<p>And the contents of the <code>.Rd</code> file:</p>\n<pre class=\"lang-tex prettyprint-override\"><code>% Generated by roxygen2: do not edit by hand\n% Please edit documentation in R/Test.r\n\\name{Test}\n\\alias{Test}\n\\title{Test Class}\n\\description{\nThis is a test class.\n\nThis is a method on the test class.\n}\n\\section{Methods}{\n\\subsection{Public methods}{\n\\itemize{\n\\item \\href{#method-Test-something}{\\code{Test$something()}}\n\\item \\href{#method-Test-something_else}{\\code{Test$something_else()}}\n}\n}\n\\if{html}{\\out{&lt;hr&gt;}}\n\\if{html}{\\out{&lt;a id=&quot;method-Test-something&quot;&gt;&lt;/a&gt;}}\n\\if{latex}{\\out{\\hypertarget{method-Test-something}{}}}\n\\subsection{Method \\code{something()}}{\n\\subsection{Usage}{\n\\if{html}{\\out{&lt;div class=&quot;r&quot;&gt;}}\\preformatted{Test$something(x)}\\if{html}{\\out{&lt;/div&gt;}}\n}\n\n}\n\\if{html}{\\out{&lt;hr&gt;}}\n\\if{html}{\\out{&lt;a id=&quot;method-Test-something_else&quot;&gt;&lt;/a&gt;}}\n\\if{latex}{\\out{\\hypertarget{method-Test-something_else}{}}}\n\\subsection{Method \\code{something_else()}}{\nThis is a method on the test class.\n\\subsection{Usage}{\n\\if{html}{\\out{&lt;div class=&quot;r&quot;&gt;}}\\preformatted{Test$something_else(x)}\\if{html}{\\out{&lt;/div&gt;}}\n}\n\n\\subsection{Arguments}{\n\\if{html}{\\out{&lt;div class=&quot;arguments&quot;&gt;}}\n\\describe{\n\\item{\\code{x}}{A number.}\n}\n\\if{html}{\\out{&lt;/div&gt;}}\n}\n\\subsection{Returns}{\nThe number plus one.\n}\n}\n}\n</code></pre>\n<p>The documentation seems to be correct for the <code>something_else</code> method, so I am\ninclined to think this has to do with improperly using the <code>@template</code> tag.</p>\n<p>Do you have any ideas on how to use the <code>@template</code> tag in this case correctly? Or is there any other recommended way of doing this?</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 55,
			"user_id": 8363056,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=256&d=identicon&r=PG&f=1",
			"display_name": "Turtle",
			"link": "https://stackoverflow.com/users/8363056/turtle"
		},
		"is_answered": true,
		"view_count": 53,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676634419,
		"creation_date": 1676585451,
		"last_edit_date": 1676634419,
		"question_id": 75478420,
		"link": "https://stackoverflow.com/questions/75478420/create-data-frame-with-replicated-blocks-of-columns-whose-characteristics-are-s",
		"title": "Create data frame with replicated blocks of columns, whose characteristics are specified in separate table&#39;s rows",
		"body": "<p>This is a follow-up to this question: <a href=\"https://stackoverflow.com/q/73873938/8363056\">Create data frame with column characteristics from separate table&#39;s rows</a></p>\n<p>My real-world problem is a little bit more complicated than specified there.</p>\n<p>I have a descriptive, auxiliary table whose rows specify variable's characteristics, where <code>varCat</code> describes a variable category, <code>rept</code> the number of later-to-implement repetitions of said category (unfortunately in a specific order), and <code>form</code> their data format:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(tibble)\ndescr &lt;- tibble(\n  varCat = c(&quot;a&quot;, &quot;b_x&quot;, &quot;b_y&quot;, &quot;c_m&quot;, &quot;c_n&quot;),\n  rept = c(1, 3, 3, 2, 2),\n  form = c(&quot;text&quot;, &quot;num&quot;, &quot;text&quot;, &quot;int&quot;, &quot;text&quot;)\n)\ndescr\n#&gt; # A tibble: 5 \u00d7 3\n#&gt;   varCat  rept form \n#&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;\n#&gt; 1 a          1 text \n#&gt; 2 b_x        3 num  \n#&gt; 3 b_y        3 text \n#&gt; 4 c_m        2 int  \n#&gt; 5 c_n        2 text\n</code></pre>\n<p>Note that the first part of a variable category's name specifies a &quot;block&quot;, i.e. for instance <code>b_x</code> and <code>b_y</code> form a block, then <code>c_m, c_n</code> form the next.</p>\n<p>Each block as a whole should be replicated - the number of times can be read off <code>rept</code> -, <em>before turning to the next block (edited)</em>.</p>\n<p>In reality there are many more blocks of varying size (row numbers), and the respective number of repetitions varies also.</p>\n<p><em>Edit: Only after the sequence of a given block, the replications of the next block should start.</em></p>\n<p>Ultimately I'd like to obtain the following (empty) data frame:</p>\n<pre><code>d\n#&gt; # A tibble: 0 \u00d7 11\n#&gt; # \u2026 with 11 variables: a &lt;chr&gt;, b_x_1 &lt;dbl&gt;, b_y_1 &lt;chr&gt;, b_x_2 &lt;dbl&gt;,\n#&gt; #   b_y_2 &lt;chr&gt;, b_x_3 &lt;dbl&gt;, b_y_3 &lt;chr&gt;, c_m_1 &lt;int&gt;, c_n_1 &lt;chr&gt;,\n#&gt; #   c_m_2 &lt;int&gt;, c_n_2 &lt;chr&gt;\n</code></pre>\n<p>Any help in achieving this would be much appreciated!</p>\n<p>I suppose a solution cannot simply take <code>rep(descr$varCat, descr$rept)</code> as a starting point (unlike the solutions to my earlier, too-simple question), due to the necessity to arrange variables in blocks.</p>\n"
	}, {
		"tags": ["r", "xml", "ubuntu-14.04", "xml-libxml"],
		"owner": {
			"reputation": 13378,
			"user_id": 1142881,
			"user_type": "registered",
			"accept_rate": 99,
			"profile_image": "https://www.gravatar.com/avatar/99836a8fe8fb744bfa64210a2bf7cc23?s=256&d=identicon&r=PG&f=1",
			"display_name": "SkyWalker",
			"link": "https://stackoverflow.com/users/1142881/skywalker"
		},
		"is_answered": true,
		"view_count": 6530,
		"down_vote_count": 0,
		"up_vote_count": 4,
		"accepted_answer_id": 55167831,
		"answer_count": 2,
		"score": 4,
		"last_activity_date": 1676634172,
		"creation_date": 1552580913,
		"last_edit_date": 1552582161,
		"question_id": 55167628,
		"link": "https://stackoverflow.com/questions/55167628/ubuntu-14-04-configure-error-libxml-not-found",
		"title": "Ubuntu 14.04 configure: error: &quot;libxml not found&quot;",
		"body": "<p>Trying to install the XML package as follows I get the error <code>configure: error: \"libxml not found\"</code>. It seems that R is picking up the libxml2 installation from Anaconda. How can I fix this?</p>\n\n<pre><code>R version 3.4.4 (2018-03-15) -- \"Someone to Lean On\"\nCopyright (C) 2018 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n\n&gt; install.packages(\"XML\")\nInstalling package into \u2018/home/bravegag/R/x86_64-pc-linux-gnu-library/3.4\u2019\n(as \u2018lib\u2019 is unspecified)\ntrying URL 'https://cloud.r-project.org/src/contrib/XML_3.98-1.19.tar.gz'\nContent type 'application/x-gzip' length 1600788 bytes (1.5 MB)\n==================================================\ndownloaded 1.5 MB\n\n* installing *source* package \u2018XML\u2019 ...\n** package \u2018XML\u2019 successfully unpacked and MD5 sums checked\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking how to run the C preprocessor... gcc -E\nchecking for sed... /bin/sed\nchecking for pkg-config... /usr/bin/pkg-config\nchecking for xml2-config... /opt/dev/anaconda/2018.12/bin/xml2-config\nUSE_XML2 = yes\nSED_EXTENDED_ARG: -E\nMinor 9, Patch 8 for 2.9.8\nLocated parser file -I/opt/dev/anaconda/2018.12/include/libxml2 -I/opt/dev/anaconda/2018.12/include/parser.h\nChecking for 1.8:  -I/opt/dev/anaconda/2018.12/include/libxml2 -I/opt/dev/anaconda/2018.12/include\nUsing libxml2.*\nchecking for gzopen in -lz... yes\nchecking for xmlParseFile in -lxml2... no\nchecking for xmlParseFile in -lxml... no\nconfigure: error: \"libxml not found\"\nERROR: configuration failed for package \u2018XML\u2019\n* removing \u2018/home/bravegag/R/x86_64-pc-linux-gnu-library/3.4/XML\u2019\n\nThe downloaded source packages are in\n    \u2018/tmp/RtmpannHh6/downloaded_packages\u2019\nWarning message:\nIn install.packages(\"XML\") :\n  installation of package \u2018XML\u2019 had non-zero exit status\n&gt; \n</code></pre>\n\n<p>I also get this:</p>\n\n<pre><code>$ type xml2-config\nxml2-config is /opt/dev/anaconda/2018.12/bin/xml2-config\n</code></pre>\n\n<p>but setting the config in the R environment doesn't help:</p>\n\n<pre><code>Sys.setenv(XML_CONFIG=\"/opt/dev/anaconda/2018.12/bin/xml2-config\")\n</code></pre>\n\n<p><strong>UPDATE</strong> I already had libxml2 installed in the system see:</p>\n\n<pre><code>bravegag@zeus:~$ sudo apt-get install libxml2\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nlibxml2 is already the newest version.\n0 upgraded, 0 newly installed, 0 to remove and 4 not upgraded.\nbravegag@zeus:~$ sudo apt-get install libxml2-dev\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nlibxml2-dev is already the newest version.\n0 upgraded, 0 newly installed, 0 to remove and 4 not upgraded.\n</code></pre>\n"
	}, {
		"tags": ["r", "gtsummary"],
		"owner": {
			"reputation": 3,
			"user_id": 21233281,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1f67648d025c3cf7c465ddebca504ee1?s=256&d=identicon&r=PG",
			"display_name": "MegStats",
			"link": "https://stackoverflow.com/users/21233281/megstats"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75483704,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676633696,
		"creation_date": 1676632111,
		"last_edit_date": 1676633397,
		"question_id": 75483504,
		"link": "https://stackoverflow.com/questions/75483504/sum-of-a-column-in-tbl-summary",
		"title": "Sum of a column in tbl_summary?",
		"body": "<p>I'm trying to create a table using <code>tbl_summary()</code> that contains sums of columns (a sum of the correct test scores and incorrect test scores), however it seems to keep treating my continuous variables as categorical?</p>\n<p>I have tried specifying the type as continuous with no luck.</p>\n<p>What I'm aiming for:</p>\n<pre><code>library(gtsummary)\nlibrary(tidyverse)\n\ntest &lt;- data.frame(&quot;With_assistant&quot; = c(TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE),\n                   &quot;correct_answers&quot; = c(2,4,5,6,1,2,7,2,1,2,3),\n                   &quot;incorrect_answers&quot; = c(1,2,1,5,3,1,2,5,3,2,4))\n\noutput &lt;- test %&gt;%\n  group_by(With_assistant) %&gt;%\n  summarize(\n    total_correct=sum(correct_answers, na.rm=TRUE), \n    total_incorrect=(sum(incorrect_answers, na.rm=TRUE))\n  ) \noutput\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8k0G5.png\" rel=\"nofollow noreferrer\">Table_1</a></p>\n<p>I've tried the below:</p>\n<pre><code>library(gtsummary)\nlibrary(tidyverse)\n\ntest &lt;- data.frame(&quot;With_assistant&quot; = c(TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE),\n                   &quot;correct_answers&quot; = c(2,4,5,6,1,2,7,2,1,2,3),\n                   &quot;incorrect_answers&quot; = c(1,2,1,5,3,1,2,5,3,2,4))\noutput &lt;- test %&gt;%\n  tbl_summary(\n    by = With_assistant,\n    statistic = all_continuous() ~ {n}\n  )\n</code></pre>\n<p>Produces a count of each result as below:</p>\n<p><a href=\"https://i.stack.imgur.com/5vRS3.png\" rel=\"nofollow noreferrer\">Table_2</a></p>\n<pre><code>library(gtsummary)\nlibrary(tidyverse)\n\ntest &lt;- data.frame(&quot;With_assistant&quot; = c(TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE),\n                   &quot;correct_answers&quot; = c(2,4,5,6,1,2,7,2,1,2,3),\n                   &quot;incorrect_answers&quot; = c(1,2,1,5,3,1,2,5,3,2,4))\n\noutput &lt;- test %&gt;%\n  tbl_summary(\n    by = With_assistant,\n    type = c(correct_answers, incorrect_answers) ~ &quot;continuous&quot;,\n    statistic = all_continuous() ~ {n},\n    percent = &quot;column&quot;,\n    missing = &quot;no&quot;\n  ) %&gt;%\n  print(output)\n</code></pre>\n<p>Produces an error &quot;<em>Error: Error processing <code>statistic</code> argument for element 'Anatomy_yes'. Expecting a character as the passed value.</em>&quot;</p>\n"
	}, {
		"tags": ["r", "shiny", "plotly", "r-plotly", "shinyapps"],
		"owner": {
			"reputation": 23428,
			"user_id": 6461462,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://i.stack.imgur.com/BlsdV.jpg?s=256&g=1",
			"display_name": "M--",
			"link": "https://stackoverflow.com/users/6461462/m"
		},
		"is_answered": true,
		"view_count": 687,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"accepted_answer_id": 62449529,
		"answer_count": 2,
		"score": 3,
		"last_activity_date": 1676632518,
		"creation_date": 1592017903,
		"last_edit_date": 1600180052,
		"question_id": 62355092,
		"link": "https://stackoverflow.com/questions/62355092/prevent-plotly-selected-traces-from-resetting-when-changing-the-variable-to-be-p",
		"title": "Prevent plotly selected traces from resetting when changing the variable to be plotted in R Shiny",
		"body": "<p>I am trying to make a shiny app, which consists of a sidebar panel and a plot. In the panel, I have radio buttons to select which ID should be plotted. I also have multiple variables which user can turn off and on using plotly legend.</p>\n<p>I want the plot to be empty when app first opens. For that, I am using <code>visible = &quot;legendonly&quot;</code> in my plotly. But then, I want to keep the traces that user already activated (by clicking on them in the legend) when the ID is changed in the sidebar panel; however, since plotly get regenerated every time, again it uses <code>visible = &quot;legendonly&quot;</code> option and that causes the plot to reset.</p>\n<p>Is there a way to keep the traces (only the ones that are already selected) when a different option gets selected in the sidebar panel?</p>\n<p>See a reproducible example below; please note that I made this example to run locally. You need to load data and packages separately into your R session. Data can be found at the bottom of the question.</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(shiny)\nlibrary(plotly)\nlibrary(lubridate)\n\n### Read mdata into your R session\n</code></pre>\n<pre class=\"lang-r prettyprint-override\"><code># UI \n\nuix &lt;- shinyUI(pageWithSidebar(\n  headerPanel(&quot;Data&quot;),\n  sidebarPanel(\n    radioButtons('vars', 'ID', \n                 c(&quot;1&quot;, &quot;2&quot;)),\n    helpText('Select an ID.')\n  ),\n  mainPanel(\n    h4(&quot;Plot&quot;),\n    plotlyOutput(&quot;myPlot&quot;)\n  )\n)\n)\n</code></pre>\n<pre class=\"lang-r prettyprint-override\"><code># SERVER \n\nserverx &lt;- function(input, output) {\n \n  #load(&quot;Data/mdata.RData&quot;) #comment out this part and load data locally\n  \n  # a large table, reative to input$show_vars\n  output$uteTable = renderDataTable({\n    ute[, input$show_vars, drop = FALSE]\n  })\n  \n  output$myPlot = renderPlotly(\n    {\n      p &lt;- plot_ly() %&gt;% \n        layout(title = &quot;Title&quot;, xaxis = list(tickformat = &quot;%b %Y&quot;, title = &quot;Date&quot;),\n               yaxis = list(title = &quot;Y&quot;))\n      \n      ## Add the IDs selected in input$vars\n      for (item in input$vars) {\n        mdata %&gt;% \n          mutate(Date = make_date(Year, Month, 15)) %&gt;% \n          filter(ID == item) -&gt; foo\n        \n        p &lt;- add_lines(p, data = foo, x = ~Date, y = ~Value, color = ~Variable, visible = &quot;legendonly&quot;,\n                       evaluate = TRUE)\n        \n        p &lt;- p %&gt;% layout(showlegend = TRUE,\n                          legend = list(orientation = &quot;v&quot;,   # show entries horizontally\n                                        xanchor = &quot;center&quot;,  # use center of legend as anchor\n                                        x = 100, y=1))        \n      }\n      print(p)\n    })\n}\n</code></pre>\n<pre><code>shinyApp(uix, serverx)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/AmNew.png\" alt=\"\" /></p>\n<p><sup>Created on 2020-06-12 by the <a href=\"https://reprex.tidyverse.org\" rel=\"nofollow noreferrer\">reprex package</a> (v0.3.0)</sup></p>\n<h3>Question: is it possible to keep the <code>Var1</code> trace when changing to <code>ID == 2</code>?</h3>\n<p><em><strong>Idea:</strong></em> I think it'd be possible if I could change the <code>visible = 'legendonly</code> to <code>TRUE</code> right after app deployment, so it only applies to the first example of the plot. Probably, I need to change <code>evaluate</code> to <code>FALSE</code> as well.</p>\n<p><em><strong>Data:</strong></em></p>\n<pre><code>mdata &lt;- structure(list(Year = c(2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L), Month = c(1L, 1L, \n1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 5L, 5L, \n5L, 5L, 6L, 6L, 6L, 6L, 7L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 9L, 9L, \n9L, 9L, 10L, 10L, 10L, 10L, 11L, 11L, 11L, 11L, 12L, 12L, 12L, \n12L), Variable = c(&quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;), ID = c(1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, \n2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, \n1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2), Value = c(187.797761979167, \n6.34656438541666, 202.288468333333, 9.2249309375, 130.620451458333, \n4.61060465625, 169.033213020833, 7.5226940625, 290.015582677083, \n10.8697671666667, 178.527960520833, 7.6340359375, 234.53493728125, \n8.32400878125, 173.827054583333, 7.54521947916667, 164.359205635417, \n5.55496292708333, 151.75458625, 6.361610625, 190.124467760417, \n6.45046077083333, 191.377006770833, 8.04720916666667, 170.714612604167, \n5.98860073958333, 210.827157916667, 9.46311385416667, 145.784868927083, \n5.16647911458333, 159.9545675, 6.7466725, 147.442681895833, 5.43921594791667, \n153.057018958333, 6.39029208333333, 165.6476956875, 5.63139815625, \n197.179256875, 8.73210604166667, 148.1879651875, 5.58784840625, \n176.859451354167, 7.65670020833333, 186.215496677083, 7.12404453125, \n219.104379791667, 9.39468864583333)), class = c(&quot;grouped_df&quot;, \n&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -48L), groups = structure(list(\n    Year = 2015L, .rows = list(1:48)), row.names = c(NA, -1L), class = c(&quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;), .drop = TRUE))\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "plotly", "r-plotly", "shinyapps"],
		"owner": {
			"reputation": 23428,
			"user_id": 6461462,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://i.stack.imgur.com/BlsdV.jpg?s=256&g=1",
			"display_name": "M--",
			"link": "https://stackoverflow.com/users/6461462/m"
		},
		"is_answered": true,
		"view_count": 687,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"accepted_answer_id": 62449529,
		"answer_count": 2,
		"score": 3,
		"last_activity_date": 1676632518,
		"creation_date": 1592017903,
		"last_edit_date": 1600180052,
		"question_id": 62355092,
		"link": "https://stackoverflow.com/questions/62355092/prevent-plotly-selected-traces-from-resetting-when-changing-the-variable-to-be-p",
		"title": "Prevent plotly selected traces from resetting when changing the variable to be plotted in R Shiny",
		"body": "<p>I am trying to make a shiny app, which consists of a sidebar panel and a plot. In the panel, I have radio buttons to select which ID should be plotted. I also have multiple variables which user can turn off and on using plotly legend.</p>\n<p>I want the plot to be empty when app first opens. For that, I am using <code>visible = &quot;legendonly&quot;</code> in my plotly. But then, I want to keep the traces that user already activated (by clicking on them in the legend) when the ID is changed in the sidebar panel; however, since plotly get regenerated every time, again it uses <code>visible = &quot;legendonly&quot;</code> option and that causes the plot to reset.</p>\n<p>Is there a way to keep the traces (only the ones that are already selected) when a different option gets selected in the sidebar panel?</p>\n<p>See a reproducible example below; please note that I made this example to run locally. You need to load data and packages separately into your R session. Data can be found at the bottom of the question.</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(shiny)\nlibrary(plotly)\nlibrary(lubridate)\n\n### Read mdata into your R session\n</code></pre>\n<pre class=\"lang-r prettyprint-override\"><code># UI \n\nuix &lt;- shinyUI(pageWithSidebar(\n  headerPanel(&quot;Data&quot;),\n  sidebarPanel(\n    radioButtons('vars', 'ID', \n                 c(&quot;1&quot;, &quot;2&quot;)),\n    helpText('Select an ID.')\n  ),\n  mainPanel(\n    h4(&quot;Plot&quot;),\n    plotlyOutput(&quot;myPlot&quot;)\n  )\n)\n)\n</code></pre>\n<pre class=\"lang-r prettyprint-override\"><code># SERVER \n\nserverx &lt;- function(input, output) {\n \n  #load(&quot;Data/mdata.RData&quot;) #comment out this part and load data locally\n  \n  # a large table, reative to input$show_vars\n  output$uteTable = renderDataTable({\n    ute[, input$show_vars, drop = FALSE]\n  })\n  \n  output$myPlot = renderPlotly(\n    {\n      p &lt;- plot_ly() %&gt;% \n        layout(title = &quot;Title&quot;, xaxis = list(tickformat = &quot;%b %Y&quot;, title = &quot;Date&quot;),\n               yaxis = list(title = &quot;Y&quot;))\n      \n      ## Add the IDs selected in input$vars\n      for (item in input$vars) {\n        mdata %&gt;% \n          mutate(Date = make_date(Year, Month, 15)) %&gt;% \n          filter(ID == item) -&gt; foo\n        \n        p &lt;- add_lines(p, data = foo, x = ~Date, y = ~Value, color = ~Variable, visible = &quot;legendonly&quot;,\n                       evaluate = TRUE)\n        \n        p &lt;- p %&gt;% layout(showlegend = TRUE,\n                          legend = list(orientation = &quot;v&quot;,   # show entries horizontally\n                                        xanchor = &quot;center&quot;,  # use center of legend as anchor\n                                        x = 100, y=1))        \n      }\n      print(p)\n    })\n}\n</code></pre>\n<pre><code>shinyApp(uix, serverx)\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/AmNew.png\" alt=\"\" /></p>\n<p><sup>Created on 2020-06-12 by the <a href=\"https://reprex.tidyverse.org\" rel=\"nofollow noreferrer\">reprex package</a> (v0.3.0)</sup></p>\n<h3>Question: is it possible to keep the <code>Var1</code> trace when changing to <code>ID == 2</code>?</h3>\n<p><em><strong>Idea:</strong></em> I think it'd be possible if I could change the <code>visible = 'legendonly</code> to <code>TRUE</code> right after app deployment, so it only applies to the first example of the plot. Probably, I need to change <code>evaluate</code> to <code>FALSE</code> as well.</p>\n<p><em><strong>Data:</strong></em></p>\n<pre><code>mdata &lt;- structure(list(Year = c(2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, 2015L, \n2015L, 2015L, 2015L, 2015L, 2015L, 2015L), Month = c(1L, 1L, \n1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 5L, 5L, \n5L, 5L, 6L, 6L, 6L, 6L, 7L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 9L, 9L, \n9L, 9L, 10L, 10L, 10L, 10L, 11L, 11L, 11L, 11L, 12L, 12L, 12L, \n12L), Variable = c(&quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, &quot;Var2&quot;, &quot;Var2&quot;, &quot;Var1&quot;, &quot;Var1&quot;, \n&quot;Var2&quot;, &quot;Var2&quot;), ID = c(1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, \n2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, \n1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2), Value = c(187.797761979167, \n6.34656438541666, 202.288468333333, 9.2249309375, 130.620451458333, \n4.61060465625, 169.033213020833, 7.5226940625, 290.015582677083, \n10.8697671666667, 178.527960520833, 7.6340359375, 234.53493728125, \n8.32400878125, 173.827054583333, 7.54521947916667, 164.359205635417, \n5.55496292708333, 151.75458625, 6.361610625, 190.124467760417, \n6.45046077083333, 191.377006770833, 8.04720916666667, 170.714612604167, \n5.98860073958333, 210.827157916667, 9.46311385416667, 145.784868927083, \n5.16647911458333, 159.9545675, 6.7466725, 147.442681895833, 5.43921594791667, \n153.057018958333, 6.39029208333333, 165.6476956875, 5.63139815625, \n197.179256875, 8.73210604166667, 148.1879651875, 5.58784840625, \n176.859451354167, 7.65670020833333, 186.215496677083, 7.12404453125, \n219.104379791667, 9.39468864583333)), class = c(&quot;grouped_df&quot;, \n&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, -48L), groups = structure(list(\n    Year = 2015L, .rows = list(1:48)), row.names = c(NA, -1L), class = c(&quot;tbl_df&quot;, \n&quot;tbl&quot;, &quot;data.frame&quot;), .drop = TRUE))\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "shiny-reactivity"],
		"owner": {
			"reputation": 147,
			"user_id": 14300683,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/65220d7567af889217234bb3ef9500d5?s=256&d=identicon&r=PG&f=1",
			"display_name": "datatech",
			"link": "https://stackoverflow.com/users/14300683/datatech"
		},
		"is_answered": true,
		"view_count": 41,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75481147,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676632458,
		"creation_date": 1676616060,
		"question_id": 75480969,
		"link": "https://stackoverflow.com/questions/75480969/how-to-pass-a-value-inside-an-observeevent-to-another-one",
		"title": "How to pass a value inside an observeEvent to another one?",
		"body": "<p>I am trying to pass a value assigned in an <code>observeEvent</code> to another <code>observeEvent</code> in shiny. In addition to the codes below, I also attempted to use <strong>my_dynamic_table()</strong>, but unfortunately I couldn't achieve my goal.</p>\n<p>My aim is to have &quot;Something 1&quot; on the screen if  <strong>my_dynamic_table</strong> is not empty.</p>\n<pre><code>library(shiny)\nlibrary(DT)\n\nmy_dynamic_table = data.frame(NA)\n\nshinyApp(\n  ui = fluidPage(\n    actionButton(&quot;call&quot;,&quot;Call&quot;),\n    actionButton(&quot;save&quot;,&quot;Save&quot;),\n    verbatimTextOutput('text'), \n    DT::dataTableOutput('table_out')\n  \n  ),\n\n  server = function(input, output, session) {\n   \n\n  observeEvent (input$call ,{\n    \n    my_dynamic_table &lt;- mtcars\n    \n    output$table_out &lt;- DT::renderDataTable(\n\n                    my_dynamic_table            \n\n                    ) # renderDataTable : table_out     \n\n    })\n    \n\n\n\n   observeEvent (input$save,{\n        \n        output$text &lt;- renderText({ \n                if(nrow(my_dynamic_table)&gt;1) {\n\n                        &quot;Something 1&quot;\n                }else {\n                        &quot;Something 2&quot;\n\n                }\n\n         }) #renderText\n\n    }) #observeEvent\n\n\n  } #server\n) #shinyApp\n</code></pre>\n"
	}, {
		"tags": ["r", "glm"],
		"owner": {
			"reputation": 3,
			"user_id": 18222525,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a3b4d0f1d001faf5702b438600e2e085?s=256&d=identicon&r=PG",
			"display_name": "Sally",
			"link": "https://stackoverflow.com/users/18222525/sally"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676632405,
		"creation_date": 1676632405,
		"question_id": 75483558,
		"link": "https://stackoverflow.com/questions/75483558/glm-binomial-regression-how-can-i-check-what-output-is-predicting-level-functi",
		"title": "glm binomial regression. How can I check what output is predicting, level function not working",
		"body": "<p>I have the same question as posted here (<a href=\"https://stackoverflow.com/questions/70656322/glm-binomial-regression-how-can-i-check-what-output-is-predicting/75483367?noredirect=1#comment133180704_75483367\">glm binomial regression. How can I check what output is predicting</a>) and tried to check it with levels(outcome) as it was suggested in the answer. However, it is not working for me for some reason:</p>\n<pre><code>glm( factor(mgroup) ~ factor(sex) + age  +  factor(Site_Category)  + expr, \n              data = pheno, family = binomial)\n</code></pre>\n<p>I tried:</p>\n<pre><code>\n&gt; levels(mgroup)\nError in h(simpleError(msg, call)) : \n  error in evaluating the argument 'x' in selecting a method for function 'levels': object 'mgroup' not found\n&gt; levels(outcome)\nError in h(simpleError(msg, call)) : \n  error in evaluating the argument 'x' in selecting a method for function 'levels': object 'outcome' not found\n&gt; levels(factor(mgroup))\nError in h(simpleError(msg, call)) : \n  error in evaluating the argument 'x' in selecting a method for function 'levels': object 'mgroup' not found\n\n</code></pre>\n<p>Has anyone an idea what I am doing wrong?</p>\n<p>Thank you,\nBine</p>\n<p>Tried to run the command as suggested in the solution but it is not working.</p>\n"
	}, {
		"tags": ["r", "gtsummary", "multinomial"],
		"owner": {
			"reputation": 11,
			"user_id": 14787791,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhQgkMkhpmrX3t0ilfZd0KdIWpeKBZl6e_cxy0j0A=k-s256",
			"display_name": "Chris_S",
			"link": "https://stackoverflow.com/users/14787791/chris-s"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676632157,
		"creation_date": 1676545600,
		"question_id": 75471358,
		"link": "https://stackoverflow.com/questions/75471358/manipulating-labels-and-levels-in-tbl-regression-gtsummary-with-multinom-nnet",
		"title": "Manipulating labels and levels in tbl_regression (gtsummary) with multinom (nnet)",
		"body": "<p>It seems the functions for manipulating labels and levels in tbl_regression tables do not work with multinom from the nnet library. Here is reproducable code with the resulting tables. Does anyone have a clue how to get my labels bold and italicized in multinom? Thanks!</p>\n<pre><code> library(nnet)\nlibrary(gtsummary)\nlibrary(tidyverse)\n\n# Create a sample data frame\nset.seed(123)\ndf &lt;- data.frame(\n  y = sample(c(0, 1, 2), 100, replace = TRUE),\n  var1 = rnorm(100),\n  var2 = rnorm(100),\n  var3 = rnorm(100)\n)\n\n# Fit a multinomial logistic regression model with nnet\nmodel &lt;- multinom(y ~ var1 + var2 + var3, data = df)\n\n# Create a summary table with tbl_regression\nmodel_tab &lt;- tbl_regression(model, \n                            exponentiate = TRUE) %&gt;% \n  bold_labels() %&gt;%\n  italicize_labels()\n\nmodel_tab\n\n# Fit a linear regression model\nmodel_2 &lt;- glm(var1 ~ var2 + var3, data = df, family = &quot;gaussian&quot;)\n\n# Create a summary table with tbl_regression\nmodel_2_tab &lt;- tbl_regression(model_2) %&gt;%\n  bold_labels() %&gt;%\n  italicize_labels()\n\nmodel_2_tab\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JzykV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JzykV.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/6OYEG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6OYEG.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "shiny", "shinyapps", "shiny-reactivity"],
		"owner": {
			"reputation": 1,
			"user_id": 16863087,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJxO63Y0ZIepTwplUjKQ1F2OvRbwUERlGFzX7kiy=k-s256",
			"display_name": "Hrx",
			"link": "https://stackoverflow.com/users/16863087/hrx"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676632109,
		"creation_date": 1676458105,
		"last_edit_date": 1676632109,
		"question_id": 75458657,
		"link": "https://stackoverflow.com/questions/75458657/use-output-of-1-reactive-function-as-input-of-another-in-r-shiny",
		"title": "Use Output of 1 reactive function as input of another in R Shiny",
		"body": "<p>As a newcomer to Shiny, I've written some code that I'd like to enhance by enabling users to filter the data from an uploaded table. To achieve this, I've created an input ID named &quot;SelectNames,&quot; but I'm struggling to connect it to the table that I generated from the uploaded data. Ultimately, I hope to leverage this input to perform additional processing, so any guidance on how to accomplish this would be greatly appreciated.</p>\n<pre><code>    ## Load the libraries\n    library(shiny)\n    library(shinythemes)\n    library(vroom)\n    library(dplyr)\n    library(lubridate)\n    library(tidyverse)\n    library(xml2)\n    library(readxl)\n    library(gbp)\n    library(plotly)\n    library(shinyjs)\n    library(DT)\n    library(knitr)\n    \n    ui = fluidPage(\n  # Select the Theme\n  theme = shinytheme('flatly'),\n  tabsetPanel(type = &quot;tabs&quot;,\n              tabPanel(\n                titlePanel(&quot;generate QR Code&quot;),\n                sidebarLayout(\n                  sidebarPanel(\n                    fileInput(inputId = &quot;excelfile&quot;,\n                              label = &quot;Upload Excel file&quot;,\n                              accept = &quot;.xlsx&quot;),\n                    br(),\n                    selectInput(inputId = &quot;SelectNames&quot;,\n                              label = &quot;Select Names&quot;)                  ),\n                  mainPanel( type = 'tabs',\n                             tabPanel(title = 'Page1',\n                                      h5('Order Details'),\n                                      DT::dataTableOutput(outputId = 'Transactions'))\n                  )\n                )\n              )\n  )\n)\n\nserver = function(input, output, session) {\n  data_rec = reactive({\n    # read XML file\n    excel_file &lt;- read_excel(input$excelfile$datapath)\n    \n    # Create an empty data frame to store the extracted information\n    products_df &lt;- data.frame(ProductName = character(),\n                              ActualQuantity = character(),\n                              Order_ID = character(),\n                              Dispatched_To = character(),\n                              stringsAsFactors = FALSE)\n    names = distinct(products_df$Dispatched_To)\n  })\n  \n  output$Transactions = DT::renderDataTable({\n    DT::datatable(data = data_rec())\n  })\n}\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n"
	}, {
		"tags": ["r", "plot", "probability", "approximation"],
		"owner": {
			"reputation": 113,
			"user_id": 14575676,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/EdVM2.jpg?s=256&g=1",
			"display_name": "Smilia",
			"link": "https://stackoverflow.com/users/14575676/smilia"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75483452,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676631793,
		"creation_date": 1676628804,
		"question_id": 75482888,
		"link": "https://stackoverflow.com/questions/75482888/comparing-the-exact-and-an-approximation-of-the-cdf-function-with-r-command-ecdf",
		"title": "Comparing the exact and an approximation of the CDF function with R command ecdf",
		"body": "<p>I want to compute the exact and an approximation of the Cumulative Distribution Function for the following density :</p>\n<pre><code>f(x)= U(x;-1,2)/2 + U(x;0,1)/2\n</code></pre>\n<p>where U(.;a,b) is the uniform density function on the interval [a,b].</p>\n<p>I know how to compute the exact expression of the CDF.\nMy problem is that I do not understand why my approximation provided by the R function <code>ecdf</code> is a very bad approximation of the exact CDF (see code below).</p>\n<pre><code>#density function\nf       = function(x){dunif(x,-1,2)/2+dunif(x)/2}\nplot(f,-2,4)\n\n#Approximation\nxis     = runif(1000000,-1,2)/2+runif(1000000)/2\nFfapp   = ecdf(xis)\nzs      = seq(-1.2, 2.2, by=0.01)\nFfs     = Ffapp(zs)\nplot(zs,Ffs,type='l',col=&quot;red&quot;)\n\n#exact expression  \nFfexact = function(t){(t &lt;= -1) * 0 +\n(t&gt;-1 &amp; t&lt;=0) * (t+1)/6 +\n(t&gt;0 &amp; t&lt;=1) * ((t+1)/6 + t/2) +\n(t&gt;1 &amp; t&lt;=2) * ((t+1)/6 + 1/2) +\n(t&gt;2) * 1}\ncurve(Ffexact,-2,3,add=TRUE)\nlegend(-1, 0.9, legend=c(&quot;Fapp&quot;, &quot;Fexact&quot;),col=c(&quot;red&quot;, &quot;black&quot;), lty=1:1)\n</code></pre>\n<p>How to explain the bad approximation of the CDF obtained with the <code>ecdf</code> command ?</p>\n<p>EDIT: here is the plot.\nWe can see that the approximation is quite far from the exact expression. But more importantly I say it's a bad approximation because we do not have convergence of the red curve to the black curve when the size of the sample (argument of <code>runif</code>) tends to plus infinity. Mathematically we should have pointwise convergence of the two CDF.</p>\n<p><a href=\"https://i.stack.imgur.com/rSItP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSItP.png\" alt=\"plot\" /></a></p>\n"
	}, {
		"tags": ["r", "arguments", "variadic-functions"],
		"owner": {
			"reputation": 97,
			"user_id": 11646493,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-M37w7vJX-4w/AAAAAAAAAAI/AAAAAAAAAA4/-bGcfxb0H3w/photo.jpg?sz=256",
			"display_name": "Leon Smith",
			"link": "https://stackoverflow.com/users/11646493/leon-smith"
		},
		"is_answered": true,
		"view_count": 45,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75482666,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676631366,
		"creation_date": 1676627111,
		"last_edit_date": 1676631366,
		"question_id": 75482572,
		"link": "https://stackoverflow.com/questions/75482572/using-an-undefined-misspelled-argument-in-paste-function-understand-the-re",
		"title": "Using an undefined (misspelled) argument in `paste` function - understand the result",
		"body": "<p>We all know there is a <code>collapse</code> argument in <code>paste()</code> function. It refers to an optional character string to separate the results:</p>\n<pre><code>paste(1:5, collapse = &quot;, &quot;)  \n[1] &quot;1, 2, 3, 4, 5&quot;\n</code></pre>\n<p>But, also when the <code>collapse</code> argument is misspelled - e.g. <code>cpllapse</code> - the call doesn't error, although the result is confusing:</p>\n<pre><code>paste(1:5, cpllapse = &quot;, &quot;)\n[1] &quot;1 , &quot; &quot;2 , &quot; &quot;3 , &quot; &quot;4 , &quot; &quot;5 , &quot;\n</code></pre>\n<p>I googled the <code>cpllapse</code> parameter in R, but could not find anything.</p>\n<p>Why doesn't <code>paste()</code> error when using a misspelled argument, and how can the result be explained? Or is there actually a <code>cpllapse</code> parameter in <code>paste()</code>?</p>\n"
	}, {
		"tags": ["r", "statistics", "regression", "logistic-regression", "glm"],
		"owner": {
			"reputation": 3,
			"user_id": 17413243,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgXxtpIg4Jef0DQCzxW8MfHoe-BTLPvkzLBLMvRiQ=k-s256",
			"display_name": "James Knight",
			"link": "https://stackoverflow.com/users/17413243/james-knight"
		},
		"is_answered": true,
		"view_count": 270,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676631305,
		"creation_date": 1641834717,
		"last_edit_date": 1642368138,
		"question_id": 70656322,
		"link": "https://stackoverflow.com/questions/70656322/glm-binomial-regression-how-can-i-check-what-output-is-predicting",
		"title": "glm binomial regression. How can I check what output is predicting",
		"body": "<p>Stupid question, but I want to be sure.\n<code>glm(outcome ~ cva, family = &quot;binomial&quot;, data=df, x=TRUE, y=TRUE)</code></p>\n<pre><code>Predictors  Odds    p\n(Intercept) 0.16    &lt;0.001\ncvaTRUE     1.95    0.029\n</code></pre>\n<p>My 'outcome' variable is YES or NO as.factor</p>\n<p>How can I be sure this glm is giving the Odds of YES and not NO?\nie I want to be confident that this is saying &quot;if cva TRUE then Odds 1.95 for outcome YES.</p>\n"
	}, {
		"tags": ["javascript", "r", "shiny", "fullpage.js", "shinyjs"],
		"owner": {
			"reputation": 125,
			"user_id": 19556911,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AItbvmmejmmrVFx5qjW6hDRNQdZzm-8mwoKycQVwdDoO=k-s256",
			"display_name": "mazu",
			"link": "https://stackoverflow.com/users/19556911/mazu"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75475255,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676631273,
		"creation_date": 1676556828,
		"last_edit_date": 1676563748,
		"question_id": 75473500,
		"link": "https://stackoverflow.com/questions/75473500/update-menuanchor-of-fullpage-js-in-r-shiny-app-from-server-side",
		"title": "update menuanchor of fullPage.js in R Shiny App from server side",
		"body": "<p>I am using the <code>fullPage</code> package to create a Shiny App and I am facing the following issue : I would like to update from the <code>server</code> side the labels of the menu that are first defined in the <code>pagePiling</code> function of the <code>ui</code> part.</p>\n<p>I have seen in the HTML code that the field that I should update is the one here below, but I don't know how to change it/access it in the <code>server</code> part of my app.</p>\n<pre><code>&lt;ul id=&quot;tocMenu&quot;&gt;\n        &lt;li data-menuanchor=&quot;test_page&quot;&gt;\n          &lt;a href=&quot;#test_page&quot;&gt;temp_title&lt;/a&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n</code></pre>\n<p>I have the impression that this sould be achievable with javascript, but I don't know a lot about js ; among others, I have tried so far the following stuff :</p>\n<pre><code>library(fullPage)\nlibrary(shiny)\nlibrary(shinyjs)\nlibrary(shinyWidgets)\nshinyApp(\n  ui = pagePiling(\n    shinyjs::useShinyjs(), \n    center = TRUE,\n    sections.color = c(\n      &quot;#CFE2F3&quot;\n    ),\n    menu = c(\n      &quot;temp_title&quot; = &quot;test_page&quot;\n    ),\n    pageSection(\n      menu=&quot;test_page&quot;,\n      pickerInput(&quot;title&quot;,  multiple = F, selected=NULL,\n                  choices = c(&quot;Title 1&quot;, &quot;Title 2&quot;)),\n    )\n  ),\n  server = function(input, output) {\n    observeEvent(input$title, {\n      # runjs(&quot;$('#fullpage').fullpage({\n      #   anchors: ['test'],\n      #   menu: '#tocMenu'});&quot;)\n      runjs(paste0('document.getElementById(&quot;test_page&quot;).innerHTML = &quot;', input$title, '&quot;;'))\n    } ) \n  }\n)\n</code></pre>\n<p>If anyone could help, I would be very grateful !</p>\n<p>Thanks</p>\n"
	}, {
		"tags": ["r", "time-series"],
		"owner": {
			"reputation": 1,
			"user_id": 18109364,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJz_FZzyIcix0X-LrsxFIcTV9eJ9Zt3mjbz7a4MNzQ=k-s256",
			"display_name": "AmAzing",
			"link": "https://stackoverflow.com/users/18109364/amazing"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676630569,
		"creation_date": 1676630569,
		"question_id": 75483220,
		"link": "https://stackoverflow.com/questions/75483220/error-in-validate-index-column-date-index-must-not-contain-na-using",
		"title": "Error in `validate_index()`: ! Column `Date` (index) must not contain `NA` using modeltime package in R",
		"body": "<p>I'm having trouble visualizing and calibrating time series using the modeltime package. In the following code, I encounter two similar errors:</p>\n<pre><code># Webscrape\n\nwebpage &lt;- read_html(&quot;https://www.westmetall.com/en/markdaten.php?action=table&amp;field=LME_Al_cash&quot;)\nalu_table &lt;- html_nodes(webpage, &quot;table&quot;) %&gt;%\n  html_table(fill = TRUE)\nalu_df &lt;- map_dfr(alu_table, magrittr::extract, c(&quot;date&quot;, &quot;LME Aluminium Cash-Settlement&quot;))\n\n# Names\n\nnames(alu_df)[1] &lt;- &quot;Date&quot;\nnames(alu_df)[2] &lt;- &quot;Aluminium_Prices&quot;\n\n# Clear rows in data frame \n\nalu_df_cleaned &lt;- alu_df %&gt;% \n  # Remove unwanted rows\n  filter(Date != &quot;date&quot; &amp; Aluminium_Prices != &quot;LME Aluminium Cash-Settlement&quot;)\n\n# Change Date type\n\nalu_df_cleaned$Date &lt;- dmy(alu_df_cleaned$Date)\n\n# Proper structure of integers to translate them to the numeric class\n\nalu_df_cleaned$Aluminium_Prices &lt;- gsub(&quot;,&quot;, &quot;&quot;, alu_df_cleaned$Aluminium_Prices)\nalu_df_cleaned$Aluminium_Prices &lt;- as.numeric(alu_df_cleaned$Aluminium_Prices)\n\n# Sorting prices by Date\n\nalu_df_cleaned &lt;- alu_df_cleaned %&gt;% \n  arrange(Date)\n\n# Check if there are any NA's \n\nsum(is.na(alu_df_cleaned$Aluminium_Prices))\n\ndf_na &lt;- as.data.frame(\n  cbind(\n    map(\n      map(alu_df_cleaned$Aluminium_Prices, is.na), sum)\n    )\n  )\n\nrownames(subset(df_na, df_na$V1 != 0))\n\n# Convert to tibble\n\nalu_ts_data &lt;- alu_df_cleaned %&gt;% \n  mutate(row_name = row_number()) %&gt;% \n  tsibble::as_tsibble(index = Date, key = row_name)\n\n# Drop NA's from the dataset\n\nalu_ts_data &lt;- alu_ts_data %&gt;% \n  drop_na()\n\n# Split the data into train and test \n\nset.seed(1353)\nsplits &lt;- initial_time_split(alu_ts_data)\n\ntrain &lt;- training(splits)\ntest &lt;- testing(splits)\n\n# Visualise the Splits\nsplits %&gt;% \n  tk_time_series_cv_plan() %&gt;% \n  plot_time_series_cv_plan(.date_var = Date,\n                           .value = Aluminium_Prices)\n\nError in `validate_index()`:\n! Column `Date` (index) must not contain `NA`.\nBacktrace:\n  1. splits %&gt;% tk_time_series_cv_plan() %&gt;% ...\n 10. tidyr:::unnest.data.frame(., .value)\n 11. tidyr::unchop(...)\n 12. tidyr:::df_unchop(...)\n 13. vctrs::list_unchop(col, ptype = col_ptype)\n 14. vctrs (local) `&lt;fn&gt;`()\n 16. tsibble:::vec_restore.tbl_ts(x = x, to = to)\n 17. tsibble::build_tsibble(...)\n 18. tsibble:::validate_index(tbl, !!qindex)\nError in validate_index(tbl, !!qindex) :\n\n</code></pre>\n<pre><code>\n# Multiple models\n\n# Auto ARIMA Model\narima_auto_fit &lt;- arima_reg() %&gt;% \n  set_engine(&quot;auto_arima&quot;) %&gt;% \n  fit(Aluminium_Prices ~ Date, data = train)\n\n# Boosted ARIMA Model \narima_boost_fit &lt;- arima_boost() %&gt;% \n  set_engine(&quot;auto_arima_xgboost&quot;) %&gt;% \n  fit(Aluminium_Prices ~ Date, data = train)\n\n# Exponential Smoothing Model \nets_fit &lt;- exp_smoothing() %&gt;% \n  set_engine(&quot;ets&quot;) %&gt;% \n  fit(Aluminium_Prices ~ Date, data = train)\n\n# Prophet Model \nprophet_fit &lt;- prophet_reg() %&gt;% \n  set_engine(&quot;prophet&quot;) %&gt;% \n  fit(Aluminium_Prices ~ Date, data = train)\n\n# Linear Model \nlm_fit &lt;- linear_reg() %&gt;% \n  set_engine(&quot;lm&quot;) %&gt;% \n  fit(Aluminium_Prices ~ Date, data = train)\n\n# Put in Table and Calibrate\n\nmodels_tbl &lt;- modeltime_table(\n  arima_auto_fit,\n  arima_boost_fit,\n  ets_fit,\n  prophet_fit,\n  lm_fit\n)\n\n# Calibrate \n\ncalibrate_tbl &lt;- models_tbl %&gt;% \n  modeltime::modeltime_calibrate(new_data = test, quiet = FALSE)\n\nError: Column `Date` (index) must not contain `NA`.\nError: Column `Date` (index) must not contain `NA`.\nError: Column `Date` (index) must not contain `NA`.\nError: Column `Date` (index) must not contain `NA`.\nError: Column `Date` (index) must not contain `NA`.\n\n\u2500\u2500 Model Calibration Failure Report \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nAll models failed Modeltime Calibration:\n- Model 1: Failed Calibration.\n- Model 2: Failed Calibration.\n- Model 3: Failed Calibration.\n- Model 4: Failed Calibration.\n- Model 5: Failed Calibration.\n\nPotential Solution: Use `modeltime_calibrate(quiet = FALSE)` AND Check the Error/Warning Messages for clues as to why your model(s) failed calibration.\n\u2500\u2500 End Model Calibration Failure Report \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nError in `validate_modeltime_calibration()`:\n! All models failed Modeltime Calibration.\nBacktrace:\n 1. models_tbl %&gt;% ...\n 3. modeltime:::modeltime_calibrate.mdl_time_tbl(...)\n 4. modeltime:::validate_modeltime_calibration(ret)\nError in validate_modeltime_calibration(ret)\n\n</code></pre>\n<p>I attempted to see if there were any NAs in my dataset and I have found two. Then I have droped them, but nothing has resolved the problem. I would greatly appreciate it if you could help me.</p>\n"
	}, {
		"tags": ["r", "math", "latitude-longitude"],
		"owner": {
			"reputation": 37,
			"user_id": 17718435,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e9cc8da08eec96b49c15448a27e8d409?s=256&d=identicon&r=PG",
			"display_name": "DiveDaniela",
			"link": "https://stackoverflow.com/users/17718435/divedaniela"
		},
		"is_answered": true,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75475611,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676630476,
		"creation_date": 1676566113,
		"last_edit_date": 1676630476,
		"question_id": 75475453,
		"link": "https://stackoverflow.com/questions/75475453/calculate-latitudinal-range-of-species-abundance",
		"title": "Calculate Latitudinal Range of species abundance",
		"body": "<p>I'm trying to calculate the latitudinal ranges for species (ASVs) along a transect but cannot get my head around how to do this.\nBasically I want the maximum latitude minus the minimum latitude where a species is present, i.e. abundance does not equal 0. For examples Species 1 is present for the first time at -35 deg S and present for the last time at -40 deg S, it's latitudinal range would be 5 degrees. Thanks!</p>\n<p>My data looks like this:</p>\n<pre><code>&gt; dput(test[1:30, c(1:5)])\nstructure(list(Station_neat = c(&quot;001_DCM&quot;, &quot;001_SA&quot;, &quot;003_DCM&quot;, \n&quot;003_SA&quot;, &quot;005_DCM&quot;, &quot;005_SA&quot;, &quot;007_DCM&quot;, &quot;007_SA&quot;, &quot;009_DCM&quot;, \n&quot;009_SA&quot;, &quot;011_DCM&quot;, &quot;011_SA&quot;, &quot;013_DCM&quot;, &quot;013_SA&quot;, &quot;015_DCM&quot;, \n&quot;015_SA&quot;, &quot;017_DCM&quot;, &quot;017_SA&quot;, &quot;019_DCM&quot;, &quot;019_SA&quot;, &quot;021_DCM&quot;, \n&quot;021_SA&quot;, &quot;023_DCM&quot;, &quot;023_SA&quot;, &quot;025_DCM&quot;, &quot;025_SA&quot;, &quot;027_DCM&quot;, \n&quot;027_SA&quot;, &quot;029_DCM&quot;, &quot;029_SA&quot;), Lat = c(-29.997, -29.997, -30.9975, \n-30.9975, -31.9995, -31.9995, -32.99816667, -32.99816667, -34.00016667, \n-34.00016667, -34.9995, -34.9995, -36.00083333, -36.00083333, \n-36.9985, -36.9985, -38.00016667, -38.00016667, -38.99833333, \n-38.99833333, -39.999, -39.999, -40.99783333, -40.99783333, -42.0005, \n-42.0005, -42.99633333, -42.99633333, -43.9975, -43.9975), asv_3 = c(80, \n0, 65, 0, 41, 0, 50, 0, 44, 0, 53, 0, 59, 0, 38, 0, 43, 0, 25, \n0, 29, 51, 35, 22, 133, 35, 159, 83, 965, 414), asv_4 = c(766, \n694, 286, 791, 421, 1202, 382, 431, 484, 684, 431, 529, 454, \n722, 621, 370, 472, 439, 394, 243, 414, 518, 297, 300, 574, 396, \n395, 1359, 1113, 541), asv_5 = c(1314, 2812, 729, 2874, 915, \n3720, 1226, 2046, 940, 1783, 1220, 2627, 986, 3195, 1514, 566, \n590, 1603, 325, 667, 748, 932, 616, 339, 1167, 1088, 988, 2333, \n1563, 2146)), row.names = c(NA, 30L), class = &quot;data.frame&quot;)\n</code></pre>\n<p>Edit: ASVs (e.g. asv_4) are my species. I have about 600 of these.</p>\n<p>Edit 2: Scatterplot with mean latitudinal range and latitude (see comment):\n<a href=\"https://i.stack.imgur.com/sQaun.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQaun.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "tidyverse", "transform"],
		"owner": {
			"reputation": 3,
			"user_id": 19999634,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/753148c6261d163eafa700db37428e8c?s=256&d=identicon&r=PG",
			"display_name": "hazel",
			"link": "https://stackoverflow.com/users/19999634/hazel"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"accepted_answer_id": 75483166,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676630322,
		"creation_date": 1676630010,
		"question_id": 75483107,
		"link": "https://stackoverflow.com/questions/75483107/r-transform-data-with-year-begin-and-year-end-into-time-series-data",
		"title": "R transform data with year begin and year end into time series data",
		"body": "<p>I have a problem that is very similar to this:</p>\n<p><a href=\"https://stackoverflow.com/questions/50034366/r-transform-data-frame-with-start-and-end-year-into-time-series\">R transform data frame with start and end year into time series</a> however, none of the solutions have worked for me.</p>\n<p>This the original df:</p>\n<pre><code>df &lt;- data.frame(country = c(&quot;Albania&quot;, &quot;Albania&quot;, &quot;Albania&quot;), leader = c(&quot;Sali Berisha&quot;, &quot;Sali Berisha&quot;, &quot;Sali Berisha&quot;), term = c(2, 2, 2), yearbegin = c(2009,2009, 2009), yearend = c(2013, 2013, 2013))\n</code></pre>\n<p>And it currently looks like this:</p>\n<pre><code>#&gt;    country    leader         term  yearbegin  yearend\n#&gt; 1   Albania    Sali Berisha    2    2009       2013\n#&gt; 2   Albania    Sali Berisha    2    2009       2013\n#&gt; 3   Albania    Sali Berisha    2    2009       2013\n</code></pre>\n<p>And I'm trying to get it to look like this:</p>\n<pre><code>#&gt; 1    Albania  Sali Berisha   2      2009\n#&gt; 2    Albania  Sali Berisha   2      2010\n#&gt; 3    Albania  Sali Berisha   2      2011\n#&gt; 4    Albania  Sali Berisha   2      2012\n#&gt; 5    Albania  Sali Berisha   2      2013\n</code></pre>\n<p>When using this code:</p>\n<pre><code>library(tidyverse)\n gpd_df&lt;- gpd_df %&gt;% \n  mutate(year = map2(yearbegin, yearend, `:`)) %&gt;% \n  select(-yearbegin, -yearend) %&gt;% \n  unnest```\n\nI get a column that looks like this:\n\n```year\n2009:2013\n2009:2013\n2009:2013\n</code></pre>\n<p>Many thanks in advance for your help!!</p>\n<p>trying to transform date into time-series form year begin/year end. Have just found errors :')</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 13,
			"user_id": 21212182,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f7619b361a613d9b0e95b17780d899ae?s=256&d=identicon&r=PG",
			"display_name": "Jana",
			"link": "https://stackoverflow.com/users/21212182/jana"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676629760,
		"creation_date": 1676629442,
		"last_edit_date": 1676629760,
		"question_id": 75483003,
		"link": "https://stackoverflow.com/questions/75483003/how-can-i-test-the-environmental-kuznets-curve-theory-with-r",
		"title": "How can I test the Environmental-Kuznets Curve theory with R?",
		"body": "<p>I need help with writing the code for the environmental Kuznets Curve in R. The theory behind it is that with increasing economic growth environmental degradation increases until a certain point and then economic growth has the opposit effect and environmental degradation decreases. If correct this relationship should look like an inverted u-shape. I have GDP and greenhouese gas emissions data for 90 countries and multiple years and would like to see if the theory is true. I know that I somehow need to use the lm() function, but other than that I really need help on how to go about it. If anyone could offer any insights/ideas I would be really thankful.</p>\n<p>My data looks like this:</p>\n<pre><code> Country.Name                   Country.Code GDP1980 GDP2020 GDPGrowth\n1                       Aruba          ABW      NA 24487.9        NA\n2 Africa Eastern and Southern          AFE   738.9  1353.8     614.9\n3                 Afghanistan          AFG   291.6   516.9     225.3\n4  Africa Western and Central          AFW   709.8  1683.4     973.6\n5                      Angola          AGO   711.9  1604.0     892.1\n6                     Albania          ALB      NA  5332.2        NA\n</code></pre>\n<p>I tried <code>ggplot(aes(GDPGrowth, GHP.new), data=DataM) + geom_line()</code> and the output is a graph, but I feel like it does not match the theory.</p>\n"
	}, {
		"tags": ["r", "dataframe", "datetime"],
		"owner": {
			"reputation": 65,
			"user_id": 9646666,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=256",
			"display_name": "Seniker96",
			"link": "https://stackoverflow.com/users/9646666/seniker96"
		},
		"is_answered": true,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75482906,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676628908,
		"creation_date": 1676626403,
		"question_id": 75482443,
		"link": "https://stackoverflow.com/questions/75482443/creating-holidays-predictor-dataframe-r",
		"title": "Creating Holidays Predictor Dataframe R",
		"body": "<p>I am working on an univeristy project and I have to build a dataframe which has just a datetime column to begin with.</p>\n<p>What I have to do is add some predictors, such as my birthday, Christmas day, adding for each predictor a boolean column.</p>\n<p>I've started extracting the month-day from a timestamp column but it's not working.</p>\n<pre><code>create_dataframe_predictors &lt;- function(df)\n{\n  # Extracting Month and Datfrom Date\n  df$MONTH_DAY &lt;- format(as.Date(df$Date), &quot;%m-%d&quot;)\n  df$MY_BDAY &lt;- NA\n  ifelse(df$MONTH_DAY == &quot;01-09&quot;, df$MY_BDAY = 1, df$MY_BDAY = 0)\n  return (df)\n} \ndf &lt;- create_dataframe_predictors(df)\n</code></pre>\n<p>So far nothing seems to work.</p>\n<p>Here is what I'd like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>DATE</th>\n<th>MONTH_DAY</th>\n<th>MY_BDAY</th>\n<th>CHRISTMAS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2022-01-01 00:00:00</td>\n<td>01-01</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2022-01-01 01:00:00</td>\n<td>01-01</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2022-01-09 00:00:00</td>\n<td>01-09</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2022-01-09 00:00:00</td>\n<td>01-09</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2022-12-25 00:00:00</td>\n<td>12-25</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2022-12-25 01:00:00</td>\n<td>12-25</td>\n<td>0</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 18779,
			"user_id": 8039978,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7a993c902d416a27ac88382e86d232d1?s=256&d=identicon&r=PG&f=1",
			"display_name": "Chris Ruehlemann",
			"link": "https://stackoverflow.com/users/8039978/chris-ruehlemann"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75482814,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676628827,
		"creation_date": 1676627913,
		"question_id": 75482711,
		"link": "https://stackoverflow.com/questions/75482711/summarise-strings-across-multiple-columns-in-grouped-data-frame",
		"title": "Summarise strings across multiple columns in grouped data frame",
		"body": "<p>I have this type of grouped data frame:</p>\n<pre><code>df &lt;- structure(list(TurnID = c(1L, 1L, 1L, 2L, 2L, 2L), \n                     grp = c(1L, 2L, 3L, 1L, 2L, 3L), \n                     File = c(&quot;F01&quot;, &quot;F01&quot;, &quot;F01&quot;, &quot;F01&quot;, &quot;F01&quot;, &quot;F01&quot;), \n                     N_p = c(3L, 3L, 3L, 3L, 3L, 3L), Line = c(6L, 6L, 6L, 7L, 7L, 7L), \n                     Speaker = c(&quot;ID01.A&quot;, &quot;ID01.A&quot;, &quot;ID01.A&quot;, &quot;ID01.C&quot;, &quot;ID01.C&quot;, &quot;ID01.C&quot;), \n                     Utterance = c(&quot;=yeah (...) yeah yeah&quot;, &quot;=yeah (...) yeah yeah&quot;, &quot;=yeah (...) yeah yeah&quot;, &quot;[(...)]&quot;, &quot;[(...)]&quot;, &quot;[(...)]&quot;), \n                     A_aoi = c(&quot;C&quot;, &quot;*&quot;, &quot;C&quot;, &quot;C&quot;, NA, NA), \n                     B_aoi = c(&quot;A&quot;, NA, NA, &quot;A&quot;, NA, NA), \n                     C_aoi = c(&quot;A&quot;, &quot;*&quot;, NA, &quot;A&quot;, &quot;*&quot;, &quot;A&quot;), \n                     A_aoi_dur = c(310L, 499L, 1201L, 2051L, NA, NA), \n                     B_aoi_dur = c(2010L, NA, NA, 2051L, NA, NA), \n                     C_aoi_dur = c(945L, 1065L, NA, 88L, 1660L, 303L)), \n                class = c(&quot;grouped_df&quot;, &quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), \n                row.names = c(NA, -6L), \n                groups = structure(list(TurnID = 1:2, .rows = structure(list(1:3, 4:6), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;,  &quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), \n                                   row.names = c(NA, -2L), .drop = TRUE))\n</code></pre>\n<p>When I try to summarise the values in the <code>*aoi</code> columns - by the grouping variable <code>TurnID</code>, which is already activated in the data frame - I get incorrect results:</p>\n<pre><code>df %&gt;%\n  #group_by(TurnID) %&gt;%\n  summarise(across(c(File, N_p, Line, Speaker, Utterance), first),\n    A_aoi = str_c(A_aoi, collapse = &quot;&quot;),\n    B_aoi = str_c(B_aoi, collapse = &quot;&quot;),\n    C_aoi = str_c(C_aoi, collapse = &quot;&quot;),\n    A_aoi_dur = str_c(A_aoi_dur, collapse = &quot;,&quot;),\n    B_aoi_dur = str_c(B_aoi_dur, collapse = &quot;,&quot;),\n    C_aoi_dur = str_c(C_aoi_dur, collapse = &quot;,&quot;)\n  )\n# A tibble: 2 \u00d7 12\n  TurnID File    N_p  Line Speaker Utterance             A_aoi B_aoi C_aoi A_aoi_dur    B_aoi_dur C_aoi_dur  \n   &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;                 &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;      \n1      1 F01       3     6 ID01.A  =yeah (...) yeah yeah C*C   NA    NA    310,499,1201 NA        NA         \n2      2 F01       3     7 ID01.C  [(...)]               NA    NA    A*A   NA           NA        88,1660,303\n</code></pre>\n<p>The <strong>correct result</strong> would be:</p>\n<pre><code>  TurnID File    N_p  Line Speaker Utterance             A_aoi B_aoi C_aoi   A_aoi_dur      B_aoi_dur C_aoi_dur  \n   &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;                 &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;      \n1      1 F01       3     6 ID01.A  =yeah (...) yeah yeah C*C    A    A*      310,499,1201   2010      945,1201         \n2      2 F01       3     7 ID01.C  [(...)]               C      A    A*A     2051           2051      88,1660,303\n</code></pre>\n<p>I'm sure the issue is with the grouping but can't figure out how to solve it...</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 13,
			"user_id": 20966151,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f02a28ee5cb039d95640d464bb61eb00?s=256&d=identicon&r=PG",
			"display_name": "Lilly",
			"link": "https://stackoverflow.com/users/20966151/lilly"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676628521,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676628332,
		"creation_date": 1676628277,
		"last_edit_date": 1676628332,
		"question_id": 75482767,
		"link": "https://stackoverflow.com/questions/75482767/address-several-variables-with-one-command",
		"closed_reason": "Duplicate",
		"title": "Address several variables with one command",
		"body": "<p>I have a variable called &quot;Retired&quot; in the Dataset plants which indicates in which year a coal fired power plant retired. I would like to create a dummy variable that tells me 0 = in operation, 1 = Retired. For this I have the following code:</p>\n<pre><code>&gt; plants$Retired_dummy &lt;- ifelse(plants$Retired == &quot;2000&quot; |\n&gt; plants$Retired == &quot;2001&quot; | plants$Retired == &quot;2002&quot;| plants$Retired ==\n&gt; &quot;2003&quot;| plants$Retired == &quot;2004&quot;| plants$Retired == &quot;2005&quot;|\n&gt; plants$Retired == &quot;2006&quot;| plants$Retired == &quot;2007&quot;| plants$Retired ==\n&gt; &quot;2008&quot;| plants$Retired == &quot;2009&quot;| plants$Retired == &quot;2010&quot;|\n&gt; plants$Retired == &quot;2011&quot;| plants$Retired == &quot;2012&quot;| plants$Retired ==\n&gt; &quot;2013&quot;| plants$Retired == &quot;2014&quot;| plants$Retired == &quot;2015&quot;|\n&gt; plants$Retired == &quot;2016&quot;| plants$Retired == &quot;2017&quot;| plants$Retired ==\n&gt; &quot;2018&quot;| plants$Retired == &quot;2019&quot;| plants$Retired == &quot;2020&quot;|\n&gt; plants$Retired == &quot;2021&quot; | plants$Retired == &quot;2022&quot; , 1, 0)\n</code></pre>\n<p>For the next variable &quot;Retire planned&quot; I would like to do the same, but I have years from 2020-2070 and do not want to enter them all individually. Is there a way to tell RStudio to address all variable names from 2020-2070?</p>\n"
	}, {
		"tags": ["r", "function", "group-by", "lapply"],
		"owner": {
			"reputation": 13,
			"user_id": 14780830,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/ee0929879a1f0408323257c077cc3db0?s=256&d=identicon&r=PG&f=1",
			"display_name": "AlHu",
			"link": "https://stackoverflow.com/users/14780830/alhu"
		},
		"is_answered": false,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676628303,
		"creation_date": 1676564394,
		"question_id": 75475115,
		"link": "https://stackoverflow.com/questions/75475115/calculate-proportions-of-multiple-columns",
		"title": "Calculate proportions of multiple columns",
		"body": "<p>I have a dataset that looks like this:</p>\n<pre><code>location = rep(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;), \n               times = c(4, 6, 3, 7))\nID = (1:20)\nVar1 = rep(c(0,2,1,1,0), times = 4)\nVar2 = rep(c(2,1,1,0,2), times = 4)\nVar3 = rep(c(1,1,0,2,0), times = 4)\n\ndf=as.data.frame(cbind(location, ID, Var1, Var2, Var3))\n</code></pre>\n<p>There are different locations where we evaluated variables with three levels each (score 0, 1, 2). Now I would like to get a result that contains the proportions of each score by location. The number of individuals examined (ID) is not the same at each location.</p>\n<p>So what I did was making functions to use with lapply:</p>\n<pre><code>score0 = function(a){sum(a==0)}\nscore1 = function(a){sum(a==1)}\nscore2 = function(a){sum(a==2)}\n</code></pre>\n<p>And I tried this, as well as  many other things:</p>\n<pre><code>df %&gt;%\n  group_by(location) %&gt;% \n  lapply(FUN = score0)\n</code></pre>\n<p>But it doesn't work. Again, what I would like to get is a data frame with the proportions of each score or level (0, 1, 2) per location. Or at least the number of occurrences of each score, so I can divide it by the number of individuals per location.\nI hope this makes sense.\nI also checked this question <a href=\"https://stackoverflow.com/questions/71185490/calculate-proportions-of-categories-within-groups\">Calculate proportions of categories within groups</a> but cannot apply the solution to my data with multiple variables.</p>\n<p>Thanks for your help!</p>\n"
	}, {
		"tags": ["r", "ggplot2", "count", "histogram"],
		"owner": {
			"reputation": 11,
			"user_id": 18940423,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJxL8ynwDLVXmd9-W5llVoBNLD-URtqx4t8h2eng=k-s256",
			"display_name": "creetz",
			"link": "https://stackoverflow.com/users/18940423/creetz"
		},
		"is_answered": false,
		"view_count": 38,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676628036,
		"creation_date": 1676484080,
		"last_edit_date": 1676628036,
		"question_id": 75463763,
		"link": "https://stackoverflow.com/questions/75463763/how-to-use-count-valued-rows-to-create-histogram-with-ggplot",
		"title": "How to use count valued rows to create histogram with ggplot",
		"body": "<p>I'm trying to show the distribution of salaries for a particular occupation.  The BLS data is provided with respect to data by county.  When I use the code below I almost get what I want but the problem is that the count being considered for the y axis is a count of the rows, which is count of counties.  So for a county with 10 employees and average income of 50k, that is being considered an equal count to a row that has 100 employees and average income of 80k.  I know I could do it by expanding each county row by the number of employees, giving me 10 rows of 50k and 100 rows of 80k, but I'm sure there is a better approach I just can't find it.</p>\n<pre class=\"lang-r prettyprint-override\"><code>ggplot(Construction[which(Construction$avg_annual_pay&gt;0),], aes(x=avg_annual_pay)) + \n  geom_histogram(binwidth = 5000, colour=&quot;black&quot;, fill=&quot;white&quot;) + \n  scale_x_continuous(labels = label_comma())\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>county</th>\n<th>avg # employees</th>\n<th>avg annual pay</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>34</td>\n<td>47000</td>\n</tr>\n<tr>\n<td>2</td>\n<td>900</td>\n<td>88000</td>\n</tr>\n<tr>\n<td>3</td>\n<td>85</td>\n<td>40000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Tried making y=avg_employees but geom_histogram doesn't allow for use of both x and y arguements.</p>\n<p>Edit:</p>\n<pre><code>        qcewGetIndustryData &lt;- function (year, qtr, industry) {\n      url &lt;- &quot;http://data.bls.gov/cew/data/api/YEAR/QTR/industry/INDUSTRY.csv&quot;\n      url &lt;- sub(&quot;YEAR&quot;, year, url, ignore.case=FALSE)\n      url &lt;- sub(&quot;QTR&quot;, tolower(qtr), url, ignore.case=FALSE)\n      url &lt;- sub(&quot;INDUSTRY&quot;, industry, url, ignore.case=FALSE)\n      read.csv(url, header = TRUE, sep = &quot;,&quot;, quote=&quot;\\&quot;&quot;, dec=&quot;.&quot;, na.strings=&quot; &quot;, skip=0)\n    }\n    \n    Construction &lt;- qcewGetIndustryData(&quot;2015&quot;, &quot;a&quot;, &quot;1012&quot;)\n</code></pre>\n<p>Edit2:</p>\n<pre><code>&gt; head(Construction[,1:5])\n  area_fips own_code industry_code agglvl_code size_code\n1     01000        3          1012          53         0\n2     01000        5          1012          53         0\n3     01001        5          1012          73         0\n4     01003        5          1012          73         0\n5     01005        5          1012          73         0\n6     01007        5          1012          73         0\n</code></pre>\n"
	}, {
		"tags": ["r", "matlab", "doparallel"],
		"owner": {
			"reputation": 13,
			"user_id": 21230830,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1846e052466ba132611a410caef1a644?s=256&d=identicon&r=PG",
			"display_name": "user0131",
			"link": "https://stackoverflow.com/users/21230830/user0131"
		},
		"is_answered": true,
		"view_count": 70,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"accepted_answer_id": 75481100,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676627689,
		"creation_date": 1676600880,
		"last_edit_date": 1676613967,
		"question_id": 75479731,
		"link": "https://stackoverflow.com/questions/75479731/parallel-computing-in-r",
		"title": "parallel computing in R",
		"body": "<p>I am familiar with Matlab, but recently started to use R. I encounterd a problem when using parallel computing in R.</p>\n<p>I want to use a matrix or a 3-d array as an output after parellel computing. In Matlab, an example what I want to do is as follows.</p>\n<pre><code>X=zeros(10,5,100);\nY=zeros(100,2);\nparfor i=1:100;\n X(:,:,i) = randn(10,5);\n Y(i,:) = randn(1,2);\nend\n\n</code></pre>\n<p>However, as long as I investigated, <code>foreach</code> in R seem return only vectors(list?) and a matrix or an array seem not allowed. I'm wondering how I need to wright a code to implement what Matlab does.</p>\n"
	}, {
		"tags": ["r", "variables", "sample"],
		"owner": {
			"reputation": 25,
			"user_id": 6214698,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/966494913458105/picture?type=large",
			"display_name": "Jason Todd",
			"link": "https://stackoverflow.com/users/6214698/jason-todd"
		},
		"is_answered": true,
		"view_count": 1727,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 36672361,
		"answer_count": 3,
		"score": 1,
		"last_activity_date": 1676627268,
		"creation_date": 1460863251,
		"question_id": 36672318,
		"link": "https://stackoverflow.com/questions/36672318/proportion-of-data-in-a-sample-in-r",
		"title": "Proportion of data in a sample in R",
		"body": "<p>I have a variable of vehicles: </p>\n\n<blockquote>\n  <p>vehicleType &lt;- c(\"suv\", \"suv\", \"minivan\", \"car\", \"suv\", \"suv\", \"car\", \"car\", \"car\", \"car\", \"minivan\", \"car\", \"truck\", \"car\", \"car\", \"car\", \"car\", \"car\", \"car\", \"car\", \"minivan\", \"car\", \"suv\", \"minivan\", \"car\", \"minivan\", \"suv\", \"suv\", \"suv\", \"car\", \"suv\", \"car\", \"car\", \"suv\", \"truck\", \"truck\", \"minivan\", \"suv\", \"car\", \"truck\", \"suv\", \"suv\", \"car\", \"car\", \"car\", \"car\", \"suv\", \"car\", \"car\", \"car\", \"suv\", \"car\", \"car\", \"car\", \"truck\", \"car\", \"car\", \"suv\", \"suv\", \"minivan\", \"suv\", \"car\", \"car\", \"car\", \"car\", \"car\", \"minivan\", \"suv\", \"car\", \"car\", \"suv\", \"minivan\", \"car\", \"car\", \"car\", \"minivan\", \"minivan\", \"minivan\", \"car\", \"truck\", \"car\", \"car\", \"car\", \"suv\", \"suv\", \"suv\", \"car\", \"suv\", \"suv\", \"car\", \"suv\", \"car\", \"minivan\", \"car\", \"car\", \"car\", \"car\", \"car\", \"car\", \"car\")</p>\n</blockquote>\n\n<p>How can I calculate the proportion of SUV's in the sample in R?</p>\n\n<p>Thanks in advance.</p>\n"
	}, {
		"tags": ["r", "tidyverse", "purrr"],
		"owner": {
			"reputation": 325,
			"user_id": 11124121,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/Q6erO.png?s=256&g=1",
			"display_name": "doraemon",
			"link": "https://stackoverflow.com/users/11124121/doraemon"
		},
		"is_answered": true,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75482461,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676627077,
		"creation_date": 1676626246,
		"last_edit_date": 1676627019,
		"question_id": 75482419,
		"link": "https://stackoverflow.com/questions/75482419/how-to-change-the-class-of-a-column-in-a-list-of-a-list-from-character-to-numeri",
		"title": "How to change the class of a column in a list of a list from character to numeric in r?",
		"body": "<p>The codes for producing sample dataset and converting from character to numeric is as below:</p>\n<pre><code>ff = data.frame(a = c('1','2','3'),b = 1:3, c = 5:7)\n#data.frame is a type of list.\n\nfff = list(ff,ff,ff,ff)\n\nk = fff %&gt;% map(~map(.x,function(x){x['a'] %&lt;&gt;% as.numeric\n  return(x)}))\n</code></pre>\n<p>However, the result is something like this...:\nThere are 3 lists appear in each of the nested list ==&gt; 3<em>3 = 9, which is very strange.\nI think the result should have 3 lists in a nested list.==&gt; 3</em>1 = 3</p>\n<p>what I want is to convert every <code>a</code> in each dataframe to be numeric.</p>\n<pre><code>&gt; k\n[[1]]\n[[1]]$a\n              a \n&quot;1&quot; &quot;2&quot; &quot;3&quot;  NA \n\n[[1]]$b\n          a \n 1  2  3 NA \n\n[[1]]$c\n          a \n 5  6  7 NA \n\n\n[[2]]\n[[2]]$a\n              a \n&quot;1&quot; &quot;2&quot; &quot;3&quot;  NA \n\n[[2]]$b\n          a \n 1  2  3 NA \n\n[[2]]$c\n          a \n 5  6  7 NA \n\n\n[[3]]\n[[3]]$a\n              a \n&quot;1&quot; &quot;2&quot; &quot;3&quot;  NA \n\n[[3]]$b\n          a \n 1  2  3 NA \n\n[[3]]$c\n          a \n 5  6  7 NA \n\n\n[[4]]\n[[4]]$a\n              a \n&quot;1&quot; &quot;2&quot; &quot;3&quot;  NA \n\n[[4]]$b\n          a \n 1  2  3 NA \n\n[[4]]$c\n          a \n 5  6  7 NA \n</code></pre>\n<p>I cannot understand why I cannot convert <code>a</code> into numeric...</p>\n"
	}, {
		"tags": ["r", "gtsummary", "multinomial"],
		"owner": {
			"reputation": 11,
			"user_id": 14787791,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhQgkMkhpmrX3t0ilfZd0KdIWpeKBZl6e_cxy0j0A=k-s256",
			"display_name": "Chris_S",
			"link": "https://stackoverflow.com/users/14787791/chris-s"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676626497,
		"creation_date": 1676626497,
		"question_id": 75482463,
		"link": "https://stackoverflow.com/questions/75482463/multinomial-regression-table-using-gtsummary-how-to-get-rid-of-na-row",
		"title": "Multinomial regression table using gtsummary; how to get rid of &quot;NA&quot; row?",
		"body": "<p>I have experienced the same issue with multinom (nnet) and an extra &quot;N&quot; row above the glance table in tbl_regression (gtsummary) that this user had: <a href=\"https://stackoverflow.com/questions/75152474/formatting-multinomial-regression-table-using-gtsummary-how-to-get-rid-of-na/75471859#75471859\">Previous post</a></p>\n<p>In the replies to the previous question it was asked to provide reproducable code, so here it is:</p>\n<pre><code>library(nnet)\nlibrary(gtsummary)\nlibrary(tidyverse)\n\n# Create a sample data frame\nset.seed(123)\ndf &lt;- data.frame(\n  y = sample(c(0, 1, 2), 100, replace = TRUE),\n  x1 = rnorm(100),\n  x2 = rnorm(100),\n  x3 = rnorm(100)\n)\n\n# Fit a multinomial logistic regression model with nnet\nmodel &lt;- nnet::multinom(y ~ x1 + x2 + x3, data = df)\n\n# Create a summary table with tbl_regression\nmodel_tab &lt;- tbl_regression(model, \n               exponentiate = TRUE) %&gt;% \n  add_glance_table(c(nobs, AIC)) \n\nmodel_tab\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rDSAw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rDSAw.png\" alt=\"enter image description here\" /></a></p>\n<p>I suspect the NA row has to do with tbl_regression producing an &quot;empty model&quot; for the NAs in the dependent variable. When I used Daniel Sjoberg's function to display a multinom model in wide format <a href=\"https://stackoverflow.com/questions/64463878/multinomial-logistic-regression-results-table-in-wide-format-using-the-gtsummary\">here</a>, I noted that tbl_regression produced an additional empty model column for the value &quot;NA&quot; of my dependent variable, to the right of my table. I tried to use na.action = na.omit in multinom, to no avail.</p>\n<p>So, perhaps tbl_regression is just too buggy for multinom models and I have to shift to another table-producing package. Nonetheless, if anyone has a clue how to avoid the NA issue, I would be happy to continue using the otherwise very useful gtsummary package.</p>\n"
	}, {
		"tags": ["r", "survey", "imputation", "r-mice"],
		"owner": {
			"reputation": 1,
			"user_id": 21227731,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/nqoL5.jpg?s=256&g=1",
			"display_name": "DavidAFG",
			"link": "https://stackoverflow.com/users/21227731/davidafg"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676626430,
		"creation_date": 1676559615,
		"last_edit_date": 1676626430,
		"question_id": 75474103,
		"link": "https://stackoverflow.com/questions/75474103/error-in-str2langx-text20-unexpected-end-of-input-1-y-while-trying-t",
		"title": "Error in str2lang(x) : &lt;text&gt;:2:0: unexpected end of input 1: y~, while trying two-step heckman imputation",
		"body": "<p>So I've been trying to run this imputation of the hecknorm2step. I already have the selection function (probit) runned and performed really well. I've been trying the follow the guide of this 5-year, CRAN remove package that is mice.impute.hecknorm2step, and I did everything as requested. However, when I finally try to run the imputation, the error comes as follows:</p>\n<p>Error in str2lang(x) : &lt;text&gt;:2:0: unexpected end of input 1: y~</p>\n<p>It doesn't even run the first imputation, so I'm wondering if there is something wrong with the method or if it's just the nature of my data. (It has many NA's on some of the other variables, since they are created). I'm also wondering if there is a way to apply the survey weights during the imputation.</p>\n<pre><code>library(sampleSelection)\nlibrary(miceMNAR)\nbase_imput &lt;- data.frame(lnwhour,hombre, yearschl,yearschl2,\n                         exp, exp2, ttrabajo, urban, region,\n                         asal, casado,hombre_casado, edad, edad2,\n                         dnuclear,duniper,monopar, dnuclearsinh, pninos0a17,\n                         pam, ss, fac_men, est_d)\n\n\n\nJointModelEq &lt;- generate_JointModelEq(data = base_imput, varMNAR = &quot;lnwhour&quot;)\n\nJointModelEq[, &quot;asal_var_sel&quot;] &lt;- c(0,1,1,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0)\nJointModelEq[, &quot;lnwhour_var_sel&quot;] &lt;- c(0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0)\n\narg &lt;- MNARargument(data = base_imput, varMNAR = &quot;lnwhour&quot;, JointModelEq = JointModelEq)\narg$method[&quot;lnwhour&quot;] &lt;- &quot;hecknorm2step&quot;\n\n#Proceso de imputacion\nimputacionheck &lt;- mice(data = arg$data_mod,\n                       method = arg$method,\n                       predictorMatrix = arg$predictorMatrix,\n                       JointModelEq = arg$JointModelEq,\n                       control = arg$control,\n                       weights = fac_men,\n                       maxit = 1, m = 5,\n                       seed = 1984 #para reproducibilidad\n                       )\n</code></pre>\n<p>Removing the weights thing doesn't work, so I think it's something more to that. When running traceback I get this</p>\n<pre><code>9: str2lang(x)\n8: formula.character(object, env = baseenv())\n7: formula(object, env = baseenv())\n6: as.formula(paste(&quot;y~&quot;, paste(var_out, collapse = &quot;+&quot;), sep = &quot;&quot;))\n5: mice.impute.hecknorm2step(y = c(0, 2.80171478523213, 3.03655410807423, \n   3.53332825234684, 3.50655779731998, 0, 3.65738078905457, 3.44201937618241, \n   3.77849161280362, 0, 3.65738078905457, 0, 4.8283137373023, 0, \n   3.65738078905457, 3.40119738166216, 3.2188758248682, 0, 3.65738078905457, \n   3.61655873003431, 3.2188758248682, 3.17805383034795, 0, 0, 0, \n   0, 3.09776480761912, 3.28786853635514, 3.04452243772342, 3.28341447100576, \n   0, 3.50655779731998, 3.16278620437099, 0, 0, 3.07756245965875, \n   0, 3.58351893845611, 0, 4.27795722961838, 0, 0, 0, 0, 0, 0, 0, \n   0, 2.56494935746154, 0, 3.62434093297637, 0, 3.81193965213432, \n   3.95124371858143, 3.68887945411394, 0, 4.19970512787993, 0, 0, \n   3.76274125311239, 0, 0, 4.06617362811255, 4.82053161498525, 0, \n   0, 3.91202300542815, 0, 4.27666611901606, 0, 0, 0, 0, 3.68887945411394, \n   0, 4.35052796961451, 3.94506292600634, 0, 4.39931814606966, 3.54737982784023, \n   4.06284581116273, 0, 3.43423717324035, 0, 0, 0, 0, 0, 0, 3.28786853635514, \n   3.91202300542815, 3.2188758248682, 0, 3.2188758248682, 3.91202300542815, \n   3.42139992897966, 0, 3.6119184929778, 0, 0, 3.18737731460882, \n   0, 0, 0, 0, 3.91202300542815, 3.48457912393453, 4.83823119632807, \n   3.13186459333311, 0, 0, 4.00733318523247, 0, 3.18292279103088, \n   2.99573227355399, 0, 0, 0, 0, 0, 0, 3.61655873003431, 4.1581561004216, \n   0, 3.08534443224368, 3.79423986977176, 4.39931814606966, 0, 0, \n    ...\n4: do.call(f, args = args)\n3: sampler.univ(data = data, r = r, where = where, type = type, \n       formula = ff, method = theMethod, yname = j, k = k, calltype = calltype, \n       user = user, ignore = ignore, ...)\n2: sampler(data, m, ignore, where, imp, blocks, method, visitSequence, \n       predictorMatrix, formulas, blots, post, c(from, to), printFlag, \n       ...)\n1: mice(data = arg$data_mod, method = arg$method, predictorMatrix = arg$predictorMatrix, \n       JointModelEq = arg$JointModelEq, control = arg$control, weights = fac_men, \n       maxit = 1, m = 5, seed = 1984)\n</code></pre>\n<p>I've been knocking my head over this for a week now, and I don't want to resort to learning Stata (because a professor told me the methodology is quite straightforward there)</p>\n<p>Here I leave a sample of the 750k observation data frame for it to be reproducible.</p>\n<p>Thank you very much in advance.</p>\n<pre><code>structure(list(lnwhour = c(3.62434093297637, NA, NA, 0, NA, NA, \nNA, NA, NA, NA, 0, 0, 0, NA, NA, NA, NA, NA, 0, NA, NA, NA, 3.36969880260278, \n0, NA, NA, NA, NA, NA, 0, NA, NA, NA, NA, 3.05694307647388, 0, \nNA, 0, NA, 3.9528449359484, 0, NA, 3.43756499011874, NA, NA, \n3.29891840946481, NA, NA, NA, NA, NA, NA, 4.19970512787993, NA, \nNA, NA, 3.01635172402202, 0, NA, NA, NA, 0, 3.62434093297637, \nNA, NA, NA, 3.86946346057457, NA, NA, 3.32423642052602, NA, 3.32887683674919, \n0, NA, 4.01738360108597, 0, 4.1581561004216, NA, NA, NA, NA, \nNA, NA, 4.30667721917122, NA, 4.60517018598809, NA, NA, NA, 0, \nNA, NA, NA, NA, 0, NA, 0, NA, NA, NA, NA, NA, NA, NA, 3.36916511626451, \nNA, NA, NA, NA, NA, NA, 3.70617084265256, NA, 3.91202300542815, \nNA, 3.9528449359484, 3.62434093297637, NA, NA, NA, 3.25191555194639, \nNA, NA, 0, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA, 3.66690042517293, \nNA, 3.78942070072712, NA, 4.2584126162067, NA, 3.50655779731998, \nNA, NA, NA, 3.95458256151361, 3.28341447100576, NA, NA, NA), \n    hombre = structure(c(2L, NA, 2L, 2L, 1L, 2L, 2L, 2L, NA, \n    2L, 2L, 1L, 2L, 2L, 2L, 1L, 1L, 2L, 2L, 1L, 2L, 1L, 1L, 1L, \n    2L, 1L, 1L, 2L, NA, 1L, NA, 2L, 1L, 1L, 2L, 1L, 2L, 1L, 1L, \n    2L, 1L, NA, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 1L, \n    1L, 2L, 1L, 1L, 2L, 1L, NA, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 2L, \n    2L, 1L, 1L, 2L, 1L, 2L, 1L, 1L, NA, 1L, NA, 1L, 2L, 1L, 2L, \n    1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, NA, 2L, 1L, NA, 1L, 1L, 1L, \n    NA, 1L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 1L, 2L, 1L, 1L, 2L, 1L, \n    2L, 2L, 2L, NA, 1L, 1L, 2L, 2L, NA, 1L, 2L, 1L, 1L, 2L, 1L, \n    1L, 1L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, \n    2L, 2L, 1L, 1L, 2L, 2L), levels = c(&quot;0&quot;, &quot;1&quot;), class = &quot;factor&quot;), \n    yearschl = c(11, NA, 6, 12, 9, 12, 3, 0, NA, 12, 9, 12, 6, \n    0, 13, 0, 9, 0, 12, 11, 0, 9, 9, 11, 8, 9, 0, 6, NA, 12, \n    NA, 21, 5, 7, 3, 15, 11, 9, 19, 4, 16, NA, 9, 0, 16, 9, 7, \n    6, 9, 6, 0, 6, 16, 0, 0, 0, 12, 9, 9, 9, NA, 13, 8, 4, 10, \n    0, 8, 5, 6, 12, 0, 9, 17, 0, 16, 15, 17, NA, 13, NA, 0, 0, \n    6, 12, 6, 12, 9, 0, 10, 9, 12, 5, 0, 6, 6, 0, 12, 15, 9, \n    0, 6, 0, 17, 0, 16, 10, 17, 9, 0, 6, 0, 11, 0, 9, 18, 9, \n    6, NA, 6, 10, 12, 16, NA, 16, 0, 10, 7, 12, 11, 12, 0, 11, \n    17, 9, 13, 9, 9, 11, 16, 17, 12, 12, 0, 16, 6, 17, 9, 12, \n    15, 0), yearschl2 = c(121, NA, 36, 144, 81, 144, 9, 0, NA, \n    144, 81, 144, 36, 0, 169, 0, 81, 0, 144, 121, 0, 81, 81, \n    121, 64, 81, 0, 36, NA, 144, NA, 441, 25, 49, 9, 225, 121, \n    81, 361, 16, 256, NA, 81, 0, 256, 81, 49, 36, 81, 36, 0, \n    36, 256, 0, 0, 0, 144, 81, 81, 81, NA, 169, 64, 16, 100, \n    0, 64, 25, 36, 144, 0, 81, 289, 0, 256, 225, 289, NA, 169, \n    NA, 0, 0, 36, 144, 36, 144, 81, 0, 100, 81, 144, 25, 0, 36, \n    36, 0, 144, 225, 81, 0, 36, 0, 289, 0, 256, 100, 289, 81, \n    0, 36, 0, 121, 0, 81, 324, 81, 36, NA, 36, 100, 144, 256, \n    NA, 256, 0, 100, 49, 144, 121, 144, 0, 121, 289, 81, 169, \n    81, 81, 121, 256, 289, 144, 144, 0, 256, 36, 289, 81, 144, \n    225, 0), exp = c(3, NA, 58, 22, 25, 6, 53, -3, NA, 19, 39, \n    10, 13, 3, 1, 58, 34, 1, 11, 0, 79, 42, 1, 16, 59, 34, 2, \n    0, NA, 25, NA, 28, 57, 1, 71, 3, 20, 48, 45, 37, 42, NA, \n    35, 3, 40, 12, 0, 4, 62, 25, 43, 1, 5, 2, -2, -1, 2, 36, \n    29, 29, NA, 2, 26, 74, 1, 3, 44, 1, 32, 15, 5, 5, 5, 0, 12, \n    1, 7, NA, 1, NA, -4, -3, 42, 31, 43, 20, 29, 3, 0, 45, 53, \n    2, NA, 0, 33, NA, 6, 1, 22, NA, 42, -5, 0, 40, 7, 13, 20, \n    0, 4, 0, 2, 16, 5, 24, 37, 12, 21, NA, 2, 1, 38, 35, NA, \n    7, -2, 1, 0, 63, 5, 20, 35, 0, 3, 1, 1, 15, 33, 17, 13, 1, \n    28, 23, 0, 2, 60, 3, 12, 25, 4, -3), exp2 = c(9, NA, 3364, \n    484, 625, 36, 2809, 9, NA, 361, 1521, 100, 169, 9, 1, 3364, \n    1156, 1, 121, 0, 6241, 1764, 1, 256, 3481, 1156, 4, 0, NA, \n    625, NA, 784, 3249, 1, 5041, 9, 400, 2304, 2025, 1369, 1764, \n    NA, 1225, 9, 1600, 144, 0, 16, 3844, 625, 1849, 1, 25, 4, \n    4, 1, 4, 1296, 841, 841, NA, 4, 676, 5476, 1, 9, 1936, 1, \n    1024, 225, 25, 25, 25, 0, 144, 1, 49, NA, 1, NA, 16, 9, 1764, \n    961, 1849, 400, 841, 9, 0, 2025, 2809, 4, NA, 0, 1089, NA, \n    36, 1, 484, NA, 1764, 25, 0, 1600, 49, 169, 400, 0, 16, 0, \n    4, 256, 25, 576, 1369, 144, 441, NA, 4, 1, 1444, 1225, NA, \n    49, 4, 1, 0, 3969, 25, 400, 1225, 0, 9, 1, 1, 225, 1089, \n    289, 169, 1, 784, 529, 0, 4, 3600, 9, 144, 625, 16, 9), ttrabajo = c(24, \n    NA, 0, 54, 0, 0, 5, 0, NA, 0, 8, 36, 48, 0, 0, 0, 0, 0, 77, \n    0, 0, 0, 48, 51, 0, 0, 0, 0, NA, 48, NA, 32, 0, 0, 35, 44, \n    0, 20, 0, 48, 40, NA, 45, 0, 57, 48, 0, 0, 0, 0, 0, 0, 48, \n    0, 0, 0, 48, 20, 0, 0, NA, 72, 48, 0, 0, 0, 48, 0, 40, 54, \n    0, 40, 40, 0, 45, 2, 40, NA, 0, NA, 0, 0, 0, 31, 0, 5, 21, \n    0, 0, 25, 0, 0, 0, 0, 0, 0, 45, 0, 0, 0, 0, 0, 0, 0, 30, \n    0, 0, 0, 0, 0, 0, 40, 0, 12, 0, 48, 48, NA, 0, 0, 54, 32, \n    NA, 56, 0, 0, 0, 20, 0, 0, 0, 112, 0, 0, 0, 46, 0, 52, 6, \n    25, 0, 45, 0, 0, 0, 46, 45, 12, 0, 0), urban = structure(c(2L, \n    1L, 2L, 1L, 2L, 2L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, \n    1L, 2L, 2L, 2L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, \n    2L, 2L, 2L, 1L, 2L, 1L, 2L, 1L, 1L, 2L, 2L, 2L, 1L, 2L, 2L, \n    2L, 1L, 2L, 2L, 1L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 2L, \n    1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 2L, 1L, 1L, 2L, 2L, 2L, 2L, \n    2L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 1L, 2L, 1L, 2L, \n    1L, 2L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 2L, \n    2L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 2L, 2L, 2L, 2L, \n    2L, 1L, 2L, 1L, 2L, 1L, 1L, 2L, 2L, 1L, 2L, 1L, 1L, 1L, 2L, \n    1L, 2L, 1L, 2L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 1L), levels = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), region = structure(c(2L, 3L, 3L, \n    3L, 4L, 3L, 2L, 4L, 3L, 3L, 1L, 2L, 4L, 1L, 3L, 4L, 3L, 3L, \n    2L, 2L, 4L, 2L, 3L, 1L, 1L, 3L, 2L, 2L, 1L, 4L, 3L, 1L, 1L, \n    4L, 4L, 3L, 1L, 2L, 2L, 2L, 2L, 2L, 3L, 1L, 3L, 1L, 3L, 1L, \n    4L, 4L, 2L, 3L, 3L, 3L, 3L, 2L, 4L, 2L, 4L, 1L, 2L, 1L, 2L, \n    1L, 1L, 2L, 1L, 3L, 1L, 1L, 2L, 2L, 2L, 1L, 2L, 4L, 2L, 2L, \n    2L, 1L, 3L, 2L, 2L, 1L, 1L, 1L, 2L, 1L, 4L, 2L, 2L, 1L, 4L, \n    3L, 4L, 3L, 1L, 1L, 1L, 4L, 1L, 1L, 2L, 4L, 4L, 1L, 3L, 4L, \n    1L, 2L, 4L, 3L, 3L, 1L, 3L, 3L, 2L, 2L, 3L, 3L, 1L, 1L, 3L, \n    3L, 4L, 1L, 3L, 2L, 3L, 4L, 1L, 1L, 4L, 1L, 4L, 3L, 2L, 3L, \n    3L, 2L, 1L, 3L, 4L, 4L, 1L, 3L, 2L, 2L, 1L, 3L), levels = c(&quot;1&quot;, \n    &quot;2&quot;, &quot;3&quot;, &quot;4&quot;), class = &quot;factor&quot;), asal = c(1, NA, NA, 1, \n    NA, NA, 0, NA, NA, NA, 0, 0, 0, NA, NA, NA, NA, NA, 0, NA, \n    NA, NA, 1, 1, NA, NA, NA, NA, NA, 0, NA, 1, NA, NA, 1, 1, \n    NA, 1, NA, 1, 0, NA, 1, NA, 0, 1, NA, NA, NA, NA, NA, NA, \n    1, NA, NA, NA, 1, 0, NA, NA, NA, 1, 1, NA, NA, NA, 1, NA, \n    0, 1, NA, 1, 1, NA, 1, 0, 1, NA, NA, NA, NA, NA, NA, 1, NA, \n    1, 0, NA, NA, 0, NA, NA, NA, NA, 0, NA, 1, NA, NA, NA, NA, \n    NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, 1, NA, 1, NA, 1, 1, \n    NA, NA, NA, 1, 1, NA, 0, NA, NA, NA, 1, NA, NA, NA, 0, NA, \n    NA, NA, 1, NA, 1, 0, 1, NA, 1, NA, NA, NA, 1, 1, 0, NA, NA\n    ), casado = structure(c(1L, NA, 2L, 1L, 2L, 1L, 2L, NA, NA, \n    2L, 2L, 1L, 2L, NA, 1L, 2L, 2L, NA, 1L, 1L, 2L, 2L, 1L, 1L, \n    1L, 2L, NA, 1L, NA, 1L, NA, 2L, 2L, 1L, 1L, 1L, 2L, 2L, 1L, \n    2L, 2L, NA, 2L, NA, 2L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, NA, \n    NA, NA, 1L, 2L, 2L, 2L, NA, 1L, 2L, 2L, 1L, NA, 2L, 1L, 2L, \n    2L, NA, 2L, 1L, NA, 1L, 1L, 1L, NA, 1L, NA, NA, NA, 2L, 2L, \n    2L, 1L, 2L, NA, 1L, 2L, 2L, 1L, NA, 1L, 1L, NA, 1L, 1L, 2L, \n    NA, 2L, NA, 1L, 1L, 1L, 2L, 1L, 1L, NA, 1L, NA, 2L, NA, 2L, \n    2L, 2L, 2L, NA, 1L, 1L, 2L, 2L, NA, 1L, NA, 1L, 1L, 2L, 1L, \n    2L, 2L, 1L, 2L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 1L, 2L, NA, 1L, \n    2L, 1L, 2L, 1L, 1L, NA), levels = c(&quot;0&quot;, &quot;1&quot;), class = &quot;factor&quot;), \n    hombre_casado = structure(c(1L, NA, 2L, 1L, 1L, 1L, 2L, NA, \n    NA, 2L, 2L, 1L, 2L, NA, 1L, 1L, 1L, NA, 1L, 1L, 2L, 1L, 1L, \n    1L, 1L, 1L, 1L, 1L, NA, 1L, NA, 2L, 1L, 1L, 1L, 1L, 2L, 1L, \n    1L, 2L, 1L, NA, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n    1L, 1L, NA, 1L, 1L, 2L, 1L, NA, 1L, 2L, 2L, 1L, NA, 2L, 1L, \n    2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, NA, 1L, NA, 1L, \n    2L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, NA, 1L, 1L, NA, 1L, 1L, \n    1L, NA, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, \n    1L, 2L, 2L, 2L, NA, 1L, 1L, 2L, 2L, NA, 1L, NA, 1L, 1L, 2L, \n    1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, \n    1L, 2L, 1L, 1L, 1L, 1L, NA), levels = c(&quot;0&quot;, &quot;1&quot;), class = &quot;factor&quot;), \n    edad = c(20, NA, 70, 40, 40, 24, 62, 3, NA, 37, 54, 28, 25, \n    9, 20, 64, 49, 7, 29, 17, 85, 57, 16, 33, 73, 49, 8, 12, \n    NA, 43, NA, 55, 68, 14, 80, 24, 37, 63, 70, 47, 64, NA, 50, \n    9, 62, 27, 13, 16, 77, 37, 49, 13, 27, 8, 4, 5, 20, 51, 44, \n    44, NA, 21, 40, 84, 17, 9, 58, 12, 44, 33, 11, 20, 28, 6, \n    34, 22, 30, NA, 20, NA, 2, 3, 54, 49, 55, 38, 44, 9, 16, \n    60, 71, 13, NA, 12, 45, NA, 24, 22, 37, NA, 54, 1, 23, 46, \n    29, 29, 43, 15, 10, 12, 8, 33, 11, 39, 61, 27, 33, NA, 14, \n    17, 56, 57, NA, 29, 4, 17, 13, 81, 22, 38, 41, 17, 26, 16, \n    20, 30, 48, 34, 35, 24, 46, 41, 6, 24, 72, 26, 27, 43, 25, \n    3), edad2 = c(400, NA, 4900, 1600, 1600, 576, 3844, 9, NA, \n    1369, 2916, 784, 625, 81, 400, 4096, 2401, 49, 841, 289, \n    7225, 3249, 256, 1089, 5329, 2401, 64, 144, NA, 1849, NA, \n    3025, 4624, 196, 6400, 576, 1369, 3969, 4900, 2209, 4096, \n    NA, 2500, 81, 3844, 729, 169, 256, 5929, 1369, 2401, 169, \n    729, 64, 16, 25, 400, 2601, 1936, 1936, NA, 441, 1600, 7056, \n    289, 81, 3364, 144, 1936, 1089, 121, 400, 784, 36, 1156, \n    484, 900, NA, 400, NA, 4, 9, 2916, 2401, 3025, 1444, 1936, \n    81, 256, 3600, 5041, 169, NA, 144, 2025, NA, 576, 484, 1369, \n    NA, 2916, 1, 529, 2116, 841, 841, 1849, 225, 100, 144, 64, \n    1089, 121, 1521, 3721, 729, 1089, NA, 196, 289, 3136, 3249, \n    NA, 841, 16, 289, 169, 6561, 484, 1444, 1681, 289, 676, 256, \n    400, 900, 2304, 1156, 1225, 576, 2116, 1681, 36, 576, 5184, \n    676, 729, 1849, 625, 9), dnuclear = structure(c(NA, NA, 1L, \n    1L, 1L, 2L, 1L, 1L, NA, NA, 2L, 1L, 1L, 1L, NA, 1L, NA, 1L, \n    1L, NA, 1L, 2L, NA, 1L, 1L, 1L, 1L, NA, NA, 1L, NA, 2L, 1L, \n    2L, 1L, 2L, 1L, 1L, 1L, NA, 1L, NA, 1L, NA, NA, 1L, NA, 1L, \n    1L, 2L, 1L, NA, 1L, 1L, 1L, NA, NA, NA, 1L, 1L, NA, 1L, 1L, \n    1L, NA, NA, NA, 1L, 1L, 1L, 2L, 2L, 2L, 1L, NA, 1L, 2L, NA, \n    2L, NA, 2L, 1L, 1L, NA, 1L, 1L, 2L, 1L, 1L, 1L, 1L, NA, NA, \n    1L, NA, NA, 1L, 2L, NA, NA, 1L, 1L, NA, 1L, NA, NA, 1L, 1L, \n    NA, NA, 1L, 1L, 1L, NA, 2L, NA, 2L, NA, 2L, 1L, 1L, 2L, NA, \n    1L, 2L, NA, NA, NA, 2L, 2L, NA, 1L, 1L, NA, 1L, 1L, 1L, 1L, \n    1L, 1L, NA, NA, NA, 1L, 1L, NA, NA, 1L, NA, 1L), levels = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), duniper = structure(c(1L, NA, 2L, \n    1L, 1L, 1L, 2L, 1L, NA, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n    1L, 1L, 2L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, NA, 1L, NA, 2L, 1L, \n    1L, 2L, 1L, 1L, 1L, 2L, 2L, 1L, NA, 1L, 1L, NA, 1L, 1L, 1L, \n    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, \n    1L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, \n    1L, NA, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, NA, \n    1L, 2L, NA, 1L, 1L, 2L, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, NA, 1L, 1L, 1L, 1L, NA, \n    1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 1L, 1L, 1L, \n    1L, 1L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 2L, 1L, 1L), levels = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), monopar = structure(c(NA, NA, 1L, \n    2L, 1L, 1L, 1L, 1L, NA, NA, 1L, 1L, 1L, 1L, NA, 1L, NA, 1L, \n    2L, NA, 1L, 1L, NA, 1L, 1L, 1L, 1L, NA, NA, 1L, NA, 1L, 1L, \n    1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, NA, 1L, NA, NA, 1L, NA, 1L, \n    1L, 1L, 1L, NA, 1L, 2L, 1L, NA, NA, NA, 1L, 1L, NA, 1L, 1L, \n    1L, NA, NA, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, NA, \n    1L, NA, 1L, 1L, 1L, NA, 1L, 1L, 1L, 1L, 2L, 1L, 1L, NA, NA, \n    1L, NA, NA, 2L, 1L, NA, NA, 1L, 1L, NA, 1L, NA, NA, 2L, 1L, \n    NA, NA, 1L, 1L, 1L, NA, 1L, NA, 1L, NA, 1L, 1L, 1L, 1L, NA, \n    1L, 1L, NA, NA, NA, 1L, 1L, NA, 1L, 1L, NA, 1L, 1L, 1L, 1L, \n    1L, 1L, NA, NA, NA, 1L, 1L, NA, NA, 2L, NA, 1L), levels = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), dnuclearsinh = structure(c(NA, NA, \n    2L, 1L, 1L, 1L, NA, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, \n    1L, 1L, 1L, NA, 1L, NA, 1L, NA, 1L, 1L, NA, NA, 1L, NA, 1L, \n    2L, 1L, NA, 1L, 1L, 1L, NA, 1L, 2L, NA, 2L, 1L, NA, 1L, 1L, \n    1L, 1L, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, \n    1L, 1L, 1L, 1L, NA, 1L, 2L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, \n    NA, 1L, NA, 1L, 1L, 1L, 1L, NA, 1L, 1L, 1L, 1L, 1L, 2L, 1L, \n    NA, 1L, 1L, NA, 1L, 1L, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, 1L, 1L, \n    NA, 1L, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, 1L, 2L, \n    1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, NA, 1L, 1L, 1L), levels = c(&quot;0&quot;, \n    &quot;1&quot;), class = &quot;factor&quot;), pninos0a17 = c(NA, NA, 0, 0, 0.2, \n    0, 0, 0.2, NA, 0.4, 0, 0.25, 0.5, 0.4, 0.2, 0, 0, 0.25, 0, \n    0.171428571428571, 0, 0, NA, 0.5, 0, 0.25, 0.2, NA, NA, 0.1875, \n    NA, 0, 0, 0.5, 0, 0.333333333333333, 0.5, 0.05, 0, 0.1, 0, \n    NA, 0, 0.5, NA, 0.285714285714286, 0.333333333333333, 0.333333333333333, \n    0.25, 0.333333333333333, 0, 0.6, 0, 0.75, 0.222222222222222, \n    0.666666666666667, 0.333333333333333, 0.25, 0.333333333333333, \n    0.2, NA, 0.2, 0.0555555555555556, 0, 0.25, 0.5, NA, 0.428571428571429, \n    0, 0.25, 0.5, 0.333333333333333, 0, 0.285714285714286, NA, \n    0.25, 0, NA, 0, NA, 0.666666666666667, 0.4, 0.0810810810810811, \n    0.19047619047619, 0, 0.5, 0.166666666666667, 0.363636363636364, \n    0.5, 0.307692307692308, 0, 0.37037037037037, NA, 0.4, 0.333333333333333, \n    NA, 0, 0, 0.5, NA, 0, 0.181818181818182, 0, 0, 0, 0.15, 0, \n    0.333333333333333, 0.5, 0.346153846153846, 0.428571428571429, \n    0.5, 0.5, 0.2, 0, 0.5, 0.6, NA, 0.2, 0.285714285714286, 0.4, \n    0, NA, 0.5, 0.6, NA, 0.25, 0, 0.25, 0.333333333333333, 0.4, \n    0.571428571428571, 0, 0.4, 0, 0.15, 0, 0, 0.25, 0.1, 0.5, \n    0.16, 0.75, 0, 0, 0.2, NA, 0, 0, 0.285714285714286), pam = c(NA, \n    NA, 0.5, 0.5, 0.4, 0, 1, 0, NA, 0, 0, 0.25, 0, 0, 0, 1, 0, \n    0, 0.5, 0.228571428571429, 1, 0, NA, 0.333333333333333, 1, \n    0, 0, NA, NA, 0, NA, 0, 1, 0, 1, 0, 0.25, 0.2, 1, 0.4, 1, \n    NA, 0, 0, NA, 0, 0, 0.380952380952381, 0.5, 0.333333333333333, \n    0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0, NA, 0.2, 0.444444444444444, \n    0.4, 0.25, 0, NA, 0.285714285714286, 0, 0.25, 0, 0, 0, 0.142857142857143, \n    NA, 0, 0.2, NA, 0, NA, 0, 0, 0.108108108108108, 0, 0, 0.166666666666667, \n    0, 0.181818181818182, 0, 0.307692307692308, 1, 0, NA, 0, \n    0, NA, 0, 0, 0, NA, 0.4, 0, 0.2, 0, 0.666666666666667, 0.4, \n    0.5, 0.333333333333333, 0, 0, 0.285714285714286, 0.25, 0.125, \n    0, 0.25, 0, 0, NA, 0.2, 0.142857142857143, 0, 0, NA, 0.25, \n    0, NA, 0, 0.666666666666667, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n    0.25, 0, 0, 0, 0, 0.333333333333333, 1, 0.2, NA, 0, 0.631578947368421, \n    0), ss = structure(c(1L, NA, NA, 2L, NA, NA, 1L, NA, NA, \n    NA, 1L, 1L, 1L, NA, NA, NA, NA, NA, 1L, NA, NA, NA, 1L, 2L, \n    NA, NA, NA, NA, NA, 1L, NA, 2L, NA, NA, 1L, 2L, NA, 1L, NA, \n    1L, 1L, NA, 2L, NA, 1L, 2L, NA, NA, NA, NA, NA, NA, 2L, NA, \n    NA, NA, 2L, 1L, NA, NA, NA, 1L, 1L, NA, NA, NA, 2L, NA, 1L, \n    2L, NA, 1L, 2L, NA, 1L, 1L, 2L, NA, NA, NA, NA, NA, NA, 1L, \n    NA, 1L, 1L, NA, NA, 1L, NA, NA, NA, NA, 1L, NA, 1L, NA, NA, \n    NA, NA, NA, NA, NA, 1L, NA, NA, NA, NA, NA, NA, 2L, NA, 1L, \n    NA, 2L, 1L, NA, NA, NA, 2L, 2L, NA, 1L, NA, NA, NA, 2L, NA, \n    NA, NA, 1L, NA, NA, NA, 2L, NA, 2L, 1L, 2L, NA, 2L, NA, NA, \n    NA, 2L, 1L, 1L, NA, NA), levels = c(&quot;0&quot;, &quot;1&quot;), class = &quot;factor&quot;), \n    fac_men = c(200, 1709, 378, 1530, 619, 0, 0, 1769, 0, 484, \n    0, 488, 0, 0, 523, 3321, 481, 467, 0, 213, 0, 546, 1822, \n    443, 556, 1197, 499, 1668, 0, 144, 0, 0, 405, 140, 0, 1229, \n    550, 116, 580, 667, 624, 0, 408, 1917, 342, 595, 545, 1071, \n    336, 139, 0, 0, 484, 0, 302, 517, 1177, 0, 0, 717, 0, 0, \n    2453, 0, 280, 0, 1782, 0, 1150, 0, 3554, 448, 554, 175, 1161, \n    124, 708, 0, 567, 0, 794, 1088, 268, 188, 0, 2101, 522, 2277, \n    133, 474, 386, 473, 219, 0, 0, 1617, 4969, 617, 0, 477, 1492, \n    843, 368, 738, 937, 2742, 0, 0, 0, 169, 766, 1287, 1172, \n    1461, 395, 653, 3311, 0, 418, 0, 4144, 4855, 0, 51, 985, \n    828, 2094, 356, 468, 218, 1029, 651, 1705, 0, 0, 1235, 678, \n    645, 0, 138, 1406, 1239, 0, 149, 1053, 0, 371, 541, 1641, \n    2249), est_d = c(230, 358, 349, 358, 397, NA, 204, 398, 321, \n    320, NA, 132, 402, 212, 32, 91, 30, 18, NA, 2, 396, 296, \n    365, 207, 374, 59, 416, 210, 270, 82, 357, NA, 368, 390, \n    346, 12, 374, 65, 415, 414, 126, 71, 94, 162, 320, 196, 351, \n    261, 74, 83, 318, 328, 330, NA, 119, 234, 343, 296, 45, 227, \n    66, 280, 170, NA, 252, 1, 279, 359, 257, NA, 205, 233, 126, \n    150, 133, 387, 2, 75, 311, 366, 103, 164, 1, 245, 148, 274, \n    306, 281, 35, 237, 195, 148, 340, 324, 398, 325, 177, 372, \n    NA, 402, 154, 161, 2, 412, 94, 105, NA, 399, 104, 231, 405, \n    358, 57, 258, 94, 25, 203, 311, 330, 49, 177, 113, 70, 20, \n    408, 263, 363, 69, 48, 339, 265, 269, 345, 275, 346, 241, \n    418, 232, 31, 413, 142, 335, 346, 35, 140, 358, 199, 201, \n    113, 109)), row.names = c(415171L, 660728L, 641868L, 657227L, \n715950L, 596840L, 396243L, 696185L, 585162L, 585012L, 663743L, \n242962L, 718889L, 405188L, 67093L, 171383L, 66804L, 49334L, 238802L, \n5133L, 710263L, 534856L, 663002L, 403477L, 682840L, 115844L, \n739736L, 393926L, 502497L, 146991L, 648441L, 468032L, 669170L, \n694641L, 629867L, 37519L, 678788L, 128281L, 738939L, 746600L, \n250295L, 124260L, 183657L, 312974L, 579536L, 357727L, 645698L, \n486555L, 151102L, 160629L, 573517L, 601702L, 605174L, 653902L, \n229518L, 425704L, 632632L, 535302L, 90184L, 410969L, 130940L, \n517285L, 331991L, 663934L, 473751L, 19975L, 513251L, 659973L, \n478511L, 264206L, 396168L, 425550L, 250501L, 291894L, 240522L, \n695463L, 15395L, 133513L, 564941L, 665559L, 191683L, 322265L, \n21252L, 472649L, 280249L, 510824L, 559745L, 513725L, 78067L, \n427605L, 378786L, 271330L, 625140L, 592913L, 701217L, 588452L, \n351970L, 677208L, 396922L, 714429L, 274479L, 309943L, 7072L, \n727027L, 166267L, 213735L, 596776L, 705355L, 209175L, 415918L, \n724361L, 660765L, 116892L, 490378L, 182936L, 56147L, 386982L, \n556887L, 605307L, 109475L, 355409L, 202270L, 120473L, 51386L, \n722561L, 506766L, 661764L, 138570L, 106023L, 624155L, 486684L, \n504288L, 630000L, 518366L, 628996L, 437300L, 751504L, 450108L, \n67646L, 731077L, 275443L, 614827L, 637884L, 76781L, 267569L, \n652591L, 379899L, 380391L, 201672L, 197688L), class = &quot;data.frame&quot;)\n\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "pivot", "tidyr"],
		"owner": {
			"reputation": 161,
			"user_id": 4081234,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/aa0fd81fc95e2ffe4562b4bd2972b937?s=256&d=identicon&r=PG&f=1",
			"display_name": "Brian",
			"link": "https://stackoverflow.com/users/4081234/brian"
		},
		"is_answered": true,
		"view_count": 61,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"closed_date": 1676625780,
		"accepted_answer_id": 75481556,
		"answer_count": 3,
		"score": 3,
		"last_activity_date": 1676625794,
		"creation_date": 1676619286,
		"last_edit_date": 1676619747,
		"question_id": 75481347,
		"link": "https://stackoverflow.com/questions/75481347/transpose-multiple-variables-from-wide-to-long-with-nas-in-r",
		"closed_reason": "Duplicate",
		"title": "Transpose multiple variables from wide to long with NA(s) in R",
		"body": "<p>I'm currently trying to transpose (wide to long) multiple variables by using pivot_longer function in R.</p>\n<p>Here's what I have</p>\n<pre><code>primary_id = c(&quot;A1&quot;, &quot;A2&quot;)\nid1 = c(&quot;B1&quot;, &quot;B2&quot;)\nscore1 = c(&quot;good&quot;, &quot;bad&quot;)\nid2 = c(&quot;C1&quot;, &quot;C2&quot;)\nscore2 = c(NA, &quot;neutral&quot;)\nid3 = c(&quot;D1&quot;, &quot;D2&quot;)\nscore3 = c(&quot;bad&quot;, &quot;neutral&quot;)\nid4 = c(&quot;E1&quot;, &quot;E2&quot;)\nscore4 = c(NA, &quot;good&quot;)\nhave = data.frame(primary_id, id1, score1, id2, score2, id3, score3, id4, score4)\n\nhave\n  primary_id id1 score1 id2  score2 id3  score3 id4 score4\n1         A1  B1   good  C1    &lt;NA&gt;  D1     bad  E1   &lt;NA&gt;\n2         A2  B2    bad  C2 neutral  D2 neutral  E2   good\n</code></pre>\n<p>Please note that I have 20 id variables and 20 score variables (example only shows 4)</p>\n<p>And here's what I'm seeking</p>\n<pre><code>  primary_id ids  scores\n1         A1  B1    good\n2         A1  C1    &lt;NA&gt;\n3         A1  D1     bad\n4         A1  E1    &lt;NA&gt;\n5         A2  B2     bad\n6         A2  C2 neutral\n7         A2  D2 neutral\n8         A2  E2    good\n</code></pre>\n<p>Any advice/help would be much appreciated!\nPlease note that score variable(s) have NAs here and there.</p>\n"
	}, {
		"tags": ["r", "filter"],
		"owner": {
			"reputation": 1,
			"user_id": 12022357,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/966b56832ba000cf2267e66f33f01b74?s=256&d=identicon&r=PG&f=1",
			"display_name": "Hallie",
			"link": "https://stackoverflow.com/users/12022357/hallie"
		},
		"is_answered": false,
		"view_count": 7691,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676624445,
		"creation_date": 1567639805,
		"last_edit_date": 1567641093,
		"question_id": 57796705,
		"link": "https://stackoverflow.com/questions/57796705/how-do-i-filter-male-and-female-separately-in-my-data-set-using-r",
		"title": "How do I filter male and female separately in my data set (using r)?",
		"body": "<p>I have an excel sheet in .csv loaded into r. I want to filter my data by male vs female but when I try I can't figure it out. My column titles are Male/Female and Size (mm), so my data lists either an M or and F and a number.</p>\n\n<p>I've tried saying </p>\n\n<pre><code>Male &lt;- Male/Female %&gt;% filter(M);\nMale &lt;- Male/Female %&gt;% filter(Male/Female &lt;= M)\n</code></pre>\n\n<p>etc. I'm not sure what I'm doing incorrectly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xlqqw.png\" rel=\"nofollow noreferrer\">Screenshot of what my current error messages look like, along with what I have so far</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cL078.png\" rel=\"nofollow noreferrer\">Screenshot of the majority of the data table that I'm trying to work with and filter</a></p>\n"
	}, {
		"tags": ["c++", "r", "mingw-w64", "rtools"],
		"owner": {
			"reputation": 11,
			"user_id": 21232516,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5b48b2d3559ae261d3670a93eca962b7?s=256&d=identicon&r=PG",
			"display_name": "aldoclemente",
			"link": "https://stackoverflow.com/users/21232516/aldoclemente"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676624219,
		"creation_date": 1676624219,
		"question_id": 75482102,
		"link": "https://stackoverflow.com/questions/75482102/rtools-fails-compiling-shared-objects-r-software-cran",
		"title": "Rtools fails compiling shared objects (R software - CRAN)",
		"body": "<p>CRAN is asking to handles some NOTEs.\nIn particular, they are asking to avoid specifying the c++ standard in the Makevars file according to the &quot;CRAN incoming feseability&quot; . Hence, I should drop the <code>CXX_STD= CXX11</code> in the Makevars.</p>\n<p>A priori, it should not be a problem for the C++ backward compatibilty.</p>\n<p>I made the opportune changes and checked the package on linux and as one might expect, the new version of the package passes the usual checks through <code>R CMD check MyPackage.tar.gz</code>.\nRelying on <code>rhub</code> functionalities, the new version of the package passes the checks also on macOs.</p>\n<p>For what concerns windows, I get an error during the building of the shared object, in the last step of the compilation process.\nIn particular, dropping <code>CXX_STD= CXX11</code>, using R 4.3.0 (R under development) and relying on rtools43, the last step of the compilation reads as follows:</p>\n<pre><code>gcc -shared -s -static-libgcc -o fdaPDE.dll tmp.def  ObjectFile1.o .... ObjectFileN.o -LC:/rtools43/x86_64-w64-mingw32.static.posix/lib/x64 -LC:/rtools43/x86_64-w64-mingw32.static.posix/lib -LC:/PROGRA~1/R/R-devel/bin/x64 -lR\nC:\\rtools43\\x86_64-w64-mingw32.static.posix\\bin/ld.exe: ObjectFile1.o:ObjectFile.cpp:(.text+0x33f4): undefined reference to `operator new(unsigned long long)'\nC:\\rtools43\\x86_64-w64-mingw32.static.posix\\bin/ld.exe: ObjectFile1.o:ObjectFile1.cpp:(.text+0x340b): undefined reference to `std::_Rb_tree_insert_and_rebalance(bool, std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::_Rb_tree_node_base&amp;)'\nC:\\rtools43\\x86_64-w64-mingw32.static.posix\\bin/ld.exe: ObjectFile1.o:ObjectFile1.cpp:(.text+0x3432): undefined reference to `std::_Rb_tree_decrement(std::_Rb_tree_node_base*)'\nC:\\rtools43\\x86_64-w64-mingw32.static.posix\\bin/ld.exe: \n.....\nand so on\n.....\n</code></pre>\n<p>It seems that <strong>gcc</strong> does not link properly the standard library. Is Rtools broken?\nOn the other hand, If I specify c++11 as c++ standard then the compilation process ends without any errors and in particular the last steps of the compilation process reads as follows:</p>\n<pre><code>g++ -shared -s -static-libgcc -o fdaPDE.dll tmp.def  ObjectFile1.o .... ObjectFileN.o -LC:/rtools43/x86_64-w64-mingw32.static.posix/lib/x64 -LC:/rtools43/x86_64-w64-mingw32.static.posix/lib -LC:/PROGRA~1/R/R-devel/bin/x64 -lR\ninstalling via 'install.libs.R' to ... \n</code></pre>\n<p>Same results using R release and R oldrelease compiling the package with rtools42 and rtools40, respectively.</p>\n<p>In my knownledge, there is not a trick to force the call of <strong>g++</strong> during the linking phase due to the fact that adding <code>CXX=g++</code> in the Makevars.win file would have no effect on the compilation.</p>\n<p>I would be pleased to  read any advice or suggestions on this problem,\nThanks</p>\n"
	}, {
		"tags": ["r", "package", "tidyverse"],
		"owner": {
			"reputation": 51,
			"user_id": 19633381,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d5fc6dc8ac5479c79cceb17d260aa65a?s=256&d=identicon&r=PG",
			"display_name": "Maria",
			"link": "https://stackoverflow.com/users/19633381/maria"
		},
		"is_answered": false,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676624008,
		"creation_date": 1676538874,
		"last_edit_date": 1676622753,
		"question_id": 75470030,
		"link": "https://stackoverflow.com/questions/75470030/why-do-i-get-this-error-when-loading-library-tidyverse",
		"title": "Why do I get this error when loading library tidyverse?",
		"body": "<p>Yesterday I loaded tidyverse` as usual, but not I get the following error:</p>\n<p><code>library(tidyverse)</code></p>\n<p><code>Warning: package \u2018tidyverse\u2019 was built under R version 4.1.3Error: package or namespace load failed for \u2018tidyverse\u2019 in loadNamespace(j &lt;- i[[1L]], c(lib.loc, .libPaths()), versionCheck = vI[[j]]):  namespace \u2018cli\u2019 3.1.0 is already loaded, but &gt;= 3.4.1 is required</code></p>\n<p>I already updated my packages.</p>\n<p>Also, I have tried the following:</p>\n<pre><code>remove.packages(&quot;tidyverse&quot;)\ninstall.packages(&quot;tidyverse&quot;)\nremove.packages(&quot;rlang&quot;)\ninstall.packages(&quot;rlang&quot;)\n</code></pre>\n<p>But again, when I load <code>library(tidverse)</code> I get the same error.</p>\n"
	}, {
		"tags": ["r", "vector", "group", "rle"],
		"owner": {
			"reputation": 1807,
			"user_id": 7507590,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-DxiIXxbtsQY/AAAAAAAAAAI/AAAAAAAAAcA/ZsFhmNP7dyY/photo.jpg?sz=256",
			"display_name": "Alvaro Morales",
			"link": "https://stackoverflow.com/users/7507590/alvaro-morales"
		},
		"is_answered": true,
		"view_count": 38,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1673282848,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676623602,
		"creation_date": 1673282616,
		"last_edit_date": 1676623203,
		"question_id": 75060416,
		"link": "https://stackoverflow.com/questions/75060416/how-to-get-a-vector-of-increasing-numbers-according-to-a-vector-of-strings-in-r",
		"closed_reason": "Duplicate",
		"title": "How to get a vector of increasing numbers according to a vector of strings in R?",
		"body": "<p>I have this vector of strings (strings_input) which I want to be a vector of numbers like the expected_output.</p>\n<pre><code>\nstrings_input &lt;- c(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;)\n\nsome function:\n\nexpected_output &lt;- c(1, 1, 2, 2, 2, 3, 3, 4, 5, 5)\n\n</code></pre>\n"
	}, {
		"tags": ["r", "matrix"],
		"owner": {
			"reputation": 133,
			"user_id": 19200596,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/8165b69d0b4e7afa899b02c169c6e9cd?s=256&d=identicon&r=PG&f=1",
			"display_name": "Pame",
			"link": "https://stackoverflow.com/users/19200596/pame"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75481539,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676621978,
		"creation_date": 1676617906,
		"last_edit_date": 1676621316,
		"question_id": 75481162,
		"link": "https://stackoverflow.com/questions/75481162/scaling-matrix-in-r-so-that-x-tx-only-has-diagonal-elements-of-one",
		"title": "Scaling Matrix in R so that X %*% t(X) Only has Diagonal Elements of One",
		"body": "<p>So I have an <code>n x p</code> matrix <code>X</code>, and I want to scale this matrix so that <code>X</code> times its transpose has diagonal elements one only. That is, I want</p>\n<pre class=\"lang-r prettyprint-override\"><code>diag(X %*% t(X)) # n x p matrix X\n</code></pre>\n<p>to equal</p>\n<pre class=\"lang-r prettyprint-override\"><code>rep(1,n)\n</code></pre>\n<p>I know it can be done with the help of the <code>scale</code> function in R, but not sure about the specifics.</p>\n"
	}, {
		"tags": ["r", "regex", "tidyverse", "stringr"],
		"owner": {
			"reputation": 110,
			"user_id": 13635109,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fa3fe629168c9ca5a2b7ff6e2bbc0702?s=256&d=identicon&r=PG&f=1",
			"display_name": "Teddly",
			"link": "https://stackoverflow.com/users/13635109/teddly"
		},
		"is_answered": true,
		"view_count": 47,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75480738,
		"answer_count": 3,
		"score": 1,
		"last_activity_date": 1676621661,
		"creation_date": 1676612581,
		"last_edit_date": 1676613891,
		"question_id": 75480665,
		"link": "https://stackoverflow.com/questions/75480665/regex-for-at-least-one-instance-of-each-of-a-list-of-letters",
		"title": "Regex for at least one instance of each of a list of letters?",
		"body": "<p>I'm trying to sharpen my skills with regular expressions by coming up with some R code to solve the NY Time's Spelling Bee game.</p>\n<p>I've done that, but now I'm going one step further and trying to identify specifically what the game calls &quot;pangrams&quot;--words that contain at least one instance of each of set of seven letters.</p>\n<p>I was hoping to do this with <code>str_detect()</code> and a <code>regex</code>, but I'm not seeing a way to say &quot;at least one of each of these letters.&quot;</p>\n<p>Per the second example <a href=\"https://stringr.tidyverse.org/reference/str_detect.html\" rel=\"nofollow noreferrer\">here</a>, the function can be used over a list of letters, but I'm running into problems when the string I want to compare against is in a tibble with a list of words.</p>\n<p>This does not work (to identify <code>&quot;pedagogy&quot;</code> as the pangram):</p>\n<pre><code>library(tidyverse)\n\nrequired_letters &lt;- c(&quot;o&quot;, &quot;a&quot;, &quot;d&quot;, &quot;e&quot;, &quot;g&quot;, &quot;p&quot;, &quot;y&quot;)\nlist_of_words &lt;- tibble(word = c(&quot;pedagogy&quot;, &quot;agog&quot;, &quot;apogee&quot;, &quot;dodge&quot;))\n\npangrams &lt;- list_of_words %&gt;%\n  filter(all(str_detect(word, required_letters)))\n</code></pre>\n<p>But I was hoping it would work in the way that this does:</p>\n<pre><code>all(str_detect(&quot;pedagogy&quot;, required_letters))\n</code></pre>\n"
	}, {
		"tags": ["r", "lm", "predict", "linearhypothesis"],
		"owner": {
			"reputation": 79,
			"user_id": 14880657,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/48168bdc310122b4951f55016a4bb984?s=256&d=identicon&r=PG&f=1",
			"display_name": "Sandro",
			"link": "https://stackoverflow.com/users/14880657/sandro"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676620896,
		"creation_date": 1676544687,
		"last_edit_date": 1676620896,
		"question_id": 75471196,
		"link": "https://stackoverflow.com/questions/75471196/using-lm-predict-to-estimate-adjusted-group-means-and-then-perform-linear",
		"title": "Using lm() &amp; predict() to estimate adjusted group means and then perform linear hypothesis testing",
		"body": "<p>I am wanting to use <code>lm()</code> to estimate predicted group means and then perform linear hypothesis tests across the different 'levels' of another stratifying variable.</p>\n<p>Here is my data:</p>\n<pre><code>library(tidyverse)\nlibrary(car)\nset.seed(42)\nn &lt;- 1000\ndat &lt;- data.frame(id=1:n,\n                  before=runif(n, min=45, max=85),\n                  after=runif(n, min=24, max=160),\n                  treat = factor(sample(c('Treat','Control'), n, rep=TRUE, prob=c(.5, .5))),\n                  meds = factor(sample(c('A','B', &quot;C&quot;, &quot;D&quot;), n, rep=TRUE, prob=c(.18, .32, .27, 23))),\n                  age=sample(18:80, n, replace=TRUE),\n                  sex = factor(sample(c('Male','Female'), n, rep=TRUE, prob=c(.6, .4))),\n                  smoke=factor(sample(c(&quot;Never&quot;, 'Former', 'Current'), n, rep=TRUE, prob=c(.25, .6, .15))))\ndat$change &lt;- dat$after-dat$before\ndat$treat &lt;- as.factor(dat$treat)\nm1 &lt;- lm(change~treat*meds+sex+age+smoke, dat)\npred.dat = expand.grid(dat$treat, meds=unique(dat$meds))\npredict(m1, newdata=pred.dat)\nlinearHypothesis(m1, treat(&quot;Treat&quot;), meds('A','B', &quot;C&quot;, &quot;D&quot;))\n</code></pre>\n<p>Essentially, I would like to compare the predicted group means for <code>change</code> in both <code>Treat</code> and <code>Control</code> across the different levels of <code>group</code> so I end up with a 2x4 matrix of these data.</p>\n<p>I understand my syntax is incomplete owing to my lack of understanding of how the syntax works for some of these calls.</p>\n<p>Any help, as always, is immensely appreciated.</p>\n<p>Many thanks,<br />\nSandro</p>\n"
	}, {
		"tags": ["r", "string", "indexing"],
		"owner": {
			"reputation": 51,
			"user_id": 15243394,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7dbbe4a7150e7ab0ff54fcee25abbd14?s=256&d=identicon&r=PG&f=1",
			"display_name": "SilverSpringbb",
			"link": "https://stackoverflow.com/users/15243394/silverspringbb"
		},
		"is_answered": true,
		"view_count": 60,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676620311,
		"creation_date": 1676561325,
		"question_id": 75474452,
		"link": "https://stackoverflow.com/questions/75474452/take-the-last-portion-of-the-string-by-indexing",
		"title": "Take the last portion of the string by indexing",
		"body": "<p>I have to split a string by the delimiter &quot;-&quot;, and take out the part on the far right.</p>\n<pre><code>SKU &lt;- c(&quot;PPM-UA-L&quot;, &quot;RVK-JI-XL&quot;, &quot;KMN-WO-XS&quot;, &quot;YYL-S&quot;)\n</code></pre>\n<p>However, in below codes, [ ,3] will not work for all cases, as some of them have only one &quot;-&quot;. In below example, the last value &quot;YYL-S&quot; will return nothing.</p>\n<pre><code>size &lt;- str_split(SKU, &quot;-&quot;, simplify = T)[ ,3]\n</code></pre>\n<p>I also tried this to do backward indexing, but got error message. Also tried [ , -1], but negative index number in R does not indicate counting backwards.</p>\n<pre><code>size &lt;- str_split(SKU, &quot;-&quot;, simplify = T)(rev[ ,3])\n</code></pre>\n"
	}, {
		"tags": ["r", "cran"],
		"owner": {
			"reputation": 1,
			"user_id": 21231833,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7LF0RIDcxNYVUnr7yGUj0iMU0G3YvoJ-vAndo-=k-s256",
			"display_name": "wj2505",
			"link": "https://stackoverflow.com/users/21231833/wj2505"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676620159,
		"creation_date": 1676615830,
		"last_edit_date": 1676620159,
		"question_id": 75480933,
		"link": "https://stackoverflow.com/questions/75480933/unable-to-access-repository-when-trying-to-install-packages",
		"title": "Unable to access repository when trying to install packages",
		"body": "<p>I am getting the following error message when trying to install packages since updating to R 4.2.2:</p>\n<pre><code>&gt; install.packages(&quot;dplyr&quot;)\nWarning in install.packages :\n  unable to access index for repository http://cran.csiro.au/src/contrib:\n  cannot open URL 'http://cran.csiro.au/src/contrib/PACKAGES'\n</code></pre>\n<p>I have seen this is a reasonably common problem and have tried the common solutions being shared, including trying different CRAN mirrors and unticking the &quot;Use secure download method for HTTP&quot; option. This is a work computer, so I am aware that company firewalls can potentially block repository access. However, I have had IT allow the repository URLs to bypass our firewall and check the firewall logs, which has shown no issues.</p>\n<p>Any other solutions for this issue would be greatly appreciated. Thanks in advance!</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1932,
			"user_id": 11793491,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/1873c8a0c0248e59ed24411ee51ceb7e?s=256&d=identicon&r=PG&f=1",
			"display_name": "Alexis",
			"link": "https://stackoverflow.com/users/11793491/alexis"
		},
		"is_answered": true,
		"view_count": 708,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 67335395,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676619968,
		"creation_date": 1619789635,
		"last_edit_date": 1676619968,
		"question_id": 67334854,
		"link": "https://stackoverflow.com/questions/67334854/ignoring-unknown-aesthetics-text-in-ggplot-using-numbers-or-letters-as-points",
		"title": "Ignoring unknown aesthetics: text in ggplot (using numbers or letters as points)",
		"body": "<p>I have this dataset:</p>\n<pre><code>library(tidyverse)\ndataset &lt;- data.frame(CustomerId = c(1,2),\n                      umap_01 = c(0.0198, -0.319),\n                      umap_02 = c(0.336, -0.321))\n\n</code></pre>\n<p>And I want to create a ggplot with this code:</p>\n<pre><code>p &lt;- dataset %&gt;%\n  ggplot(aes(umap_01,umap_02)) +\n  geom_point(aes(text = CustomerId), alpha = 0.5)\n</code></pre>\n<p>But I received this message:</p>\n<pre><code>Warning message:\nIgnoring unknown aesthetics: text \n</code></pre>\n<p>I don't understand why if text is a valid aesthetic. Please, could you help me this code? What I am doing wrong?</p>\n"
	}, {
		"tags": ["r", "lme4", "significance", "glmm"],
		"owner": {
			"reputation": 11,
			"user_id": 16367608,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c1551cf0854ce8419a0e8a597f44442f?s=256&d=identicon&r=PG&f=1",
			"display_name": "rbeginner",
			"link": "https://stackoverflow.com/users/16367608/rbeginner"
		},
		"is_answered": false,
		"view_count": 8,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676618972,
		"creation_date": 1676618972,
		"question_id": 75481302,
		"link": "https://stackoverflow.com/questions/75481302/how-to-obtain-p-value-or-cis-for-correlation-of-random-effects-in-a-glmm-lme4",
		"title": "how to obtain p-value (or CIs) for correlation of random effects in a GLMM (lme4)",
		"body": "<p>I want to test for a correlation between the random effects of a GLMM model calculated in lme4. I have already been suggested to conduct a likelihood ratio comparison of a model with and without the random correlation. That is indeed significant but I wanted to ask if there is any way to get the confidence intervals or p-values of this correlation from the model.</p>\n<p>(Specifically, I have compared a model with the random effects structure (1 + X1 + X2 || group) against (1 + X1 + X2 | group) but the problem is that in the second model also the correlation with the intercept is included and I want to specifically test for the significance of the correlation between X1 and X2. Unfortunately, a model with (1 + X1 | group) + (1 + X2 | group) does not converge)</p>\n<p>Any help would be appreciated</p>\n"
	}, {
		"tags": ["r", "imputation", "r-mice", "weightit"],
		"owner": {
			"reputation": 143,
			"user_id": 14212134,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/864125ac51ae12d40cdfd0bb72172947?s=256&d=identicon&r=PG&f=1",
			"display_name": "g_t_b",
			"link": "https://stackoverflow.com/users/14212134/g-t-b"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676617584,
		"creation_date": 1676482705,
		"last_edit_date": 1676483139,
		"question_id": 75463552,
		"link": "https://stackoverflow.com/questions/75463552/clustered-standard-errors-with-imputed-and-weighted-data-in-r",
		"title": "Clustered standard errors with imputed and weighted data in R",
		"body": "<p>I am attempting to get clustered SEs (at the school level in my data) with data that is both imputed (MICE) and weighted (CBPS). I have tried a couple different approaches that have thrown different errors.</p>\n<p>This is what I have to start, which works fine:</p>\n<pre><code>library(tidyverse)\nlibrary(mice)\nlibrary(MatchThem)\nlibrary(CBPS)\n\ntempdata &lt;- mice(d, m = 10, maxit = 50, meth = &quot;pmm&quot;, seed = 99)\n\nweighted_data &lt;- weightthem(trtmnt ~ x1 + x2 + x3,\n                            data = tempdata,\n                            method = &quot;cbps&quot;,\n                            estimand = &quot;ATT&quot;)\n</code></pre>\n<p>Using this (<a href=\"https://www.r-bloggers.com/2021/05/clustered-standard-errors-with-r/\" rel=\"nofollow noreferrer\">https://www.r-bloggers.com/2021/05/clustered-standard-errors-with-r/</a>) as a guide, I attempted all 3, which all resulted in various types of error messages.</p>\n<p>My data is in a restricted server so unfortunately I can't bring it into here to reproduce things exactly, although if it's useful I could attempt to recreate some sample data.</p>\n<p>So attempting with <code>estimatr</code> first, I get this error:</p>\n<pre><code>m1 &lt;- estimatr::lm_robust(outcome ~ trtmnt + x1 + x2 + x3,\n                          clusters = schoolID,\n                          data = weighted_data)\n\nError in eval_tidy(mfargs[[da]], data = data) :\n  object 'schoolID' not found\n</code></pre>\n<p>I have no clue where the schoolID variable would have dropped out/not be recognized. It isn't part of the weighting procedure but it should still be in the data frame...if I use it as a covariate in a standard model without clustering, it's there.</p>\n<p>I also attempted with <code>miceadds</code> and got this error:</p>\n<pre><code>m2 &lt;- miceadds::lm.cluster(outcome ~ trtmnt + x1 + x2 + x3,\n                           cluster = &quot;schoolID&quot;,\n                           data = weighted_data)\n\nError in as.data.frame.default(data) : \n  cannot coerce class `&quot;wimids&quot;` to a data.frame\n</code></pre>\n<p>And finally, with <code>sandwich</code> and <code>lmtest</code>:</p>\n<pre><code>library(sandwich)\nlibrary(lmtest)\n\nm3 &lt;- weighted_models &lt;- with(weighted_data,\n                              exp=lm(outcome ~ trtmnt + x1 + x2 + x3))\n\nmsandwich &lt;- coeftest(m3, vcov = vcovCL, cluster = ~schoolID)\n\nError in UseMethod(&quot;estfun&quot;) :\n   no applicable method for `estfun` applied to an object of class &quot;c(`mimira`, `mira`)&quot;\n</code></pre>\n<p>Any ideas on any of the above methods, or where to go next?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 53,
			"user_id": 20309545,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e74518cad41ec15cb7ac9f3696933f10?s=256&d=identicon&r=PG",
			"display_name": "khali-blinks",
			"link": "https://stackoverflow.com/users/20309545/khali-blinks"
		},
		"is_answered": false,
		"view_count": 29,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676617042,
		"creation_date": 1676523163,
		"question_id": 75467989,
		"link": "https://stackoverflow.com/questions/75467989/probability-using-r",
		"title": "Probability using R",
		"body": "<p>I have set up a pair of die rolling game with codes below but the final part of the code is not working that is to construct a code that can calculate the winning percentage by taking the average of the throws vector. The player wins if a double sixes come up.</p>\n<pre><code>throws &lt;- NULL\nfor( i in 1:24 ){\n  Die1 &lt;-sample(c(1,2,3,4,5,6),size=1,replace = TRUE,prob = NULL)\n  Die2 &lt;-sample(c(1,2,3,4,5,6),size=1,replace = TRUE,prob = NULL)\n  throw &lt;- Die1+Die2\n  throws[i] &lt;- throw  \n}\nthrows\ngame &lt;- any( throws == 12 ) \ngame\n\nfor (i in 24){\nif (Die1==6 &amp; Die2==6){\nthrows/2 * 100}\n</code></pre>\n"
	}, {
		"tags": ["r", "raster", "terra", "sentinel1"],
		"owner": {
			"reputation": 449,
			"user_id": 478590,
			"user_type": "registered",
			"accept_rate": 73,
			"profile_image": "https://i.stack.imgur.com/yFtLy.jpg?s=256&g=1",
			"display_name": "jjunju",
			"link": "https://stackoverflow.com/users/478590/jjunju"
		},
		"is_answered": false,
		"view_count": 58,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676615564,
		"creation_date": 1676285908,
		"last_edit_date": 1676369782,
		"question_id": 75434952,
		"link": "https://stackoverflow.com/questions/75434952/problems-with-r-raster-package-handling-of-coordinates-resolution-and-extent-of",
		"title": "Problems with R raster package handling of coordinates, resolution and extent of a raster read from a &quot;tiff&quot; file from Sentinel-1",
		"body": "<p>I am trying to create a automating process in R to analyse a large number of tiff files from Sentinel-1. I read the raster in R using</p>\n<pre><code>r &lt;-raster(&quot;s1a-iw-grd-vh-20230208t052407-20230208t052432-047140-05a7dd-002.tiff&quot;)\n</code></pre>\n<p>The file is read but R shows that it has no projection. Note that R raster thinks that the extent of the raster is the dimensions (rows,columns) and assigns values 1:nrow and 1.ncol as coordinates and also gives a wrong resolution.</p>\n<pre><code>class      : RasterLayer \ndimensions : 16668, 26588, 443168784  (nrow, ncol, ncell)\nresolution : 1, 1  (x, y)\nextent     : 0, 26588, 0, 16668  (xmin, xmax, ymin, ymax)\ncrs        : NA \nsource     : s1a-iw-grd-vh-20230208t052407-20230208t052432-047140-05a7dd-002.tiff \nnames      : s1a.iw.grd.vh.20230208t052407.20230208t052432.047140.05a7dd.002 \nvalues     : 0, 25771  (min, max)\n</code></pre>\n<p>Plotting the raster using <code>mapview(r)</code> plots it south of Ghana and Togo in Africa yet it is supposed to be in the south of Sweden.</p>\n<p>Here is the mapview image.<a href=\"https://i.stack.imgur.com/0BXNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0BXNu.png\" alt=\"enter image description here\" /></a></p>\n<p>Using ArcGIS placed the image in the correct geogrtaphical region which implies that R raster package is not able to read ceratin attributes of the &quot;tiff&quot; file.</p>\n<p>Here is the ArcGIS plot. <a href=\"https://i.stack.imgur.com/w1Dlh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w1Dlh.png\" alt=\"enter image description here\" /></a></p>\n<p>ArcGIS shows that the source file has spatial attributes as shown here <a href=\"https://i.stack.imgur.com/djzEn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/djzEn.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>How can I get R to read and map this &quot;tiff&quot; file properly.</strong>\n<em>I would love solutions only in R. I have also tried the terra and stars packages without much luck</em></p>\n<p>here is a link to the tiff file <a href=\"https://drive.google.com/file/d/1YL4rth-iXG0DkMOhRlUbVU9F1UuiDXxP/view\" rel=\"nofollow noreferrer\">TIFF_FILE</a></p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr"],
		"owner": {
			"reputation": 280,
			"user_id": 12801482,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7d0ad4371bea5383a0fdd49e52b417c4?s=256&d=identicon&r=PG&f=1",
			"display_name": "Ginko-Mitten",
			"link": "https://stackoverflow.com/users/12801482/ginko-mitten"
		},
		"is_answered": true,
		"view_count": 47,
		"down_vote_count": 1,
		"up_vote_count": 2,
		"accepted_answer_id": 75477484,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676614227,
		"creation_date": 1676578539,
		"last_edit_date": 1676579024,
		"question_id": 75477461,
		"link": "https://stackoverflow.com/questions/75477461/filter-rows-with-common-entry-in-two-columns",
		"title": "Filter rows with common entry in two columns",
		"body": "<p>I have the following mock data:</p>\n<pre><code>df &lt;- data.frame(Col1=c(&quot;cat&quot;,&quot;dog&quot;,&quot;man&quot;,&quot;man&quot;,&quot;cat&quot;,&quot;cat&quot;),\n                 Col2=c(&quot;cat&quot;,&quot;dog&quot;,&quot;dog&quot;,&quot;dog&quot;,&quot;dog&quot;,&quot;cat&quot;))\n</code></pre>\n<p>I want to filter out the rows which have the same name in both columns. In other words, I want to be left with unique names across each row.</p>\n<p>So in my example, I will be left with an output like:</p>\n<pre><code>Col1 Col2\nman dog\nman dog\ncat dog\n</code></pre>\n<p>Is there a tidyverse solution for this?</p>\n"
	}, {
		"tags": ["r", "gtsummary"],
		"owner": {
			"reputation": 23,
			"user_id": 18613956,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/9b2f13968a17d4e5fc8069a234584f42?s=256&d=identicon&r=PG",
			"display_name": "R_coder_new",
			"link": "https://stackoverflow.com/users/18613956/r-coder-new"
		},
		"is_answered": false,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676613106,
		"creation_date": 1676587911,
		"last_edit_date": 1676613106,
		"question_id": 75478694,
		"link": "https://stackoverflow.com/questions/75478694/gtsummary-integer-not-being-treated-as-continuous-variable-in-output",
		"title": "gtsummary integer not being treated as continuous variable in output",
		"body": "<p>I'm trying to create a summary table using the gtsummary() function. My dataset contains an integer (variable age), for which I am trying to attain the mean and SD in the gtsummary output.</p>\n<p>Unfortunately, the integer is NOT being treated as a continuous variable. How do I go about fixing this issue?</p>\n<p>I tried to age = mutate(as.numeric(age)), however this didn't work. I can't find any solutions for this problem online.</p>\n<p>Any suggestions would be appreciated!</p>\n<p>Below is the relevant code:</p>\n<pre><code>df &lt;- data.frame (age  = c(5.0, 5.2, 6.0, 7.1, 8.0, 9.0, 10.5, 4.1, 2.3),\n                  sex = c(&quot;male&quot;, &quot;female&quot;, &quot;female&quot;, &quot;female&quot;, &quot;female&quot;, &quot;male&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;))\n\ntable1 &lt;- df %&gt;%\n  select(age, sex) %&gt;%\n  tbl_summary(statistic = list(\n    all_continuous() ~ &quot;{mean} ({sd})&quot;,\n    all_categorical() ~ &quot;{n} ({p}%)&quot;),\n    label = list(age ~ &quot;Age&quot;, \n                 sex    ~ &quot;Sex&quot;)) %&gt;%\n  bold_labels()\n\ntable1\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 3,
			"user_id": 21083190,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6ikLBXbWYgQl2W6fSG132TCTG6J5LHeON7NT2EsA=k-s256",
			"display_name": "Issam K",
			"link": "https://stackoverflow.com/users/21083190/issam-k"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676624115,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676612927,
		"creation_date": 1676596286,
		"last_edit_date": 1676612927,
		"question_id": 75479383,
		"link": "https://stackoverflow.com/questions/75479383/graphic-layout-clean",
		"closed_reason": "Opinion-based",
		"title": "Graphic layout clean",
		"body": "<p>What is the best way to improve the visibility of my geom point graph?</p>\n<p><a href=\"https://i.stack.imgur.com/Ib7lX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ib7lX.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried several steps but my code can't reproduce a clean picture</p>\n<pre><code>sw_people %&gt;%\n  map_chr(~.x$name) %&gt;%\n  set_names(sw_people, nm = .) %&gt;%\n  map_df(~ length(.x$films)) %&gt;%\n  pivot_longer(\n    cols = everything(),\n    names_to = &quot;Character&quot;,\n    values_to = &quot;Films&quot;\n  ) %&gt;%\nggplot(aes(Films, reorder(Character, Films))) + # plot results\ngeom_point()\n\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 19108441,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiMpABkCOGeBL1o4NWsR9md9wFOKfWo6Q2v2jDHdbk=k-s256",
			"display_name": "Remonda Hanna",
			"link": "https://stackoverflow.com/users/19108441/remonda-hanna"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676612829,
		"creation_date": 1676612417,
		"last_edit_date": 1676612829,
		"question_id": 75480650,
		"link": "https://stackoverflow.com/questions/75480650/error-in-knnweek-train-week-test-train-direction-k-1-no-missing-values",
		"title": "Error in knn(Week.train, Week.test, train.Direction, k = 1) : no missing values are allowed, i don&#39;t know how to fix this error",
		"body": "<pre><code>library(class)\nWeek.train=as.matrix(Lag2[data1])\nWeek.test=as.matrix(Lag2[!data1])\ntrain.Direction =Direction[data1]\nset.seed(1)\nWeekknn.pred=knn(Week.train,Week.test,train.Direction,k=1)\ntable(Weekknn.pred,Direction.0910)\n\n</code></pre>\n<p>Error in knn(Week.train, Week.test, train.Direction, k = 1) :\nno missing values are allowed</p>\n"
	}, {
		"tags": ["r", "dataframe", "na", "imputation"],
		"owner": {
			"reputation": 397,
			"user_id": 14397434,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bfa30a344a0bd85a158540df7686a50d?s=256&d=identicon&r=PG&f=1",
			"display_name": "Antonio",
			"link": "https://stackoverflow.com/users/14397434/antonio"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"closed_date": 1676616220,
		"accepted_answer_id": 75480648,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676612662,
		"creation_date": 1676612050,
		"last_edit_date": 1676612662,
		"question_id": 75480606,
		"link": "https://stackoverflow.com/questions/75480606/r-select-all-rows-that-have-one-na-value-at-most",
		"closed_reason": "Duplicate",
		"title": "R - Select all rows that have one NA value at most?",
		"body": "<p>I'm trying to impute my data and keep as many observations as I can. I want to select observations that have 1 <code>NA</code> value at most from the data found at: <code>mlbench::data(PimaIndiansDiabetes2)</code>.</p>\n<p>For example:</p>\n<pre><code>Var1 Var2 Var3\n1      NA   NA\n2      34   NA\n3      NA   NA\n4      NA   55\n5      NA   NA\n6      40   28\n</code></pre>\n<p>What I would like returned:</p>\n<pre><code>Var1 Var2 Var3\n2      34   NA\n4      NA   55\n6      40   28\n</code></pre>\n<p>This code returns rows with <code>NA</code> values and I know that I could join all observations with 1 <code>NA</code> value using <code>merge()</code> to observations without <code>NA</code> values. I'm not sure how to do extract those though.</p>\n<pre><code>na_rows &lt;- df[!complete.cases(df), ]\n</code></pre>\n"
	}, {
		"tags": ["r", "gtsummary"],
		"owner": {
			"reputation": 1,
			"user_id": 19436001,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bb8ec910cc888c8ed65f0ed4f81ad1c8?s=256&d=identicon&r=PG",
			"display_name": "Geronimo",
			"link": "https://stackoverflow.com/users/19436001/geronimo"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676611335,
		"creation_date": 1676551441,
		"last_edit_date": 1676611335,
		"question_id": 75472470,
		"link": "https://stackoverflow.com/questions/75472470/example-code-for-tbl-svysummary-function-add-ci-produce-error-message",
		"title": "Example code for tbl_svysummary function add_ci() produce error message",
		"body": "<p>I'm using tbl_svysummary to report weighted means. Additionally I would like to add another column with confidence intervals using add_ci().</p>\n<p>If I try, I get the following error:</p>\n<blockquote>\n<p>Error in UseMethod(&quot;add_ci&quot;) :<br />\nno applicable method for 'add_ci' applied to an object of class &quot;c('tbl_svysummary', 'gtsummary')</p>\n</blockquote>\n<p>The same happens if I run the example-code provided by the reference page in the web, that you can see below (<a href=\"https://www.danieldsjoberg.com/gtsummary/reference/add_ci.html\" rel=\"nofollow noreferrer\">https://www.danieldsjoberg.com/gtsummary/reference/add_ci.html</a>).</p>\n<p>Package versions:</p>\n<ul>\n<li>gtsummary 1.5.0,</li>\n<li>survey 4.1-1</li>\n</ul>\n<p>Code:</p>\n<pre><code># Example 3 ----------------------------------\n\ndata(api, package = &quot;survey&quot;)\n    add_ci_ex3 &lt;-\n      survey::svydesign(id = ~dnum, weights = ~pw, data = apiclus1, fpc = ~fpc) %&gt;%\n      tbl_svysummary(\n        include = c(api00, hsg, stype),\n        statistic = hsg ~ &quot;{mean} ({sd})&quot;\n      ) %&gt;%\n      add_ci(\n        method = api00 ~ &quot;svymedian&quot;\n      )\n</code></pre>\n<p>Basically I just tried around wit the example code an my own data, but I only get the same error message again and again. Searching google and stack overflow doesn't give me any further information on this error. Any ideas what could be the reason?</p>\n"
	}, {
		"tags": ["r", "list", "syntax"],
		"owner": {
			"reputation": 15,
			"user_id": 17550398,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/dcfad5645df34f27521cd0aad8e96293?s=256&d=identicon&r=PG&f=1",
			"display_name": "Arpitha",
			"link": "https://stackoverflow.com/users/17550398/arpitha"
		},
		"is_answered": true,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75480467,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676610717,
		"creation_date": 1676609821,
		"question_id": 75480394,
		"link": "https://stackoverflow.com/questions/75480394/how-to-split-a-list-output-in-2-columns-assigned-with-a-condition-into-two-sep",
		"title": "How to split a list output (in 2 columns assigned with a condition) into two separate columns and adding it back to data frame?",
		"body": "<p>I wanted to obtain MAD(mean absolute deviations) for each participant's response time and create a new column of MAD values in the data frame by adding it with rbind by participant.</p>\n<p>I tried:</p>\n<p><code>(aggregate(df$RT, list(df$ParticipantID), FUN=mad))</code>\nWhich gave me a list</p>\n<pre><code>           Group.1         x\n1            ADVIK 0.1730088\n2        ANUPRABHA 0.1433658\n3          ARCHANA 0.1381635\n4          ARNIMAA 0.1786956\n5           BHUVAN 0.1943341\n6           DARANI 0.2913754\n.           .      .\n.           .      .\n.           .      .\n</code></pre>\n<p>so on...</p>\n<p>I want to separate this list and add only the mad value &quot;x&quot; column in the list to a data frame. How to add only the &quot;x&quot; values in the list to my data frame?</p>\n<p>I'm expecting this output:</p>\n<pre><code>       Participants  RTs      MadRTs\n1            ADVIK 0.9903  0.1730088\n2            ADVIK 0.9563  0.1730088\n3            ADVIK 0.3987  0.1730088\n4            ADVIK 0.4673  0.1730088\n5        ANUPRABHA 0.6574  0.1433658\n6        ANUPRABHA 0.7895  0.1433658\n7        ANUPRABHA 0.6587  0.1433658\n8        ANUPRABHA 0.5432  0.1433658\n</code></pre>\n"
	}, {
		"tags": ["r", "optimization", "logistic-regression", "lasso-regression"],
		"owner": {
			"reputation": 1,
			"user_id": 18349744,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0cd02c6d55afdd92d6207afde2367c5e?s=256&d=identicon&r=PG&f=1",
			"display_name": "SKK",
			"link": "https://stackoverflow.com/users/18349744/skk"
		},
		"is_answered": false,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676609295,
		"creation_date": 1676606797,
		"last_edit_date": 1676609295,
		"question_id": 75480164,
		"link": "https://stackoverflow.com/questions/75480164/l1-regularized-logistic-regression-with-the-response-1-or-1-not-0-1",
		"title": "l1 regularized logistic regression with the response -1 or 1, not 0, 1",
		"body": "<p>I want to fit the model using l1 regularized logistic regression.\nThe response is -1, or 1, instead of 0 or 1.</p>\n<p>I am trying to reproduce the simulation of High-dimensional Ising model selection using \u21131-regularized logistic regression, Ravikumar et al (2010).</p>\n<p>I generated the data from the ising model having the response as -1 or 1.\nFor generating data, I modified isingibbs function in R. (from 0 or 1 to -1 or 1).</p>\n<p>Next, the authors use l1_logreg function in C. This function is used for the binary response, -1 or 1.\nHowever, I do not know C, so I found the R function, glmnet, for fitting the model.\nI wonder whether I can use the glmnet function for the response having -1, or 1.\nOr could you please let me know another R function to use for -1 or 1 response?</p>\n<p>Thank you!</p>\n"
	}, {
		"tags": ["r", "glm", "nlme"],
		"owner": {
			"reputation": 17,
			"user_id": 19923494,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AFdZucrCPY9pjJBihohWlybOw26hSaG6-uSNtzZvy4f9=k-s256",
			"display_name": "Scrooge Mike",
			"link": "https://stackoverflow.com/users/19923494/scrooge-mike"
		},
		"is_answered": false,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676609256,
		"creation_date": 1676598035,
		"last_edit_date": 1676609256,
		"question_id": 75479513,
		"link": "https://stackoverflow.com/questions/75479513/glm-function-in-split-experiment-in-r",
		"title": "glm function in split experiment in r",
		"body": "<p>I am carrying out an split experiment with microbiology. Totally 3 blocks I set: A,B,C; each block contains 2 replicates; each replicate contains 2 species. I want to test if the density ratio of these 2 species change with time.</p>\n<p>I write this code:</p>\n<pre><code>y19 &lt;- cbind(data19$density.E, data19$density.P)\nmodel19 &lt;- glmer(y19 ~ time + (1|block), binomial, data = data19)\nsummary(model19)\n</code></pre>\n<p>it works, but show warning:</p>\n<blockquote>\n<p>boundary (singular) fit: see help('isSingular')\nWarning messages:\n1: Some predictor variables are on very different scales: consider rescaling\n2: In eval(family$initialize, rho) : non-integer counts in a binomial glm!</p>\n</blockquote>\n<p>I learned that glm function can be also used, but I dont know the format of split experiments in glm, I can only write:</p>\n<pre><code>model19 &lt;- glm(y19  ~ time * block, binomial, data = data19)\n</code></pre>\n<p>what the right format of glm of my question</p>\n"
	}, {
		"tags": ["r", "lme4", "nlme"],
		"owner": {
			"reputation": 17,
			"user_id": 19923494,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AFdZucrCPY9pjJBihohWlybOw26hSaG6-uSNtzZvy4f9=k-s256",
			"display_name": "Scrooge Mike",
			"link": "https://stackoverflow.com/users/19923494/scrooge-mike"
		},
		"is_answered": true,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75480258,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676608102,
		"creation_date": 1676533518,
		"last_edit_date": 1676534169,
		"question_id": 75469176,
		"link": "https://stackoverflow.com/questions/75469176/time-variable-in-split-experiment-in-lme-function",
		"title": "time variable in split experiment in lme function",
		"body": "<p>I am carrying out an split experiment with microbiology.\nTotally 3 blocks I set: A,B,C;\neach block contains 2 incobators, with setting temperature at 19 and 31 \u00b0c, respectively.\nIn each incubator, 2 replicated microganism sample are cultured (a,b).</p>\n<p>now I want to compare density of microganism between generation 27 (which I got and stocked a years agao) and 2400 (which I got and stocked now). <a href=\"https://i.stack.imgur.com/t7LOD.png\" rel=\"nofollow noreferrer\">split experiment diagram</a></p>\n<p><a href=\"https://i.stack.imgur.com/ueqOp.png\" rel=\"nofollow noreferrer\">my data</a></p>\n<p>I write this code, it works</p>\n<pre><code>modele.ed &lt;- lme ( density ~ temperature*generation, random = ~1|block/temperature/generation, na.action = na.omit, data = datae)\n</code></pre>\n<p>but it looks like wrong. I still dont know how to deal with &quot;generation&quot;.what is the right code?</p>\n"
	}, {
		"tags": ["r", "shiny", "dt"],
		"owner": {
			"reputation": 347,
			"user_id": 1731173,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/f1f7f34c79bc184df7d9fbcf21295868?s=256&d=identicon&r=PG",
			"display_name": "bruce.moran",
			"link": "https://stackoverflow.com/users/1731173/bruce-moran"
		},
		"is_answered": false,
		"view_count": 78,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676607815,
		"creation_date": 1652367994,
		"question_id": 72218018,
		"link": "https://stackoverflow.com/questions/72218018/dt-editable-column-not-functional",
		"title": "DT editable = &quot;column&quot; not functional",
		"body": "<p>In the examples on <a href=\"https://yihui.shinyapps.io/DT-edit/\" rel=\"nofollow noreferrer\">https://yihui.shinyapps.io/DT-edit/</a>, when <code>editable = &quot;column&quot;</code> the results won't render and be retained in the table. Indeed, they only work if <code>editable = TRUE</code> or <code>editable = &quot;cell&quot;</code>.</p>\n<p>From the following code culled from link above, I added a <code>Click</code> button to see what was in <code>input</code> elements.</p>\n<p>When you <code>Click</code> following selecting a cell with <code>editable = &quot;column&quot;</code> (which allows input to column cells), no changes re seen in <code>input$x1_columns_selected</code>.</p>\n<p>Can anyone specify why and if this used to work correctly? I cannot see how a feature like this would be broken, it seems very useful.</p>\n<pre><code>library(shiny)\nlibrary(DT)\n\ndt_output = function(title, id) {\n  fluidRow(column(\n    12, h1(paste0('Table ', sub('.*?([0-9]+)$', '\\\\1', id), ': ', title)),\n    hr(),\n    actionButton(&quot;click_action&quot;, &quot;Click&quot;),\n    hr(),\n    DTOutput(id)\n  ))\n}\nrender_dt = function(data, editable = 'cell', server = TRUE, ...) {\n  renderDT(data, selection = 'none', server = server, editable = editable, ...)\n}\n\nshinyApp(\n  ui = fluidPage(\n    title = 'Double-click to edit table cells',\n\n    dt_output('client-side processing (editable = &quot;column&quot;)', 'x1'),\n  ),\n\n  server = function(input, output, session) {\n    d1 = iris[1:5,]\n    d1$Date = Sys.time() + seq_len(nrow(d1))\n\n    # client-side processing\n\n    output$x1 = render_dt(d1, 'column', FALSE)\n\n    observe(str(input$x1_cell_edit))\n\n    observeEvent(input$click_action, {\n      print(input)\n      print(input$x1_cells_selected)\n      print(input$x1_columns_selected)\n      print(input$x1_rows_all)\n      print(input$x1_rows_current)\n      print(input$x1_rows_selected)\n      print(input$x1_search)\n      #print(input$x1_state)\n    })\n  }\n)\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "dplyr", "geom-text"],
		"owner": {
			"reputation": 1553,
			"user_id": 10141914,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0826662edcb187e307870eacf316daff?s=256&d=identicon&r=PG&f=1",
			"display_name": "william3031",
			"link": "https://stackoverflow.com/users/10141914/william3031"
		},
		"is_answered": true,
		"view_count": 5941,
		"down_vote_count": 1,
		"up_vote_count": 3,
		"accepted_answer_id": 55930532,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676605995,
		"creation_date": 1556670747,
		"last_edit_date": 1676605995,
		"question_id": 55930299,
		"link": "https://stackoverflow.com/questions/55930299/geom-text-in-ggplot-with-geom-col-and-position-dodge",
		"title": "geom_text in ggplot with geom_col and position &quot;dodge&quot;",
		"body": "<p>I have issues with my labelling. I have read the other posts on the topic, but can't figure out what is wrong. Can you please help?</p>\n\n<p>Data:</p>\n\n<pre><code>df &lt;- structure(list(type = c(\"Activity (ACTIV)\", \"Activity (ACTIV)\", \n\"Activity (ACTIV)\", \"Function (MEREC)\", \"Meeting (MEONE)\", \"Meeting (MEONE)\", \n\"Meeting (MEONE)\", \"Training (TRAIN)\", \"Training (TRAIN)\", \"Training (TRAIN)\"\n), month = structure(c(1546300800, 1548979200, 1551398400, 1551398400, \n1546300800, 1548979200, 1551398400, 1546300800, 1548979200, 1551398400\n), class = c(\"POSIXct\", \"POSIXt\"), tzone = \"UTC\"), attendance = c(70, \n258, 125, 150, 2, 71, 180, 80, 105, 32)), class = c(\"grouped_df\", \n\"tbl_df\", \"tbl\", \"data.frame\"), row.names = c(NA, -10L), vars = \"type\", drop = TRUE, indices = list(\n    0:2, 3L, 4:6, 7:9), group_sizes = c(3L, 1L, 3L, 3L), biggest_group_size = 3L, labels = structure(list(\n    type = c(\"Activity (ACTIV)\", \"Function (MEREC)\", \"Meeting (MEONE)\", \n    \"Training (TRAIN)\")), class = \"data.frame\", row.names = c(NA, \n-4L), vars = \"type\", drop = TRUE))\n</code></pre>\n\n<p>Which is this:</p>\n\n<pre><code>[![# A tibble: 10 x 3\n# Groups:   type \\[4\\]\n   type             month               attendance\n   &lt;chr&gt;            &lt;dttm&gt;                   &lt;dbl&gt;\n 1 Activity (ACTIV) 2019-01-01 00:00:00         70\n 2 Activity (ACTIV) 2019-02-01 00:00:00        258\n 3 Activity (ACTIV) 2019-03-01 00:00:00        125\n 4 Function (MEREC) 2019-03-01 00:00:00        150\n 5 Meeting (MEONE)  2019-01-01 00:00:00          2\n 6 Meeting (MEONE)  2019-02-01 00:00:00         71\n 7 Meeting (MEONE)  2019-03-01 00:00:00        180\n 8 Training (TRAIN) 2019-01-01 00:00:00         80\n 9 Training (TRAIN) 2019-02-01 00:00:00        105\n10 Training (TRAIN) 2019-03-01 00:00:00         32\n</code></pre>\n\n<p>ggplot:</p>\n\n<pre><code>ggplot(df, aes(month, attendance, fill = type)) + \n  geom_col(position = \"dodge\") + \n  geom_text(aes(label = attendance), position = position_dodge(width =-1), vjust=1)\n</code></pre>\n\n<p>I get this, but I want the text to be above the relevant dodged columns, not all in the middle. Can you help?</p>\n\n<p><a href=\"https://i.stack.imgur.com/bFfD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bFfD8.png\" alt=\"image\"></a></p>\n"
	}, {
		"tags": ["r", "ggplot2", "geom-bar"],
		"owner": {
			"reputation": 3,
			"user_id": 21128214,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7EGGao3sOcLOId5-MJeUV7kVgxZ2RpUoven5QD=k-s256",
			"display_name": "Nouvan Shebubakar",
			"link": "https://stackoverflow.com/users/21128214/nouvan-shebubakar"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676620368,
		"accepted_answer_id": 75479497,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676605964,
		"creation_date": 1676596268,
		"last_edit_date": 1676605964,
		"question_id": 75479381,
		"link": "https://stackoverflow.com/questions/75479381/how-to-place-text-on-top-of-dodged-columns",
		"closed_reason": "Duplicate",
		"title": "How to place text on top of dodged columns?",
		"body": "<p>I have a dataframe of housing data, but had to make another dataframe where need to sum the housing type depend on where the area of the house, which there are 2 types of houses in 3 different areas.</p>\n<pre><code>df &lt;- na.omit(n[, c(&quot;matssvaedi&quot;, &quot;teg_eign_s_i&quot;)])\ncounts &lt;- df %&gt;%\n  group_by(matssvaedi, teg_eign_s_i)%&gt;%\n  summarise(count = n())\ndf1 &lt;- ggplot(counts, aes(x = matssvaedi, y = count))\ndf1 + geom_bar(aes(fill = teg_eign_s_i), stat = &quot;identity&quot;, position = 'dodge') + geom_text(aes(label = count), color=&quot;black&quot;,vjust = 0.01, size = 3) + scale_fill_brewer(palette = &quot;Paired&quot;) + theme_classic()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Th0on.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Th0on.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 31,
			"user_id": 5589727,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/dc55e569252429a92fb532e11cbd081d?s=256&d=identicon&r=PG&f=1",
			"display_name": "Phil Viton",
			"link": "https://stackoverflow.com/users/5589727/phil-viton"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676604375,
		"creation_date": 1676604375,
		"question_id": 75479995,
		"link": "https://stackoverflow.com/questions/75479995/estimating-heteroskedastic-logit-model",
		"title": "estimating heteroskedastic logit model",
		"body": "<p>Suppose (following Train, Discrete Choice Analysis with Simulation, chapter 3.2) you have a discrete choice model, observations from several cities, and you suspect that the variances of the unobserved factors differ over cities. The suggested appropriate\nmodel is heteroskedastic logit (or probit). Can this setup be estimated in R? As far as I can see, the mlogit package doesn't do this\n(it doesn't allow you to specify that the source of the heterogeneity is the cities). Is that correct, or am I missing\nsomething? If it is right, any suggestions for an R package?</p>\n"
	}, {
		"tags": ["r", "database", "dplyr", "tidyverse"],
		"owner": {
			"reputation": 127,
			"user_id": 19060810,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d5ee1386d4db2d27d966ff05beece82d?s=256&d=identicon&r=PG",
			"display_name": "nesta1992",
			"link": "https://stackoverflow.com/users/19060810/nesta1992"
		},
		"is_answered": true,
		"view_count": 42,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75479629,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676604312,
		"creation_date": 1676560732,
		"last_edit_date": 1676561921,
		"question_id": 75474327,
		"link": "https://stackoverflow.com/questions/75474327/creating-a-unique-id-per-username-dplyr-vs-stata",
		"title": "Creating a unique id per username (dplyr) vs. Stata",
		"body": "<p>I have a reddit dataset where each row represents a single reddit post, along with the username info. However, given that it's reddit data, the number of posts per username varies a lot (i.e. depending on how active a given username is on reddit).\nI am trying to create a unique id for each username and my data are structured as follows:</p>\n<pre><code>dput(df[1:5,c(2,3)])\n</code></pre>\n<p>output:</p>\n<pre><code>structure(list(date = structure(c(15149, 15150, 15150, 15150, \n15150), class = &quot;Date&quot;), username = c(&quot;\u062a\u062a\u0637\u0648\u0631&quot;, &quot;\u0639\u0627\u0637\u0644\u0647 \u0641\u0642\u0637&quot;, \n&quot;\u0642\u0635\u0647 \u0623\u0644\u0645&quot;, &quot;\u0628\u0634\u0631\u0648\u0646\u064a \u0628\u0648\u0638\u064a\u0641\u0629&quot;, &quot;\u0627\u0644\u0648\u0627\u0639\u062f\u0647&quot;\n)), class = c(&quot;grouped_df&quot;, &quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, \n-5L), groups = structure(list(username = c(&quot;\u0627\u0644\u0648\u0627\u0639\u062f\u0647&quot;, \n&quot;\u0628\u0634\u0631\u0648\u0646\u064a \u0628\u0648\u0638\u064a\u0641\u0629&quot;, &quot;\u062a\u062a\u0637\u0648\u0631&quot;, &quot;\u0639\u0627\u0637\u0644\u0647 \u0641\u0642\u0637&quot;, \n&quot;\u0642\u0635\u0647 \u0623\u0644\u0645&quot;), .rows = structure(list(5L, 4L, 1L, 2L, 3L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n&quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -5L), .drop = TRUE))\n</code></pre>\n<p>I ran the following code where I tried replicate the code <a href=\"https://stackoverflow.com/questions/69936310/creating-a-unique-id-column-in-r\">here</a></p>\n<p>The code works w/out errors, but I am unable to create a unique id by username.\n#create an ID per observation</p>\n<pre><code>df &lt;- df %&gt;% \n  group_by(username)  %&gt;% \n mutate(id = row_number())%&gt;% \n relocate(id)\n</code></pre>\n<h1>Print data example with specific columns</h1>\n<pre><code>dput(df[1:10,c(1,4)])\n</code></pre>\n<p>output:</p>\n<pre><code>structure(list(id = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 3L), \n    username = c(&quot;\u062a\u062a\u0637\u0648\u0631&quot;, &quot;\u0639\u0627\u0637\u0644\u0647 \u0641\u0642\u0637&quot;, &quot;\u0642\u0635\u0647 \u0623\u0644\u0645&quot;, \n    &quot;\u0628\u0634\u0631\u0648\u0646\u064a \u0628\u0648\u0638\u064a\u0641\u0629&quot;, &quot;\u0627\u0644\u0648\u0627\u0639\u062f\u0647&quot;, &quot;\u0645\u0627\u062e\u0644\u064a\u062a\u0648\u0622 \u0644\u064a \u0627\u0633\u0645&quot;, \n    &quot;\u0645\u0631\u0627\u0641\u0626 \u0633\u0627\u0643\u0646\u0647&quot;, &quot;\u0645\u0639\u062a\u0648\u0642\u0629&quot;, &quot;\u062a\u062a\u0637\u0648\u0631&quot;, &quot;\u062a\u062a\u0637\u0648\u0631&quot;\n    )), class = c(&quot;grouped_df&quot;, &quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -10L), groups = structure(list(username = c(&quot;\u0627\u0644\u0648\u0627\u0639\u062f\u0647&quot;, \n&quot;\u0628\u0634\u0631\u0648\u0646\u064a \u0628\u0648\u0638\u064a\u0641\u0629&quot;, &quot;\u062a\u062a\u0637\u0648\u0631&quot;, &quot;\u0639\u0627\u0637\u0644\u0647 \u0641\u0642\u0637&quot;, \n&quot;\u0642\u0635\u0647 \u0623\u0644\u0645&quot;, &quot;\u0645\u0627\u062e\u0644\u064a\u062a\u0648\u0622 \u0644\u064a \u0627\u0633\u0645&quot;, &quot;\u0645\u0631\u0627\u0641\u0626 \u0633\u0627\u0643\u0646\u0647&quot;, \n&quot;\u0645\u0639\u062a\u0648\u0642\u0629&quot;), .rows = structure(list(5L, 4L, c(1L, 9L, 10L\n), 2L, 3L, 6L, 7L, 8L), ptype = integer(0), class = c(&quot;vctrs_list_of&quot;, \n&quot;vctrs_vctr&quot;, &quot;list&quot;))), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n), row.names = c(NA, -8L), .drop = TRUE))\n</code></pre>\n<p>In Stata, I would do this as follows:</p>\n<pre><code>// create an id variable per username\negen id = group(username)\n</code></pre>\n"
	}, {
		"tags": ["r", "sentiment-analysis"],
		"owner": {
			"reputation": 11,
			"user_id": 15888846,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/2e8825b1d9df6824dfe95f314677ce23?s=256&d=identicon&r=PG&f=1",
			"display_name": "Jonnytheriver",
			"link": "https://stackoverflow.com/users/15888846/jonnytheriver"
		},
		"is_answered": false,
		"view_count": 57,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 5,
		"score": 1,
		"last_activity_date": 1676603871,
		"creation_date": 1676549034,
		"last_edit_date": 1676562774,
		"question_id": 75471989,
		"link": "https://stackoverflow.com/questions/75471989/sum-aggregate-a-column-without-losing-other-columns",
		"title": "Sum (aggregate) a column without losing other columns",
		"body": "<p>I am doing a sentiment analysis and want to count the words in my corpora and at the same time keep the sentiment scores for each word. The sentiment score varies between -1 and 1. My data looks like this:</p>\n<pre><code>df &lt;- data.frame(words=c(&quot;danger&quot;, &quot;here&quot;, &quot;happy&quot;, &quot;happy&quot;, &quot;danger&quot;, &quot;here&quot; ) , senti_score =c(-0.8, 0, 0.7, 0.7, -0.8, 0)) \n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>words</th>\n<th>senti_score</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>danger</td>\n<td>-0.8</td>\n</tr>\n<tr>\n<td>here</td>\n<td>0</td>\n</tr>\n<tr>\n<td>happy</td>\n<td>0.6</td>\n</tr>\n<tr>\n<td>happy</td>\n<td>0.6</td>\n</tr>\n<tr>\n<td>danger</td>\n<td>-0.8</td>\n</tr>\n<tr>\n<td>here</td>\n<td>0</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>As you can see, each word corresponds to a specific sentiment score.</p>\n<p>However, if I count the words with <code>count()</code> from the <a href=\"/questions/tagged/dplyr-package\" class=\"post-tag\" title=\"show questions tagged &#39;dplyr-package&#39;\" aria-label=\"show questions tagged &#39;dplyr-package&#39;\" rel=\"tag\" aria-labelledby=\"dplyr-package-container\">dplyr-package</a>, I lose the column &quot;senti_score&quot;.</p>\n<pre><code>library(dplyr)\nwrd_cnt &lt;- df %&gt;%\n  count(words, sort = TRUE )\n</code></pre>\n<p>Result looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>words</th>\n<th>n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>danger</td>\n<td>2</td>\n</tr>\n<tr>\n<td>here</td>\n<td>2</td>\n</tr>\n<tr>\n<td>happy</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>After that I tried to stick it together with the <code>left_join()</code> from the <a href=\"/questions/tagged/dplyr-package\" class=\"post-tag\" title=\"show questions tagged &#39;dplyr-package&#39;\" aria-label=\"show questions tagged &#39;dplyr-package&#39;\" rel=\"tag\" aria-labelledby=\"dplyr-package-container\">dplyr-package</a>:</p>\n<pre><code>wrd_cnt &lt;- left_join(wrd_cnt, df, by = &quot;words&quot;)\n</code></pre>\n<p>But as it seems, this disaggregates the data and the result looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>words</th>\n<th>n</th>\n<th>sneti_score</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>danger</td>\n<td>2</td>\n<td>-0.8</td>\n</tr>\n<tr>\n<td>danger</td>\n<td>2</td>\n<td>-0.8</td>\n</tr>\n<tr>\n<td>here</td>\n<td>2</td>\n<td>0</td>\n</tr>\n<tr>\n<td>here</td>\n<td>2</td>\n<td>0</td>\n</tr>\n<tr>\n<td>happy</td>\n<td>2</td>\n<td>0.6</td>\n</tr>\n<tr>\n<td>happy</td>\n<td>2</td>\n<td>0.6</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Is there any way to stick the sentiment scores to the data frame and NOT disaggregate it at the same time? The result should look somehow like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>words</th>\n<th>n</th>\n<th>senti_score</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>danger</td>\n<td>2</td>\n<td>-0.8</td>\n</tr>\n<tr>\n<td>here</td>\n<td>2</td>\n<td>0</td>\n</tr>\n<tr>\n<td>happy</td>\n<td>2</td>\n<td>0.6</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Can someone help?</p>\n<p>Thank you!</p>\n"
	}, {
		"tags": ["r", "statistics", "log-likelihood"],
		"owner": {
			"reputation": 13,
			"user_id": 19865198,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/8dd18f373288c5473e9437e75037107f?s=256&d=identicon&r=PG",
			"display_name": "LifeisGood94",
			"link": "https://stackoverflow.com/users/19865198/lifeisgood94"
		},
		"is_answered": true,
		"view_count": 36,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75479880,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676603459,
		"creation_date": 1676597956,
		"last_edit_date": 1676602393,
		"question_id": 75479505,
		"link": "https://stackoverflow.com/questions/75479505/how-do-you-code-the-likelihood-of-the-normal-distribution-kernel-in-r-manually",
		"title": "How do you code the likelihood of the normal distribution kernel in R manually?",
		"body": "<p>Specifically, how do you code the product of the differences of x and mu, precision matrix, and transpose of the differences of x and mu. Is my code below correct? Thanks in advance.</p>\n<pre><code>(colSums(dat-mu_mat)%*%solve(sigma)%*%colSums(dat-mu_mat))\n</code></pre>\n<p>where mu_mat is the row vector of means repeated down n times.</p>\n<p>Full code is below:</p>\n<pre><code>dat&lt;-rmvnorm(100,mean=c(200,0.1),sigma=matrix(c(5,0,0,0.02),nrow=2))\nn&lt;-nrow(dat)\nmu&lt;-matrix(c(200,0.1),nrow=1)\nmu_mat&lt;-matrix(rep(c(200,0.1),100),nrow=100,ncol=2,byrow=TRUE)\n\nloglik_mvn&lt;-function(n,d,x,mu_mat,sigma){\n  (-n*d/2)*log(2*pi)-(n/2)*det(sigma,log=TRUE)-0.5*(colSums(x-mu_mat)%*%solve(sigma)%*%colSums(x-mu_mat))\n\nloglik_mvn(nrow(dat),ncol(dat),dat,mu_mat,sigma)\ndmvnorm(dat,mean=mu,sigma=sigma,log=TRUE)\n}\n</code></pre>\n"
	}, {
		"tags": ["r", "regex", "directory", "path"],
		"owner": {
			"reputation": 103,
			"user_id": 5865954,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/aioWT.jpg?s=256&g=1",
			"display_name": "Quality",
			"link": "https://stackoverflow.com/users/5865954/quality"
		},
		"is_answered": true,
		"view_count": 53,
		"down_vote_count": 2,
		"up_vote_count": 0,
		"closed_date": 1676668840,
		"accepted_answer_id": 75439864,
		"answer_count": 1,
		"score": -2,
		"last_activity_date": 1676602932,
		"creation_date": 1676311204,
		"last_edit_date": 1676602932,
		"question_id": 75439605,
		"link": "https://stackoverflow.com/questions/75439605/how-can-i-convert-double-slashes-in-r-without-encountering-error-relating-to-esc",
		"closed_reason": "Needs details or clarity",
		"title": "How can I convert double slashes in R without encountering error relating to escape characters?",
		"body": "<p>I am trying to set my working directory within R to a specific location on my windows computer. However, the destination that I wish to set the working directory to has a somewhat irregular pathway. That is, it begins with two double slashes, and then only single slashes are used through the rest of the path. Because of this, I get error: unrecognized escape character.</p>\n<p>To fix this, I have tried a few common R packages along with using raw strings. The functions/packages I have tried so far are gsub, readLines and enc2vec.</p>\n<p>However, none of these resolve the issue, and I always end up with double slashes where I need single slashes.</p>\n<p>Below, I will provide an example that helps illustrate my issue;</p>\n<p>For example, the path that I need to set my working directory to has the form</p>\n<pre><code>\\\\Z\\image\\pic\\store\n</code></pre>\n<p>But,if I try the basic <code>path=&quot;\\\\Z\\image\\pic\\store&quot; </code>, I get the escape character error.</p>\n<p>What can I do?</p>\n<p>Edit: It appears is it just an issue with how windows interprets the slashes, as one user pointed out, using the cat function will show how it is interpreted. Hence I fixed the issue by using quadruple slashes in place of double slash, and double slash in front of single slashes.</p>\n"
	}, {
		"tags": ["html", "css", "r", "shiny", "bootstrap-5"],
		"owner": {
			"reputation": 1,
			"user_id": 20286490,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/ALm5wu2le185U6nyr6oZP1jEittKqTA96s_QdAqHpz4=k-s256",
			"display_name": "Filip",
			"link": "https://stackoverflow.com/users/20286490/filip"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676602407,
		"creation_date": 1676592874,
		"question_id": 75479155,
		"link": "https://stackoverflow.com/questions/75479155/bootstrap-auto-close-behavior-dropdown-menu-inside-navbar-shiny-app",
		"title": "Bootstrap - auto close behavior (dropdown menu) inside navbar shiny app",
		"body": "<p>I'd like to change shiny navbarMenu behaviour - when I click inside or outside, dropdown hide and i need to click again to drop it again. Maybe someone have tried change behaviour on bootstrap manual close data-<em>bs-auto-close=&quot;false&quot;</em> inside shiny app?</p>\n<p>In html it looks like that:</p>\n<p>`    </p>\n<pre><code>  &lt;button class=&quot;btn btn-secondary dropdown-toggle&quot; type=&quot;button&quot; id=&quot;dropdownMenuClickable&quot; data-bs-     toggle=&quot;dropdown&quot; data-bs-auto-close=&quot;false&quot; aria-expanded=&quot;false&quot;&gt;\n    Manual close\n  &lt;/button&gt;\n  &lt;ul class=&quot;dropdown-menu&quot; aria-labelledby=&quot;dropdownMenuClickable&quot;&gt;\n    &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot;&gt;Menu item&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot;&gt;Menu item&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot;&gt;Menu item&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;`\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "geom-point"],
		"owner": {
			"reputation": 13,
			"user_id": 20430516,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/ALm5wu1jlWs9Oz5366EKOShhpQN80QoOZ0SmNR_Vd2jZ=k-s256",
			"display_name": "shuaige C",
			"link": "https://stackoverflow.com/users/20430516/shuaige-c"
		},
		"is_answered": false,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676604471,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676601475,
		"creation_date": 1676600636,
		"last_edit_date": 1676601475,
		"question_id": 75479712,
		"link": "https://stackoverflow.com/questions/75479712/why-i-can-t-control-the-point-color-in-geom-point-in-ggplot2-package",
		"closed_reason": "Not suitable for this site",
		"title": "why i can\u2019t control the point color in geom_point in ggplot2 package?",
		"body": "<p>The default point color is black.I want to change the point to other color,like blue... But  the color change to red.</p>\n<p>I tried control the color in geom_point(aes(color=&quot;blue&quot;)) or ggplot(aes(color=&quot;blue&quot;)),but it's not work.</p>\n<p>here is the data:</p>\n<pre><code>testdat=data.frame(matrix(nrow = 19,ncol=4))\ntestdat$type&lt;-c(rep(&quot;a&quot;,2),rep(&quot;b&quot;,5),rep(&quot;c&quot;,4),rep(&quot;d&quot;,4),rep(&quot;e&quot;,4))\ntestdat$year&lt;-c(2011,2014,2015,2016,2017,2019,2020,2005,2008,2010,2009,2008,2009,2012,2014,2015,2017,2020,2022)\ntestdat$TC&lt;-c(10,12,0,9,9,5,2,4,34,12,55,11,10,2,3,5,21,34,1)\ntestdat$N&lt;-c(3,4,5,7,8,9,1,2,3,4,5,8,2,3,1,8,3,4,5)\n</code></pre>\n<p>here is the code:</p>\n<pre><code>ggplot(testdat,aes(x=year,y=type))+\ngeom_line( color=&quot;grey&quot;,linewidth=1)+\ngeom_point(aes(size=N,alpha=log(TC),color=&quot;BLUE&quot;))+\nscale_size(range = c(2,10), name=&quot;Number&quot;)+\nguides(color=FALSE)+\ntheme_bw()+\ntheme(legend.key = element_rect(color = NA,fill=NA),\n    title = element_text(size = 10),\n    axis.title = element_text(size = 10),   \n    axis.text.x = element_text(size = 8),    \n    axis.text.y = element_text(size = 8),    \n    #legend.title = element_blank(),          \n    legend.background = element_rect(fill = NA,colour=NA),\n    text=element_text(size=10,  family=&quot;serif&quot;))\n</code></pre>\n"
	}, {
		"tags": ["r", "list", "tidyverse", "interpolation", "purrr"],
		"owner": {
			"reputation": 325,
			"user_id": 11124121,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/Q6erO.png?s=256&g=1",
			"display_name": "doraemon",
			"link": "https://stackoverflow.com/users/11124121/doraemon"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75479696,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676600493,
		"creation_date": 1676600280,
		"question_id": 75479683,
		"link": "https://stackoverflow.com/questions/75479683/is-it-possible-to-interpolate-a-list-of-dataframes-in-r",
		"title": "Is it possible to interpolate a list of dataframes in r?",
		"body": "<p>According to the answer of lhs,\n<a href=\"https://stackoverflow.com/a/72467827/11124121\">https://stackoverflow.com/a/72467827/11124121</a></p>\n<pre><code>#From lhs\nlibrary(tidyverse)\ndata(&quot;population&quot;)\n\n# create some data to interpolate\npopulation_5 &lt;- population %&gt;% \n  filter(year %% 5 == 0) %&gt;% \n  mutate(female_pop = population / 2,\n         male_pop = population / 2)\n\ninterpolate_func &lt;- function(variable, data) {\n  data %&gt;% \n    group_by(country) %&gt;% \n    # can't interpolate if only one year\n    filter(n() &gt;= 2) %&gt;% \n    group_modify(~as_tibble(approx(.x$year, .x[[variable]], \n                                   xout = min(.x$year):max(.x$year)))) %&gt;% \n    set_names(c(&quot;country&quot;, &quot;year&quot;, paste0(variable, &quot;_interpolated&quot;))) %&gt;% \n    ungroup()\n}\n</code></pre>\n<p>The data that already exists, i.e. year 2000 and 2005 are also interpolated. I want to keep the orginal data and only interpolate the missing parts, that is,</p>\n<p>2001-2004 ; 2006-2009</p>\n<p>Therefore, I would like to construct a list:</p>\n<pre><code>population_5_list = list(population_5 %&gt;% filter(year %in% c(2000,2005)),population_5 %&gt;% filter(year %in% c(2005,2010)))\n\n</code></pre>\n<p>And impute the dataframes in the list one by one.</p>\n<p>However, a error appeared:</p>\n<pre><code>Error in UseMethod(&quot;group_by&quot;) :\nno applicable method for 'group_by' applied to an object of class &quot;list&quot;\n</code></pre>\n<p>I am wondering how can I change the <code>interpolate_func</code> into <code>purrr</code> format, in order to apply to list.</p>\n"
	}, {
		"tags": ["r", "class", "buffer", "raster"],
		"owner": {
			"reputation": 271,
			"user_id": 5006381,
			"user_type": "registered",
			"accept_rate": 92,
			"profile_image": "https://www.gravatar.com/avatar/cc899f500ea63adc71e7762349b6355d?s=256&d=identicon&r=PG&f=1",
			"display_name": "geo_dd",
			"link": "https://stackoverflow.com/users/5006381/geo-dd"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676600329,
		"creation_date": 1676469290,
		"last_edit_date": 1676476998,
		"question_id": 75460860,
		"link": "https://stackoverflow.com/questions/75460860/how-to-create-inner-buffer-for-a-specific-raster-class-in-r",
		"title": "How to create inner buffer for a specific raster class in R?",
		"body": "<p>I have a large raster with 3 values (1,2,3).\nI want to create a zone of 20 meters for areas with value 3, but I want the buffer to be not outside (around) the areas of value 3 but inside these areas.</p>\n<p>I have tried to use</p>\n<pre><code>my_zones&lt;-  buffer(my_raster, width=20)\n</code></pre>\n<p>but this creates a buffer of 20 m around and outside of all classes.</p>\n<p>How can I transform this? my raster includes the entire Europe, so I would also like a relatively fast way to do the zones.</p>\n<p>Can anyone help me?</p>\n<p>EDIT1: I have also tried to creat a negative buffer like\n<code>buffer(my_raster, width=-20)</code> but width cannot be negative.</p>\n<p>EDIT2: I am not sure how to create a sample raster, so I tried the following with the <code>terra</code> package</p>\n<pre><code>my_raster &lt;- rast(xmin=1, xmax=3, ymin=1, ymax=3, res=1, val=sample(1:4, 100^2, replace=T))\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "shiny"],
		"owner": {
			"reputation": 55,
			"user_id": 19148714,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiSo6xfOt-DZRNX6kFsuNzG4egIHp48vr2oyIPCAg=k-s256",
			"display_name": "Cole Baril",
			"link": "https://stackoverflow.com/users/19148714/cole-baril"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75479630,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676599582,
		"creation_date": 1676597293,
		"question_id": 75479460,
		"link": "https://stackoverflow.com/questions/75479460/why-does-my-plot-look-different-in-shiny-compared-to-ggplot-and-also-different-w",
		"title": "Why does my plot look different in Shiny compared to ggplot and also different when combos are selecteD?",
		"body": "<p>This is the snippet of the ui portion of this plot:</p>\n<pre><code>tabPanel(&quot;Total Weight&quot;,\n              sidebarLayout(\n                sidebarPanel(\n                  checkboxGroupInput(&quot;workout_name&quot;, &quot;Workout:&quot;, \n                                     c(&quot;Legs&quot; = &quot;Legs&quot;,\n                                       &quot;Push&quot; = &quot;Push&quot;,\n                                       &quot;Pull&quot; = &quot;Pull&quot;))\n                ),\n                mainPanel(\n                  plotOutput(&quot;total_weight&quot;, width = &quot;100%&quot;),\n              )\n              )\n     )\n</code></pre>\n<p>And this is the code for the plot from the server:</p>\n<pre><code>   output$total_weight &lt;- renderPlot({\n          ggplot(df3[df3$workout_name == input$workout_name,],\n            aes(x = datetime, y = total_weight)) +\n                geom_point(aes(group = workout_name, colour = workout_name)) +\n                geom_smooth(aes(group = workout_name, colour = workout_name), se = FALSE) +\n                theme_bw() +\n                labs(x = &quot;Date&quot;,\n                     y = &quot;Weight (lbs)&quot;,\n                     title = &quot;Total Weight Lifted in Workout Sessions&quot;,\n                     colour = &quot;Workout&quot;) +\n                theme(plot.caption = element_text(hjust = 0, face = &quot;bold&quot;))\n     \n   })\n</code></pre>\n<p>The plot should look like this when all options are selected:</p>\n<p><a href=\"https://i.stack.imgur.com/7q5Mn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7q5Mn.png\" alt=\"Correct Plot\" /></a></p>\n<p>However it instead looks like this in Shiny:</p>\n<p><a href=\"https://i.stack.imgur.com/toY7E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/toY7E.png\" alt=\"Incorrect\" /></a></p>\n<p>As you can see, the values are wrong in the Shiny app. I want to be able to select which ones can be shown. Any advice is appreciated.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21218464,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7QqjabS4qWtJ9tAQfysMHgeucSCGf_GHOewoAW=k-s256",
			"display_name": "Nicholas Lau Meng Kwok",
			"link": "https://stackoverflow.com/users/21218464/nicholas-lau-meng-kwok"
		},
		"is_answered": false,
		"view_count": 29,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676599317,
		"creation_date": 1676594614,
		"last_edit_date": 1676599317,
		"question_id": 75479286,
		"link": "https://stackoverflow.com/questions/75479286/how-to-write-a-function-to-calculate-the-surface-area-difference-between-2-spher",
		"title": "how to write a function to calculate the surface area difference between 2 spheres",
		"body": "<p>how to build a simple calculator function that calculate the surface area difference between 2 spheres.\u200b</p>\n<pre><code>square &lt;- function(x,x)\n  return(x*x)\nmultiply &lt;- function(x,y,a,b){\n  return(x*y*a*b)\n  \nprint(&quot;1. Multiply&quot;)\nprint(&quot;2. Square&quot;)\n\nchoice = as.integer(readline(prompt=&quot;enter your choice:[1/2/3/:&quot;))\nnum1=as.integer(readline(prompt=&quot;enter first number:&quot;))\nnum2=as.integer(readline(prompt=&quot;enter second number:&quot;))\nnum3=as.integer(readline(prompt=&quot;enter third number:&quot;))\n\nresult &lt;- switch((square(num1),multiply(num1,num2,num3))\n                 \nprint(paste(num1,num2,num3,&quot;=&quot;,result))\n                 \n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "facet-wrap"],
		"owner": {
			"reputation": 12884,
			"user_id": 300187,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://i.stack.imgur.com/971od.png?s=256&g=1",
			"display_name": "Artem Sokolov",
			"link": "https://stackoverflow.com/users/300187/artem-sokolov"
		},
		"is_answered": true,
		"view_count": 2386,
		"down_vote_count": 0,
		"up_vote_count": 13,
		"closed_date": 1676490348,
		"accepted_answer_id": 45845367,
		"answer_count": 2,
		"score": 13,
		"last_activity_date": 1676598273,
		"creation_date": 1503501853,
		"last_edit_date": 1676598273,
		"question_id": 45843759,
		"link": "https://stackoverflow.com/questions/45843759/ggplot2-coloring-axis-text-on-a-faceted-plot",
		"closed_reason": "Duplicate",
		"title": "ggplot2: Coloring axis text on a faceted plot",
		"body": "<p>A <a href=\"https://stackoverflow.com/questions/38862303/customize-ggplot2-axis-labels-with-different-colors\">previously asked question</a> tackles the problem of coloring axis text. However, none of the provided solutions work in a faceted setting, specifically when the <code>scales</code> parameter is set to <code>&quot;free&quot;</code>.</p>\n<p>Consider the following dataset:</p>\n<pre><code>library( ggplot2 )\nX &lt;- data.frame( V1 = LETTERS, V2 = runif( 26 ),\n    V3 = rep( c(&quot;F1&quot;, &quot;F2&quot;), each = 13 ) )\n</code></pre>\n<p>We can plot the data on a single facet, highlighting the letters D, O, T as follows:</p>\n<pre><code>v &lt;- ifelse( X$V1 %in% c( &quot;D&quot;, &quot;O&quot;, &quot;T&quot; ), &quot;red&quot;, &quot;black&quot; )\ng &lt;- ggplot( X, aes( x = V1, y = V2 ) ) + geom_point() +\n    theme( axis.text.x = element_text( color = v ) )\n</code></pre>\n<p>Making the plot faceted using the default <code>scales = &quot;fixed&quot;</code> correctly highlights D, O, T on both facets.</p>\n<pre><code>g + facet_wrap( ~V3 )\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CheWt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CheWt.png\" alt=\"enter image description here\" /></a></p>\n<p>However, switching the <code>scales</code> parameter to <code>&quot;free&quot;</code> leads to unexpected behavior, where only D and Q are highlighted.</p>\n<pre><code>g + facet_wrap( ~V3, scales = &quot;free&quot; )\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4TZRN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4TZRN.png\" alt=\"enter image description here\" /></a></p>\n<p>My question is whether this a bug or do I need to somehow modify my definition of <code>v</code> to account for free scales. If it is a bug, does anybody know of a workaround to highlight specific axis text in each (free-scaled) facet?</p>\n"
	}, {
		"tags": ["r", "event-handling"],
		"owner": {
			"reputation": 51,
			"user_id": 15462168,
			"user_type": "registered",
			"profile_image": "https://lh6.googleusercontent.com/-Y_bNeu5liu0/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmjBKziRE4xQ78eNVnUpxirXBU-0A/s96-c/photo.jpg?sz=256",
			"display_name": "GradStu",
			"link": "https://stackoverflow.com/users/15462168/gradstu"
		},
		"is_answered": true,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676597421,
		"creation_date": 1676565950,
		"last_edit_date": 1676597421,
		"question_id": 75475429,
		"link": "https://stackoverflow.com/questions/75475429/if-else-or-conditional-statement-to-change-for-loop-function-after-warning-messa",
		"title": "If else or conditional statement to change for loop function after warning message",
		"body": "<p>I am running a for-loop to wrap a function across a large dataset.  It's a fisheries function that performs an equation on a vector &quot;ll&quot;.  Vector ll is the crux of the for-loop, with a lot of wrangling being done to create ll for each iteration.  I have included the important part of the loop here.\n<code>mod&lt;-removal(ll, method = &quot;Burnham&quot;, Tmult = 5)</code></p>\n<p>However, for the equation to work, the numbers in the vector need to be descending.  If they are not, the function will run, but will fill the results (model stats) with NA's.  For analysis purposes, the result if this happens should simply be 1.5*sum(ll).  I would like to build a wrapper statement into this loop, that essentially says &quot;if this warning should occur, then multiply sum(ll) by 1.5&quot; but I can't figure out how to build that conditional in R.  Any help is appreciated!</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1245,
			"user_id": 13734451,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/phKcJ.jpg?s=256&g=1",
			"display_name": "Moses",
			"link": "https://stackoverflow.com/users/13734451/moses"
		},
		"is_answered": true,
		"view_count": 57,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75391141,
		"answer_count": 4,
		"score": 0,
		"last_activity_date": 1676596408,
		"creation_date": 1675886113,
		"question_id": 75391096,
		"link": "https://stackoverflow.com/questions/75391096/extrapolating-sequence-of-numbers-in-r",
		"title": "Extrapolating sequence of numbers in R",
		"body": "<p>I would like to increment numbers from the last observed number to the last number i.e. the NA values should be replaced with 35, 36, 38, 39</p>\n<p>How can I go about it?</p>\n<pre><code>library(tidyverse)\n\ntrialdata &lt;- tibble(\n  id = c(13, 8, 20, 34, 4, NA, NA, NA, NA, NA)\n)\n\n</code></pre>\n"
	}, {
		"tags": ["r", "list", "dataframe", "unique", "strsplit"],
		"owner": {
			"reputation": 3,
			"user_id": 17129742,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b54a3d0c2e1a81d0d357ad3dea95af39?s=256&d=identicon&r=PG&f=1",
			"display_name": "AlexisR",
			"link": "https://stackoverflow.com/users/17129742/alexisr"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75479174,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676593115,
		"creation_date": 1676586845,
		"last_edit_date": 1676587297,
		"question_id": 75478588,
		"link": "https://stackoverflow.com/questions/75478588/splitting-character-string-inside-a-list-and-deleting-the-second-element-in-r",
		"title": "Splitting character string inside a List and deleting the second element in R",
		"body": "<p>I am having problems working with a dataframe in R.\nI have downloaded a table of the world happiness report from wikipedia.\n<a href=\"https://de.wikipedia.org/wiki/World_Happiness_Report\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/World_Happiness_Report</a>\nHowever the table took every name of the country and printed it twice. &quot;China China&quot; ...\nHow do I get rid of the duplicate?</p>\n<p>This is my code:</p>\n<pre><code>library(tidyverse)\nlibrary(rvest)\nlibrary(stringr)\n\nlink &lt;- &quot;https://de.wikipedia.org/wiki/World_Happiness_Report&quot;\n\ndf &lt;- read_html(link) %&gt;%\nhtml_element(&quot;table.wikitable&quot;) %&gt;%\nhtml_table()\n</code></pre>\n<p>This is what I tried so far:</p>\n<p><code>df$Land &lt;- lapply(df$Land, function(x) unique(str_split(x, &quot; &quot;)[[1]]))</code></p>\n<p>However if I print &quot;df&quot; I get &quot; &lt;chr [1]&gt; &quot; in the &quot;Land&quot; column.\nIf i just print df$Land I get all country names just as I had them at the beginning:\n[[1]]\n[1] &quot;Finnland Finnland&quot;</p>\n<p>Almost  the same happens when I tried:</p>\n<p><code>df$Land &lt;- unique(str_split(df$Land, &quot; +&quot;)[[1]])</code></p>\n<p>Can someone please help me or show me a place where the question has already been answered?\nThank you</p>\n"
	}, {
		"tags": ["html", "r"],
		"owner": {
			"reputation": 1,
			"user_id": 21229864,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a8611150645c846d9bc2d97799e76ebb?s=256&d=identicon&r=PG",
			"display_name": "thoel",
			"link": "https://stackoverflow.com/users/21229864/thoel"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676592830,
		"creation_date": 1676583696,
		"last_edit_date": 1676592830,
		"question_id": 75478217,
		"link": "https://stackoverflow.com/questions/75478217/how-to-create-a-color-gradient-for-html-tags-in-r",
		"title": "How to create a color gradient for html tags in R?",
		"body": "<p><a href=\"https://i.stack.imgur.com/osCO4.png\" rel=\"nofollow noreferrer\">enter image description here</a>The below code is meant to create 2 gradients for each column of my data. One from red to white for 100.8 to 0 and another from green to white for -100.8 to 0. The attached picture is what is generated. Much thanks!</p>\n<p>structure(list(RFD.Diff = c(8.4, 56.6, -36.3, 26, -15.9, -8.1,\n35.3, 66.8, 100.8, -20.2, 63.6, -9.7, -24.8, -4.6, 11.6, 21.3,\n9.1, -0.9)), class = &quot;data.frame&quot;, row.names = c(NA, -18L))</p>\n<pre><code>  #Create tags and specify color gradient parameters\n\n`add_cyl_color2 &lt;- function(RFD.Diff){\n  # Define color values\n  red_val &lt;- &quot;#FF0000&quot;\n  white_val &lt;- &quot;#FFFFFF&quot;\n  green_val &lt;- &quot;#00FF00&quot;\n  # Calculate color gradient based on RFD.Diff value\n  if (RFD.Diff &gt;= 0) {\n  color_val &lt;- paste0(\n  &quot;background: linear-gradient(to right, &quot;, \n  red_val, &quot; &quot;, round((100.8 - RFD.Diff) / 100.8 * 100), &quot;%, &quot;, \n  white_val, &quot; &quot;, round(RFD.Diff / 100.8 * 100), &quot;%); color: #000000;&quot;\n  )\n  } else {\n  color_val &lt;- paste0(\n &quot;background: linear-gradient(to right, &quot;, \n  white_val, &quot; &quot;, round((100.8 + RFD.Diff) / 100.8 * 100), &quot;%, &quot;, \n  green_val, &quot; &quot;, round(-RFD.Diff / 100.8 * 100), &quot;%); color: #000000;&quot;\n  )\n  }\n  # Create HTML div element with color-coded RFD.Diff value\n  div_out &lt;- htmltools::div(\n  style = paste(\n &quot;display: inline-block; padding: 10px 30px; border-radius: 8px; font-weight: 1000; font-          size: 15px;&quot;,\n      color_val\n    ),\n    paste(RFD.Diff)\n  )\n  as.character(div_out) %&gt;% gt::html()\n  }\n</code></pre>\n<p>,    `</p>\n<pre><code>  # {gt} table\n\n  data %&gt;% \n  mutate(RFD.Diff = purrr::map(RFD.Diff, add_cyl_color2)) %&gt;% \n  gt() %&gt;%\n  cols_label(\n  RFD.Diff = md(&quot;Braking RFD&quot;),\n  ) %&gt;%\n  tab_style(\n  cell_text(align = &quot;center&quot;),\n  locations = cells_body(\n  columns = everything(),\n  rows = everything()\n  )\n  )%&gt;%\n  tab_style(\n  cell_borders(\n  sides = c(&quot;all&quot;),\n  style = &quot;hidden&quot;\n  ),\n  locations = cells_body(\n  columns = everything(),\n  rows = everything()\n  )\n  )%&gt;%\n  opt_align_table_header(align = &quot;left&quot;)%&gt;%\n  cols_width(\n  RFD.Diff ~ px(100))\n</code></pre>\n"
	}, {
		"tags": ["r", "list", "dataframe", "loops"],
		"owner": {
			"reputation": 1,
			"user_id": 21229283,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/15485f8ec1be0d33e7290587e2a63e66?s=256&d=identicon&r=PG",
			"display_name": "detective-captain42",
			"link": "https://stackoverflow.com/users/21229283/detective-captain42"
		},
		"is_answered": false,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676592201,
		"creation_date": 1676577124,
		"last_edit_date": 1676592201,
		"question_id": 75477245,
		"link": "https://stackoverflow.com/questions/75477245/is-there-a-way-to-loop-through-a-list-of-data-frames-and-perform-the-same-analys",
		"title": "Is there a way to loop through a list of data frames and perform the same analyses on each data frame?",
		"body": "<p>I'm taking in a large data frame and want to perform analyses on subsets of the original data (mean, st deviation, etc). Right now I have code for making new data frames with the columns of interest as shown :</p>\n<pre><code>df1 &lt;- data_clean %&gt;%\n  filter(sex==&quot;Male&quot; &amp; experiment_group == &quot;Saline&quot;)  %&gt;%\n  mutate(avg_presses = rowMeans(select(., c(&quot;total1&quot;, &quot;total2&quot;, &quot;total3&quot;)), na.rm=TRUE))\n\ncohort_avg &lt;- c()         #initialize cohort avgs empty vector\ncohort_std &lt;- c()\nfor (cohort_num in 1:max(df1$cohort)) {     # loop through all cohorts \n  data_build &lt;- CI_fem_coca                         # make temp dataframe initialized w original \n  for (i in 1:nrow(df1)) {                  #loop through all rows\n    if (df1$cohort[i] == cohort_num) {      #if row cohort number is equal to the cohort # to group \n      data_build &lt;- df1 %&gt;%\n        filter(cohort==cohort_num) %&gt;%\n        mutate(avgs = mean(avg_presses, na.rm=TRUE),    #add new column avgs that is the cohort avg \n               std = sd(avg_presses, na.rm=TRUE))   \n    }\n  }\n  cohort_avg&lt;- c(cohort_avg, data_build$avgs)     #add cohort group avg to vector \n  cohort_std &lt;- c(cohort_std, data_build$std)\n}\ndf1 &lt;- df1 %&gt;%                    #add cohort avgs to original dataframe \n  add_column(cohort_avgs = cohort_avg, cohort_sd=cohort_std ) \n\n\ndf1 &lt;- df1 %&gt;%\n  mutate(z_score = (avg_presses - cohort_avgs)/cohort_sd)\n</code></pre>\n<p>This works fine but I have four data frames to perform this exact analysis on, and writing it 4 times seems clunky. Is there a way to add the four data frames to a list and then iterate over each data frame? I tried :</p>\n<pre><code>CI_list &lt;- list(df1, df2, df3, df4)\n\nfor (i in 1:length(CI_list)) {\n  cohort_avg &lt;- c()         \n  cohort_std &lt;- c()\n  for (cohort_num in 1:max(CI_list[[i]]$cohort)) {     \n    data_build &lt;- CI_list[[i]]                        \n    for (i in 1:nrow(CI_list[[i]])) {                 \n      if (CI_list[[i]]$cohort[i] == cohort_num) {      \n        data_build &lt;- CI_list[[i]] %&gt;%\n          filter(cohort==cohort_num) %&gt;%\n          mutate(avgs = mean(avg_presses, na.rm=TRUE),    \n                 std = sd(avg_presses, na.rm=TRUE))   \n      }\n    }\n    cohort_avg&lt;- c(cohort_avg, data_build$avgs)     \n    cohort_std &lt;- c(cohort_std, data_build$std)\n  }\n  CI_list[[i]] &lt;- CI_list[[i]] %&gt;%                    \n    add_column(cohort_avgs = cohort_avg, cohort_sd=cohort_std ) \n  \n  CI_list[[i]] &lt;- CI_list[[i]] %&gt;%\n    mutate(z_score = (avg_Infusions - cohort_avgs)/cohort_sd)\n  \n  \n  \n}\n</code></pre>\n<p>but i get a subscript out of bounds error. is there a better way to do this?</p>\n<p>Edit: in trying to use a function and lapply I did:</p>\n<pre><code>find_CI_zscore &lt;- function(df) {\n  for (i in 1:length(df)) {\n    cohort_avg &lt;- c()         #initialize cohort avgs empty vector\n    cohort_std &lt;- c()\n    for (cohort_num in 1:max(df$cohort)) {     # loop through all cohorts \n      data_build &lt;- df                         # make temp dataframe initialized w original data\n      for (i in 1:nrow(df)) {                  #loop through all rows\n        if (df$cohort[i] == cohort_num) {      #if row cohort number is equal to the cohort # to group together\n          data_build &lt;- df %&gt;%\n            filter(cohort==cohort_num) %&gt;%\n            mutate(avgs = mean(avg_Infusions, na.rm=TRUE),    #add new column avgs that is the cohort avg infusion #\n                   std = sd(avg_Infusions, na.rm=TRUE))   \n        }\n      }\n      cohort_avg&lt;- c(cohort_avg, data_build$avgs)     #add cohort group avg to vector \n      cohort_std &lt;- c(cohort_std, data_build$std)\n    }\n    df &lt;- df %&gt;%                    #add cohort avgs to original dataframe \n      add_column(cohort_avgs = cohort_avg, cohort_sd=cohort_std ) \n    \n    CI_list &lt;- CI_list %&gt;%\n      mutate(z_score = (avg_Infusions - cohort_avgs)/cohort_sd)\n  }\n}\n\nfor (i in 1:length(CI_list)) {\n  lapply(CI_list[[i]], find_CI_zscore)\n</code></pre>\n<p>And I get this error: Error in df$cohort : $ operator is invalid for atomic vectors\nHow do I use lapply to take in data frames not vectors?</p>\n<p>New edit: this is the dput let me know if that worked:</p>\n<pre><code>&gt; dput(list(df1[1:7, ], df2[1:7, ]))\nlist(structure(list(cohort = c(1L, 1L, 1L, 1L, 1L, 1L, 1L), avg_Infusions = c(31.3333333333333, \n32.6666666666667, 4, 20, 7, 22.6666666666667, 11.3333333333333\n)), row.names = c(NA, 7L), class = &quot;data.frame&quot;), structure(list(\n    cohort = c(1L, 1L, 1L, 1L, 1L, 1L, 1L), avg_Infusions = c(6.66666666666667, \n    17.6666666666667, 17.3333333333333, 0.333333333333333, 10, \n    8.66666666666667, 20)), row.names = c(NA, 7L), class = &quot;data.frame&quot;))\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny"],
		"owner": {
			"reputation": 445,
			"user_id": 9319259,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-acdbQxsqSM0/AAAAAAAAAAI/AAAAAAAAAAk/B8OSkIhtWeY/photo.jpg?sz=256",
			"display_name": "Nader Mehri",
			"link": "https://stackoverflow.com/users/9319259/nader-mehri"
		},
		"is_answered": true,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676591956,
		"creation_date": 1676582791,
		"question_id": 75478100,
		"link": "https://stackoverflow.com/questions/75478100/creating-a-space-between-shinyapp-outputs-in-the-mainpanel",
		"title": "creating a space between shinyapp outputs in the mainPanel",
		"body": "<p>For the code below, I need to create a space between leafletOutput maps. I tried this by adding br()s but it only creates space for some of the map outputs. My attempted code appears in the second chunk of code below.</p>\n<p><strong>#My original code</strong></p>\n<pre><code> mainPanel(\n    fluidRow(\n      column(width = 4,shinyjs::useShinyjs(), leafletOutput(&quot;svi&quot;, height = &quot;500px&quot;)),\n      column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;BlackP&quot;, height = &quot;500px&quot;)),\n      column(width = 4,shinyjs::useShinyjs(), leafletOutput(&quot;bi_svi_BlackP&quot;, height = &quot;500px&quot;)),\n      column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;BlackACS&quot;, height = &quot;500px&quot;)),\n      column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;BlackP_dup&quot;, height = &quot;500px&quot;)),\n      column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;bi_ACSB_BlackP&quot;, height = &quot;500px&quot;)),\n      column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;HispanicACS&quot;, height = &quot;500px&quot;)),\n      column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;HispanicP&quot;, height = &quot;500px&quot;))\n      )\n \n</code></pre>\n<p><strong>#My attempted code</strong></p>\n<pre><code>     mainPanel(\n        fluidRow(\n          column(width = 4,shinyjs::useShinyjs(), leafletOutput(&quot;svi&quot;, height = &quot;500px&quot;)),\nbr(),\n          column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;BlackP&quot;, height = &quot;500px&quot;)),\nbr(),\n          column(width = 4,shinyjs::useShinyjs(), leafletOutput(&quot;bi_svi_BlackP&quot;, height = &quot;500px&quot;)),\nbr(),\n          column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;BlackACS&quot;, height = &quot;500px&quot;)),\nbr(),\n          column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;BlackP_dup&quot;, height = &quot;500px&quot;)),\nbr(),\n          column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;bi_ACSB_BlackP&quot;, height = &quot;500px&quot;)),\nbr(),\n          column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;HispanicACS&quot;, height = &quot;500px&quot;)),\nbr()\n          column(width = 4, shinyjs::useShinyjs(), leafletOutput(&quot;HispanicP&quot;, height = &quot;500px&quot;))\n          )\n</code></pre>\n"
	}, {
		"tags": ["r", "amazon-ec2", "cloud"],
		"owner": {
			"reputation": 31798,
			"user_id": 313163,
			"user_type": "registered",
			"accept_rate": 72,
			"profile_image": "https://www.gravatar.com/avatar/b62bfec13156772ed147ca31f6807fa2?s=256&d=identicon&r=PG",
			"display_name": "Maiasaura",
			"link": "https://stackoverflow.com/users/313163/maiasaura"
		},
		"is_answered": true,
		"view_count": 992,
		"down_vote_count": 0,
		"up_vote_count": 5,
		"answer_count": 2,
		"score": 5,
		"last_activity_date": 1676591623,
		"creation_date": 1276722231,
		"last_edit_date": 1676591623,
		"question_id": 3057158,
		"link": "https://stackoverflow.com/questions/3057158/how-can-i-copy-data-over-the-amazons-ec2-and-run-a-script",
		"title": "How can I copy data over the Amazon&#39;s EC2 and run a script?",
		"body": "<p>I am a novice as far as using cloud computing but I get the concept and am pretty good at following instructions. I'd like to do some simulations on my data and each step takes several minutes. Given the hierarchy in my data, it takes several hours for each set. I'd like to speed this up by running it on Amazon's EC2 cloud.</p>\n\n<p>After reading <a href=\"http://rgrossman.com/2009/05/17/running-r-on-amazons-ec2/\" rel=\"noreferrer\">this</a>, I know how to launch an AMI, connect to it via the shell, and launch R at the command prompt. </p>\n\n<p>What I'd like help on is being able to copy data (.rdata files) and a script and just source it at the R command prompt. Then, once all the results are written to new .rdata files, I'd  like to copy them back to my local machine.</p>\n\n<p>How do I do this? </p>\n"
	}, {
		"tags": ["r", "linear-regression", "feature-selection", "olsrr"],
		"owner": {
			"reputation": 15,
			"user_id": 14288796,
			"user_type": "registered",
			"profile_image": "https://lh6.googleusercontent.com/-JriblFxDRd8/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclAs60SlmleVlaQqNySgv26VCVx6A/photo.jpg?sz=256",
			"display_name": "user14288796",
			"link": "https://stackoverflow.com/users/14288796/user14288796"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676590817,
		"creation_date": 1676590817,
		"question_id": 75478994,
		"link": "https://stackoverflow.com/questions/75478994/using-foreach-and-doparrell-packages-to-faster-process-ols-step-all-possible-fun",
		"title": "Using foreach and doparrell packages to faster process ols_step_all_possible function in R",
		"body": "<p>I have a rather large dataset that takes forever to run the olsrr package's &quot;ols_step_all_possible&quot; function.  In fact, it crashes my computer through the process.</p>\n<p>I've seen that parallel processing may be a way to rectify this situation using foreach and doparallel packages.  Can anyone help with the sample code to do this?</p>\n<p>I have a linear regression model, df &quot;sample&quot; here comprised of data from a csv, &quot;learner&quot;:</p>\n<p>sample = lm(dvar ~ one + two + three + four, data = learner)</p>\n<p>to run all possible combinations of this model to find the best model, I've been using this function from olsrr:</p>\n<p>final = ols_step_all_possible(sample)</p>\n"
	}, {
		"tags": ["r", "dplyr", "subset"],
		"owner": {
			"reputation": 37,
			"user_id": 12582734,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAgbM6G4c6wsgLOgq8z_nPh1GyUUb9dupxzfugqhg=k-s256",
			"display_name": "Sam Degregori",
			"link": "https://stackoverflow.com/users/12582734/sam-degregori"
		},
		"is_answered": true,
		"view_count": 29,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75478655,
		"answer_count": 4,
		"score": 1,
		"last_activity_date": 1676589326,
		"creation_date": 1676586920,
		"question_id": 75478595,
		"link": "https://stackoverflow.com/questions/75478595/subsampling-a-set-number-of-levels-from-a-factor-but-including-all-rows-of-each",
		"title": "Subsampling a set number of levels from a factor but including all rows of each level in R",
		"body": "<p>Say for dataframe df</p>\n<pre><code>    species  diet\n a1  blue    round\n a2  blue    round \n a3  red     round\n a4  yellow  round\n a5  yellow  round\n a6  yellow  round\n a7  black   square\n a8  white   square\n a9  maroon  square\n a10 orange  square\n a11 orange  square\n a12 orange  square\n</code></pre>\n<p>For each diet I want to randomly sample 2 species but INCLUDE all rows of that species. So if I run the code properly for the above df I can randomly end up with :</p>\n<pre><code>    species  diet\n a1  blue    round\n a2  blue    round \n a3  red     round\n a7  black   square\n a8  white   square\n</code></pre>\n<p>Where for the round diet, blue and red are picked with all rows included and yellow was dropped. And for square, black and white were randomly picked and the others dropped.</p>\n<p>I know there is the <code>sample_n</code> command but it will only pick a set number of rows for a given level. I need to pick 2 random levels and keep all the rows associated with the two random levels. Any ideas how to do this? Ideally I would want to run a for loop to do this many many times without replacement but I'll take an answer for just how to do one iteration. Thanks!!!!</p>\n<p>Cheers,\nSam</p>\n"
	}, {
		"tags": ["r", "ggplot2", "geom-text", "violin-plot"],
		"owner": {
			"reputation": 1294,
			"user_id": 2627043,
			"user_type": "registered",
			"accept_rate": 65,
			"profile_image": "https://i.stack.imgur.com/vOa1m.png?s=256&g=1",
			"display_name": "Markm0705",
			"link": "https://stackoverflow.com/users/2627043/markm0705"
		},
		"is_answered": true,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75478814,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676589322,
		"creation_date": 1676588147,
		"question_id": 75478716,
		"link": "https://stackoverflow.com/questions/75478716/r-ggplot-add-total-labels-to-violin-plots-just-above-the-base-of-the-plot-window",
		"title": "R ggplot add total labels to violin plots just above the base of the plot window",
		"body": "<p>I would like to add the total labels of another variable to some ranked violin plots, with the label or text just below the maximum of the plot window.  By hacking other bits of code I've found I've managed to get the labels to plot in a line but cannot work out how to move them to the top ... looking for something like a y-value of 8 ... I suppose I edit iris_summary's Sepal.Length values to 8 but is there another 'ggplot' way to change the plotting location of the plotted text?</p>\n<pre><code>iris_summary &lt;- iris %&gt;% \n  group_by(Species) %&gt;% \n  summarize(sum_width = sum(Sepal.Width)) %&gt;% \n  mutate(Sepal.Length = median(iris$Sepal.Length))\n\nggplot(data = iris, aes(x = reorder(Species, Sepal.Length, FUN = median), y = Sepal.Length, \n                        fill = Species)) +\n  geom_violin() +\n  geom_text(data = iris_summary, aes(label = sum_width), hjust = 0.5, vjust = 0, \n            position = position_nudge(y = -0.2), size = 5)\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 11,
			"user_id": 19681755,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AFdZucpnhtU9lw9BuubLZEgnKTml-dj1Byc8yhTHHje5=k-s256",
			"display_name": "Fokou Serges",
			"link": "https://stackoverflow.com/users/19681755/fokou-serges"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676592193,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676588017,
		"creation_date": 1676587595,
		"last_edit_date": 1676588017,
		"question_id": 75478656,
		"link": "https://stackoverflow.com/questions/75478656/how-can-i-fix-this-error-object-not-found-when-creating-a-segment-graph",
		"closed_reason": "Not suitable for this site",
		"title": "how can I fix this error &quot;object not found&quot; when creating a segment graph?",
		"body": "<h2>I would like to create a segment chart, but I have the following error which appears &quot;Error in reorder(trip, nb_ride): object 'trip' not found&quot;</h2>\n<h2>the structure of dataset :</h2>\n<pre><code>structure(list(ride_id = c(&quot;C2F7DD78E82EC875&quot;, &quot;A6CF8980A652D272&quot;, \n&quot;BD0F91DFF741C66D&quot;, &quot;CBB80ED419105406&quot;), rideable_type = c(&quot;electric_bike&quot;, \n&quot;electric_bike&quot;, &quot;classic_bike&quot;, &quot;classic_bike&quot;), started_at = structure(c(1642075187, \n1641804116, 1643086420, 1641255484), class = c(&quot;POSIXct&quot;, &quot;POSIXt&quot;\n), tzone = &quot;UTC&quot;), ended_at = structure(c(1642075364, 1641804377, \n1643086681, 1641256380), class = c(&quot;POSIXct&quot;, &quot;POSIXt&quot;), tzone = &quot;UTC&quot;), \n    start_station_name = c(&quot;Glenwood Ave &amp; Touhy Ave&quot;, &quot;Glenwood Ave &amp; Touhy Ave&quot;, \n    &quot;Sheffield Ave &amp; Fullerton Ave&quot;, &quot;Clark St &amp; Bryn Mawr Ave&quot;\n    ), start_station_id = c(&quot;525&quot;, &quot;525&quot;, &quot;TA1306000016&quot;, &quot;KA1504000151&quot;\n    ), end_station_name = c(&quot;Clark St &amp; Touhy Ave&quot;, &quot;Clark St &amp; Touhy Ave&quot;, \n    &quot;Greenview Ave &amp; Fullerton Ave&quot;, &quot;Paulina St &amp; Montrose Ave&quot;\n    ), end_station_id = c(&quot;RP-007&quot;, &quot;RP-007&quot;, &quot;TA1307000001&quot;, \n    &quot;TA1309000021&quot;), start_lat = c(42.0128005, 42.012763, 41.9256018819, \n    41.983593), start_lng = c(-87.665906, -87.6659675, -87.6537080423, \n    -87.669154), end_lat = c(42.01256011541, 42.01256011541, \n    41.92533, 41.961507), end_lng = c(-87.6743671152, -87.6743671152, \n    -87.6658, -87.671387), member_casual = c(&quot;casual&quot;, &quot;casual&quot;, \n    &quot;member&quot;, &quot;casual&quot;), star_hour = c(11L, 8L, 4L, 0L), ended_hour = c(12L, \n    8L, 4L, 0L), len = structure(c(177, 261, 261, 896), class = &quot;difftime&quot;, units = &quot;secs&quot;), \n    start_day = c(&quot;Jeudi&quot;, &quot;Lundi&quot;, &quot;Mardi&quot;, &quot;Mardi&quot;), end_day = c(&quot;Jeudi&quot;, \n    &quot;Lundi&quot;, &quot;Mardi&quot;, &quot;Mardi&quot;)), row.names = c(NA, 4L), class = &quot;data.frame&quot;)\n\n</code></pre>\n<h2>the used code</h2>\n<pre><code>all_rides4$trip &lt;- paste(all_rides4$start_station_name, all_rides4$end_station_name, sep = &quot;-&quot;)\n\ntop_rides &lt;- all_rides4 %&gt;%\n  group_by(trip) %&gt;%\n  summarise(nb_ride = n()) %&gt;% \n  arrange(desc(nb_ride)) %&gt;% \n  head(10)\n\nggplot(top_rides) +\n  aes(x = reorder(trip, nb_ride), y = nb_ride) +\n  geom_segment(x = reorder(trip, nb_ride),\n               xend = reorder(trip, nb_ride),\n               y = 0,\n               yend = nb_ride) +\n  geom_point(color =&quot;green&quot;, size =3, alpha =0.6) +\n  theme_light() +\n  coord_flip() +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.border = element_blank(),\n    axis.ticks.y = element_blank()) +\n  ggtitle(str_wrap(&quot;Top 10 popular ride&quot;, 15)) +\n  labs(x = &quot;trips&quot;, y = &quot;number of rides&quot;)\n</code></pre>\n<h2>error message : &quot;Error in reorder(trip, nb_ride): object 'trip' not found&quot;</h2>\n<pre><code></code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21229743,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5U_etP3z3RUimlaWRiNrB0aYnXA9YfK6m1Tc2o=k-s256",
			"display_name": "Gerardo Rey Garcia",
			"link": "https://stackoverflow.com/users/21229743/gerardo-rey-garcia"
		},
		"is_answered": false,
		"view_count": 36,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676587835,
		"creation_date": 1676584634,
		"last_edit_date": 1676587364,
		"question_id": 75478317,
		"link": "https://stackoverflow.com/questions/75478317/function-to-filter-in-two-steps-based-on-common-values-of-two-columns-two-col",
		"title": "function to filter in two steps based on common values \u200bof two columns (&quot;two columns crossed filter&quot;)",
		"body": "<p>Can anybody suggest a R function to filter in two steps or &quot;crossed filter between two columns&quot; based on common values \u200b\u200bof two columns. first step would be to find common values \u200b\u200bthat are in columns C and F (in this case rowF and rowH), second step would be to use the values of D that passed first filter (on the left of rowF and rowH, so rowA and rowB) to look for common values \u200b\u200bbetween columns A and D.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>A</th>\n<th>B</th>\n<th>C</th>\n<th>D</th>\n<th>F</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>FFFFFi</td>\n<td>ro1</td>\n<td>rowF</td>\n<td>rowA</td>\n<td>rowE</td>\n</tr>\n<tr>\n<td>Second</td>\n<td>ro3</td>\n<td>rowH</td>\n<td>rowA</td>\n<td>rowF</td>\n</tr>\n<tr>\n<td>rowA</td>\n<td>ro3</td>\n<td>row</td>\n<td>rowA</td>\n<td>rowG</td>\n</tr>\n<tr>\n<td>Fecond</td>\n<td>ro3</td>\n<td></td>\n<td>rowB</td>\n<td>rowH</td>\n</tr>\n<tr>\n<td>Hecond</td>\n<td>ro3</td>\n<td></td>\n<td>rowB</td>\n<td>rowT</td>\n</tr>\n<tr>\n<td>rowB</td>\n<td>ro3</td>\n<td></td>\n<td>rowB</td>\n<td>rowX</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to know if there is a possibility in R.</p>\n<p>result has to be</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>A</th>\n<th>B</th>\n<th>C</th>\n<th>D</th>\n<th>F</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>rowA</td>\n<td>ro3</td>\n<td>row</td>\n<td>rowA</td>\n<td>rowG</td>\n</tr>\n<tr>\n<td>rowB</td>\n<td>ro3</td>\n<td></td>\n<td>rowB</td>\n<td>rowX</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>When possible just with A,  B and C</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>A</th>\n<th>B</th>\n<th>C</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>rowA</td>\n<td>ro3</td>\n<td>row</td>\n</tr>\n<tr>\n<td>rowB</td>\n<td>ro3</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>i can only guess maybe first step?</p>\n<p>If Data$C %in% Data$F</p>\n<p>return (Datafilter1)</p>\n<p>If Datafilter1$A %in% Datafilter1$D</p>\n<p>return (Datafilter2)</p>\n"
	}, {
		"tags": ["r", "docker", "package", "bioinformatics", "docker-run"],
		"owner": {
			"reputation": 3,
			"user_id": 19628364,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AFdZuco8ePPUReOtGv7XfMRPi_mckt1L-KGxEe7gvogF=k-s256",
			"display_name": "raydioactive",
			"link": "https://stackoverflow.com/users/19628364/raydioactive"
		},
		"is_answered": false,
		"view_count": 9,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676587826,
		"creation_date": 1676587826,
		"question_id": 75478686,
		"link": "https://stackoverflow.com/questions/75478686/docker-run-not-working-unable-to-view-r-workspace-image",
		"title": "Docker run not working, unable to view R workspace image",
		"body": "<p>I'm trying to set up the GeoMXAnalysis Workflow, Documented <a href=\"https://github.com/DavisLaboratory/GeoMXAnalysisWorkflow\" rel=\"nofollow noreferrer\">here</a>. The way it works is I need to install a bunch of packages, download the github repo, and then use docker to view an R markdown file which walks you through the workflow. My problem is that following all the steps, on both a galaxy server and my local Windows laptop, is impossible.</p>\n<pre><code>#@ Title: GeoMX workflow Intro\n## INSTALL PACKAGES from Bioconductor:\nif (!require(&quot;BiocManager&quot;, quietly = TRUE))\n  install.packages(&quot;BiocManager&quot;)\n\nBiocManager::install(c(&quot;standR&quot;,&quot;edgeR&quot;,&quot;limma&quot;,&quot;msigdb&quot;,&quot;GSEABase&quot;,&quot;igraph&quot;,&quot;vissE&quot;,&quot;SpatialExperiment&quot;,&quot;scater&quot;), force = TRUE)\n#install geomx workflow package\nremotes::install_github(&quot;DavisLaboratory/GeoMXAnalysisWorkflow&quot;, build_vignettes = FALSE, force=TRUE)\n#build and load docker image\nsystem(&quot;cmd.exe&quot;, input=&quot;docker run -e PASSWORD=pass -p 8787:8787 ghcr.io/ningbioinfo/geomxanalysisworkflow:latest&quot;)\n</code></pre>\n<p>This is my script that I'm using to download and install the packages. My problem is with the docker command. First I didn't have it installed, but now that I have I'm receiving the following error:</p>\n<pre><code>&gt; #build and load docker image\n&gt; system(&quot;cmd.exe&quot;, input=&quot;docker run -e PASSWORD=pass -p 8787:8787 ghcr.io/ningbioinfo/geomxanalysisworkflow:latest&quot;)\nMicrosoft Windows [Version 10.0.19044.2486]\n(c) Microsoft Corporation. All rights reserved.\n\nC:\\Users\\a\\Documents&gt;docker run -e PASSWORD=pass -p 8787:8787 ghcr.io/ningbioinfo/geomxanalysisworkflow:latest\nUnable to find image 'ghcr.io/ningbioinfo/geomxanalysisworkflow:latest' locally\ndocker: Error response from daemon: Head &quot;https://ghcr.io/v2/ningbioinfo/geomxanalysisworkflow/manifests/latest&quot;: denied.\nSee 'docker run --help'.\n\nC:\\Users\\a\\Documents&gt;[1] 0\n\n</code></pre>\n<p>Do I need to switch the Daemon somehow, or is this a problem with the github repo not existing? pasting it into my browser doesn't lead me anywhere concrete.\nAny thoughts on how to resolve this much appreciated.</p>\n"
	}, {
		"tags": ["r", "statistics", "log-likelihood"],
		"owner": {
			"reputation": 13,
			"user_id": 19865198,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/8dd18f373288c5473e9437e75037107f?s=256&d=identicon&r=PG",
			"display_name": "LifeisGood94",
			"link": "https://stackoverflow.com/users/19865198/lifeisgood94"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676603820,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676587780,
		"creation_date": 1676572697,
		"last_edit_date": 1676587780,
		"question_id": 75476582,
		"link": "https://stackoverflow.com/questions/75476582/why-isnt-my-manual-log-likelihood-function-for-the-mvn-working",
		"closed_reason": "Duplicate",
		"title": "Why Isn&#39;t my Manual Log-Likelihood Function for the MVN Working?",
		"body": "<p>I am not getting the correct likelihood calculation with my code. Any help would be greatly appreciated.</p>\n<p><code>loglik_mvn&lt;-function(n,d,x,mu_mat,sigma){   (-n*d/2)*log(2*pi)-(n/2)*det(sigma,log=TRUE)-0.5*(colSums(dat-mu_mat)%*%solve(sigma)%*%colSums(dat-mu_mat)) }</code></p>\n<p><code>loglik_mvn(nrow(dat),ncol(dat),dat,mu_mat,sigma)</code></p>\n<p>where n is the number of observations, d is dimension, and mu_mat is the mu vector duplicated n times to form an nxd matrix.</p>\n"
	}, {
		"tags": ["r", "non-linear-regression"],
		"owner": {
			"reputation": 13,
			"user_id": 21230035,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bba1fc514e8047e8faea18609685092c?s=256&d=identicon&r=PG",
			"display_name": "sarah",
			"link": "https://stackoverflow.com/users/21230035/sarah"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75478615,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676587739,
		"creation_date": 1676586060,
		"last_edit_date": 1676586177,
		"question_id": 75478487,
		"link": "https://stackoverflow.com/questions/75478487/how-do-i-write-this-exponential-model-as-a-function-in-r",
		"title": "how do i write this exponential model as a function in R?",
		"body": "<p>For y = B<sub>0</sub> + B<sub>1</sub>x, I can write it as <code>lm(y ~ x)</code>. However I am not sure how to write y = B<sub>0</sub>e<sup>B<sub>1</sub>x</sup> into a model function in R.</p>\n<p>I have tried <code>lm(log(y) ~ x)</code>, <code>lm(y ~ exp(x))</code>, <code>lm(y ~ log(x))</code>, and <code>lm(log(y) ~ log(x))</code>, but I am not sure which is correct. I get different results for each model.</p>\n"
	}, {
		"tags": ["r", "dataframe", "class"],
		"owner": {
			"reputation": 594,
			"user_id": 3414968,
			"user_type": "registered",
			"accept_rate": 80,
			"profile_image": "https://www.gravatar.com/avatar/d54c10d2aa81688493be4f35789c2183?s=256&d=identicon&r=PG",
			"display_name": "Martin",
			"link": "https://stackoverflow.com/users/3414968/martin"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75472151,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676587532,
		"creation_date": 1676546357,
		"last_edit_date": 1676587532,
		"question_id": 75471514,
		"link": "https://stackoverflow.com/questions/75471514/new-columns-in-data-frame-dont-retain-posixct-class",
		"title": "New columns in data.frame don&#39;t retain POSIXct class",
		"body": "<p>I spent almost two days to find the reason of an error occuirring - probably trivial for many, but I cannot figure out the reason for that and I am thankful for help:</p>\n<p>When I create a new data.frame and add columns with a specific class (POSIXct) using <code>...$...</code> syntax, it works nicely (&quot;p&quot; columns in code below, they become class <em>P</em>OSIXct as intended).</p>\n<p>However, if I do the same using the <code>...[..., ...]</code> syntax, POSIXct class is lost upon assignment (&quot;n&quot; columns in code below, since they become unintendedly class <em>n</em>umeric).</p>\n<p>Even after setting class explicitely, it remains numeric using the <code>...[..., ...]</code> syntax, but not using the <code>...$....</code> syntax..</p>\n<p>What is the reasoning behind this behaviour? Obviously I have found a workaround, but it is more convenient to use vectors of column names, and I am afraid that I miss sth. very basic but cannot figure out what, or where to look by which keywords.</p>\n<p><strong>Basically I need to access the columns by a variable and then assign class and data.</strong></p>\n<pre><code>rm(dfDummy)  # just make sure there is no residual old data/columns leftover\ndfDummy &lt;- data.frame(a = 1:10, dummy = dummy)\ndfDummy$p &lt;- as.POSIXct(NA)\ndfDummy$p.rep &lt;- as.POSIXct(rep(NA, 10))\ndfDummy[ , c(&quot;n1&quot;, &quot;n2&quot;)] &lt;- as.POSIXct(NA)\ndfDummy[ , c(&quot;n1.rep&quot;, &quot;n2.rep&quot;)] &lt;- as.POSIXct(rep(NA, 10))\nsapply(X = c(&quot;p&quot;, &quot;p.rep&quot;, &quot;n1&quot;, &quot;n2&quot;, &quot;n1.rep&quot;, &quot;n2.rep&quot;), function(x) class(dfDummy[, x]))\n# even after setting the class explicitely, it remains &quot;numeric&quot; - what is wrong?\nclass(dfDummy[ , c(&quot;n1&quot;, &quot;n2&quot;, &quot;n1.rep&quot;, &quot;n2.rep&quot;)]) &lt;- c(&quot;POSIXct&quot;, &quot;POSIXt&quot;)\nsapply(X = c(&quot;p&quot;, &quot;p.rep&quot;, &quot;n1&quot;, &quot;n2&quot;, &quot;n1.rep&quot;, &quot;n2.rep&quot;), function(x) class(dfDummy[, x]))\n</code></pre>\n"
	}, {
		"tags": ["r", "raster", "shapefile", "r-raster", "rgdal"],
		"owner": {
			"reputation": 1,
			"user_id": 21230121,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6nyrYwI0UAr3cjmnved3SNYuB1iLipnTK3p09_6w=k-s256",
			"display_name": "Francisco Borges",
			"link": "https://stackoverflow.com/users/21230121/francisco-borges"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676587329,
		"creation_date": 1676587329,
		"question_id": 75478629,
		"link": "https://stackoverflow.com/questions/75478629/is-there-a-way-to-randomly-create-points-geo-referenced-in-a-raster-within-the",
		"title": "Is there a way to randomly create points (geo-referenced) in a raster within the area defined by a shapefile? Rstudio",
		"body": "<p>Ok so, this might actually be very straightforward and I apologize in advance.</p>\n<p>I am using R for a geospatial analysis. I want to create a series of geo-referenced points which are randomly (but uniformly) generated across the area delimited by the limits of a shapefile.</p>\n<p>Let's say that I Have a raster of the american continent and the shapefiles of the major lakes (just an example). I would like to create points for one species inside lake 1, then for another inside lake 2.</p>\n<p>Is this at all possible? Using shapefiles to limit the geographical extent and then randomly sampling a pre-determined (and equidistanced) number of points?</p>\n<p>Thank you very much in advance for any help and insight.</p>\n<p>I have yet to try anything because I have actually no idea where to start in terms of randomly generating the points but according to the specificity of them being equidistant</p>\n<p>Looking into this question <a href=\"https://stackoverflow.com/questions/47302419/using-ggmap-to-plot-points-randomly-distributed-within-boundaries-of-shape-file\">using ggmap to plot points randomly distributed within boundaries of shape file</a> that was suggested by stack overflow, part of my question is answered. However, how would I go to get, let's say, a point every km in a type of grid inside the shape?</p>\n<p>Cheers\nFrancisco</p>\n"
	}, {
		"tags": ["r", "gam", "mumin"],
		"owner": {
			"reputation": 542,
			"user_id": 1454785,
			"user_type": "registered",
			"accept_rate": 75,
			"profile_image": "https://i.stack.imgur.com/bB3GX.jpg?s=256&g=1",
			"display_name": "spops",
			"link": "https://stackoverflow.com/users/1454785/spops"
		},
		"is_answered": true,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75478526,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676586372,
		"creation_date": 1676581801,
		"question_id": 75477950,
		"link": "https://stackoverflow.com/questions/75477950/how-to-interpret-the-output-of-mumin-model-avg-on-gams",
		"title": "How to interpret the output of MuMIn model.avg on GAMs",
		"body": "<p>Say I have a series of GAMs that I would like to average together using <code>MuMIn</code>. How do I go about interpreting the results of the averaged smoothers? Why are there numbers after each smoother term?</p>\n<pre><code>library(glmmTMB)\nlibrary(mgcv)\nlibrary(MuMIn)\n\ndata(&quot;Salamanders&quot;) # glmmTMB data\n\n# mgcv gams\ngam1 &lt;- gam(count ~ spp + s(cover) + s(DOP), data = Salamanders, family = tw, method = &quot;ML&quot;)\ngam2 &lt;- gam(count ~ mined + s(cover) + s(DOP), data = Salamanders, family = tw, method = &quot;ML&quot;)\ngam3 &lt;- gam(count ~ s(Wtemp), data = Salamanders, family = tw, method = &quot;ML&quot;)\ngam4 &lt;- gam(count ~ mined + s(DOY), data = Salamanders, family = tw, method = &quot;ML&quot;)\n\n# MuMIn model average\nsummary(model.avg(gam1, gam2, gam3, gam4))\n</code></pre>\n<p>And an excerpt from the results...</p>\n<pre><code>Model-averaged coefficients:  \n(full average) \n                                                Estimate                                   Std. Error\n(Intercept) -1.32278368618846586812765053764451295137405  0.16027398202204409805027296442858641967177\nminedno      2.22006553885311141982583649223670363426208  0.19680444996609294805445244946895400062203\ns(cover).1   0.00096638939252485735100645092288118576107  0.05129736767981037115493592182247084565461\ns(cover).2   0.00360413985630353601863351542533564497717  0.18864911049300209233692271482141222804785\ns(cover).3   0.00034381902619062468381624930735540601745  0.01890820689958183642431777116144075989723\ns(cover).4  -0.00248365164684107844403349041328965540743  0.12950622739175629560826052966149291023612\ns(cover).5  -0.00089826079366626997504963192398008686723  0.04660149540411069601919535898559843190014\ns(cover).6   0.00242197856572917875894734862640689243563  0.12855093144749979439112053114513400942087\ns(cover).7  -0.00032596616013735266745646179664674946252  0.02076865732570042782922925539423886220902\ns(cover).8   0.00700001172809289889942263584998727310449  0.36609857217759655956257347497739829123020\ns(cover).9  -0.17150069832114492318630993850092636421323  0.17672571419517621449379873865836998447776\ns(DOP).1     0.00018839994220792031023870016781529557193  0.01119134546418791391342306695833030971698\ns(DOP).2    -0.00081869157242861999301819508900734945200  0.04333670935815417402103832955617690458894\ns(DOP).3    -0.00021538789478326670289408395486674407948  0.01164171952980479901595955993798270355910\ns(DOP).4     0.00043433676942596419591827161532648915454  0.02463278659589070856972270462392771150917\n</code></pre>\n"
	}, {
		"tags": ["r", "overlap", "time-format", "radians"],
		"owner": {
			"reputation": 11,
			"user_id": 17979364,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a6cbbc6bb931da5c76895207a4e89a1f?s=256&d=identicon&r=PG",
			"display_name": "Claire",
			"link": "https://stackoverflow.com/users/17979364/claire"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676586054,
		"creation_date": 1676586054,
		"question_id": 75478485,
		"link": "https://stackoverflow.com/questions/75478485/converting-time-column-in-character-format-to-radians-to-enable-an-analysis",
		"title": "Converting &quot;time&quot; column (in character format) to radians to enable an analysis of daily activity using &quot;overlap&quot;",
		"body": "<p>I have a database of remote wildlife camera images that I am tying to prepare to run a daily activity overlap analysis in R. I am trying to convert my &quot;time&quot; column (which is currently in chr format) to radians to allow for a circular daily activity analysis in the program &quot;overlap&quot;. I can't seem to find any information on a) How to convert time to radians and b) what format my time column needs to be in, to convert it to radians. Any help would be much appreciated.</p>\n<p>Thanks!</p>\n"
	}, {
		"tags": ["r", "na", "gam", "mumin"],
		"owner": {
			"reputation": 167,
			"user_id": 6155611,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/ioHac.jpg?s=256&g=1",
			"display_name": "leslie roberson",
			"link": "https://stackoverflow.com/users/6155611/leslie-roberson"
		},
		"is_answered": true,
		"view_count": 120,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 73478629,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676585932,
		"creation_date": 1661364918,
		"question_id": 73477883,
		"link": "https://stackoverflow.com/questions/73477883/mumin-dredge-gam-error-using-default-na-omit",
		"title": "MuMIn dredge gam error using default na.omit",
		"body": "<p>I have a global model I'm trying to dredge, but I keep getting the error &quot;Error in dredge(myglobalmod, evaluate = TRUE, trace = 2) :\n'global.model' uses 'na.action' = &quot;na.omit&quot;</p>\n<p>I tried running the global model with na.action=&quot;na.omit&quot; within the gam() call and leaving it out (since it's the default).</p>\n<pre><code>myglobalmod &lt;- gam(response~ s(x1) + s(x2) + s(x3) + offset(x4), data=mydata, family=&quot;tw&quot;, na.action=&quot;na.omit&quot;)\n\noptions(na.action=na.omit)\nmydredge &lt;- dredge(myglobalmod, evaluate=TRUE, trace=2)\n</code></pre>\n<p>When I didn't include na.action=&quot;na.omit&quot; within the gam, I got a similar error.\nI then tried with a subset of the data that has all the NA rows removed, but same error.</p>\n<p>I've gotten dredge to work before so I'm not sure why it doesn't like the na.omit now, I'm using the same code.</p>\n"
	}, {
		"tags": ["r", "dplyr", "tidyverse", "purrr"],
		"owner": {
			"reputation": 55,
			"user_id": 8363056,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/de2b3f59ec7649372a416d91e8e9f071?s=256&d=identicon&r=PG&f=1",
			"display_name": "Turtle",
			"link": "https://stackoverflow.com/users/8363056/turtle"
		},
		"is_answered": true,
		"view_count": 74,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"answer_count": 3,
		"score": 3,
		"last_activity_date": 1676585756,
		"creation_date": 1664313667,
		"last_edit_date": 1676585756,
		"question_id": 73873938,
		"link": "https://stackoverflow.com/questions/73873938/create-data-frame-with-column-characteristics-from-separate-tables-rows",
		"title": "Create data frame with column characteristics from separate table&#39;s rows",
		"body": "<p>I have a descriptive, auxiliary table whose rows specify variable's characteristics, where <code>varCat</code> describes a variable category, <code>rept</code> the number of later-to-implement repetitions of said category, and <code>form</code> their data format:</p>\n<pre class=\"lang-r prettyprint-override\"><code>require(dplyr)\nrequire(tidyr)\nrequire(purrr)\n\ndescr &lt;- tibble(\n  varCat = c(&quot;a&quot;, &quot;b&quot;),\n  rept = c(1, 3),\n  form = c(&quot;text&quot;, &quot;num&quot;)\n)\ndescr\n#&gt; # A tibble: 2 \u00d7 3\n#&gt;   varCat  rept form \n#&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;\n#&gt; 1 a          1 text \n#&gt; 2 b          3 num\n</code></pre>\n<p>What I'd like to obtain is the following (empty) data frame:</p>\n<pre class=\"lang-r prettyprint-override\"><code>d\n#&gt; # A tibble: 0 \u00d7 4\n#&gt; # \u2026 with 4 variables: a &lt;chr&gt;, b_1 &lt;dbl&gt;, b_2 &lt;dbl&gt;, b_3 &lt;dbl&gt;\n</code></pre>\n<p><sup>Created on 2022-09-27 with <a href=\"https://reprex.tidyverse.org\" rel=\"nofollow noreferrer\">reprex v2.0.2</a></sup></p>\n<p>Two steps are involved:</p>\n<ol>\n<li>The auxiliary table's <code>var</code> and <code>rept</code> together establish column names in the 'goal' data frame such that if <code>rept</code> equals 1, no suffix should be applied; yet if <code>rept</code> is larger than 1, a sequence of columns with suffix should be created;</li>\n<li>Each column's format should be read off <code>descr$form</code></li>\n</ol>\n<p>I have managed to implement these steps, albeit I feel quite clumsily:</p>\n<pre class=\"lang-r prettyprint-override\"><code># Step 1:\ntmp &lt;- descr %&gt;%\n  uncount(rept, .id = &quot;rept&quot;) %&gt;%\n  group_by(varCat) %&gt;%\n  mutate(\n    n = n(),\n    var = case_when(\n      n &gt; 1 ~ paste0(varCat, &quot;_&quot;, rept),\n      TRUE ~ varCat\n    )\n  ) %&gt;%\n  ungroup %&gt;%\n  select(var, form)\nc &lt;- tmp$var\nd &lt;- matrix(ncol = length(c), nrow = 0) %&gt;%\n  as_tibble(.name_repair = &quot;unique&quot;) %&gt;%\n  set_names(c)\n\n# Step 2:\nfor (i in colnames(d)) {\n  for (j in seq_along(tmp$var)) {\n    if (tmp$var[j] == i &amp; tmp$form[j] == &quot;text&quot;) d[i] &lt;- as.character(d[i]) else\n    if (tmp$var[j] == i &amp; tmp$form[j] == &quot;num&quot;) d[i] &lt;- as.numeric(d[i])\n  }\n}\nd\n#&gt; # A tibble: 0 \u00d7 4\n#&gt; # \u2026 with 4 variables: a &lt;chr&gt;, b_1 &lt;dbl&gt;, b_2 &lt;dbl&gt;, b_3 &lt;dbl&gt;\n</code></pre>\n<p><sup>Created on 2022-09-27 with <a href=\"https://reprex.tidyverse.org\" rel=\"nofollow noreferrer\">reprex v2.0.2</a></sup></p>\n<p>I'm sure there must be a much more concise way to achieve this. Any help would be much appreciated.</p>\n"
	}, {
		"tags": ["r", "arcgis", "coordinate-systems"],
		"owner": {
			"reputation": 1,
			"user_id": 21229234,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5DmcHhusuSJymdDsIaaAvStFE6XfXO55X47Z8HIQ=k-s256",
			"display_name": "Christy Cutshaw",
			"link": "https://stackoverflow.com/users/21229234/christy-cutshaw"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676585248,
		"creation_date": 1676575081,
		"question_id": 75476958,
		"link": "https://stackoverflow.com/questions/75476958/how-do-i-get-my-coordinate-points-to-be-in-my-spatial-dataframe-so-it-puts-the-p",
		"title": "How do I get my coordinate points to be in my spatial dataframe so it puts the points in the right place when I upload it to ArcGIS as a shapefile?",
		"body": "<p>I'm trying to upload some of my analysis from R into ArcGIS but there isn't any coordinate points when I upload it. In my original CSV file I had coordinate points but lose them when I create a spatial dataframe???</p>\n<pre><code>#read csv file into r and then omit all the NAs\nall_baboon &lt;- read.csv(file = 'All_GPS_Collar_Data.csv')\nbaboon_GPS &lt;- na.omit(all_baboon)\n\n#create spatial dataframe by first creating new table with just individuals and x y coordinates\nbaboon.sp &lt;- baboon_GPS[, c(&quot;Baboon&quot;, &quot;X&quot;,&quot;Y&quot;)]\n\n#create spatial points data frame\ncoordinates(baboon.sp) &lt;- c(&quot;X&quot;, &quot;Y&quot;)\nstr(baboon.sp)\n\n#set coordinate referene system\nproj4string(baboon.sp) &lt;- CRS( &quot;+proj=utm + zone=37 + datum=WGS84 +units=m +no_defs&quot;)\n\n#calculate MCPs for each social group, 100% of points used in this scenario\nbaboon.mcp &lt;- mcp(baboon.sp, percent=100)\n\nbaboon.mcp\n</code></pre>\n<p>I followed a tutorial for using adehabitat to find the home range of baboons. I can plot the home ranges in R, but haven't put a map down as the background because I want to import it as a shapefile into arcGIS. However, when I created a shapefile, theres no coordinates so the points and polygons don't get placed on the map.</p>\n<pre><code>shapefile(x = baboon.mcp, file = &quot;.../baboonmcp.shp&quot;)\n\nwriteOGR(baboon.mcp, dsn = &quot;...file_location&quot;, layer = &quot;baboon.mcp&quot;, driver = &quot;ESRI Shapefile&quot;)\n</code></pre>\n<p>I've tried it using shapefile and writeOGR but still have nothing. How can I add back the coordinates from the original csv file so it can be plotted in arcGIS?</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 70,
			"user_id": 7182121,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/09d762b6ba84edb8c0d39641abb91c00?s=256&d=identicon&r=PG&f=1",
			"display_name": "microbe",
			"link": "https://stackoverflow.com/users/7182121/microbe"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"closed_date": 1676589104,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676584557,
		"creation_date": 1676584557,
		"question_id": 75478305,
		"link": "https://stackoverflow.com/questions/75478305/group-by-behavior-in-dplyr-inner-joining-two-grouped-dataframes-any-concerns",
		"closed_reason": "Not suitable for this site",
		"title": "Group_by behavior in Dplyr: inner joining two grouped dataframes - any concerns?",
		"body": "<p>Hypothetical question.</p>\n<p>If we have two dataframes (DF1, DF2), each of which is grouped by different variables, and we forget to ungroup them before performing an inner join, which actually works and we do get results without any complaints. Are there any unforeseen concerns with this approach?</p>\n"
	}, {
		"tags": ["r", "visual-studio-code"],
		"owner": {
			"reputation": 495,
			"user_id": 5290603,
			"user_type": "registered",
			"accept_rate": 83,
			"profile_image": "https://www.gravatar.com/avatar/50c7577af8680cc0c49f4f8e4aaa77de?s=256&d=identicon&r=PG",
			"display_name": "jay",
			"link": "https://stackoverflow.com/users/5290603/jay"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676584533,
		"creation_date": 1676584533,
		"question_id": 75478302,
		"link": "https://stackoverflow.com/questions/75478302/vscode-disable-parentheses-when-autocompleting-functions-in-r",
		"title": "VSCode: disable parentheses when autocompleting functions in R",
		"body": "<p>When a function is autocompleted it always adds brackets at the end. as an example, I want to use <code>mean</code>: I type <code>mea</code> &gt; VSCode offers <code>mean</code> &gt; I hit tab &gt; I get <code>mean()</code>. But what I want to get is <code>mean</code>.</p>\n<p>ideally I would be able to hit different shortcuts that would let me pick the options (with brackets, opening bracket only, no brackets), but I would also be happy with just disabling the <code>()</code> entirely.</p>\n<p>This question has settings for how to do this in python, but I haven't been able to find a way to do this in R (or as a global setting that applies to all languages)\n<a href=\"https://stackoverflow.com/questions/55533379/vscode-add-parentheses-when-autocompleting-functions\">VSCode add parentheses when autocompleting functions</a></p>\n<p>Note: I know about the editor 'auto closing brackets' setting, but this only works when I am doing the typing, not for auto complete.</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "tidyverse", "pivot-table"],
		"owner": {
			"reputation": 494,
			"user_id": 13590492,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/vaIoH.jpg?s=256&g=1",
			"display_name": "AOE_player",
			"link": "https://stackoverflow.com/users/13590492/aoe-player"
		},
		"is_answered": true,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75477928,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676584528,
		"creation_date": 1676581413,
		"question_id": 75477901,
		"link": "https://stackoverflow.com/questions/75477901/update-records-of-dataframe-where-row-names-equal-to-column-names",
		"title": "Update records of dataframe where row names equal to column names",
		"body": "<p>Hello I have a large dataframe where I have need to update or fill in the missing values. The condition is that the correct value should be in respect to row name matching to a column name. For example:</p>\n<pre class=\"lang-r prettyprint-override\"><code>df &lt;- data.frame(\n  \n  ID = c(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;), \n  x = c(&quot;1&quot;, &quot;0.45&quot;, &quot;0.47&quot;),\n  y = c(&quot;0.45&quot;, &quot;1&quot;, &quot;0.65&quot;),\n  z = c(&quot;XXXX&quot;, &quot;XXXX&quot;, &quot;1&quot;)\n)\n\n  ID    x    y    z\n1  x    1 0.45 XXXX\n2  y 0.45    1 XXXX\n3  z 0.47 0.65    1\n</code></pre>\n<p>Above, the correct values for <code>xxxx</code> should be 0.47 and 0.65, respectively. Because x col z row has 0.47. Then y col z row is 0.65.The dataframe then looks like this:</p>\n<pre class=\"lang-r prettyprint-override\"><code>  ID    x    y    z\n1  x    1 0.45 0.47\n2  y 0.45    1 0.65\n3  z 0.47 0.65    1\n</code></pre>\n<p>This way all the elements row wise or column wise would correspond to matching rowname and column name.</p>\n<p>I have looked into these posts but I couldn't use them to advance my solutions:</p>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/72874065/match-column-to-column-names-add-value-to-row-column-of-matches\">Match Column to Column Names, add value to row/column of Matches</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/51977760/data-frame-set-value-based-on-matching-specific-row-name-to-column-name\">data frame set value based on matching specific row name to column name</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/41367765/change-values-of-matrix-where-row-names-equal-column-names\">Change values of matrix where row names equal column names</a></p>\n</li>\n</ol>\n"
	}, {
		"tags": ["r", "random-forest"],
		"owner": {
			"reputation": 391,
			"user_id": 5832020,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/6QRsY.jpg?s=256&g=1",
			"display_name": "Salty Gold Fish",
			"link": "https://stackoverflow.com/users/5832020/salty-gold-fish"
		},
		"is_answered": true,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75478238,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676583905,
		"creation_date": 1676582017,
		"question_id": 75477977,
		"link": "https://stackoverflow.com/questions/75477977/source-code-for-grow-function-in-randomforest-r-package",
		"title": "source code for grow function in randomForest R package",
		"body": "<p>In source code of R <code>randomForest</code> package, I find the following code in <code>grow.R</code>. What's the purpose for <code>UseMethod</code>? Why does function <code>grow</code> not have function definition and just <code>grow.default</code> and <code>grow.randomForest</code> have definition? Is this something related to calling C function in the R package?</p>\n<pre><code>grow &lt;- function(x, ...) UseMethod(&quot;grow&quot;)\n\ngrow.default &lt;- function(x, ...)\n  stop(&quot;grow has not been implemented for this class of object&quot;)\n\ngrow.randomForest &lt;- function(x, how.many, ...) {\n  y &lt;- update(x, ntree=how.many)\n  combine(x, y)\n}\n</code></pre>\n<p>Also, in the <code>randomForest.R</code> file, I only find the following code. There is <code>randomForest.default.R</code> file too. Why is there no <code>randomForest.randomForest</code> definition like function <code>grow</code>?</p>\n<pre><code>&quot;randomForest&quot; &lt;-\nfunction(x, ...)\n  UseMethod(&quot;randomForest&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "flexdashboard", "shinywidgets"],
		"owner": {
			"reputation": 189,
			"user_id": 3249770,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "user3249770",
			"link": "https://stackoverflow.com/users/3249770/user3249770"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676582937,
		"creation_date": 1676582937,
		"question_id": 75478121,
		"link": "https://stackoverflow.com/questions/75478121/structuring-shiny-flexdashboard-using-actionbutton-observeevent-and-pickerinpu",
		"title": "Structuring Shiny Flexdashboard using actionButton, ObserveEvent, and pickerInput",
		"body": "<p>I am looking for advice on how to structure my shiny flexdashboard app. I currently have a sidebar that contains a <code>dateRangeInput()</code> and an <code>actionButton()</code>. Once the action button is clicked a SQL query is run using the dates that were entered. I am trying to setup <code>pickerInput()</code> filters in the sidebar to filter the resultant datatable and am unsure where I should be placing filtering. Currently within my <code>observeEvent()</code> I am taking the input dates, running the sql, and using <code>updatePickerInput()</code> to update the <code>pickerInput()</code> values. Where should I be putting my reactive variable that then filters the df from the picker input?</p>\n<p>My current structure looks like this:</p>\n<pre><code>-----Sidebar-----\n\ndateRangeInput()\n\nactionButton()\n\npickerInput()\n\n\n-----Main Page-----\n\nobserveEvent(input$runquery, {\n    output$contents &lt;- DT::renderDataTable (server=FALSE,{\n\n#Pulling in date and running SQL\n\nupdatePickerInput()\n\nfiltered_data &lt;-\n  reactive({\n df %&gt;%\n      filter(COL %in% input$col) \n })\n  \ndatatable(filtered_data(), class = 'cell-border stripe',\n              extensions = 'Buttons',\n              rownames = FALSE,\n              options = list(\n                pageLength=20,\n                autoWidth = TRUE,\n                dom = 'Bfrtip',\n                buttons = list(),\n                columnDefs = list(list(className = 'dt-center',width = '100px', targets = &quot;_all&quot;))),fillContainer=TRUE)\n\nDT::dataTableOutput(&quot;contents&quot;)\n\n\n  \n})})\n\n\nDT::dataTableOutput(&quot;contents&quot;)\n\n</code></pre>\n<p>This current structure loads the data and <code>pickerInput()</code> values correctly however the filtering of the table with the <code>pickerInput()</code> is not working. Should the reactive filtering be done outside of the <code>observeEvent()</code>?</p>\n"
	}, {
		"tags": ["java", "r", "selenium", "web-scraping", "rselenium"],
		"owner": {
			"reputation": 33,
			"user_id": 13478435,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c12c5b232af7eb12e8a70117da0d031b?s=256&d=identicon&r=PG&f=1",
			"display_name": "Etxeberri",
			"link": "https://stackoverflow.com/users/13478435/etxeberri"
		},
		"is_answered": true,
		"view_count": 223,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 4,
		"score": 2,
		"last_activity_date": 1676582771,
		"creation_date": 1673506129,
		"question_id": 75092535,
		"link": "https://stackoverflow.com/questions/75092535/rselenium-fails-to-open-browser",
		"title": "RSelenium fails to open browser",
		"body": "<p>I wan't to use Selenium for webscrapping from R.</p>\n<ul>\n<li>My Windows version: Windows 11, 21H2</li>\n<li>I have the latest Java update. (1.8.0_351) Commenting it since I've seen it could be a fix in this cases.</li>\n</ul>\n<p>However, when defining the driver object I get the following error:</p>\n<pre><code>Could not open chrome browser.\nClient error message:\nUndefined error in httr call. httr output: Failed to connect to localhost port 14415: Connection refused\nCheck server log for further details.\nWarning message:\nIn rsDriver(browser = &quot;chrome&quot;, chromever = &quot;109.0.5414.74&quot;, verbose = FALSE,  :\n  Could not determine server status. \n</code></pre>\n<p>When checking the server log for further details I get:</p>\n<pre><code>Could not find or load main class c(-Dwebdriver.chrome.driver=\\&quot;C:\\\\\\\\Users\\\\\\\\xherr\\\\\\\\AppData\\\\\\\\Local\\\\\\\\binman\\\\\\\\binman_chromedriver\\\\\\\\win32\\\\\\\\109.0.5414.74.chromedriver.exe\\&quot;,&quot;\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>library(tidyverse)\nlibrary(RSelenium)\nlibrary(netstat)\nlibrary(Rcpp)\nlibrary(wdman)\n\nbinman::list_versions(&quot;chromedriver&quot;)\n\n\nrdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\n                    chromever = &quot;109.0.5414.74&quot;,\n                    verbose = TRUE,\n                    port = free_port())\n\nrdriver$server$log()\n</code></pre>\n<p>Does anyone know how to fix this?\nThank you very much</p>\n"
	}, {
		"tags": ["r", "dataframe", "loops", "for-loop"],
		"owner": {
			"reputation": 1,
			"user_id": 20606409,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7bd33096238c2547b2da8f021daf4627?s=256&d=identicon&r=PG",
			"display_name": "Darnell",
			"link": "https://stackoverflow.com/users/20606409/darnell"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676582727,
		"creation_date": 1676569288,
		"last_edit_date": 1676577136,
		"question_id": 75476048,
		"link": "https://stackoverflow.com/questions/75476048/make-a-loop-to-scrape-a-website-to-create-multiple-dataframes",
		"title": "Make a loop to scrape a website to create multiple dataframes",
		"body": "<p>I'm working on a project where I can see two ways to potentially solve my problem. I'm scraping a webpage by using a loop to save the each page locally as a HTML file.  The problem I'm having is when I try to select on the files in my local folder they are basically blank pages.  I'm not sure why.  I've used this same code on other sites for this project with success.</p>\n<p>This is the code I'm using.</p>\n<pre class=\"lang-r prettyprint-override\"><code>#scrape playoff teams for multiple seasons and saved html to local folder\nfor(i in 2002:2021){\n    playoff_url &lt;- read_html(paste0(&quot;https://www.espn.com/nfl/stats/player/_/season/&quot;,i,&quot;/seasontype/3&quot;))\n    playoff_stats &lt;- playoff_url %&gt;%\n    write_html(paste0(&quot;playoff&quot;,i,&quot;.HTML&quot;))\n    }\n</code></pre>\n<p>My second option is to scrape individual seasons into a data frame, but I would like to do it in  a loop, and to not have to run this code 20 different times. I also don't want  to continually scrape data from the site every time I run the code. It doesn't matter if all the data is in 1 large data frame for all 20 seasons or 20 separate ones.  I can export the code to a local file then import it when I need it.</p>\n<pre class=\"lang-r prettyprint-override\"><code>#read in code for playoff QBs from ESPN and added year column\nplayoff_url &lt;- read_html(&quot;https://www.espn.com/nfl/stats/player/_/season/2015/seasontype/3&quot;)\nplay_QB2015 &lt;-playoff_url %&gt;%  \nhtml_nodes(&quot;table&quot;) %&gt;% \nhtml_table()\n\n#combine list from QB playoff data to convert to dataframe\nplay_QB2015 &lt;- c(play_QB2015[[1]], play_QB2015[[2]])\n\n# Convert list to dataframe using data.frame()\nplay_QB2015 &lt;- data.frame(play_QB2015)\nplay_QB2015$Year = 2015\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 25,
			"user_id": 21229177,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp4wsV5c7jLHJG0dOh_wzQG8Lx2qY0hOE8dZZCB19g=k-s256",
			"display_name": "Buddhika Bellana",
			"link": "https://stackoverflow.com/users/21229177/buddhika-bellana"
		},
		"is_answered": true,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75477721,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676582349,
		"creation_date": 1676579801,
		"last_edit_date": 1676582349,
		"question_id": 75477671,
		"link": "https://stackoverflow.com/questions/75477671/can-i-have-facets-in-ggplot-with-different-x-axes-while-keeping-their-original",
		"title": "Can I have facets in ggplot with different x-axes, while keeping their original order?",
		"body": "<p>I want to create a plot where the two facets have (i) different x-axes and (ii) the order or the x-axis is maintained from the order of occurrence in the dataframe.</p>\n<p>Sample code:</p>\n<pre><code>part &lt;- as.factor(c(&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;))\nword &lt;- c(&quot;dog&quot;, &quot;cat&quot;, &quot;fish&quot;, &quot;hamster&quot;, &quot;dog&quot;, &quot;eagle&quot;)\norder &lt;- c(1,2,3,4,5,6)\nval &lt;- c(1,2,3,3,2,1)\ndf &lt;- as.data.frame(cbind(part,order,word,val))\nggplot(df, aes(x=word, y=val))+\nfacet_wrap(part, scales = &quot;free_x&quot;)+ \ngeom_point()\n</code></pre>\n<p>Which produces\n<img src=\"https://i.stack.imgur.com/Vk5Tc.png\" alt=\"this plot.\" /></p>\n<p>But, the order isn't the same as what's specified in the word variable. The order of words should be &quot;dog&quot;, &quot;cat&quot;, &quot;fish&quot; for Part A and &quot;hamster&quot;, &quot;dog&quot;, &quot;eagle&quot; for Part B.</p>\n<p>I <em>can</em> get the correct order when I</p>\n<p><img src=\"https://i.stack.imgur.com/wljPP.png\" alt=\"plot order on the x-axis instead.\" /></p>\n<p>But I want the corresponding words to be on the x-axis... What am I doing wrong?</p>\n<p>I have checked out other related solutions like <a href=\"https://stackoverflow.com/questions/58543340/different-x-axis-for-ggplot-facet\">this</a> one, but 'scales = &quot;free_x&quot;' doesn't do the trick by itself. Also, if I change &quot;word&quot; into an ordered factor, it runs into issues too, since &quot;dog&quot; is the first word in Part A but the second word in Part B.</p>\n"
	}, {
		"tags": ["r", "string", "list", "alphabetical-sort"],
		"owner": {
			"reputation": 3,
			"user_id": 11329975,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-gtDKu-qqi74/AAAAAAAAAAI/AAAAAAAAorw/cIOD0QFXGCY/photo.jpg?sz=256",
			"display_name": "Altair Breckwoldt Jurado",
			"link": "https://stackoverflow.com/users/11329975/altair-breckwoldt-jurado"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676582075,
		"creation_date": 1671272006,
		"last_edit_date": 1676582075,
		"question_id": 74833294,
		"link": "https://stackoverflow.com/questions/74833294/order-alphabetically-each-element-of-a-list-in-r",
		"title": "Order alphabetically each element of a list in R",
		"body": "<p>I have a dataframe and one of the variables is a list. I want each of the vectors in the list to be alphabetically ordered.</p>\n<p>[1] D,F should become F,D</p>\n<p>[2] B,D,C should become B,C,D</p>\n<p>and so on with each row</p>\n<p>I have tried DF$variableC&lt;-lapply(DF$variable, sort) but nothing happens, the variable remains exactly the same</p>\n"
	}, {
		"tags": ["r", "hierarchical-data", "data.tree", "collapsibletree-r"],
		"owner": {
			"reputation": 3968,
			"user_id": 9492720,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/0sEMd.jpg?s=256&g=1",
			"display_name": "Ben G",
			"link": "https://stackoverflow.com/users/9492720/ben-g"
		},
		"is_answered": true,
		"view_count": 220,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75477947,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676581819,
		"creation_date": 1609168840,
		"question_id": 65479870,
		"link": "https://stackoverflow.com/questions/65479870/adding-a-fill-attribute-to-a-data-tree-object-for-use-in-collapsibletree-in-r",
		"title": "Adding a &quot;fill&quot; attribute to a data.tree object for use in collapsibleTree in R",
		"body": "<p>We've been using dataframes with <code>collapsibleTree()</code> to make interactive, nice looking dendograms of hierarchical systems.  The issue we have though is that it's difficult to get the customization we want when using a dataframe and it seems from the <code>collapsibleTree</code> documentation that using data.tree structure provides for more flexibility.  For example, if we want to color specific nodes with a dataframe, we need to do something like this:</p>\n<pre><code>library(dplyr)\nlibrary(data.tree)\nlibrary(collapsibleTree)\n\ncolors &lt;- rep('gray', 15)\ncolors[1] &lt;- 'red' # root\ncolors[3] &lt;- 'red' # child we want to emphasize\ncolors[15] &lt;- 'red' # grand child we want to emphasize\n\noriginal_data_frame %&gt;% \n  collapsibleTree(\n    hierarchy = c(&quot;level_2&quot;,\n                  &quot;level_3&quot;,\n                  &quot;level_4&quot;,\n                  &quot;level_5&quot;,\n                  &quot;level_6&quot;,\n                  &quot;level_7&quot;\n    ),\n    root = &quot;level_1&quot;,\n    fill = colors\n  )\n</code></pre>\n<p>This isn't really a good solution, especially when the resulting tree has hundreds or more nodes or higher levels of hierarchy.</p>\n<p>I saw that in data.tree, I should be able add arbitrary attributes but this doesn't seem to be working, at least it's not having the desired affect I want it to have:</p>\n<pre><code>original_as_tree &lt;- original_data_frame %&gt;% \n    mutate(pathString =\n           paste(\n             level_1,\n             level_2,\n             level_3,\n             level_4,\n             level_5,\n             level_6,\n             level_7,\n             sep = &quot;/&quot;),\n           pathString = str_remove_all(pathString, &quot;/NA&quot;)) %&gt;% \n  as.Node()\n\noriginal_as_tree$color &lt;- &quot;gray&quot;\noriginal_as_tree$Boat$color &lt;- &quot;red&quot;\n\ncollapsibleTree(original_as_tree,\n                fill = original_as_tree$color)\n</code></pre>\n<p>This just colors each node &quot;gray&quot; (or red if I did <code>original_as_tree$Boat$color</code>).  Ideally, I'd be able to assign colors programmatically with some sort of <code>case_when</code> or <code>ifelse</code> call.</p>\n<p>Here's the dput of my example data:</p>\n<pre><code>structure(list(level_1 = c(&quot;Sea System&quot;, &quot;Sea System&quot;, &quot;Sea System&quot;, \n&quot;Sea System&quot;, &quot;Sea System&quot;, &quot;Sea System&quot;), level_2 = c(&quot;System Engineering&quot;, \n&quot;Boat&quot;, &quot;Boat&quot;, &quot;Boat&quot;, &quot;Boat&quot;, &quot;Boat&quot;), level_3 = c(&quot;Core Systems Engineering&quot;, \n&quot;Auxiliary Systems&quot;, &quot;Total Ship Integration/Engineering&quot;, &quot;Electric Plant&quot;, \n&quot;Hull Structure&quot;, &quot;Hull Structure&quot;), level_4 = c(NA_character_, \nNA_character_, NA_character_, NA_character_, NA_character_, NA_character_\n), level_5 = c(NA_character_, NA_character_, NA_character_, NA_character_, \nNA_character_, NA_character_), level_6 = c(NA_character_, NA_character_, \nNA_character_, NA_character_, NA_character_, NA_character_), \n    level_7 = c(&quot;GREENLAND ENTERPRISES, INC.&quot;, &quot;3M PURIFICATION INC.&quot;, \n    &quot;5TH AXIS, LLC&quot;, &quot;901 D, LLC&quot;, &quot;A. M. CASTLE &amp; CO.&quot;, &quot;A.M. CASTLE &amp; CO.&quot;\n    )), row.names = c(NA, -6L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;\n</code></pre>\n"
	}, {
		"tags": ["r", "statistics", "lme4", "glmm"],
		"owner": {
			"reputation": 1,
			"user_id": 21127111,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/72e9dc3a0d5ec794b7fb93b2190f2038?s=256&d=identicon&r=PG&f=1",
			"display_name": "saimensis",
			"link": "https://stackoverflow.com/users/21127111/saimensis"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676581712,
		"creation_date": 1676579624,
		"last_edit_date": 1676581712,
		"question_id": 75477639,
		"link": "https://stackoverflow.com/questions/75477639/building-general-linear-mixed-model-in-r",
		"title": "Building General Linear Mixed Model in R",
		"body": "<p>I am trying to build a <code>glmm</code> in R but constantly get error messages (I am a complete beginner).</p>\n<p>I have conducted an experiment with Camera traps in which I tested, if they react to a target, that I pulled in front of them, so my response variable is binomial.\nI try to build a GLMM, in which all the variables are fixed factors and day (in which the experiment was conducted is a random factor). Could anyone more experienced tell me what I am doing wrong (I first try only with one explanatory variable)?</p>\n<p>I tried it with the <code>glmm()</code> and with <code>lmer()</code>:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(glmm)\nset.seed(1234)\nptm &lt;- proc.time()\nDetections &lt;- glmm(Detection ~ 0 + Camera, random = list(~ 0 + Day), \n    varcomps.names = c(&quot;Day&quot;), data = data1, family.glmm = bernoulli.glmm, \n    m = 10^4, debug = TRUE)`\n</code></pre>\n<p>This one produces an obscenely large glmm, even with the minimal dataset.</p>\n<p>and with</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(lme4)\nDetections_glmm &lt;- lmer(Detection ~ Camera + (1|Day), family=&quot;binomial&quot;)\n</code></pre>\n<p>This one gives the following error message:</p>\n<pre class=\"lang-r prettyprint-override\"><code>Error in lmer(Detection ~ Camera + (1 | Day), family = &quot;binomial&quot;) : \n  unused argument (family = &quot;binomial&quot;)\n</code></pre>\n<p>Here is a minimal df:</p>\n<pre class=\"lang-r prettyprint-override\"><code>data.frame(\n    Detection = c(1, 0, 0, 1, 1, 1, 1, 0, 0, 0),\n             Temperature = as.factor(c(&quot;10&quot;,&quot;10&quot;,&quot;10&quot;,&quot;10&quot;,&quot;10&quot;,&quot;20&quot;,&quot;20&quot;,\n                                       &quot;0&quot;,&quot;0&quot;,&quot;0&quot;)),\n                Distance = as.factor(c(&quot;75&quot;,&quot;75&quot;,&quot;75&quot;,&quot;225&quot;,&quot;225&quot;,&quot;225&quot;,\n                                       &quot;75&quot;,&quot;150&quot;,&quot;150&quot;,&quot;150&quot;)),\n                    Size = as.factor(c(&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,\n                                       &quot;2&quot;,&quot;2&quot;)),\n                   Light = as.factor(c(&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,\n                                       &quot;0&quot;,&quot;0&quot;)),\n                  Camera = as.factor(c(&quot;1&quot;,&quot;1&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;,&quot;3&quot;,&quot;3&quot;,&quot;3&quot;,\n                                       &quot;1&quot;,&quot;1&quot;)),\n                     Day = as.factor(c(&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;,&quot;3&quot;,&quot;3&quot;,\n                                       &quot;3&quot;,&quot;2&quot;))\n</code></pre>\n<p>And Information about the variables:<br />\nResponse variable:<br />\nDetection (binomial)</p>\n<p>Explanatory variables:<br />\nTemperature of bottle: (0, 10, 20)<br />\nDistance from Camera (75, 150, 225)<br />\nLight(0/1)<br />\nSize of bottle (0, 1, 3)</p>\n"
	}, {
		"tags": ["r", "inference", "coefficients", "mumin"],
		"owner": {
			"reputation": 11,
			"user_id": 15358944,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/80da89fc3d035eb8622b7227898a574f?s=256&d=identicon&r=PG&f=1",
			"display_name": "annadelius",
			"link": "https://stackoverflow.com/users/15358944/annadelius"
		},
		"is_answered": false,
		"view_count": 155,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676581450,
		"creation_date": 1615274498,
		"question_id": 66542444,
		"link": "https://stackoverflow.com/questions/66542444/model-averaging-with-mumin-interpretation-of-coefficient-names-in-results",
		"title": "Model averaging with MuMIn: interpretation of coefficient-names in results",
		"body": "<p>I am doing model averaging with MuMIn and trying to interpret the results.\nEverything works fine, but I am wondering about the <strong>names of my coefficients</strong> in the results:</p>\n<pre><code>Model-averaged coefficients:  \n(full average) \n                     Estimate Std. Error Adjusted SE\ncond((Int))         0.9552775  0.0967964   0.0969705\ncond(Distanzpunkt) -0.0001217  0.0001451   0.0001453\ncond(area_km2)      0.0022712  0.0030379   0.0030422\ncond(prop)          0.0487036  0.1058994   0.1060808\n</code></pre>\n<p>Does someone know, what &quot;<strong>cond()</strong>&quot; tells me and why it appears in the model output?</p>\n<p>Within the models, the coefficients are named &quot;Distanzpunkt&quot;, &quot;area_km2&quot; and &quot;prop&quot;.</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 393,
			"user_id": 15077940,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/96bf0f599ff17200a6cbdf83c3101edb?s=256&d=identicon&r=PG&f=1",
			"display_name": "Adam",
			"link": "https://stackoverflow.com/users/15077940/adam"
		},
		"is_answered": true,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75475979,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676581319,
		"creation_date": 1676568002,
		"question_id": 75475811,
		"link": "https://stackoverflow.com/questions/75475811/expand-dataset-long-ways-using-start-and-stop-dates",
		"title": "Expand dataset long ways using start and stop dates",
		"body": "<p>I have a dataset that looks like the following:</p>\n<pre><code>      ID  RECN EXSTDAT    EXSTPDAT   EXONGO EX2LD DOSEA DOSFRM  DOSFRQ ADURN STUDYST    EXSTDAY EXSTPDAY\n   &lt;int&gt; &lt;dbl&gt; &lt;date&gt;     &lt;date&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;date&gt;       &lt;dbl&gt;    &lt;dbl&gt;\n 1     1     1 2022-07-08 2022-07-27      0     0    50 Capsule QD        19 2022-07-08       0       19\n 2     1     2 2022-07-28 2022-08-14      0     1    50 Capsule QD        17 2022-07-08      20       37\n 3     2     2 2022-06-09 2022-06-09      0     0    50 Capsule QD         0 2022-06-09       0        0\n 4     2     1 2022-06-14 2022-08-02      0     0    50 Capsule QD        49 2022-06-09       5       54\n 5     2     3 2022-08-03 2022-08-14      0     0     0 Capsule QD        11 2022-06-09      55       66\n 6     2     5 2022-08-15 2022-09-26      0     0    50 Capsule QD        42 2022-06-09      67      109\n 7     2     4 2022-09-27 2023-02-15      1     0   100 Capsule QD       141 2022-06-09     110      251\n 8     3     1 2022-06-30 2022-08-03      0     1    50 Capsule QD        34 2022-06-30       0       34\n 9     4     1 2022-08-24 2022-10-04      0     1   100 Capsule QD        41 2022-08-24       0       41\n10     5     1 2022-12-30 2023-01-19      0     1   200 Capsule QD        20 2022-12-30       0       20\n</code></pre>\n<p>I would like to generate an observation for each day between the intervals of EXSTDAY and EXSTPDAY, keeping ID, DOSEA, DOSFRM, and DOSFRQ. Below is an example of the desired results for up to study day (STDAY &lt;= 8) for ID 1 &amp; 2:</p>\n<pre><code>ID  DOSEA   DOSFRM  DOSFRQ  STDAY\n1   50      Capsule QD      0\n1   50      Capsule QD      1\n1   50      Capsule QD      2\n1   50      Capsule QD      3\n1   50      Capsule QD      4\n1   50      Capsule QD      5 \n1   50      Capsule QD      6\n1   50      Capsule QD      7 \n1   50      Capsule QD      8\n2   50      Capsule QD      0\n2   50      Capsule QD      5\n2   50      Capsule QD      6\n2   50      Capsule QD      7\n2   50      Capsule QD      8 \n</code></pre>\n<p>I have no idea where to start, so any advice is much appreciated!</p>\n<p><code>dput</code> of original dataset:</p>\n<pre><code>structure(list(ID = c(1L, 1L, 2L, 2L, 2L, 2L, 2L, 3L, 4L, 5L, \n6L, 7L, 8L, 8L, 9L, 10L, 10L, 10L, 10L, 10L, 11L, 11L, 11L, 12L, \n12L, 13L, 14L, 14L, 14L, 14L, 14L, 14L), RECN = c(1, 2, 2, 1, \n3, 5, 4, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 1, 3, 4, 1, 2, 3, 1, 2, \n1, 1, 2, 3, 4, 5, 6), EXSTDAT = structure(c(19181, 19201, 19152, \n19157, 19207, 19219, 19262, 19173, 19228, 19356, 19356, 19377, \n19303, 19326, 19363, 19216, 19220, 19346, 19362, 19365, 19264, \n19277, 19282, 19219, 19226, 19310, 19345, 19351, 19352, 19354, \n19355, 19370), class = &quot;Date&quot;), EXSTPDAT = structure(c(19200, \n19218, 19152, 19206, 19218, 19261, 19403, 19207, 19269, 19376, \n19376, 19403, 19325, 19328, 19383, 19216, 19361, 19366, 19364, \n19403, 19275, 19281, 19403, 19225, 19226, 19338, 19350, 19351, \n19353, 19354, 19369, 19370), class = &quot;Date&quot;), EXONGO = c(0, 0, \n0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, \n0, 0, 0, 0, 0, 0, 0, 0, 0), EX2LD = c(0, 1, 0, 0, 0, 0, 0, 1, \n1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, \n0, 0, 0), DOSEA = c(50, 50, 50, 50, 0, 50, 100, 50, 100, 200, \n200, 100, 100, 100, 200, 100, 100, 100, 100, 100, 100, 100, 100, \n50, 0, 100, 200, 0, 200, 0, 200, 0), DOSFRM = c(&quot;Capsule&quot;, &quot;Capsule&quot;, \n&quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, \n&quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Tablet&quot;, \n&quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Tablet&quot;, &quot;Tablet&quot;, \n&quot;Tablet&quot;, &quot;Tablet&quot;, &quot;Tablet&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, \n&quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;, &quot;Capsule&quot;\n), DOSFRQ = c(&quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, \n&quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, \n&quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, &quot;QD&quot;, \n&quot;QD&quot;, &quot;QD&quot;), ADURN = c(19, 17, 0, 49, 11, 42, 141, 34, 41, 20, \n20, 26, 22, 2, 20, 0, 141, 20, 2, 38, 11, 4, 121, 6, 0, 28, 5, \n0, 1, 0, 14, 0), STUDYST = structure(c(19181, 19181, 19152, 19152, \n19152, 19152, 19152, 19173, 19228, 19356, 19356, 19377, 19303, \n19303, 19363, 19216, 19216, 19216, 19216, 19216, 19264, 19264, \n19264, 19219, 19219, 19310, 19345, 19345, 19345, 19345, 19345, \n19345), class = &quot;Date&quot;), EXSTDAY = c(0, 20, 0, 5, 55, 67, 110, \n0, 0, 0, 0, 0, 0, 23, 0, 0, 4, 130, 146, 149, 0, 13, 18, 0, 7, \n0, 0, 6, 7, 9, 10, 25), EXSTPDAY = c(19, 37, 0, 54, 66, 109, \n251, 34, 41, 20, 20, 26, 22, 25, 20, 0, 145, 150, 148, 187, 11, \n17, 139, 6, 7, 28, 5, 6, 8, 9, 24, 25)), row.names = c(NA, -32L\n), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n"
	}, {
		"tags": ["r", "postgresql", "database-connection", "remote-server"],
		"owner": {
			"reputation": 1,
			"user_id": 4961682,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-BgeS8nQDXW0/AAAAAAAAAAI/AAAAAAAAAVw/YELh641BsvE/photo.jpg?sz=256",
			"display_name": "Hardik Shah",
			"link": "https://stackoverflow.com/users/4961682/hardik-shah"
		},
		"is_answered": false,
		"view_count": 1128,
		"down_vote_count": 2,
		"up_vote_count": 0,
		"closed_date": 1676635230,
		"answer_count": 1,
		"score": -2,
		"last_activity_date": 1676581225,
		"creation_date": 1452255745,
		"question_id": 34677061,
		"link": "https://stackoverflow.com/questions/34677061/how-to-connect-r-to-remote-server-and-access-postgresql-database-through-it",
		"closed_reason": "Not suitable for this site",
		"title": "How to connect R to remote server and access Postgresql database through it?",
		"body": "<p>Background:</p>\n\n<ol>\n<li>I need to access a Postgresql database from my local machine</li>\n<li>The database can only be accessed through a bunch of IPs situated on the remote server</li>\n</ol>\n\n<p>Given the above information, I could use PGAdmin to access the database from my local by entering server as well as database credentials. I'd like to be able to achieve the same through R. </p>\n\n<p>I explored the following links to no help:\nPlease direct me to how I can access the server and through it, the database (all through R). Thanks!</p>\n"
	}, {
		"tags": ["r", "date", "group-by", "tidyverse", "lubridate"],
		"owner": {
			"reputation": 13,
			"user_id": 20585927,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/ALm5wu2FAp1iZ3EP06TPW4IflXpb41VCn80HNf-OGs9w=k-s256",
			"display_name": "tpscp",
			"link": "https://stackoverflow.com/users/20585927/tpscp"
		},
		"is_answered": false,
		"view_count": 34,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676580823,
		"creation_date": 1676569108,
		"question_id": 75476010,
		"link": "https://stackoverflow.com/questions/75476010/group-by-different-date-ranges-in-r",
		"title": "Group by different date ranges in R?",
		"body": "<p>If I have data set with daily data, how I can I <code>group_by</code>  a custom set of date ranges? The below screen grab details the of the date ranges I'd like to group by. Any help would be greatly appreciated.</p>\n<p>Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/YlqiU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YlqiU.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "gis", "adehabitathr"],
		"owner": {
			"reputation": 31,
			"user_id": 5613688,
			"user_type": "registered",
			"accept_rate": 75,
			"profile_image": "https://www.gravatar.com/avatar/6995f55fa0af353753da186dfa573d85?s=256&d=identicon&r=PG&f=1",
			"display_name": "user5613688",
			"link": "https://stackoverflow.com/users/5613688/user5613688"
		},
		"is_answered": false,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676580804,
		"creation_date": 1674582891,
		"question_id": 75225402,
		"link": "https://stackoverflow.com/questions/75225402/adehabitat-smoothing-parameters-sig1and2",
		"title": "ADEHabitat Smoothing parameters Sig1and2",
		"body": "<p>I am trying to build some BBMM code and although it produces the outputs I want, I am having trouble figuring out the proper smoothing parameters using Sig 1 and Sig 2. When I use the liker function it produces the exact same curve for every individual, which does not seem right. I have tried playing with the Sig 2 number and range of sig1 but it does not seem to make any difference at all. What am I missing?</p>\n<p><a href=\"https://i.stack.imgur.com/vbRCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbRCP.png\" alt=\"Example data\" /></a></p>\n<p>`#Load Package\nlibrary(BBMM)\nlibrary(sp)\nlibrary(adehabitatHR)\nlibrary(adehabitatLT)</p>\n<p>##Plot Movement Rates for individuals</p>\n<p>ctraj &lt;- as.ltraj(xy = coordinates(RelSPDF), date = RelSPDF$Timestamp, id =RelSPDF$Animal_ID)</p>\n<p>is.regular(ctraj)</p>\n<p>graphics.off()</p>\n<p>par(&quot;mar&quot;)</p>\n<p>par(mar=c(1,1,1,1))</p>\n<p>plotltr(ctraj)</p>\n<p>###Establish smoother Sig1 and Sig2 parameters</p>\n<p>x &lt;- ctraj</p>\n<p>lik &lt;- liker(x, sig2 = 6, rangesig1 = c(1, 50))</p>\n<p>xbb &lt;- kernelbb(x, sig1 = 300, sig2 = 6, grid=1500)</p>\n<p>image(xbb)</p>\n<p>plot(getverticeshr(xbb, 95), add=TRUE, lwd=2)</p>\n<p>plot(ctraj)`</p>\n<p><a href=\"https://i.stack.imgur.com/0dFcu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dFcu.png\" alt=\"Sigma\" /></a></p>\n<p>I am using R 2021.09.0, 64Bit</p>\n"
	}, {
		"tags": ["r", "dplyr", "tidyverse"],
		"owner": {
			"reputation": 181,
			"user_id": 3200293,
			"user_type": "registered",
			"accept_rate": 33,
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "user3200293",
			"link": "https://stackoverflow.com/users/3200293/user3200293"
		},
		"is_answered": false,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676577360,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676580092,
		"creation_date": 1676574619,
		"last_edit_date": 1676580092,
		"question_id": 75476900,
		"link": "https://stackoverflow.com/questions/75476900/r-combining-custom-functions",
		"closed_reason": "Opinion-based",
		"title": "R combining custom functions",
		"body": "<p>Let's say you've just completed writing a series of custom functions in a RMarkdown book to analyze your dataset from reading, tidying, analysis, visualization and export. You now want to deploy these functions on\na folder full of csv datasets sequentially. The functions can't be used as standalones as it requires variables/objects that are outputs from the first function. Essentially, they need to be run in a linear order.</p>\n<p>What is the most efficient method of the two below for combining these functions together?</p>\n<p>I imagine there's two approaches:</p>\n<p>Should you create individual R script files for each function and source these into another R script file to run each function as standalone lines of code one after another e.g.,</p>\n<pre><code>x&lt;- read_csv(data_sets)    \n\nclean_output &lt;- func1(x)\n\nresults_output &lt;- func2(clean_output)\n\ntable_plots_output &lt;- func3(results_output)\n\nexport_csv &lt;- func4(table_plots_output)\n</code></pre>\n<p>OR</p>\n<p>Should you write a sort of master function that contains all the functions you've created previously to run all your processes/functions (cleaning, analysis, visualization and export of results) in a single line of code?</p>\n<pre><code>x&lt;- read_csv(data_sets)   \n\nexport_csv &lt;- master_funct(x) { \n\nclean_output &lt;- func1(x)\n\nresults_output &lt;- func2(clean_output)\n\ntable_plots_output &lt;- func3(results_output)\n\nfunc4(table_plots_output)\n}\n</code></pre>\n<p>I try to follow Tidyverse approaches, so if there is a Tidyverse approach to this task that would be great.</p>\n"
	}, {
		"tags": ["r", "dataframe", "matrix"],
		"owner": {
			"reputation": 637,
			"user_id": 9097452,
			"user_type": "registered",
			"accept_rate": 0,
			"profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=256&d=identicon&r=PG",
			"display_name": "abraham",
			"link": "https://stackoverflow.com/users/9097452/abraham"
		},
		"is_answered": true,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676579986,
		"creation_date": 1676578347,
		"last_edit_date": 1676579986,
		"question_id": 75477436,
		"link": "https://stackoverflow.com/questions/75477436/use-2-column-to-generate-absent-and-present-matrix",
		"title": "Use 2 column to generate absent and present matrix",
		"body": "<p>I have a data.frame:</p>\n<pre><code>df[19:30,]\n   gene     sample\n19 rtxA sample-320\n20 rtxA sample-359\n21 rtxA sample-594\n22 vibF sample-350\n23 vibF sample-346\n24 vibF sample-349\n25 vibF sample-368\n26 vibF sample-362\n27 vibF sample-363\n28 vibF sample-369\n29 vibF sample-345\n30 vibF sample-326\n</code></pre>\n<p>the df only show 2 elements in gene (rtxA and vibF) column, nevertheless it present 150 genes, and in sample column are 21 samples (sample-320 ... sample-x), so I want just convert it to absent/present data.frame (or matrix) using the samples as columns and gene as rows. Something like:</p>\n<pre><code>    sample-320  sample-359  sample-594 sample-350 .....\nrtxA     1          1             0          0\nvibF     0          0             1          1\n</code></pre>\n<p>If present 1, and 0 if absent.</p>\n"
	}, {
		"tags": ["r", "ggplot2", "sankey-diagram", "geom-text", "ggalluvial"],
		"owner": {
			"reputation": 1,
			"user_id": 14005828,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d47145fc3f411a6a28e73629dd556e4a?s=256&d=identicon&r=PG&f=1",
			"display_name": "cavernam",
			"link": "https://stackoverflow.com/users/14005828/cavernam"
		},
		"is_answered": false,
		"view_count": 62,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676579793,
		"creation_date": 1675970160,
		"last_edit_date": 1675970793,
		"question_id": 75403403,
		"link": "https://stackoverflow.com/questions/75403403/cant-get-geom-text-to-appear-in-ggalluvial",
		"title": "Can&#39;t get geom_text to appear in ggalluvial",
		"body": "<p>I have been using code that is verbatim to that in:\n<a href=\"https://www.r-bloggers.com/2022/10/how-to-create-a-ggalluvial-plot-in-r/\" rel=\"nofollow noreferrer\">https://www.r-bloggers.com/2022/10/how-to-create-a-ggalluvial-plot-in-r/</a>\nin order to produce an alluvial plot. While I can get the plot to appear:</p>\n<p><strong>My Code:</strong></p>\n<pre><code>    #install.packages(&quot;ggalluvial&quot;)\n    library(ggalluvial)\n\n    ggplot(data = Sankey_Table, aes(axis1 = source, axis2 = target, y = value)) +\n      geom_alluvium(aes(fill = source)) +\n      ggalluvial::geom_stratum(alpha = 0.5, na.rm = TRUE) +\n      geom_text(stat = &quot;stratum&quot;, aes(label = after_stat(stratum))) +\n      scale_x_discrete(limits = c(&quot;Source&quot;, &quot;Target&quot;),\n                       expand = c(0.15, 0.05)) +\n      theme_void() \n</code></pre>\n<p><strong>My Data:</strong></p>\n<pre><code>&gt; head(Sankey_Table)\n# A tibble: 6 \u00d7 5\n  source              target               value\n  &lt;chr&gt;               &lt;chr&gt;                &lt;dbl&gt;\n1 pre :: H0         post :: H0              31\n2 pre :: H0         post :: Hlow            11\n3 pre :: H0         post :: pCR             12\n4 pre :: H0         post :: NA               1\n5 pre :: Hlow       post :: H0              28\n6 pre :: Hlow       post :: Hlow            29\n</code></pre>\n<p>When I run the above code, I get this error message and the following image:</p>\n<pre><code>Warning messages:\n1: Computation failed in `stat_stratum()`:\nunused argument (na_rm = na_rm) \n2: Computation failed in `stat_stratum()`:\nunused argument (na_rm = na_rm) \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Y76is.png\" rel=\"nofollow noreferrer\">The output figure</a></p>\n<p>I have no idea why the labels are not appearing as they do on the reference website, using essentially the same code and a dataframe formatted the exact same way. I have been having some difficulty getting labels to appear with ggsankey as well using the geom_text function and have been at a loss as to what to do. I've tried re-installing the ggplot2 and alluvial packages, and changing around the argument order to just about every combination I can think of.</p>\n<p>Any help would be enormously appreciated.</p>\n<p>I am expecting something to the effect of:\n<a href=\"https://i.stack.imgur.com/srGtg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The above plot was generated using the exact same code (link is above).</p>\n"
	}, {
		"tags": ["r", "dplyr", "difference"],
		"owner": {
			"reputation": 109,
			"user_id": 9944194,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/a3102e974fd8adf86d5e51abcaf34f25?s=256&d=identicon&r=PG&f=1",
			"display_name": "h09812349",
			"link": "https://stackoverflow.com/users/9944194/h09812349"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"closed_date": 1676580624,
		"accepted_answer_id": 75476671,
		"answer_count": 1,
		"score": -1,
		"last_activity_date": 1676578359,
		"creation_date": 1676572930,
		"question_id": 75476613,
		"link": "https://stackoverflow.com/questions/75476613/calculate-difference-between-current-row-and-first-row-within-group",
		"closed_reason": "Duplicate",
		"title": "Calculate difference between current row and first row within group",
		"body": "<p>I would like to create a new column in my dataset that shows the difference in the values (column b in example dataset) between the current row and the first row within a group (column a in example dataset) in R. How would I go about doing this?</p>\n<pre><code>a&lt;-c(1,1,1,1,2,2,2,2)\nb&lt;-c(2,4,6,8,10,12,14,16)\n\nhave&lt;-as.data.frame(cbind(a,b))\n\n&gt; have\na  b\n1  2\n1  4\n1  6\n1  8\n2 10\n2 12\n2 14\n2 16\n\n&gt; want\na  b c\n1  2 0\n1  4 2\n1  6 4\n1  8 6\n2 10 0\n2 12 2\n2 14 4\n2 16 6\n</code></pre>\n"
	}, {
		"tags": ["r", "latex", "r-markdown", "pandoc"],
		"owner": {
			"reputation": 13,
			"user_id": 21229056,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp504Q60C7XIbAP0-QFZMXMpZVPM01jwm-LrqWmW=k-s256",
			"display_name": "Y. Huo",
			"link": "https://stackoverflow.com/users/21229056/y-huo"
		},
		"is_answered": true,
		"view_count": 35,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75477263,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676577647,
		"creation_date": 1676573822,
		"last_edit_date": 1676575963,
		"question_id": 75476761,
		"link": "https://stackoverflow.com/questions/75476761/how-to-change-code-output-background-colour-when-knitting-rmarkdown-to-pdf",
		"title": "How to change code output background colour when knitting rmarkdown to pdf?",
		"body": "<p>I'm preparing a pdf document with rmarkdown. I'd like to know whether there is a way to change the code output's background color, so that the output is more distinguishable from other texts.</p>\n<p>My current solution only changes the color of the code chunk itself. Thanks!</p>\n<pre><code>---\ntitle: &quot;Untitled&quot;\noutput: \n  pdf_document:\n    highlight: default\nheader-includes: \\usepackage{xcolor}\n---\n\n\\definecolor{shadecolor}{RGB}{225, 225, 225}\n\nPlain text.\n\n```{r}\na &lt;- c(1,2,3,4,5)\nb &lt;- c(1,2,3,4,5)\ndf &lt;- data.frame(a, b)\n\n# take a look at our data frame\ndf\n```\n\nPlain text.\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "flexdashboard", "shinywidgets"],
		"owner": {
			"reputation": 189,
			"user_id": 3249770,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "user3249770",
			"link": "https://stackoverflow.com/users/3249770/user3249770"
		},
		"is_answered": false,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676577454,
		"creation_date": 1676577454,
		"question_id": 75477298,
		"link": "https://stackoverflow.com/questions/75477298/shiny-flexdashboard-filters-after-data-is-loaded",
		"title": "Shiny flexdashboard filters after data is loaded",
		"body": "<p>I am creating a flexdashboard that has a sidebar with a <code>dateRangeInput()</code> and an <code>actionButton()</code>. Once the date selection has been made and the button has been clicked I am using <code>observeEvent()</code> to run a SQL query with the selected dates and then display a data table of the results. What I want to do is setup sidebar <code>pickerInput()</code> filters to filter the resulting table however since the data doesn't exist when the app loads this does not work. Is there a way to have the <code>pickerInput()</code> filters load after the data from the query is returned?</p>\n"
	}, {
		"tags": ["r", "vector", "sequence", "gmp"],
		"owner": {
			"reputation": 23,
			"user_id": 21228824,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4b3f1a55431bb136608943183abc4afc?s=256&d=identicon&r=PG",
			"display_name": "Pasdenom",
			"link": "https://stackoverflow.com/users/21228824/pasdenom"
		},
		"is_answered": true,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75476411,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676577454,
		"creation_date": 1676571202,
		"last_edit_date": 1676571630,
		"question_id": 75476344,
		"link": "https://stackoverflow.com/questions/75476344/create-a-sequence-from-big-power-numbers",
		"title": "Create a sequence from big power numbers",
		"body": "<p>I'm trying to create a sequence of integers from big numbers and couldn't find a way to suceed. Is there a way to do this ?</p>\n<p>I tried :</p>\n<p><code>(2^128):(2^128+3000)</code> which returns: <code>[1] 3.402824e+38</code></p>\n<p>So I tried to use the <code>gmp</code> library :</p>\n<pre><code>library(gmp)\nas.bigz(2^128):as.bigz(2^128+3000)\n</code></pre>\n<p>and got</p>\n<blockquote>\n<pre><code>messages: 1: In as.bigz(2^128):as.bigz(2^128 + 3000) :   numerical\nexpression has 32 elements: only the first used 2: In\nas.bigz(2^128):as.bigz(2^128 + 3000) :   numerical expression has 32\nelements: only the first used\n</code></pre>\n</blockquote>\n"
	}, {
		"tags": ["r", "data.table"],
		"owner": {
			"reputation": 11158,
			"user_id": 1552004,
			"user_type": "registered",
			"accept_rate": 84,
			"profile_image": "https://i.stack.imgur.com/8Wmgh.png?s=256&g=1",
			"display_name": "Dan",
			"link": "https://stackoverflow.com/users/1552004/dan"
		},
		"is_answered": false,
		"view_count": 34,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"closed_date": 1676576908,
		"answer_count": 0,
		"score": 2,
		"last_activity_date": 1676576650,
		"creation_date": 1676576428,
		"question_id": 75477154,
		"link": "https://stackoverflow.com/questions/75477154/data-table-retains-previous-column-data-type-when-replaced-with-a-vector-of-leng",
		"closed_reason": "Duplicate",
		"title": "data.table retains previous column data type when replaced with a vector of length 1",
		"body": "<p>I have a data table with one column of characters.</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(data.table)\n\ndt &lt;- data.table(a = letters[1:10])\ndt\n#     a\n# 1:  a\n# 2:  b\n# 3:  c\n# 4:  d\n# 5:  e\n# 6:  f\n# 7:  g\n# 8:  h\n# 9:  i\n# 10: j\n</code></pre>\n<p>I want to replace this with integers and do so like this:</p>\n<pre class=\"lang-r prettyprint-override\"><code>dt[, a := 1:10]\ndt\n#     a\n# 1:  1\n# 2:  2\n# 3:  3\n# 4:  4\n# 5:  5\n# 6:  6\n# 7:  7\n# 8:  8\n# 9:  9\n# 10: 10\n\nclass(dt$a)\n# [1] &quot;integer&quot;\n</code></pre>\n<p>I now have a column of integers. Great!</p>\n<hr />\n<p>But say I want to do this with a single integer.</p>\n<pre class=\"lang-r prettyprint-override\"><code>dt &lt;- data.table(a = letters[1:10])\ndt\n#     a\n# 1:  a\n# 2:  b\n# 3:  c\n# 4:  d\n# 5:  e\n# 6:  f\n# 7:  g\n# 8:  h\n# 9:  i\n# 10: j\n\ndt[, a := 42]\ndt\n#      a\n# 1:  42\n# 2:  42\n# 3:  42\n# 4:  42\n# 5:  42\n# 6:  42\n# 7:  42\n# 8:  42\n# 9:  42\n# 10: 42\nclass(dt$a)\n# [1] &quot;character&quot;\n</code></pre>\n<p>Why does the column retain the original data type of the column?</p>\n<p>I realise that I can use <code>rep(42, 10)</code> to workaround the issue, but I want to understand <em>why</em> the issue exists in the first place. Is this a bug or a feature?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 33,
			"user_id": 7113144,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c047f775711c97af205a532e673d9d56?s=256&d=identicon&r=PG&f=1",
			"display_name": "desig_nate",
			"link": "https://stackoverflow.com/users/7113144/desig-nate"
		},
		"is_answered": true,
		"view_count": 737,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676576280,
		"creation_date": 1481584884,
		"question_id": 41111326,
		"link": "https://stackoverflow.com/questions/41111326/extracting-information-from-ictab-function-of-bbmle",
		"title": "Extracting information from ICtab() function of bbmle",
		"body": "<p>I'm having some trouble extracting information from the <em>ICtab()</em> function of the <strong><em>bbmle</em></strong> package. Essentially what I'm trying to do is run this function on a series of glm models, then add that output to a master data.frame object. However, while I can extract the $dqAIC and $df parameters from the <em>ICtab()</em> output, I cannot figure out a way to extract the row names themselves (i.e. the names of the models that are being input into ICtab). This is an issue because the <em>ICtab()</em> output is ordered in ascending order of $dqAIC - as such, I cannot pre-label a list or data.frame or matrix with the correct order, as the resulting $dqAIC values are not known ahead of time. To compound the problem, the <em>ICtab()</em> object class does not seem to be able to be coerced into a data.frame or any other object where I might be able to extract row.names() or anything similar.</p>\n\n<p>What I'm looking for is a way to extract all the information from the <em>ICtab()</em> function, as a whole or in 3 pieces (row names, dqAIC values, and df values), and then append it to a master table along with some other information.</p>\n\n<p>Below is a sample of the code I'm trying, along with some test data.</p>\n\n<pre><code>library(bbmle)\nlibrary(visreg)\nlibrary(splines)\nlibrary(foreign)\nlibrary(survival)\nlibrary(lubridate)\n\ndfun&lt;- function(object) {with(object, sum((weights*residuals^2)[weights&gt;0])/df.residual)}  \n\ntest.data.1 &lt;- seq(1, 1000, by = 10)\nnum.days &lt;- seq(1, 100, by = 1)\n\ndisp.global &lt;- glm(test.data.1 ~ num.days, family=poisson(link=\"log\"), na.action=na.exclude)\n\nmodel.1 &lt;- glm(test.data.1 ~ ns(num.days, df = 3), family=poisson(link=\"log\"), na.action=na.exclude)\nmodel.2 &lt;- glm(test.data.1 ~ ns(num.days, df = 6), family=poisson(link=\"log\"), na.action=na.exclude)\n\ntestIC &lt;- ICtab(model.1, model.2, dispersion=dfun(disp.global),type=\"qAIC\")\n</code></pre>\n\n<p>Which gives the result:</p>\n\n<pre><code>&gt; testIC\n        dqAIC df\nmodel.2 0     7 \nmodel.1 5     4 \n</code></pre>\n\n<p>I can pull the dqAIC and df values:</p>\n\n<pre><code>&gt; testIC$dqAIC\n[1] 0.000000 5.018875\n&gt; testIC$df\n[1] 7 4\n</code></pre>\n\n<p>But I cannot figure out a way to get the \"model.2\" and \"model.1\" row names; <em>row.names(testIC)</em> returns nothing, and <em>rownames(testIC)</em> simply returns a NULL:</p>\n\n<pre><code>&gt; row.names(testIC)\n&gt; rownames(testIC)\nNULL\n</code></pre>\n\n<p>And as far as I can tell, there is no way to change this output using <em>list()</em>, <em>as.data.frame()</em>, <em>data.frame()</em>, or any other object type to get these row names. </p>\n\n<pre><code>&gt; as.data.frame(testIC)\nError in as.data.frame.default(testIC) : \n  cannot coerce class \"\"ICtab\"\" to a data.frame\n</code></pre>\n\n<p>As a side note, in the <a href=\"https://cran.r-project.org/web/packages/bbmle/bbmle.pdf\" rel=\"nofollow noreferrer\">documentation</a> for the <strong><em>bbmle</em></strong> package, there appears to be a function called <em>get.mnames()</em> that should do exactly this - list the model names - however, it does not appear to be included in the <strong><em>bbmle</em></strong> package that is installed (my version matches the version of the documentation, 1.0.18):</p>\n\n<pre><code>&gt; ls(\"package:bbmle\")\n [1] \"AIC\"          \"AICc\"         \"AICctab\"      \"AICtab\"       \"anova\"        \"BICtab\"       \"call.to.char\" \"coef\"         \"confint\"      \"deviance\"    \n[11] \"formula\"      \"ICtab\"        \"logLik\"       \"mle2\"         \"namedrop\"     \"parnames\"     \"parnames&lt;-\"   \"plot\"         \"predict\"      \"profile\"     \n[21] \"qAIC\"         \"qAICc\"        \"relist2\"      \"residuals\"    \"sbeta\"        \"sbetabinom\"   \"sbinom\"       \"simulate\"     \"slice\"        \"slice1D\"     \n[31] \"slice2D\"      \"sliceOld\"     \"snbinom\"      \"snorm\"        \"spois\"        \"stdEr\"        \"summary\"      \"update\"       \"vcov\"\n</code></pre>\n\n<p>Any help getting these row names out of the ICtab() result would be greatly appreciated. The above code is simply a sample - what I'm actually doing is running multiple models, with a series of datasets, through the ICtab() function, and I want to put all of that information together in one data.frame object as the result.</p>\n\n<p>Thanks in advance,</p>\n\n<p>Nate</p>\n"
	}, {
		"tags": ["r", "graph", "dataset"],
		"owner": {
			"reputation": 27,
			"user_id": 12607149,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/137781fbf867bacaa72fd8213c4d6d87?s=256&d=identicon&r=PG&f=1",
			"display_name": "A_Pumpkin",
			"link": "https://stackoverflow.com/users/12607149/a-pumpkin"
		},
		"is_answered": true,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676576203,
		"creation_date": 1670235974,
		"question_id": 74686660,
		"link": "https://stackoverflow.com/questions/74686660/is-the-relative-neighborhood-graph-of-the-cccd-library-of-r-working-properly-or",
		"title": "Is the relative neighborhood graph of the cccd library of R working properly or am I doing something wrong?",
		"body": "<p>I have loaded a 2D dataset and I wanted to try some graph-based clustering algorithms, however the relative neighborhood graph I get seems to be missing a lot of edges. Here is the result I get, and you can tell visually that vertices that should be connected with an edge are not. Is the cccd library working correctly or am I doing something wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/Ca2Zp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ca2Zp.png\" alt=\"relative neighborhood graph of my dataset\" /></a></p>\n<p>Here's the code I used:</p>\n<pre><code>g &lt;- rng(x = dataset1)\nplot.igraph(g, vertex.size = 2, vertex.label = NA)\n</code></pre>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 61,
			"user_id": 19389199,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c66f9456a0f9ea8e7e541580d1611945?s=256&d=identicon&r=PG",
			"display_name": "19056530",
			"link": "https://stackoverflow.com/users/19389199/19056530"
		},
		"is_answered": true,
		"view_count": 42,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75472412,
		"answer_count": 3,
		"score": 1,
		"last_activity_date": 1676575915,
		"creation_date": 1676550699,
		"last_edit_date": 1676551525,
		"question_id": 75472311,
		"link": "https://stackoverflow.com/questions/75472311/how-to-replace-repeated-measurements-with-the-mean-excluding-the-first-measurem",
		"title": "How to replace repeated measurements with the mean, excluding the first measurement in R",
		"body": "<p>I can't seem to find any previous similar questions.</p>\n<p>Here is my data:</p>\n<p><a href=\"https://i.stack.imgur.com/yNG0I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNG0I.png\" alt=\"DF1\" /></a></p>\n<pre><code>ID &lt;- c(3,3,3,3,3,3,5,5,5,5)\nMeasurement &lt;- c(2, 2, 2, 2, 2, 19, 6, 6, 6, 7)\nBP &lt;- c(14, 14, 15, 16, 14, 13, 14, 17, 18, 20)\nBP2 &lt;- c(7, 7, 8, 9, 10, 11, 14, 7, 8, 9)\nDF1 &lt;- data.frame(ID, Measurement, BP, BP2)\n</code></pre>\n<p>For cases where there are multiple measurements per ID, I would like to remove the first instance, and then find the mean of the remaining associated BPs and BP2s for that measurement.</p>\n<p>This is what I would like the data to look like:</p>\n<p><a href=\"https://i.stack.imgur.com/eVUf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVUf2.png\" alt=\"DF2\" /></a></p>\n<p>I hope that makes sense, any help greatly appreciated!</p>\n"
	}, {
		"tags": ["r", "csv"],
		"owner": {
			"reputation": 107,
			"user_id": 10405131,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/1918722055096447/picture?type=large",
			"display_name": "Daniel Isaac Chavez",
			"link": "https://stackoverflow.com/users/10405131/daniel-isaac-chavez"
		},
		"is_answered": true,
		"view_count": 48,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676575269,
		"creation_date": 1676425358,
		"last_edit_date": 1676575269,
		"question_id": 75454792,
		"link": "https://stackoverflow.com/questions/75454792/loading-a-csv-file-to-r",
		"title": "loading a .csv file to R",
		"body": "<p>I am learning R but I am stuck in loading my own dataset into R. So far, the code that I have is the following. The dataset (.csv) is located in my desktop.</p>\n<pre><code>Data500 &lt;- read.csv(&quot;sp500.csv&quot;, header = TRUE)\n</code></pre>\n<p>I get this error message in the console.</p>\n<blockquote>\n<p>Error in file(file, &quot;rt&quot;) : cannot open the connection\nIn addition: Warning message:\nIn file(file, &quot;rt&quot;) :\ncannot open file 'sp500.csv': No such file or directory</p>\n</blockquote>\n"
	}, {
		"tags": ["r", "shiny", "dt"],
		"owner": {
			"reputation": 1364,
			"user_id": 6434448,
			"user_type": "registered",
			"accept_rate": 43,
			"profile_image": "https://i.stack.imgur.com/0GtcL.png?s=256&g=1",
			"display_name": "tricky",
			"link": "https://stackoverflow.com/users/6434448/tricky"
		},
		"is_answered": true,
		"view_count": 2926,
		"down_vote_count": 0,
		"up_vote_count": 7,
		"accepted_answer_id": 38265385,
		"answer_count": 1,
		"score": 7,
		"last_activity_date": 1676575265,
		"creation_date": 1467972210,
		"last_edit_date": 1676575265,
		"question_id": 38263925,
		"link": "https://stackoverflow.com/questions/38263925/gradient-colored-datatable-rows-in-r-shiny",
		"title": "Gradient colored datatable rows in R Shiny",
		"body": "<p>In R's Shiny, can I make something like this\n<a href=\"https://rstudio.github.io/DT/010-style.html\" rel=\"nofollow noreferrer\">example</a>, but where negative values are given a different color, and plotted using their absolute value for bar length?</p>\n<pre><code># using styleColorBar\ndatatable(df) %&gt;% formatStyle(names(df),\n  background = styleColorBar(range(df), 'lightblue'),\n  backgroundSize = '98% 88%',\n  backgroundRepeat = 'no-repeat',\n  backgroundPosition = 'center')\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EAX98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAX98.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "machine-learning", "visualization", "random-forest"],
		"owner": {
			"reputation": 1,
			"user_id": 15561931,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/234c0218a1ae038b04676eb477e8e61b?s=256&d=identicon&r=PG&f=1",
			"display_name": "JustWantToBeHappy",
			"link": "https://stackoverflow.com/users/15561931/justwanttobehappy"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676575234,
		"creation_date": 1676513612,
		"last_edit_date": 1676575234,
		"question_id": 75467187,
		"link": "https://stackoverflow.com/questions/75467187/using-r-to-compute-variable-importance-plot-for-random-forest",
		"title": "Using R to Compute Variable Importance Plot for Random Forest",
		"body": "<p>I used R to compute variable importance plot for random forest model. When I looked at the mean decrease in Gini plot, I was confused by the number on the x axis. Why are the numbers so large? I thought they were supposed to represent percentage of decrease. My model ran normally, and I used the below code to create the plot:</p>\n<p>Variable Importance Plot</p>\n<p><a href=\"https://i.stack.imgur.com/ew5h6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ew5h6.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried the following code:</p>\n<pre><code>Plot &lt;- importance(rf_best_model, scale=T)\nvarImp.rf =dotchart(sort(Plot[,4]), xlim=c(0,10000), xlab=&quot;MeanDecreaseGini&quot;)\nvarImp\n</code></pre>\n"
	}, {
		"tags": ["r", "web-scraping", "rvest"],
		"owner": {
			"reputation": 1,
			"user_id": 20132009,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/43eacf03747451648c0d315f7477fd3a?s=256&d=identicon&r=PG",
			"display_name": "alvaro49",
			"link": "https://stackoverflow.com/users/20132009/alvaro49"
		},
		"is_answered": false,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676575175,
		"creation_date": 1676490848,
		"last_edit_date": 1676575175,
		"question_id": 75464831,
		"link": "https://stackoverflow.com/questions/75464831/formatting-for-loop-for-web-scraping-with-r",
		"title": "Formatting for loop for web scraping with R",
		"body": "<p>I am creating a scrape of the journal al-rai. I'm running into an issue with scraping through multiple pages on an &quot;issue&quot; page, a page where a list of articles are presented. I have to iterate two things through the issue page: 1) I need to iterate through each article in the page. 2) I need to open pages that are not listed. On the webpage there is an element that tells me what's the max pages there. (for example, the element might say pages 1-5). So I need to ensure that I go through all 5 of those pages and scrape from all 10 of the articles of each one. Below is my code that worked to produce a df for one issue page.</p>\n<p>I mostly need help figuring out the formatting of the loop and where to put the link object so that it works for both loops. I need to scrape the elements for the max page number, but I can't do that without the link. I also don't have a complete link without including the max page number, so do I just make two different link objects?</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(tidyverse)\nlibrary(rvest)\nlibrary(xml2)\nlibrary(dplyr)\n\nget_AR = function(article_link) {\n  article_page = read_html(article_link)\n  text_AR = article_page %&gt;%\n    html_elements(&quot;.size-20&quot;) %&gt;%\n    html_text2() %&gt;%\n    paste(collapse = &quot;,&quot;)\n  return(text_AR)\n  }\n\nget_title = function(article_link){\n  article_page = read_html(article_link)\n  text_title = article_page %&gt;% html_elements(&quot;.size-32&quot;) %&gt;%\n    html_text2() %&gt;% paste(collapse = &quot;,&quot;)}\n\nget_date = function(article_link){\n  article_page = read_html(article_link)\n  text_date = article_page %&gt;% html_elements(&quot;.mr-l15&quot;) %&gt;%\n    html_text2() %&gt;% paste(collapse = &quot;,&quot;)}\n\nreadlink &lt;- read_html(link)\n\narticle_links &lt;- readlink %&gt;%\n  html_elements(&quot;.font-700&quot;) %&gt;%\n  html_attr(&quot;href&quot;)\n\nlink_title &lt;- readlink %&gt;%\n  html_elements(&quot;.font-700&quot;) %&gt;%\n  html_text2()\n\nlink_date &lt;- readlink %&gt;%\n  html_elements(&quot;.size-13&quot;)%&gt;%\n  html_text2()\n\nlink_pagesummary &lt;- readlink %&gt;%\n  html_elements(&quot;.size-14&quot;) %&gt;%\n  html_text2()\n\n\ndays = seq(from=as.Date('2004-09-21'), to= as.Date(&quot;2004-09-24&quot;), \n           by = 'days')\n\nfor (i in seq_along(days)){\n\n    for (pagenumber in seq(from = 1, to = 10, by = 1)){\n\n        link = paste0(&quot;https://alrai.com/search?date-from=&quot;, (days[i]), \n                &quot;&amp;pgno=&quot;, pagenumber)\n    }\n\n}\n\ntext_AR &lt;- sapply(article_links, FUN = get_AR, USE.NAMES = FALSE)\n\ntext_date &lt;- sapply(article_links, FUN = get_date, USE.NAMES = FALSE)\n\ntext_title &lt;- sapply(article_links, FUN = get_title, USE.NAMES = FALSE)\n\nalrai  &lt;- data.frame(article_links, text_title, text_date, text_AR, \n                     link_date, link_title, link_pagesummary)\nView(alrai)\n</code></pre>\n<p><strong>My updated scrape combines the first 3 functions I defined into one, but that is largely unrelated. I need figure out the formating for the pagenumber and link objects.</strong></p>\n<pre class=\"lang-r prettyprint-override\"><code>get_AR_date_title &lt;- function(article_link) {\n    \n    article_page &lt;- read_html(article_link)\n\n\n    text_AR = article_page %&gt;%\n        html_elements(&quot;.size-20&quot;) %&gt;%\n        html_text2() %&gt;%\n        paste(collapse = &quot;,&quot;)\n\n    text_title &lt;- article_page %&gt;% html_elements(&quot;.size-32&quot;) %&gt;%\n        html_text2() %&gt;% paste(collapse = &quot;,&quot;)\n\n    text_date &lt;- article_page %&gt;% html_elements(&quot;.mr-l15&quot;) %&gt;%\n        html_text2() %&gt;% paste(collapse = &quot;,&quot;)\n\n    textdf &lt;- data.frame(text_AR, text_title, text_date) \n    return(textdf)\n}\n\ndays = seq(from=as.Date('2004-09-21'), to= as.Date(&quot;2004-09-24&quot;), \n           by = 'days')\n\nfor (i in seq_along(days)){\n    ## First, get the link for a given &quot;issue&quot; page (a page with all the\n    ## articles for a given day)\n    \n  link = paste0(&quot;https://alrai.com/search?date-from=&quot;, days[i], &quot;&amp;pgno=, \n                pagenumber)\n\n  readlink &lt;- read_html(link)\n  link_maxpagenumbers_full &lt;- readlink %&gt;%\n    html_elements(&quot;.roboto-b&quot;) %&gt;%\n    html_text2()\n  link_maxpagenumbers_cut &lt;- str_extract_all(link_maxpagenumbers_full, \n                                '\\\\d{1,3}')\n\n    for (pagenumber in seq(from = 1, to = link_maxpagenumbers_cut[[1]][2], \n           by = 1)){  \n      readlink &lt;- read_html(link)\n      \n      article_links &lt;- readlink %&gt;%\n        html_elements(&quot;.font-700&quot;) %&gt;%\n        html_attr(&quot;href&quot;)\n      \n      link_title &lt;- readlink %&gt;%\n        html_elements(&quot;.font-700&quot;) %&gt;%\n        html_text2()\n\n      link_date &lt;- readlink %&gt;%\n        html_elements(&quot;.size-13&quot;)%&gt;%\n        html_text2()\n      \n      link_pagesummary &lt;- readlink %&gt;%\n        html_elements(&quot;.size-14&quot;) %&gt;%\n        html_text2()\n    \n      link_df &lt;- data.frame(link_title, link_date, link_pagesummary)\n\n    }\n\n}\n\nalrai  &lt;- data.frame(article_links, link_date, link_title, link_pagesummary)\nalrai_full &lt;- rbind(alrai, textdf)\n\nlink_maxpagenumbers_cut &lt;- str_extract_all(link_maxpagenumbers_full, \n                             '\\\\d{1,3}')\nlink_maxpagenumbers_cut[[1]][2]\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 589,
			"user_id": 18338223,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/7c6e0f3c44be852915da70975bdb9dd7?s=256&d=identicon&r=PG",
			"display_name": "Joe",
			"link": "https://stackoverflow.com/users/18338223/joe"
		},
		"is_answered": true,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75474519,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676574846,
		"creation_date": 1676561333,
		"question_id": 75474455,
		"link": "https://stackoverflow.com/questions/75474455/unlist-dataframes-but-also-keep-the-original",
		"title": "Unlist dataframes but also keep the original",
		"body": "<p>I have the following data which i wish to unlist to make a new dataframe, probably easier here if i show show what im looking for; so i currently have names and codes like this;</p>\n<pre><code>name                          code\njoe blogs/john williams       100000/100001\n</code></pre>\n<p>what i want:</p>\n<pre><code>name                          code\njoe blogs                     1000000\njohn williams                 1000001\njoe blogs/john williams       100000/100001\n</code></pre>\n<p>so im unlisting the original but also keeping it whilst making a new df</p>\n"
	}, {
		"tags": ["r", "dataframe"],
		"owner": {
			"reputation": 3,
			"user_id": 21181103,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7WT883UlkCqT0vcr-1T9PV-K7Z4NyhrDtbuTun=k-s256",
			"display_name": "Alejandro Rivera",
			"link": "https://stackoverflow.com/users/21181103/alejandro-rivera"
		},
		"is_answered": false,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676574612,
		"creation_date": 1676571453,
		"last_edit_date": 1676574612,
		"question_id": 75476380,
		"link": "https://stackoverflow.com/questions/75476380/create-dataframe-or-variables-with-combinations-of-other-variables",
		"title": "Create DataFrame or variables with combinations of other variables",
		"body": "<p>I have this example data store in variables (&quot;data_type1*&quot;,&quot;*data_type2&quot;,...) or a single DataFrame:</p>\n<pre><code>csv &lt;- list(data_type1 = structure(list(Type = c(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, \n&quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, \n&quot;1&quot;, &quot;1&quot;), Species_Name = c(&quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, \n&quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, \n&quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, \n&quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, &quot;Cerulean+&quot;, \n&quot;Cerulean+&quot;), X.micron. = c(903.59, 1136.7, 559.53, 921.69, 1098.8, \n435.11, 296.62, 89.74, 1013.8, 865.01, 879.5, 835.4, 1035.1, \n896.13, 377.66, 929.17, 1119.9, 608.22, 1133.6), Y.micron. = c(715, \n795.88, 759.29, 35.87, 530.01, 905.22, 363.17, 773.4, 716.84, \n746.88, 768.9, 540.12, 140.22, 839.33, 845.79, 758.91, 1025.8, \n604.25, 806.34)), class = &quot;data.frame&quot;, row.names = c(NA, -19L\n)), data_type2 = structure(list(Type = c(&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, \n&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, \n&quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;, &quot;2&quot;), Species_Name = c(&quot;Cherry+&quot;, &quot;Cherry+&quot;, \n&quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, \n&quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, \n&quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, &quot;Cherry+&quot;, \n&quot;Cherry+&quot;, &quot;Cherry+&quot;), X.micron. = c(490.07, 766.81, 797.73, \n842.87, 58.05, 568.52, 846.38, 797.08, 768.6, 171.05, 844.6, \n827.65, 437.42, 346.92, 291.71, 1053, 351.06, 501.02, 142.71, \n754.16, 710.78, 663.39), Y.micron. = c(360.15, 696.3, 787.09, \n1096.4, 786.82, 802.73, 619.48, 1079.3, 561.24, 682.11, 1086.9, \n466.11, 13.01, 839.55, 600.19, 548.48, 809.79, 37.7, 697.62, \n179.86, 384.97, 750.37)), class = &quot;data.frame&quot;, row.names = c(NA, \n-22L)), data_type3 = structure(list(Type = c(&quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, \n&quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;, &quot;3&quot;), Species_Name = c(&quot;GFP+&quot;, \n&quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, \n&quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;, &quot;GFP+&quot;), X.micron. = c(60.85, \n187.03, 405.63, 995.68, 788.17, 403.23, 507.68, 559.53, 172.36, \n921.69, 673.6, 861.81, 256.96, 1098.8, 435.11), Y.micron. = c(45.17, \n699.99, 864.51, 1153, 1085.9, 758.15, 909.63, 759.29, 517.66, \n35.87, 44.52, 527.6, 839.18, 530.01, 905.22)), class = &quot;data.frame&quot;, row.names = c(NA, \n-15L)))\n</code></pre>\n<p>As you can see it contains info about spatial position of some cell species.</p>\n<p>I would like to create new variables or DataFrame by matching &quot;X.micron&quot; and &quot;Y.micron&quot; values of all possible combinations, like this:</p>\n<pre><code>species &lt;- c(&quot;Cerulean+&quot;,&quot;Cherry+&quot;,&quot;GFP+&quot;)\ncombinations &lt;- do.call(&quot;c&quot;, lapply(seq_along(species), function(i) combn(species, i, FUN = list))) \ncombinations &lt;- sapply(combinations, paste, collapse=&quot;&quot;)\n</code></pre>\n<pre><code>&gt; dput(combinations)\nc(&quot;Cerulean+&quot;, &quot;Cherry+&quot;, &quot;GFP+&quot;, &quot;Cerulean+Cherry+&quot;, &quot;Cerulean+GFP+&quot;, \n&quot;Cherry+GFP+&quot;, &quot;Cerulean+Cherry+GFP+&quot;)\n</code></pre>\n<h1>What I try:</h1>\n<p>I've got the next code:</p>\n<pre><code>counter &lt;- length(csv)\ncomb &lt;- data.frame(combn(1:length(csv), 2))\nnames(comb) &lt;- apply(comb,2, function(x){\n  counter &lt;&lt;- counter + 1\n  c(paste0(&quot;data_type&quot;,counter))\n  })\n\ncounter &lt;- length(csv)\ndf &lt;- apply(comb,2, function(x){\n  counter &lt;&lt;- counter + 1\n  res &lt;- merge(csv[[x[1]]], csv[[x[2]]], c(&quot;X.micron.&quot;, &quot;Y.micron.&quot;))\n  cbind(ID = counter, \n        Name = paste0(res$Species_Name.x, res$Species_Name.y), \n        res[, c(&quot;X.micron.&quot;, &quot;Y.micron.&quot;)])})\n</code></pre>\n<p>And the output:</p>\n<pre><code>list(data_type4 = structure(list(ID = c(4, 4), Name = c(&quot;Cerulean+Cherry+&quot;, \n&quot;Cerulean+Cherry+&quot;), X.micron. = c(270.37, 377.66), Y.micron. = c(944.59, \n845.79)), class = &quot;data.frame&quot;, row.names = c(NA, -2L)), data_type5 = structure(list(\n    ID = c(5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, \n    5, 5, 5, 5, 5, 5), Name = c(&quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, \n    &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, \n    &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, \n    &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, \n    &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, \n    &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, &quot;Cerulean+GFP+&quot;, \n    &quot;Cerulean+GFP+&quot;), X.micron. = c(1013.8, 1035.1, 1038.5, 1066.3, \n    1098.8, 1119.9, 113.76, 193.61, 267.26, 270.37, 377.66, 400.89, \n    435.11, 559.53, 608.22, 680.6, 722.9, 861.57, 879.5, 89.74, \n    896.13, 921.69, 929.17), Y.micron. = c(716.84, 140.22, 133.05, \n    1001.6, 530.01, 1025.8, 588.05, 1018.3, 195.9, 944.59, 845.79, \n    1137.2, 905.22, 759.29, 604.25, 756.84, 786.59, 693.72, 768.9, \n    773.4, 839.33, 35.87, 758.91)), class = &quot;data.frame&quot;, row.names = c(NA, \n-23L)), data_type6 = structure(list(ID = c(6, 6, 6, 6, 6, 6, \n6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6), Name = c(&quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, \n&quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, \n&quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, \n&quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;, &quot;Cherry+GFP+&quot;\n), X.micron. = c(1046.1, 1048.5, 142.71, 151.5, 263.6, 270.37, \n351.06, 377.66, 382.66, 568.52, 663.39, 797.08, 81.35, 893, 912.42, \n98.83, 985.96), Y.micron. = c(1154.7, 1136.6, 697.62, 656.57, \n815.17, 944.59, 809.79, 845.79, 852.37, 802.73, 750.37, 1079.3, \n745.71, 1112.3, 1144.5, 704.17, 1114)), class = &quot;data.frame&quot;, row.names = c(NA, \n-17L)))\n</code></pre>\n<h1>What I wolud like to have:</h1>\n<p>Get higher combinations, in this case: <code>&quot;Cerulean+Cherry+GFP+&quot;</code>.</p>\n<p>Please, note that the first DataFrame could have random number of lists instead of 3.</p>\n<p>Thanks in advance.</p>\n"
	}, {
		"tags": ["r", "count", "aggregate", "matching", "exact-match"],
		"owner": {
			"reputation": 21,
			"user_id": 21229068,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7A9EaOFgySz4VyNxwOZokQSvSrj88OqmMuKkaD=k-s256",
			"display_name": "Tanya",
			"link": "https://stackoverflow.com/users/21229068/tanya"
		},
		"is_answered": true,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 3,
		"score": 2,
		"last_activity_date": 1676574542,
		"creation_date": 1676573183,
		"last_edit_date": 1676573292,
		"question_id": 75476660,
		"link": "https://stackoverflow.com/questions/75476660/how-to-count-exact-matches-across-two-data-frames-within-ids-in-r",
		"title": "How to count exact matches across two data frames within IDs in R",
		"body": "<p>I have two datasets similar to the one below (but with 4m observations) and I want to count the number of matching sample days between the two data frames (see example below).</p>\n<pre><code>DF1                   \nID   date             \n1    1992-10-15       \n1    2010-02-17\n2    2019-09-17\n2    2015-08-18\n3    2020-10-27\n3    2020-12-23\n\nDF2 \nID   date\n1    1992-10-15\n1    2001-04-25\n1    2010-02-17\n3    1990-06-22\n3    2014-08-18\n3    2020-10-27\n\nExpected output \nID   Count\n1    2\n2    0\n3    1\n</code></pre>\n<p>I have tried the aggregate function (though unsure what to put in &quot;which&quot;:</p>\n<pre><code>test &lt;- aggregate(date~ID, rbind(DF1, DF2), length(which(exact?)))\n</code></pre>\n<p>and the table function:</p>\n<pre><code>Y&lt;-table(DF1$ID)\n    X &lt;- table(DF2$ID)\n    Y2 &lt;- DF1[Y %in% X,]\n</code></pre>\n<p>I am having trouble finding an example to help my situation.</p>\n<p>Your help is appreciated!</p>\n"
	}, {
		"tags": ["r", "datetime", "data-conversion", "radians"],
		"owner": {
			"reputation": 122,
			"user_id": 9053793,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d774b6f7a63757ed9b1eb2ca048f8a07?s=256&d=identicon&r=PG&f=1",
			"display_name": "DiveFreedom",
			"link": "https://stackoverflow.com/users/9053793/divefreedom"
		},
		"is_answered": true,
		"view_count": 965,
		"down_vote_count": 1,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676574481,
		"creation_date": 1555586629,
		"question_id": 55744974,
		"link": "https://stackoverflow.com/questions/55744974/how-to-convert-time-of-day-into-radians-with-0-2pi-sunrise-and-pi-sunset",
		"title": "How to convert time of day into radians with 0/2Pi = sunrise and Pi=sunset?",
		"body": "<p>I have a big dataset (continuous across months), and I need to perform circular statistics  to assess a potential effect of diel cycles. </p>\n\n<p>For this, I converted all cyclic data into radians. I need now to do the same with the time of the day. The problem that I am facing is the following:\nI do not want 0/2Pi to correspond to 0h/24h and Pi to noon. I need my data to be standardised, considering that sunrise/sunset time varies through the year. </p>\n\n<p>Instead, I would need to set 0/2Pi to be sunrise and Pi to be sunset times. I've been looking everywhere and couldn't find any solution. A scientific paper uses this method, I contacted one of the authors but no answer so far. Here is a sentence from the paper:</p>\n\n<p><em>\"To standardise daylight, radian values were calculated. The values 0 and 2Pi represent dawn, while Pi represents dusk.\"</em> Zein <em>et al</em>., 2019</p>\n\n<p>I should mentioned that I am a marine biologist, working on cetaceans. I do not have any mathematical background. And I code in R. I accessed sunset/sunrise times for everyday of my dataset using sunriset() from the Maptools package. </p>\n\n<p>Thank you very much in advance.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1,
			"user_id": 21228908,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/4a076482e4afaf45f70029ed39b02c87?s=256&d=identicon&r=PG",
			"display_name": "HernanSL",
			"link": "https://stackoverflow.com/users/21228908/hernansl"
		},
		"is_answered": false,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676574037,
		"creation_date": 1676573794,
		"last_edit_date": 1676574037,
		"question_id": 75476759,
		"link": "https://stackoverflow.com/questions/75476759/ggplot-error-in-if-nodetag-span-after-trying-to-split-a-faceted-plot-ove",
		"title": "ggplot error in if (node$tag == &quot;span&quot;) after trying to split a faceted plot over multiple pages",
		"body": "<p>My dataset includes the variable &quot;annual_TRW&quot; measured over different &quot;survey_year&quot;, with 5 &quot;Sample_Core_ID&quot; within each &quot;block&quot; nested within each &quot;experiment&quot;.\nThe following code was working to plot all samples for a plot subset.</p>\n<pre><code>pdf(&quot;plots.pdf&quot;)\nlibrary(ggplot2)\n\ndataset %&gt;% filter(plot  == 1) %&gt;%\n  group_by(site, Sample_Core_ID )\n  group_by(site, block, Sample ) %&gt;%\n  ggplot(., aes(x = survey_year, y = annual_TRW, colour = Sample_Core_ID)) +\n  geom_line() +\n  facet_grid(Sample_Core_ID ~ .)\n\ndev.off()\n</code></pre>\n<p>Then, I was trying to split a faceted plot over multiple pages, with each page including the faceted plots (1 column, 5 rows) corresponding to the samples of each block. I was testing using different different functions <code>ggplus::facet_multiple</code>, <code>gridExtra::marrangeGrob</code>, and <code>ggforce::facet_wrap_paginate</code>, but without success i.e. pdf were created empty.</p>\n<p>The problem is that, after trying different options, now I get the following error every time that I try to use any ggplot on the same dataset. Now, I dont manage to plot the code that worked before without giving this error.</p>\n<pre><code>Error in if (node$tag == &quot;span&quot;) { : argument is of length zero\n</code></pre>\n<p>Question 1: How can I solve this error every time I try to use this ggplot?\nQuestion 2: Once this works again, how can I split the faceted plot over multiple pages as explained before?</p>\n<p>Thanks a lot in advance!</p>\n<p>I tried re-running the entire code, and re-calling the packages, but it doesnt work.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21167244,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/414022410bb7118b12710f82a82eb7dc?s=256&d=identicon&r=PG",
			"display_name": "SAAD",
			"link": "https://stackoverflow.com/users/21167244/saad"
		},
		"is_answered": false,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676472563,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676573860,
		"creation_date": 1676472405,
		"last_edit_date": 1676573860,
		"question_id": 75461496,
		"link": "https://stackoverflow.com/questions/75461496/issue-installing-rgtk2-package-for-r-data-miner",
		"closed_reason": "Duplicate",
		"title": "Issue Installing &quot;RGtk2&quot; Package for R Data Miner",
		"body": "<p>After running rattle(), the following pops up:</p>\n<pre><code>Error in rattle() : \nThe RGtk2 package is not available but is required. \nPlease install the package using, for example: \n\n  install.packages(&quot;RGtk2&quot;)\n</code></pre>\n<p>After running the above install command, the following pops up:</p>\n<pre><code>Warning in install.packages :\n  package \u2018RGtk2\u2019 is not available for this version of R\n\nA version of this package for your version of R might be available elsewhere,\nsee the ideas at\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages\n</code></pre>\n<p>Then</p>\n<pre><code>install_github(&quot;cran/RGtk2&quot;)\n</code></pre>\n<p>Output:</p>\n<pre><code>Warning messages:\n1: In missing_devel_warning(pkgdir) :\n  Package RGtk2 has compiled code, but no suitable compiler(s) were found. Installation will likely fail.\n  Install Rtools (https://cran.r-project.org/bin/windows/Rtools/).Then use the pkgbuild package, or make sure that Rtools in the PATH.\n2: In i.p(...) :\n  installation of package \u2018C:/Users/SAAD/AppData/Local/Temp/Rtmpgv8fo6/file2344490d6025/RGtk2_2.20.36.2.tar.gz\u2019 had non-zero exit status\n</code></pre>\n<p>The &quot;RGtk2&quot; package isn't available in the CRAN repository.\nI am currently using R 4.2.1 version. Newer version of RGtk2 package isn't available in the archive, only older versions are available, which I believe aren't compatible with the current version. How to install it?</p>\n<p>I have tried all the methods and wasted a lot of time to install the RGtk2 package in order to use the R data mining tool, ranging from penetrating several websites for resolution, downloading various versions of package archive files and trying to install the package, etc., but all efforts in vain.\nTherefore, currently seeking authentic solution from experienced folks. Is there any other way to use the R data mining tool? There isn't any straightforward and quick method to install archived packages; as R gets updated, so all the packages should.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21228915,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5lR7EPqdkZyXGQCbwx7y1G7nunYsQh2d7_9e5P=k-s256",
			"display_name": "Natalee Grant",
			"link": "https://stackoverflow.com/users/21228915/natalee-grant"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676573691,
		"creation_date": 1676571090,
		"last_edit_date": 1676573691,
		"question_id": 75476328,
		"link": "https://stackoverflow.com/questions/75476328/what-is-the-correct-process-to-use-an-r-function-to-print-the-number-of-rows-and",
		"title": "what is the correct process to use an R function to print the number of rows and columns in the dataset?",
		"body": "<p>I need help with R on how to put this all in. I need help with the coding.</p>\n<p>I tried to look it up and they have steps before that my program is saying error.</p>\n"
	}, {
		"tags": ["r", "duckdb"],
		"owner": {
			"reputation": 17544,
			"user_id": 216064,
			"user_type": "registered",
			"accept_rate": 98,
			"profile_image": "https://i.stack.imgur.com/BRrqa.png?s=256&g=1",
			"display_name": "Karsten W.",
			"link": "https://stackoverflow.com/users/216064/karsten-w"
		},
		"is_answered": true,
		"view_count": 28,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75476732,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676573546,
		"creation_date": 1676569010,
		"question_id": 75475994,
		"link": "https://stackoverflow.com/questions/75475994/how-many-threads-is-duckdb-using",
		"title": "How many threads is DuckDB using?",
		"body": "<p>Using duckDB from within R, e.g.</p>\n<pre><code>library(duckdb)\ndbname &lt;- &quot;sparsemat.duckdb&quot;\ncon2 &lt;- dbConnect(duckdb(), dbname)\ndbExecute(con2, &quot;PRAGMA memory_limit='1GB';&quot;)\n</code></pre>\n<p>how can I find out how many threads the (separate process) is using? I am aware of</p>\n<pre><code>dbExecute(con2, &quot;PRAGMA threads=4;&quot;)\n</code></pre>\n<p>but I am interested in figuring out reading this configuration detail, not setting it.</p>\n"
	}, {
		"tags": ["r", "parallel-processing", "mumin"],
		"owner": {
			"reputation": 33,
			"user_id": 19111950,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0278677568d2a3ee9017cdbb90fce187?s=256&d=identicon&r=PG",
			"display_name": "Gesler",
			"link": "https://stackoverflow.com/users/19111950/gesler"
		},
		"is_answered": true,
		"view_count": 128,
		"down_vote_count": 0,
		"up_vote_count": 3,
		"accepted_answer_id": 75476706,
		"answer_count": 1,
		"score": 3,
		"last_activity_date": 1676573457,
		"creation_date": 1652466643,
		"question_id": 72234031,
		"link": "https://stackoverflow.com/questions/72234031/parallel-processing-cluster-not-used-when-running-dredge-on-a-mcmcglmm-model-wit",
		"title": "Parallel processing cluster not used when running dredge on a MCMCglmm model with the parallel package",
		"body": "<p>I am using <code>MCMCglmm</code> to run a PGLMM model. Since the aim is not to make predictions, I'm using <code>dredge</code> (from MuMIn) to calculate model-weighted parameter values and confidence intervals. Due to the large number of fixed effects, I thought it would be a good idea to implement a parallel processing workflow so that it doesn't take a day or two. I am using fully-updated Win10 and R Studio 2021.09.2.</p>\n<p>The model and model selection code for reference:</p>\n<pre><code> fullmod&lt;-upd.MCMCglmm(occ~den*month+year+diet+dssi+eu_trend+hssi*migration+mass+latitude,\n                random=~phylo+spp,family=&quot;gaussian&quot;,ginverse=list(phylo=inv.mat),prior=prior,\n               data=merged_full,nitt=nitt,burnin=burnin,thin=thin, verbose=F)\nall_mods &lt;- dredge(fullmod, trace=2)\n</code></pre>\n<p>This model works perfectly, and using <code>dredge</code> without a cluser also runs with no issues, so I know the issue lies solely in my implementation of parallel processing. <a href=\"https://rdrr.io/cran/MuMIn/man/pdredge.html\" rel=\"nofollow noreferrer\">According to the relevant documentation</a>, <code>pdredge</code> is depreciated and so dredge can be used directly; I tried <code>pdredge</code> regardless <a href=\"https://stackoverflow.com/questions/68497297/dredge-on-gam-returns-na-results-for-loglik-aicc-delta-and-weight\">based on the code in this question</a> and I get the exact same error.</p>\n<p>Clustering code:</p>\n<pre><code>    library(parallel)\n    library(snow)\n    \n    # Detect number of cores and create cluster (leave one out to not overwhelm pc)\n    nCores &lt;- detectCores() - 1\n    cl &lt;- makeCluster(nCores, type = &quot;SOCK&quot;)\n    \n    \n    # Export all objects to be used to all the cores in the cluster\n    clusterExport(cl, list(&quot;merged_full&quot;,&quot;inv.mat&quot;,&quot;prior&quot;,&quot;nitt&quot;,&quot;burnin&quot;,&quot;thin&quot;,&quot;fullmod&quot;,\n&quot;upd.MCMCglmm&quot;))\n    \n    # Load packages to be used\n    clusterEvalQ(cl,library(MuMIn,logical.return =T))\n    clusterEvalQ(cl,library(MCMCglmm,logical.return =T))\n    \n    fullmod&lt;-upd.MCMCglmm(occ~den*month+year+diet+dssi+eu_trend+hssi*migration+mass+latitude,random=~phylo+spp,\n                                                 family=&quot;gaussian&quot;,ginverse=list(phylo=inv.mat),prior=prior,\n                                                 data=merged_full,nitt=nitt,burnin=burnin,thin=thin, verbose=F)\n    all_mods &lt;- MuMIn::dredge(fullmod, trace=2, cluster=cl)\n</code></pre>\n<p>And the output:</p>\n<pre><code>&gt; all_mods &lt;- MuMIn::dredge(fullmod, trace=2, cluster=cl)\nNot using cluster.\nFixed term is &quot;(Intercept)&quot;\n</code></pre>\n<p>And of course, the code runs fine, just without clustering. Checking the Task Manager, I can see that the cluster is up and running, it's just that the other cores are not being used.</p>\n<p>I did not provide a reproducible example as the model runs with no issues , but I can do so if required. Anyone knows what could be causing this?</p>\n"
	}, {
		"tags": ["r", "ggplot2", "geom-bar"],
		"owner": {
			"reputation": 415,
			"user_id": 1427431,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6af157e32496ade40d38b5948a12811f?s=256&d=identicon&r=PG",
			"display_name": "Chris Z.",
			"link": "https://stackoverflow.com/users/1427431/chris-z"
		},
		"is_answered": true,
		"view_count": 23247,
		"down_vote_count": 1,
		"up_vote_count": 9,
		"accepted_answer_id": 33819606,
		"answer_count": 2,
		"score": 8,
		"last_activity_date": 1676573368,
		"creation_date": 1447996274,
		"last_edit_date": 1599200317,
		"question_id": 33819440,
		"link": "https://stackoverflow.com/questions/33819440/r-ggplot-geom-bar-error-discrete-value-supplied-to-continuous-scale",
		"title": "R ggplot geom_bar Error: Discrete value supplied to continuous scale",
		"body": "<p>I have proportion response data for 4 experimental groups, with 2 different statistics computed for each group. I want the following figure (which I can achieve):</p>\n<p><a href=\"https://i.stack.imgur.com/oHCIO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oHCIO.png\" alt=\"enter image description here\" /></a></p>\n<p>I obtain this figure with the following code:</p>\n<pre><code>Group&lt;-c('a','b','c','d','a','b','c','d')\nStatistic&lt;-c('Mean','Mean','Mean','Mean','d','d','d','d')\nVal&lt;-c(.75,.83,.79,.69,.5,.02,.1,.3)\ndfm2&lt;-data.frame(cbind(Group,Statistic,Val)) \nggplot(dfm2,aes(x = Group,y = Val)) +    \n geom_bar(aes(fill = Statistic),position = dodge',stat='identity')\n</code></pre>\n<p>However, when I change the limits of the y-axis (to [0,1] since I have proportions) by adding the line of code:</p>\n<pre><code>+ scale_y_continuous(limits=c(0, 1))\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>Error: Discrete value supplied to continuous scale</p>\n</blockquote>\n<p>So I understand this means I have a non-continuous variable. I have tried converting my Statistic variable by using <code>as.numeric()</code> and countless other options but to no avail.  If anyone can assist me in solving this problem and/or explain what causes it, I would be most appreciative.</p>\n"
	}, {
		"tags": ["r", "time-series", "forecasting", "forecast"],
		"owner": {
			"reputation": 1,
			"user_id": 21228848,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp67m-nMZTHC0WYUtXrV1jUeteYnJ3vb4mUgMObf=k-s256",
			"display_name": "Acchhrr",
			"link": "https://stackoverflow.com/users/21228848/acchhrr"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676573340,
		"creation_date": 1676572987,
		"last_edit_date": 1676573340,
		"question_id": 75476628,
		"link": "https://stackoverflow.com/questions/75476628/how-to-create-a-loop-or-something-that-can-help-me-to-calculate-autoarima-smoot",
		"title": "How to create a loop or something that can help me to calculate autoarima, smooth, tbats, and other models of time series to 47 columns",
		"body": "<p>I am trying to forecast profits of different products (like 50). In my data frame, the product are columns and I have on column with the dates. Every row correspond for the profits in a single day. I am trying to use ARIMA, NAIVe, SES, TBAT for every column but i do not how to do it without writing 50 lines of code.</p>\n<p>The code for one column</p>\n<pre><code>##Serie de tiempo de Personales\n\npersonales &lt;- ts(intereses$Personales, start = c(2020,1), end = c(2022,12), frequency =12)\n\n##Modelo ARIMA Personales\n   arima_personales &lt;- auto.arima(personales)\n##Proyecci\u00f3n por los siguientes 12 meses \n   forecast(arima_personales, h=12)\n   summary(arima_personales)\n##Graficando las proyecciones\n   plot(forecast(arima_personales,12), xlab=&quot;Data Mensual&quot;, ylab=&quot;Ingresos financieros por intereses        Personales&quot;, main =&quot;Ingresos financieros por intereses&quot;, col.main = &quot;darkblue&quot;)\n \n##Modelo NA\u00cfVE Personales\n   naive_personales &lt;- naive(personales, h=12)\n   summary(naive_personales)\n##Gr\u00e1fica\n  plot(naive_personales, xlab=&quot;Data Mensual&quot;, ylab=&quot;Ingresos financieros por intereses Personales&quot;, main =&quot;Ingresos financieros por intereses&quot;, col.main = &quot;darkblue&quot;)\n\n##Suavizamiento Exponencial Personales\n  se_personales &lt;- ses(personales, h=12)\n  summary(se_personales)\n##Gr\u00e1fica\n  plot(se_personales, xlab=&quot;Data Mensual&quot;, ylab=&quot;Ingresos financieros por intereses Personales&quot;, main =&quot;Ingresos financieros por intereses&quot;, col.main = &quot;darkblue&quot;)\n\n##Modelo Holt's Winter Personales\n  holt_personales &lt;- holt(personales, h=12)\n  summary(holt_personales)\n##Gr\u00e1fica\n  plot(holt_personales, xlab=&quot;Data Mensual&quot;, ylab=&quot;Ingresos financieros por intereses Personales&quot;, main =&quot;Ingresos financieros por intereses&quot;, col.main = &quot;darkblue&quot;)\n\n##Modelo TBATS\n  tbats_personales &lt;- forecast(tbats(personales), h=12)\n   summary(tbats_personales)\n</code></pre>\n<p>and the CODE for all the columns:</p>\n<pre><code>##Creando las series de tiempo de cada columna\n  intereses_ts &lt;- ts(data=intereses[-1],start = c(2020,1), end = c(2022,12), frequency =12)\n\n##Graficando las series de tiempo\n  ts.plot(intereses_ts, col = 1:46, xlab = &quot;Cierre de mes&quot;, ylab = &quot;Ingresos&quot;, main = &quot;Ingresos por intereses&quot;)\n  legend(&quot;topleft&quot;, colnames(intereses_ts), lty=1, col=1:46, bty = &quot;n&quot;)\n\n\n##Modelo ARIMA\n  for (i in 1:ncol(intereses_ts)) {\n  paste(&quot;arima_&quot;,name(intereses_ts[,i]))&lt;- auto.arima(intereses_ts[,i])\n}\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1,
			"user_id": 20824837,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/tByy5.jpg?s=256&g=1",
			"display_name": "Kashmir",
			"link": "https://stackoverflow.com/users/20824837/kashmir"
		},
		"is_answered": false,
		"view_count": 41,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676573145,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676572954,
		"creation_date": 1676565875,
		"last_edit_date": 1676572954,
		"question_id": 75475413,
		"link": "https://stackoverflow.com/questions/75475413/is-there-a-way-to-correct-this-y-axis-glitch",
		"closed_reason": "Duplicate",
		"title": "Is there a way to correct this y-axis glitch?",
		"body": "<p><a href=\"https://docs.google.com/spreadsheets/d/1NOozdnyRMuVobCq4cGmmI9UAfaAnxjZBizHjm591HlY/edit?usp=sharing\" rel=\"nofollow noreferrer\">Here's my spreadsheet for the data I'm using</a></p>\n<p>I've been trying to plot this code chunk:</p>\n<pre><code>active_cals &lt;- ggplot(data=dailyActivity_merged, aes(x=TotalActiveMinutes, y=Calories)) + \n     geom_point() + \n     labs(title='Minutes Active vs. Calories Burned', \n     subtitle = &quot;Users who recorded high minutes of activity burned more calories.&quot;, \n     x = 'Minutes Active', y = 'Calories Burned')\n</code></pre>\n<p>But um, by god, I don't know what's causing the evil demon on the y-axis.</p>\n<p>Here's what gets plotted.</p>\n<p><a href=\"https://i.stack.imgur.com/CIcTQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CIcTQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my dput(head(combined data))</p>\n<p><a href=\"https://i.stack.imgur.com/eLwvn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eLwvn.png\" alt=\"enter image description here\" /></a></p>\n<p>I just want to remove whatever's going on there, or figure out what's causing the problem. Is it my data? Is it ggplot2? Every other point is plotted fine.\nThanks for any help!</p>\n"
	}, {
		"tags": ["r", "statistics", "correspondence-analysis", "factominer", "mca"],
		"owner": {
			"reputation": 1,
			"user_id": 21224594,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7jZkhHmtfTW3wofl1qEjX_CtusjqdQgW4zqykz0w=k-s256",
			"display_name": "Rajeswari",
			"link": "https://stackoverflow.com/users/21224594/rajeswari"
		},
		"is_answered": false,
		"view_count": 7,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676572821,
		"creation_date": 1676532813,
		"last_edit_date": 1676572821,
		"question_id": 75469065,
		"link": "https://stackoverflow.com/questions/75469065/error-in-mcamydata-c12-ind-sup-mydata-1-ncp-5-length-of-vect",
		"title": "Error in MCA(mydata[, -c(1:2)], ind.sup = mydata[, 1], ncp = 5, : length of vector row.w should be the number of active rows",
		"body": "<p>mydata survey consists of 12 variables,</p>\n<pre><code>     HHID    awt HH_sz YOS Sch_Attend Cook_I Sani_I DW_I Asset_I Elec_I Hou_I dmy\n1  6814411 817.14     2  No         No     No     No  Yes      No     No    No Yes\n2  6814412 817.14     4  No         No     No     No  Yes      No     No    No Yes\n3  6814421 649.73     4  No         No    Yes     No  Yes      No     No    No Yes\n4 68144210 649.73     3  No         No    Yes     No  Yes      No     No    No Yes\n5  6814422 649.73     7  No         No     No     No  Yes      No     No    No Yes\n6  6814423 649.73     3  No         No    Yes     No  Yes      No     No    No Yes\n</code></pre>\n<p>Col 1 - is House-hold id, col 2 - survey weights, col 3 - House-hold size, Col 4:11 - are MCA active variable, Col 12 - dummy variable for addressing non-zero rows problem</p>\n<p>while I run the following code</p>\n<pre><code>&lt;sub&gt;\nres.mca1 &lt;- MCA(mydata[,-c(1:2)],\n               ind.sup=mydata[,1],\n                ncp=5,\n             quanti.sup = 3,\n             quali.sup=NULL, \n             graph = TRUE, \n             axes = c(1,2), \n             row.w = mydata[,2], \n             method=&quot;Indicator&quot;)\n&lt;/sub&gt;\n</code></pre>\n<p>The following error show up,</p>\n<pre><code>Error in MCA(Kar_L01_MCA1[, -c(1:2)], ind.sup = Kar_L01_MCA1[, 1], ncp = 5,  : \n  length of vector row.w should be the number of active rows\n</code></pre>\n<p>Help me run the MCA code with survey weights, considering the House-hold data with survey weights is mandatory for the analysis of this data</p>\n"
	}, {
		"tags": ["r", "dplyr"],
		"owner": {
			"reputation": 171,
			"user_id": 12918834,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/fe4b4790ee0e8f9368e7540120fdff06?s=256&d=identicon&r=PG&f=1",
			"display_name": "jpryan28",
			"link": "https://stackoverflow.com/users/12918834/jpryan28"
		},
		"is_answered": true,
		"view_count": 44,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75476067,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676572785,
		"creation_date": 1676568681,
		"last_edit_date": 1676572086,
		"question_id": 75475934,
		"link": "https://stackoverflow.com/questions/75475934/r-how-to-code-new-variable-based-on-grouped-variable-and-conditioned-on-earlier",
		"title": "R: How to code new variable based on grouped variable and conditioned on earlier row",
		"body": "<p>I have a dataset from organ transplants.  The data are organized by donor and I'm looking at lungs - so each donor has two lungs.  The data are arranged as follows:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(tidyverse)\n\ndata &lt;- tribble(\n  ~donor_id, ~sequence, ~organ_placed,\n  1, 5, &quot;L&quot;,\n  1, 10, &quot;R&quot;,\n  2, 13, &quot;B&quot;,\n  3, 4, &quot;L&quot;,\n  3,69,NA,\n  3,70,NA,\n  3,71,NA,\n  3, 72, NA,\n)\n</code></pre>\n<ul>\n<li><p><code>donor_id</code> = the donor id</p>\n</li>\n<li><p><code>sequence</code> = the number of the donor offer.  I.e. it goes to person 1, then 2, then 3...and so on.</p>\n</li>\n<li><p><code>organ_placed</code> = if the organ is a match, the organ placed is listed. E.g. for donor 1, the left lung was placed on the 5th offer and the right was placed on the 10th offer.</p>\n</li>\n</ul>\n<p><strong>I'm trying to figure out how to code the case for donor 3</strong>:  the left lung is placed on the 3rd offer, but the right is never placed - the match offers continue through 72 offers then just stop.</p>\n<p>I'd like the new data to look like:</p>\n<pre><code>desired_data &lt;- tribble(\n  ~donor_id, ~sequence, ~organ_placed,~outcome,\n  1, 5, &quot;L&quot;,&quot;Left Single&quot;,\n  1, 10, &quot;R&quot;,&quot;Right Single&quot;,\n  2, 13, &quot;B&quot;,&quot;Bilateral&quot;,\n  3, 4, &quot;L&quot;,&quot;Left Single&quot;,\n  3,69,NA,NA,\n  3,70,NA,NA,\n  3,71,NA,NA,\n  3, 72, NA,&quot;Right Discarded&quot;\n)\n</code></pre>\n<p>I'm thinking it's something like <code>group_by(donor_id)</code> and then <code>slice_max</code> of <code>sequence</code> has <code>NA</code> for <code>organ_placed</code>, but I need it to code that it's the right lung that's discarded.</p>\n<pre class=\"lang-r prettyprint-override\"><code>data &lt;- data %&gt;%\n  mutate(outcome = case_when(\n    organ_placed==&quot;L&quot; ~ &quot;Left Single&quot;,\n    organ_placed==&quot;R&quot; ~ &quot;Right Single&quot;,\n    organ_placed==&quot;B&quot; ~ &quot;Bilateral&quot;,\n    **what would go here? to group by donor id and find the maxslice has an NA, \n      and L (or R) already occurred in that donor?**\n  ))\n</code></pre>\n<p>Thanks for any help!</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 21222352,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/3304683343078790/picture?type=large",
			"display_name": "Jason Edelkind",
			"link": "https://stackoverflow.com/users/21222352/jason-edelkind"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676572737,
		"creation_date": 1676495183,
		"last_edit_date": 1676572737,
		"question_id": 75465433,
		"link": "https://stackoverflow.com/questions/75465433/error-in-function-classes-fdef-mtable-unable-to-find-an-inherited-method",
		"title": "Error in (function (classes, fdef, mtable) : unable to find an inherited method for function \u2018xmax\u2019 for signature \u2018&quot;data.frame&quot;\u2019",
		"body": "<p>I'm attempting to create a raster layer of lizard location data. Everything seems to be working until my final line of code creating the raster:</p>\n<pre class=\"lang-r prettyprint-override\"><code># Create raster\nutm.points &lt;- cbind(data.TM$X, data.TM$Y) # create an object of UTMs dataframe\n\nutm.locations &lt;- SpatialPoints(utm.points, proj4string=CRS(&quot;+proj=utm +zone=12 +datum=NAD27&quot;)) # create a spatial projection\n\nproj.lat.lon &lt;- as.data.frame(spTransform(utm.locations, CRS(&quot;+proj=longlat +datum=NAD27&quot;))) # transform UTMs to lat/lon\n\ncolnames(proj.lat.lon) &lt;- c(&quot;x&quot;,&quot;y&quot;) # rename columns of lat/lon object\n\nraster &lt;- openmap(c(max(proj.lat.lon$y)+0.005, min(proj.lat.lon$x)-0.005), c(min(proj.lat.lon$y)-0.005, max(proj.lat.lon$x)+0.005), type = &quot;bing&quot;)\n\nraster.utm &lt;- openproj(raster, projection = &quot;+proj=utm +zone=12 +datum=NAD27 +units=m +no_defs&quot;) # create the raster\n</code></pre>\n<p>When I run the final line to create the raster.utm I get the following error:</p>\n<pre class=\"lang-r prettyprint-override\"><code>Error in (function (classes, fdef, mtable)  : \n  unable to find an inherited method for function \u2018xmax\u2019 for signature \u2018&quot;data.frame&quot;\u2019\n</code></pre>\n<p>Here's a sample of my data if that helps</p>\n<pre class=\"lang-r prettyprint-override\"><code>    library(tidyverse)\n    library(janitor)\n    library(lubridate)\n    library(sp)\n    library(OpenStreetMap)\n    library(pbapply)\n    library(mgsub)\n    library(stringr)\n    library(data.table)\n\n    animal.ID&lt;-c(&quot;TM 1&quot;,&quot;TM 1&quot;,&quot;TM 1&quot;,&quot;TM 1&quot;)\n    X&lt;-c(489755 ,489792 ,489537 ,489505)\n    Y&lt;-c(3722898 ,3722405 ,3722746 ,3722467)\n  \n  \n  \n    data.TMex&lt;-data.frame(animal.ID,X,Y)\n\n\n    utm.points &lt;- cbind(data.TMex$X, data.TMex$Y) # create an object of UTMs dataframe\n    utm.locations &lt;- SpatialPoints(utm.points, proj4string=CRS(&quot;+proj=utm +zone=12 +datum=NAD27&quot;)) # create a spatial projection\n    proj.lat.lon &lt;- as.data.frame(spTransform(utm.locations, CRS(&quot;+proj=longlat +datum=NAD27&quot;))) # transform UTMs to lat/lon\n    colnames(proj.lat.lon) &lt;- c(&quot;x&quot;,&quot;y&quot;) # rename columns of lat/lon object\n    raster &lt;- openmap(c(max(proj.lat.lon$y)+0.005, min(proj.lat.lon$x)-0.005), c(min(proj.lat.lon$y)-0.005, max(proj.lat.lon$x)+0.005), type = &quot;bing&quot;)\n\n    raster.utm &lt;- openproj(raster, projection = &quot;+proj=utm +zone=12 +datum=NAD27 +units=m +no_defs&quot;)\n\n\n    autoplot.OpenStreetMap(raster.utm, expand = TRUE) + theme_bw() + theme(legend.position=&quot;bottom&quot;) +\n  theme(panel.border = suppressWarnings(element_rect(colour = &quot;black&quot;, fill=NA, size=1))) +\n  geom_point(data=data.TMex, aes(X, Y, color= animal.ID), size = 3, alpha = 0.8) +\n  theme(axis.title = element_text(face=&quot;bold&quot;)) + labs(x=&quot;Easting&quot;, y=&quot;Northing&quot;) + guides(color=guide_legend(&quot;Identifier&quot;)) \n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 3869,
			"user_id": 1510267,
			"user_type": "registered",
			"accept_rate": 95,
			"profile_image": "https://i.stack.imgur.com/ZG7nj.jpg?s=256&g=1",
			"display_name": "MCP_infiltrator",
			"link": "https://stackoverflow.com/users/1510267/mcp-infiltrator"
		},
		"is_answered": false,
		"view_count": 12,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676572531,
		"creation_date": 1676572531,
		"question_id": 75476554,
		"link": "https://stackoverflow.com/questions/75476554/r-package-test-failure-in-utilspackageversionx-but-call-works-on-command-lin",
		"title": "R Package Test Failure in utils::packageVersion(x) but call works on command line",
		"body": "<p>I am testing a package before I release the update of it to CRAN. I get the following output from it:</p>\n<pre class=\"lang-r prettyprint-override\"><code>&gt; devtools::check(remote = TRUE, manual = TRUE)\n\u2550\u2550 Documenting \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u2139 Updating healthyverse documentation\n\u2139 Loading healthyverse\n\n\u2550\u2550 Building \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nSetting env vars:\n\u2022 CFLAGS    : -Wall -pedantic -fdiagnostics-color=always\n\u2022 CXXFLAGS  : -Wall -pedantic -fdiagnostics-color=always\n\u2022 CXX11FLAGS: -Wall -pedantic -fdiagnostics-color=always\n\u2022 CXX14FLAGS: -Wall -pedantic -fdiagnostics-color=always\n\u2022 CXX17FLAGS: -Wall -pedantic -fdiagnostics-color=always\n\u2022 CXX20FLAGS: -Wall -pedantic -fdiagnostics-color=always\n\u2500\u2500 R CMD build \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2714  checking for file 'C:\\Users\\steve\\Documents\\GitHub\\healthyverse/DESCRIPTION'\n\u2500  preparing 'healthyverse': (408ms)\n\u2714  checking DESCRIPTION meta-information ...\n\u2500  installing the package to build vignettes\n\u2714  creating vignettes (10.3s)\n\u2500  checking for LF line-endings in source and make files and shell scripts\n\u2500  checking for empty or unneeded directories\n   Omitted 'LazyData' from DESCRIPTION\n\u2500  building 'healthyverse_1.0.2.9000.tar.gz'\n   \n\u2550\u2550 Checking \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\nSetting env vars:\n\u2022 _R_CHECK_CRAN_INCOMING_REMOTE_               : TRUE\n\u2022 _R_CHECK_CRAN_INCOMING_                      : TRUE\n\u2022 _R_CHECK_FORCE_SUGGESTS_                     : FALSE\n\u2022 _R_CHECK_PACKAGES_USED_IGNORE_UNUSED_IMPORTS_: FALSE\n\u2022 NOT_CRAN                                     : true\n\u2500\u2500 R CMD check \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2500  using log directory 'C:/Users/steve/AppData/Local/Temp/RtmpUxN10L/file3b9477a448b2/healthyverse.Rcheck'\n\u2500  using R version 4.2.1 (2022-06-23 ucrt)\n\u2500  using platform: x86_64-w64-mingw32 (64-bit)\n\u2500  using session charset: UTF-8\n\u2500  using option '--as-cran'\n\u2714  checking for file 'healthyverse/DESCRIPTION'\n\u2500  this is package 'healthyverse' version '1.0.2.9000'\n\u2500  package encoding: UTF-8\nN  checking CRAN incoming feasibility (16.5s)\n   Maintainer: 'Steven Sanderson &lt;blahblah@somemailhost.com&gt;'\n   \n   Version contains large components (1.0.2.9000)\n\u2714  checking package namespace information ...\n\u2714  checking package dependencies (1.6s)\n\u2714  checking if this is a source package ...\n\u2714  checking if there is a namespace\n\u2714  checking for executable files (418ms)\n\u2714  checking for hidden files and directories ...\n\u2714  checking for portable file names\n\u2714  checking serialization versions\nE  checking whether package 'healthyverse' can be installed (3.1s)\n   Installation failed.\n   See 'C:/Users/steve/AppData/Local/Temp/RtmpUxN10L/file3b9477a448b2/healthyverse.Rcheck/00install.out' for details.\n   \n   See\n     'C:/Users/steve/AppData/Local/Temp/RtmpUxN10L/file3b9477a448b2/healthyverse.Rcheck/00check.log'\n   for details.\n   \n   \n\u2500\u2500 R CMD check results \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 healthyverse 1.0.2.9000 \u2500\u2500\u2500\u2500\nDuration: 23.2s\n\n\u276f checking whether package 'healthyverse' can be installed ... ERROR\n  See below...\n\n\u276f checking CRAN incoming feasibility ... NOTE\n  Maintainer: 'Steven Sanderson &lt;blahblah@somemailhost.com&gt;'\n  \n  Version contains large components (1.0.2.9000)\n\n\u2500\u2500 Install failure \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n* installing *source* package 'healthyverse' ...\n** using staged installation\n** R\n** inst\n** byte-compile and prepare package for lazy loading\n** help\n*** installing help indices\n*** copying figures\n** building package indices\n** installing vignettes\n** testing if installed package can be loaded from temporary location\nError: package or namespace load failed for 'healthyverse':\n .onAttach failed in attachNamespace() for 'healthyverse', details:\n  call: utils::packageVersion(x)\n  error: there is no package called 'tidyAML'\nError: loading failed\nExecution halted\nERROR: loading failed\n* removing 'C:/Users/steve/AppData/Local/Temp/RtmpUxN10L/file3b9477a448b2/healthyverse.Rcheck/healthyverse'\n\n1 error \u2716 | 0 warnings \u2714 | 1 note \u2716\n</code></pre>\n<p>Now when I call the offending line:</p>\n<pre class=\"lang-r prettyprint-override\"><code>&gt; as.character(unclass(utils::packageVersion(&quot;tidyAML&quot;))[[1]])\n[1] &quot;0&quot; &quot;0&quot; &quot;1&quot;\n</code></pre>\n<p>Not sure what gives here.</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 11,
			"user_id": 20883756,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/268b5f478b89fbb37b56cf83d8fce60d?s=256&d=identicon&r=PG&f=1",
			"display_name": "Zaman Muhammad Asad",
			"link": "https://stackoverflow.com/users/20883756/zaman-muhammad-asad"
		},
		"is_answered": false,
		"view_count": 47,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676572394,
		"creation_date": 1675976596,
		"last_edit_date": 1676571216,
		"question_id": 75404397,
		"link": "https://stackoverflow.com/questions/75404397/manually-coloring-heat-map-with-manual-breaks-in-ggplot",
		"title": "Manually coloring heat map with manual breaks in ggplot",
		"body": "<p>I am struggling making a geom tile plot of a number of chemicals appearing in different devices at varying quantities. X axis will be devices, y axis chemicals and colors fill will be quantity of chemicals in each device.</p>\n<p>Now the quantity has a big range from 0.01 to 150000 and is very unsymmetrical like distributed (outliers in both high and low end). So the color fill doesn\u2019t show the quantity properly.</p>\n<p>I want the color break in a way so the plot to show all major areas of quantity in different colors.</p>\n<p>Below is just sample code of what I am trying so far:</p>\n<pre><code>ggplot(DataFrame)+\n  geom_tile(aes(Device, Chemical, fill=Quantity))+\n  scale_fill_steps(low=&quot;blue&quot;, high=&quot;red&quot;,  breaks=c( 0, 0.01, 0.1, 0.5, 1, 5, 10, 50, 100, 1000, 150000))\n</code></pre>\n<p>But it\u2019s not making what I want. Basically the whole plot is blue except 1/2 red.\nHow can I make plot showing different color for different quantities that I manually set as breaks for color?</p>\n<p>Update 2-16-23:\nSo I am using the following code:</p>\n<pre><code>library(ggplot2)  \n# Define the colors to use \nmy_colors &lt;- c(&quot;#006837&quot;, &quot;#1a9850&quot;, &quot;#66bd63&quot;, &quot;#a6d96a&quot;, &quot;#d9ef8b&quot;, &quot;#fee08b&quot;, &quot;#fdae61&quot;, &quot;#f46d43&quot;, &quot;#d73027&quot;, &quot;#a50026&quot;)  \n# Define the breaks to use \nmy_breaks &lt;- c(0.001, 0.05, 0.5, 2, 3, 6, 15, 50, 250, 2000, 1500000)\nggplot(DataFrame, aes(Device, Chemical, fill=Quantity)) + geom_tile() + theme_classic() + scale_fill_gradientn(colors = my_colors, breaks = my_breaks))\n</code></pre>\n<p>But the plot is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/x6tM2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x6tM2.png\" alt=\"enter image description here\" /></a></p>\n<p>It is still not showing color for each range of values properly! Anyone can help?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 475,
			"user_id": 18090706,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/467ac6f050d6974027141337d657873f?s=256&d=identicon&r=PG",
			"display_name": "melolili",
			"link": "https://stackoverflow.com/users/18090706/melolili"
		},
		"is_answered": true,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75476292,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676572336,
		"creation_date": 1676567007,
		"last_edit_date": 1676568451,
		"question_id": 75475601,
		"link": "https://stackoverflow.com/questions/75475601/find-the-average-of-rows-with-duplicated-column-value",
		"title": "Find the average of rows with duplicated column value",
		"body": "<p>If the <code>GeneSymbol</code> is duplicated (i.e., there are previous rows containing the string in the <code>GeneSymbol</code> column, calculate the average of the other columns of that row. Then, I want to assign the <code>meth.kirp.cpg$GeneSymbol</code> column as the new row names of <code>meth.kirp.symbol</code>.</p>\n<pre><code>meth.kirp.symbol &lt;- aggregate(meth.kirp.cpg, by=meth.kirp.cpg$GeneSymbol,data=meth.kirp.cpg,FUN=mean)\nmeth.kirp.symbol &lt;- na.omit(meth.kirp.symbol)\n</code></pre>\n<p>Traceback:\nError in !meth.kirp.cpg$GeneSymbol : invalid argument type</p>\n<pre><code>rownames(meth.kirp.symbol) &lt;- meth.kirp.symbol$GeneSymbol\nmeth.kirp.symbol$GeneSymbol &lt;- NULL\n</code></pre>\n<p>Sample data:</p>\n<pre><code>&gt; dput(meth.kirp.cpg[1:100,200:203])\nstructure(list(TCGA.Y8.A8RZ.01A = c(0.497271965133314, 0.369704160054987, \n0.891551980644717, 0.53916519146516, 0.452596179682145, 0.763243369017172, \n0.158949338942062, 0.0114350980370701, 0.857172998292539, 0.934966165863031, \n0.0472399882616577, 0.0198027126658891, 0.0537032844435588, 0.564211104629996, \n0.927550968549496, 0.797624950816491, 0.0290697007131178, 0.595912681963104, \n0.174701858916678, 0.882333378501306, 0.857440598542643, 0.937145001009176, \n0.159643935623585, 0.0516599385847632, 0.0440610541422886, 0.986742471430344, \n0.0164534273018356, 0.905466185196924, 0.831233179669209, 0.945308723924202, \n0.889966942114764, 0.354918054240825, 0.013300356676493, 0.830128502759263, \n0.823700653779667, 0.10271041258008, 0.0287034526533831, 0.0206566535596095, \n0.600278705481019, 0.875119985046439, 0.0371692028405492, 0.0222508063515825, \n0.93666315025643, 0.928345505993255, 0.901317044941454, 0.765949109446722, \n0.0581920996836425, 0.0430643414149486, 0.90591121556885, 0.951186809441601, \n0.980658657952396, 0.0808689550165884, 0.572734025228151, 0.0463712698649506, \n0.192938671458161, 0.905133179842298, 0.154186184934303, 0.585848485208317, \n0.898651062830721, 0.936272438882973, 0.448635246131194, 0.283554776533025, \n0.0309419633482652, 0.861391852247259, 0.0658397100529213, 0.0675173265786392, \n0.96281794820265, 0.0313479382790672, 0.0866228017859603, 0.929772217122431, \n0.200029728957143, 0.706267849864433, 0.94823325183122, 0.0543243613691732, \n0.809705102714619, 0.910219965210065, 0.953735039953166, 0.868080342290672, \n0.332725938100749, 0.84324363592612, 0.198505346878334, 0.992801413007608, \n0.0503582852070818, 0.475444599242399, 0.988297216865074, 0.926321491575251, \n0.0243299898333789, 0.10772567979535, 0.892537448190976, 0.98896599725299, \n0.305816605549349, 0.696841353119351, 0.807770532814146, 0.115817690804427, \n0.0130874570078787, 0.837153421174282, 0.917049247300387, 0.0122380520755151, \n0.912364270697772, 0.951585664581661), TCGA.Y8.A8S0.01A = c(0.264547845506278, \n0.155993443463906, 0.90708922263186, 0.756216481105085, 0.740439258566013, \n0.791640201668772, 0.455406433078148, 0.0140503539973426, 0.898152971615672, \n0.942017289363471, 0.049036339456109, 0.0165762503059443, 0.0593335909473265, \n0.459771444740498, 0.929336066827294, 0.948532354182067, 0.0181370789479238, \n0.309340792232534, 0.444549689057808, 0.968706245954783, 0.911532818633905, \n0.922085999840623, 0.439367515136192, 0.0341088658899809, 0.259555790896829, \n0.987081295221313, 0.013467632667194, 0.935890204938304, 0.749182228512838, \n0.955266815776283, 0.854718619922343, 0.192270767250957, 0.0103294109383117, \n0.814778997430484, 0.884929086289906, 0.364141121626961, 0.0261130123662795, \n0.0201970054665062, 0.613121306641491, 0.867830249077504, 0.0313157213491265, \n0.0247935393251212, 0.911488850004792, 0.895214160236747, 0.52514961950261, \n0.88376413256428, 0.0384672039105036, 0.0294663841757698, 0.957910054231064, \n0.955637967662581, 0.980805007180895, 0.056939960969146, 0.737932777954196, \n0.0318060005100734, 0.0397987294622703, 0.914995576026559, 0.238482151213353, \n0.767237616032529, 0.939069872404913, 0.938081858296652, 0.440484138576205, \n0.114954872159159, 0.0244136454763111, 0.846540100826359, 0.200658220716674, \n0.0687237453669147, 0.974841732977847, 0.0278561439566069, 0.114556259287869, \n0.944131549328849, 0.493585389693977, 0.480768780057962, 0.932741163713172, \n0.216131694873378, 0.814313163672161, 0.928672085649515, 0.962443725743837, \n0.74077045094838, 0.133424847325993, 0.862916554456606, 0.145580720195214, \n0.992046334661351, 0.0436393256442202, 0.712662114242391, 0.990103320899525, \n0.880978917772909, 0.0225238271112234, 0.116230435240584, 0.841150918912896, \n0.987985943353706, 0.127354758970553, 0.898121601977617, 0.906792865660564, \n0.0737140541126039, 0.009384930132621, 0.793174978739833, 0.912006490158477, \n0.0139855016500958, 0.899386699555785, 0.954405724569427), TCGA.Y8.A8S1.01A = c(0.581694254362101, \n0.18542567310602, 0.867542022665212, 0.581696896530406, 0.78744743737146, \n0.389767299224826, 0.216960001070295, 0.0124187105565375, 0.856565918074359, \n0.936457155497046, 0.0442067173962602, 0.0140296565558842, 0.249846574394466, \n0.476357170192695, 0.919768286971888, 0.947576649507426, 0.0180436058702339, \n0.832021246626068, 0.417883168882454, 0.97668892894152, 0.858942374669228, \n0.908701674774902, 0.360605175695457, 0.0300050878088438, 0.0152722989237764, \n0.986911029436886, 0.017968868244694, 0.916403999667678, 0.665473802275997, \n0.894770076029211, 0.815937481683747, 0.505075619070648, 0.0100265844940471, \n0.807220745685876, 0.808764855317654, 0.316721084000246, 0.0221128261277136, \n0.0159144104679436, 0.841207551595894, 0.832097056965122, 0.0307025272327261, \n0.0185995888430839, 0.916475132262134, 0.866934314703349, 0.877454940064029, \n0.833363153320509, 0.0381805807655402, 0.0273586863112515, 0.941134508841013, \n0.912364696768614, 0.979496335094356, 0.0978730283287029, 0.525086161575951, \n0.0261062766734918, 0.0320956400558761, 0.853299258800261, 0.131541990462738, \n0.52940082480104, 0.85502275403225, 0.894518042164208, 0.535297530625847, \n0.4749856970718, 0.0169015303648868, 0.853076664003846, 0.147470852267928, \n0.0467328218099492, 0.978302229003696, 0.0283296096497759, 0.0728218303634117, \n0.87648102880048, 0.334033090095117, 0.680802308868236, 0.927680442837916, \n0.0707104696817582, 0.770195537274174, 0.868009087459515, 0.951475963819618, \n0.797689168093036, 0.683015763740223, 0.803432908458056, 0.191347383851541, \n0.991395963746777, 0.0604147893723364, 0.874483310648752, 0.98062171660084, \n0.83805259736689, 0.0247465538486677, 0.170932965706481, 0.842567160630419, \n0.983614792589478, 0.800795162965799, 0.860170927275085, 0.890545098059859, \n0.298079674760789, 0.0084611909392357, 0.73227051610062, 0.831245875309251, \n0.0115215601617515, 0.784943936721062, 0.835800768909104), GeneSymbol = c(&quot;RBL2&quot;, \nNA, &quot;VDAC3&quot;, &quot;ACTN1&quot;, &quot;ATP2A1&quot;, &quot;SFRP1&quot;, NA, &quot;NIPA2&quot;, &quot;MAN1B1&quot;, \n&quot;LRRC16A&quot;, &quot;CNBP&quot;, &quot;DDX55&quot;, &quot;FAM81A&quot;, &quot;KCNQ1&quot;, NA, &quot;NPHP4&quot;, &quot;MRPS25&quot;, \nNA, NA, &quot;MAEL&quot;, &quot;PROX1&quot;, &quot;ELOVL1&quot;, &quot;LILRA6&quot;, &quot;LOC283050&quot;, &quot;NR5A2&quot;, \n&quot;CDK10&quot;, NA, &quot;TMEM182&quot;, NA, &quot;DNAJA2&quot;, &quot;ATOH7&quot;, &quot;LRFN1&quot;, &quot;MRPL12&quot;, \n&quot;COL6A3&quot;, NA, &quot;C8orf31&quot;, &quot;RTTN&quot;, &quot;CD2BP2&quot;, &quot;SLMAP&quot;, NA, &quot;NOV&quot;, \n&quot;MXD4&quot;, &quot;SND1&quot;, &quot;MUSTN1&quot;, &quot;TAS1R3&quot;, &quot;ITGAD&quot;, &quot;SMARCC2&quot;, &quot;C1orf114&quot;, \nNA, &quot;C1orf65&quot;, &quot;DNAH17&quot;, &quot;DAB1&quot;, NA, &quot;SLBP&quot;, &quot;CHCHD4&quot;, NA, &quot;TNNT2&quot;, \n&quot;CASZ1&quot;, &quot;CASZ1&quot;, &quot;C3orf16&quot;, NA, &quot;WFIKKN2&quot;, &quot;CCDC45&quot;, NA, &quot;MEOX2&quot;, \n&quot;CKLF&quot;, &quot;TRANK1&quot;, &quot;ZFP36&quot;, &quot;SLC2A9&quot;, &quot;MXRA7&quot;, &quot;LOXL4&quot;, NA, &quot;P2RX6P&quot;, \n&quot;SFRS7&quot;, NA, &quot;EHMT1&quot;, &quot;AGPAT3&quot;, &quot;CDSN&quot;, NA, NA, &quot;AGA&quot;, &quot;LDHD&quot;, \n&quot;C14orf181&quot;, &quot;LOC729176&quot;, &quot;SH2B3&quot;, &quot;MTMR7&quot;, &quot;MT1F&quot;, &quot;RSPO3&quot;, \n&quot;ANKRD11&quot;, &quot;TDRD6&quot;, &quot;WWP2&quot;, &quot;OR1F2P&quot;, &quot;SERPINB12&quot;, &quot;DOK7&quot;, &quot;SRCAP&quot;, \n&quot;AMDHD2&quot;, &quot;DRG2&quot;, &quot;TCTE3&quot;, &quot;EFNB1&quot;, &quot;FAM180B&quot;)), row.names = c(&quot;cg00000029&quot;, \n&quot;cg00000165&quot;, &quot;cg00000236&quot;, &quot;cg00000289&quot;, &quot;cg00000292&quot;, &quot;cg00000321&quot;, \n&quot;cg00000363&quot;, &quot;cg00000622&quot;, &quot;cg00000658&quot;, &quot;cg00000721&quot;, &quot;cg00000734&quot;, \n&quot;cg00000769&quot;, &quot;cg00000905&quot;, &quot;cg00000924&quot;, &quot;cg00000948&quot;, &quot;cg00000957&quot;, \n&quot;cg00001245&quot;, &quot;cg00001249&quot;, &quot;cg00001261&quot;, &quot;cg00001349&quot;, &quot;cg00001364&quot;, \n&quot;cg00001446&quot;, &quot;cg00001510&quot;, &quot;cg00001582&quot;, &quot;cg00001583&quot;, &quot;cg00001687&quot;, \n&quot;cg00001747&quot;, &quot;cg00001791&quot;, &quot;cg00001809&quot;, &quot;cg00001854&quot;, &quot;cg00001874&quot;, \n&quot;cg00002033&quot;, &quot;cg00002116&quot;, &quot;cg00002145&quot;, &quot;cg00002190&quot;, &quot;cg00002224&quot;, \n&quot;cg00002236&quot;, &quot;cg00002406&quot;, &quot;cg00002426&quot;, &quot;cg00002449&quot;, &quot;cg00002464&quot;, \n&quot;cg00002490&quot;, &quot;cg00002531&quot;, &quot;cg00002591&quot;, &quot;cg00002593&quot;, &quot;cg00002597&quot;, \n&quot;cg00002660&quot;, &quot;cg00002719&quot;, &quot;cg00002769&quot;, &quot;cg00002808&quot;, &quot;cg00002809&quot;, \n&quot;cg00002810&quot;, &quot;cg00002837&quot;, &quot;cg00003091&quot;, &quot;cg00003173&quot;, &quot;cg00003181&quot;, \n&quot;cg00003287&quot;, &quot;cg00003345&quot;, &quot;cg00003513&quot;, &quot;cg00003529&quot;, &quot;cg00003578&quot;, \n&quot;cg00003625&quot;, &quot;cg00003784&quot;, &quot;cg00003969&quot;, &quot;cg00003994&quot;, &quot;cg00004055&quot;, \n&quot;cg00004067&quot;, &quot;cg00004072&quot;, &quot;cg00004082&quot;, &quot;cg00004089&quot;, &quot;cg00004105&quot;, \n&quot;cg00004121&quot;, &quot;cg00004192&quot;, &quot;cg00004207&quot;, &quot;cg00004209&quot;, &quot;cg00004429&quot;, \n&quot;cg00004533&quot;, &quot;cg00004562&quot;, &quot;cg00004608&quot;, &quot;cg00004773&quot;, &quot;cg00004818&quot;, \n&quot;cg00004883&quot;, &quot;cg00004939&quot;, &quot;cg00004963&quot;, &quot;cg00004979&quot;, &quot;cg00004996&quot;, \n&quot;cg00005010&quot;, &quot;cg00005040&quot;, &quot;cg00005072&quot;, &quot;cg00005083&quot;, &quot;cg00005112&quot;, \n&quot;cg00005166&quot;, &quot;cg00005215&quot;, &quot;cg00005297&quot;, &quot;cg00005306&quot;, &quot;cg00005390&quot;, \n&quot;cg00005437&quot;, &quot;cg00005543&quot;, &quot;cg00005617&quot;, &quot;cg00005619&quot;), class = &quot;data.frame&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "proxy", "plotly"],
		"owner": {
			"reputation": 159,
			"user_id": 2863275,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "kraggle",
			"link": "https://stackoverflow.com/users/2863275/kraggle"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676572041,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676571998,
		"creation_date": 1676571998,
		"question_id": 75476470,
		"link": "https://stackoverflow.com/questions/75476470/r-shiny-plotly-proxy-to-retain-selected-traces",
		"closed_reason": "Duplicate",
		"title": "R Shiny Plotly, proxy to retain selected traces",
		"body": "<p>When the data is updated in a <code>plotly::plot_ly</code> object, the entire plot is re-drawn. Say we have categorical data and one category (trace) is selected. If we change the underlying values, can we retain the same view of the plot with the single category shown?</p>\n<pre><code>library(plotly)\nlibrary(shiny)\nlibrary(shinydashboard)\n\ndata &lt;- data.frame(cat = c(rep(&quot;Category 1&quot;, 20), rep(&quot;Category2&quot;, 20)),\n                   value = c(seq(1,20,1), seq(21, 40, 1)),\n                   time = c(seq(c(ISOdate(2000, 3, 20)), by = &quot;month&quot;, length.out = 20),\n                            seq(c(ISOdate(2000, 3, 20)), by = &quot;month&quot;, length.out = 20)))\n\nui &lt;- dashboardPage(\n  dashboardHeader(),\n  dashboardSidebar(shiny::numericInput(&quot;mf&quot;, &quot;Multiplication Factor&quot;, value = 10000)),\n  dashboardBody(plotly::plotlyOutput(&quot;plot&quot;))\n)\n\nserver &lt;- function(input, output, session) { \n  \n  df &lt;- reactive({ data |&gt; mutate(value = value * input$mf) })\n  \n  output$plot &lt;- plotly::renderPlotly({\n    plotly::plot_ly() |&gt;\n      plotly::add_lines(\n        data = df(),\n        x = ~ time,\n        y = ~ value,\n        color = ~ cat,\n        colors = &quot;Set1&quot;\n      )\n  })\n  \n  observeEvent(input$mf, {\n    plotly::plotlyProxy(&quot;plot&quot;, session) |&gt;\n      plotly::plotlyProxyInvoke(method = &quot;restyle&quot;,\n                                list(list(visible = c(F, F))))\n  })\n\n}\n\nshinyApp(ui, server)\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 17,
			"user_id": 15109488,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5971a7224449574a9f991b12a6e20915?s=256&d=identicon&r=PG&f=1",
			"display_name": "Frenzy",
			"link": "https://stackoverflow.com/users/15109488/frenzy"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75476324,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676571485,
		"creation_date": 1676570673,
		"question_id": 75476271,
		"link": "https://stackoverflow.com/questions/75476271/default-method-not-implemented-for-type-list-is-there-anything-i-can-do",
		"title": "Default method not implemented for type &#39;list&#39;, is there anything I can do?",
		"body": "<p>I have a dataset with over 200,000 rows and when I did <code>summary(df)</code>, I noticed that it has <code>Inf</code>, in it. However, when I tried to check using <code>any(is.na(Data) | is.infinite(Data))</code> I got this error</p>\n<pre><code>Error in is.infinite(Data) : \ndefault method not implemented for type 'list'\n</code></pre>\n<p>I then tried to replace the <code>Inf</code> with <code>NA</code>, yet I got the same error.</p>\n<pre><code>&gt;Data[is.infinite(Data)] &lt;- NA\nError in is.infinite(Data) : \ndefault method not implemented for type 'list'\n</code></pre>\n<p>Please is there something I am not doing right?</p>\n"
	}, {
		"tags": ["r", "plot", "linegraph"],
		"owner": {
			"reputation": 13,
			"user_id": 4576628,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/-MCI65zti0lw/AAAAAAAAAAI/AAAAAAAAABo/W7u5-YoCM4Y/photo.jpg?sz=256",
			"display_name": "Oliver",
			"link": "https://stackoverflow.com/users/4576628/oliver"
		},
		"is_answered": true,
		"view_count": 1536,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 30139473,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676571248,
		"creation_date": 1431121532,
		"last_edit_date": 1431166163,
		"question_id": 30133330,
		"link": "https://stackoverflow.com/questions/30133330/vertical-line-chart-change-line-plotting-direction-to-top-down-in-r",
		"title": "vertical line chart - change line plotting direction to top-down in R",
		"body": "<p>I am looking for a way where data points are connected following a top-down manner to visualize a ranking. In that the y-axis represents the rank and the x-axis the attributes. With the normal setting the line connects the point starting from left to right. This results that the points are connected in the wrong order.</p>\n\n<p>With the data below the line should be connected from (6,1) to (4,2) and then (5,3) etc. Optimally the ranking scale need to be inverted so that rank one starts on the top.</p>\n\n<pre><code>data &lt;- read.table(header=TRUE, text='\nattribute rank\n1    6\n2    5\n3    4\n4    2\n5    3\n6    1\n7    7\n8   11\n9   10\n10    8\n11    9\n')\n\nplot(data$attribute,data$rank,type=\"l\")\n</code></pre>\n\n<p>Is there a way to change the line drawing direction? My second idea would be to rotate the graph or maybe you have better ideas.</p>\n\n<p>The graph I am trying to achieve is somewhat similar to this one:\n<a href=\"http://peltiertech.com/wp-content/img200810/vlinejagged.png\" rel=\"nofollow\">example vertical line chart</a></p>\n"
	}, {
		"tags": ["r", "knitr"],
		"owner": {
			"reputation": 377,
			"user_id": 10173383,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-uOY6vTp43so/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qZ2TzNiBj9lOyW8WV83eZkFeXKqg/mo/photo.jpg?sz=256",
			"display_name": "J.Z.",
			"link": "https://stackoverflow.com/users/10173383/j-z"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75466236,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676570403,
		"creation_date": 1676501292,
		"question_id": 75466142,
		"link": "https://stackoverflow.com/questions/75466142/how-to-resize-an-r-plot-in-the-report-generated-by-compile-report-not-in-r-mark",
		"title": "How to resize an R plot in the report generated by compile report (Not in R Markdown)?",
		"body": "<p>In R Studio, there is an option to compile a report without writing codes in the R Markdown. The keyboard combination on Mac is Shift + Command + K. When I use it on the following code:</p>\n<pre><code>par(mfrow = c(2,1))  \n\nplot(pressure$pressure~pressure$temperature) \ncurve((0.168 + 0.007*x)^(20/3), from = 0, to = 400, add = TRUE) \nmtext(&quot;Temperature vs. Pressure (Unadjusted)&quot;, side = 3, cex = 1.2) \n\nplot(pressure$pressure^(3/20)~pressure$temperature) \nabline(0.168,0.007) \nmtext(&quot;Temperature vs. Pressure (Adjusted)&quot;, side = 3, cex = 1.2) \n</code></pre>\n<p>it gives a report like this:\n<a href=\"https://i.stack.imgur.com/wjS22.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wjS22.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to resize the plot in the report? For example, how to set it to width 800, and height 1000 as in the following image?</p>\n<p><a href=\"https://i.stack.imgur.com/wxEHN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxEHN.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "ggplot2", "facet-wrap", "facet-grid", "dot-plot"],
		"owner": {
			"reputation": 43,
			"user_id": 14271849,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/qCJGX.jpg?s=256&g=1",
			"display_name": "Garrett",
			"link": "https://stackoverflow.com/users/14271849/garrett"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75476226,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676570367,
		"creation_date": 1676569384,
		"question_id": 75476064,
		"link": "https://stackoverflow.com/questions/75476064/how-can-i-make-stacked-dot-plots-using-a-facet-in-ggplot2-r",
		"title": "How can I make stacked dot plots using a facet in GGplot2? R",
		"body": "<p>I am trying to stack dot plots using a facet in GGplot2.</p>\n<p>My first dot plot:</p>\n<pre><code>plot1 &lt;- ggplot(marathon, aes(x = MarathonTime, y = first_split_percent)) +\n  geom_point()\nplot1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1VRAE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VRAE.png\" alt=\"enter image description here\" /></a></p>\n<p>My second:</p>\n<pre><code>plot2 &lt;- ggplot(marathon, aes(x=MarathonTime, y=km4week)) +\n  geom_point()\nplot2\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HKfWC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HKfWC.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to stack them on top of each other as they share the same x-axis. I have tried using facet_wrap as so:</p>\n<pre><code>plot3 &lt;- ggplot(marathon, aes(x = MarathonTime, y = first_split_percent)) +\n  geom_point() +\n  facet_wrap(km4week~.)\nplot3\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oRcvw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oRcvw.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also played around with the 'rows = vars(km4week), cols = vars(MarathonTime)' functions but have had no luck. Is there a way to achieve what I am describing without a facet? Or am I using the Facet function incorrectly? Any help is greatly appreciated!</p>\n"
	}, {
		"tags": ["html", "r", "formatting"],
		"owner": {
			"reputation": 39,
			"user_id": 19115550,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgbeCRNfknChvslcBC8A_Hp1r3bXq7nwt2wLVZHxQ=k-s256",
			"display_name": "Ruben",
			"link": "https://stackoverflow.com/users/19115550/ruben"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676569895,
		"creation_date": 1676569895,
		"question_id": 75476154,
		"link": "https://stackoverflow.com/questions/75476154/converting-website-html-formatting-into-r-markdown",
		"title": "converting website html formatting into R Markdown",
		"body": "<p>I have been looking into how to convert a simple HTML website created with R markdown, into R code. Is there any updated package that focuses on HTML conversion?</p>\n"
	}, {
		"tags": ["r", "dataframe", "tidyverse"],
		"owner": {
			"reputation": 1,
			"user_id": 21086578,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/82bffb66847a66b65efd12de65b96b00?s=256&d=identicon&r=PG",
			"display_name": "kheops",
			"link": "https://stackoverflow.com/users/21086578/kheops"
		},
		"is_answered": true,
		"view_count": 34,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676569717,
		"creation_date": 1676568949,
		"question_id": 75475980,
		"link": "https://stackoverflow.com/questions/75475980/can-pivot-longer-or-any-r-function-lead-to-a-tidy-dataframe-with-columns-of-diff",
		"title": "Can pivot_longer or any R function lead to a tidy dataframe with columns of different types?",
		"body": "<p>Given a survey dataframe in this kind of shape :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">ID</th>\n<th style=\"text-align: right;\">Age_1</th>\n<th style=\"text-align: right;\">Age_2</th>\n<th style=\"text-align: right;\">Age_3</th>\n<th style=\"text-align: left;\">Lang_1_E</th>\n<th style=\"text-align: left;\">Lang_1_F</th>\n<th style=\"text-align: left;\">Lang_2_E</th>\n<th style=\"text-align: left;\">Lang_2_F</th>\n<th style=\"text-align: left;\">Lang_3_E</th>\n<th style=\"text-align: left;\">Lang_3_F</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: right;\">20</td>\n<td style=\"text-align: right;\">25</td>\n<td style=\"text-align: right;\">30</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: right;\">21</td>\n<td style=\"text-align: right;\">25</td>\n<td style=\"text-align: right;\">47</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">French</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: right;\">17</td>\n<td style=\"text-align: right;\">42</td>\n<td style=\"text-align: right;\">43</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">French</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">French</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>where each row represents an interview, and the respondent answers different questions about all his/her family members.</p>\n<p>I have to reshape the dataframe so each row represents a person, like that :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">ID</th>\n<th style=\"text-align: left;\">person</th>\n<th style=\"text-align: right;\">Age</th>\n<th style=\"text-align: left;\">E</th>\n<th style=\"text-align: left;\">F</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: right;\">20</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">NA</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: right;\">25</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">NA</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\">30</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: right;\">21</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: right;\">25</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">NA</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\">47</td>\n<td style=\"text-align: left;\">English</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: right;\">17</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: right;\">42</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">3</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: right;\">43</td>\n<td style=\"text-align: left;\">NA</td>\n<td style=\"text-align: left;\">French</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>here is the code to create the example dataframe</p>\n<pre><code>df &lt;- tribble(\n  ~ID, ~Age_1, ~Age_2, ~Age_3, ~Lang_1_1, ~Lang_1_2, ~Lang_2_1, ~Lang_2_2, ~Lang_3_1, ~Lang_3_2,\n  1, 20, 25, 30, &quot;English&quot;, NA, &quot;English&quot;, NA, &quot;English&quot;, &quot;French&quot;,\n  2, 21, 25, 47, &quot;English&quot;, &quot;French&quot;, &quot;English&quot;, NA, &quot;English&quot;, &quot;French&quot;,\n  3, 17, 42, 43, NA, &quot;French&quot;, NA, &quot;French&quot;, NA, &quot;French&quot;\n)\n</code></pre>\n<p>I will be grateful if anyone knows an easy way to achieve this</p>\n<p>I tried to gather then to spread again but the fact that there are numeric columns and others in characters complicates things.\nDoing it for each question separately and then binding the columns would take forever given the gigantic number of questions in this survey.</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 23,
			"user_id": 21228502,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7nk0z3PnPGEE8z9py4c7fNETD5pxHxd1a-5M-7=k-s256",
			"display_name": "Mauricio Oliveira",
			"link": "https://stackoverflow.com/users/21228502/mauricio-oliveira"
		},
		"is_answered": true,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"closed_date": 1676567732,
		"accepted_answer_id": 75475620,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676569277,
		"creation_date": 1676566709,
		"question_id": 75475548,
		"link": "https://stackoverflow.com/questions/75475548/separating-data-frame-using-row-indices",
		"closed_reason": "Duplicate",
		"title": "Separating data frame using row indices",
		"body": "<p>I am currently trying to separate a data frame into smaller blocks based on headers, that are currently also listed as individual rows, like this:</p>\n<pre><code>\n1                 &gt;904 5.000000e+00         &lt;NA&gt;         &lt;NA&gt;\n2     0.00961538461538 9.615385e-03 9.615385e-03 9.711538e-01\n3     0.00961538461538 9.615385e-03 9.711538e-01 9.615385e-03\n4     0.00961538461538 9.615385e-03 9.711538e-01 9.615385e-03\n5     0.00961538461538 9.615385e-03 9.711538e-01 9.615385e-03\n6       0.971153846154 9.615385e-03 9.615385e-03 9.615385e-03\n7                 &gt;s36 7.000000e+00         &lt;NA&gt;         &lt;NA&gt;\n8       0.844325153374 7.668712e-04 1.541411e-01 7.668712e-04\n9      0.0774539877301 6.909509e-01 7.745399e-02 1.541411e-01\n10   0.000766871165644 7.745399e-02 1.541411e-01 7.676380e-01\n11       0.76763803681 7.745399e-02 7.668712e-04 1.541411e-01\n12     0.0774539877301 7.745399e-02 7.676380e-01 7.745399e-02\n13      0.230828220859 6.142638e-01 7.745399e-02 7.745399e-02\n14      0.460889570552 2.308282e-01 1.541411e-01 1.541411e-01\n</code></pre>\n<p>Headers are the &quot;&gt;&quot; rows and the numbers below are matrices that I want as values for the headers.</p>\n<p>I would like it to look like this:</p>\n<pre><code>\n$0\n1                 &gt;904 5.000000e+00         &lt;NA&gt;         &lt;NA&gt;\n2     0.00961538461538 9.615385e-03 9.615385e-03 9.711538e-01\n3     0.00961538461538 9.615385e-03 9.711538e-01 9.615385e-03\n4     0.00961538461538 9.615385e-03 9.711538e-01 9.615385e-03\n5     0.00961538461538 9.615385e-03 9.711538e-01 9.615385e-03\n6       0.971153846154 9.615385e-03 9.615385e-03 9.615385e-03\n\n$1\n7                 &gt;s36 7.000000e+00         &lt;NA&gt;         &lt;NA&gt;\n8       0.844325153374 7.668712e-04 1.541411e-01 7.668712e-04\n9      0.0774539877301 6.909509e-01 7.745399e-02 1.541411e-01\n10   0.000766871165644 7.745399e-02 1.541411e-01 7.676380e-01\n11       0.76763803681 7.745399e-02 7.668712e-04 1.541411e-01\n12     0.0774539877301 7.745399e-02 7.676380e-01 7.745399e-02\n13      0.230828220859 6.142638e-01 7.745399e-02 7.745399e-02\n14      0.460889570552 2.308282e-01 1.541411e-01 1.541411e-01\n</code></pre>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 7221,
			"user_id": 625056,
			"user_type": "registered",
			"accept_rate": 57,
			"profile_image": "https://www.gravatar.com/avatar/44e186c20374a9ea291ec099d9a71db4?s=256&d=identicon&r=PG",
			"display_name": "Wojciech Sobala",
			"link": "https://stackoverflow.com/users/625056/wojciech-sobala"
		},
		"is_answered": true,
		"view_count": 1073,
		"down_vote_count": 0,
		"up_vote_count": 14,
		"accepted_answer_id": 5174365,
		"answer_count": 1,
		"score": 14,
		"last_activity_date": 1676569239,
		"creation_date": 1299103623,
		"last_edit_date": 1676569239,
		"question_id": 5174144,
		"link": "https://stackoverflow.com/questions/5174144/split-vector-with-letters-and-numbers-at-the-letters-into-a-list",
		"title": "Split vector with letters and numbers at the letters, into a list",
		"body": "<p>I have a character vector with letters and numbers:</p>\n<pre><code>c(&quot;A&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;,   &quot;B&quot;, &quot;4&quot;, &quot;5&quot;,   &quot;D&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;)\n</code></pre>\n<p>I would like to transform this vector into list. The names of the list elements are the letters in the vector. The values in each list element are the numbers in the vector, which come in blocks between letters:</p>\n<pre><code>list(A = c(1, 2, 3), B = c(4, 5), ...)\n</code></pre>\n"
	}, {
		"tags": ["r", "raster", "xgboost", "predict", "caret"],
		"owner": {
			"reputation": 1,
			"user_id": 21222833,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5Xb8Ph70AoI8pZ3gh3BYr23cIERUpjhg-5eNOulA=k-s256",
			"display_name": "Valentina Rubio",
			"link": "https://stackoverflow.com/users/21222833/valentina-rubio"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676568457,
		"creation_date": 1676503772,
		"last_edit_date": 1676568457,
		"question_id": 75466392,
		"link": "https://stackoverflow.com/questions/75466392/predicting-confidence-intervals-for-a-xgboost-model-calibrated-with-caret-in-r",
		"title": "Predicting confidence intervals for a XGBOOST model calibrated with Caret in r",
		"body": "<p>I calibrated an XGBOOST model using the 'Caret' package (6.0-93).\nMy training was</p>\n<pre><code>&gt;  train.control &lt;- trainControl(method = &quot;repeatedcv&quot;,\n&gt;                                   number = 10, \n&gt;                                   repeats = 5,\n&gt;                                   search = &quot;grid&quot;)\n\n\n\n&gt;     MODEL1 &lt;- train(ACE ~ .,\n&gt;                     data = train.DATOS,\n&gt;                     method = &quot;xgbTree&quot;,\n&gt;                     tuneGrid = tune.grid,\n&gt;                     trControl =  train.control)\n</code></pre>\n<p>I now want to predict over my study area using a stack of rasters as predicting variables: if I use predict the model works.</p>\n<pre><code>   &gt;  predict(RASTER.covariables, MODEL1)\n</code></pre>\n<p>I tried adding to the prediction function:</p>\n<pre><code>&gt; predict(RASTER.covariables, MODEL1, interval =&quot;confidence&quot;, level= 0.2)\n\n# THIS GIVES ME THE SAME RESULTS THAT NOT ADDING THAT PART \n</code></pre>\n<p>I also tried using the following:</p>\n<pre><code>&gt;     predict(RASTER.covariables, MODEL1,predictionInterval = TRUE) \n&gt;     predict(RASTER.covariables, MODEL1,type=&quot;quantile&quot;) \n&gt;     predict(RASTER.covariables, MODEL1, predictionInterval = TRUE) \n&gt;     predict(RASTER.covariables, MODEL1,type=&quot;prove&quot;)\n</code></pre>\n<h1>these options don't work at all</h1>\n<p>I understand that 'predictionInterval' and type features don't work for xgboost Models,is that right? Are there other alternatives to predict the uncertainty of my model over my study area?</p>\n<p>Many thanks in advance!</p>\n"
	}, {
		"tags": ["r", "join", "time-series", "data.table"],
		"owner": {
			"reputation": 247,
			"user_id": 6720088,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c9f0e9f20db1c9fec32e93eeb803be3e?s=256&d=identicon&r=PG&f=1",
			"display_name": "Phil",
			"link": "https://stackoverflow.com/users/6720088/phil"
		},
		"is_answered": false,
		"view_count": 42,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676568161,
		"creation_date": 1676503299,
		"question_id": 75466339,
		"link": "https://stackoverflow.com/questions/75466339/fast-data-table-joins-with-time-series",
		"title": "Fast data.table joins with time series",
		"body": "<p>I have two data sets with currency data prices (High, Low, Open and Close) on two different timeframes (1 hour and 5 minute).</p>\n<p>I have price targets for each row of the 1 Hour timeframe data, and a target direction for the trade (either 1 or -1).</p>\n<p>For trades with a direction of '1', I'm trying to find the first point on the 5 minute chart where the &quot;low&quot; is &lt;= the target level. Conversely, for trades with a direction of '-1', I want to find the first point on the 5-minute chart where the &quot;high&quot; is &gt;= the target trade level.</p>\n<p>I've put the code below to demonstrate what I'm after.</p>\n<p>The problem I'm having in practice is that I'm looking at time periods spanning 10 - 20 years, which makes the joins very slow.\nI've set the example below to be from 2016 to 2022 so it's not too slow on my computer, but if you extend it out to more than 10 years it starts to really become a pain.</p>\n<p>This may be something that I have to live with, but I'm looking for guidance on two things:</p>\n<ol>\n<li>Is there a faster / more efficient way of achieving what I've outlined below?</li>\n<li>You can see that I've separated the buy and sell trades into two joins at the end. Is there a way to combine that into one single join? It's not really that important as it doesn't take up too much 'space' in my code, but I'm interested for educational purposes.</li>\n</ol>\n<p>Thanks heaps in advance,\nPhil</p>\n<pre><code># Load required packages\nlibrary(data.table)\nlibrary(dplyr)\n\n# Define timeframes for the data\nStart &lt;- as.POSIXct(&quot;2016-01-01 00:00:00&quot;)\nEnd &lt;- as.POSIXct(&quot;2022-01-01 23:55:00&quot;)\n\nHours &lt;- floor(as.numeric(difftime(End,Start,units = &quot;hours&quot;))) + 1\nMinutes &lt;- floor(as.numeric(difftime(End,Start,units = &quot;mins&quot;)) / 5) + 1\n\n# Create the Hourly data\nset.seed(123)\nhourly_prices &lt;- data.table(\n  datetime = seq(Start, End, by = &quot;hour&quot;),\n  open = rnorm(Hours, mean = 100, sd = 1),\n  high = rnorm(Hours, mean = 101, sd = 1),\n  low = rnorm(Hours, mean = 99, sd = 1),\n  close = rnorm(Hours, mean = 100, sd = 1),\n  Direction = sample(c(1,-1),Hours,replace = T)) %&gt;%\n  .[,Target_price := ifelse(Direction == -1,rnorm(.N, mean = 104, sd = 1),rnorm(.N,mean = 97,sd = 1))]\n\n# Create the 5-minute data\nset.seed(456)\nminute_prices &lt;- data.table(\n  datetime = seq(Start, End, by = &quot;5 min&quot;),\n  open = rnorm(Minutes, mean = 100, sd = 1),\n  high = rnorm(Minutes, mean = 101, sd = 1),\n  low = rnorm(Minutes, mean = 99, sd = 1),\n  close = rnorm(Minutes, mean = 100, sd = 1),\n  Position = seq_len(Minutes))\n\n# Join the two data.tables to find the first point at which price passes the target levels\nhourly_prices[(Direction == 1),Location := minute_prices[.SD, on = .(datetime &gt; datetime, low &lt;= Target_price),mult = &quot;first&quot;,x.Position]]\nhourly_prices[(Direction == -1),Location := minute_prices[.SD, on = .(datetime &gt; datetime, high &gt;= Target_price),mult = &quot;first&quot;,x.Position]]\n</code></pre>\n"
	}, {
		"tags": ["r", "lme4", "tidymodels", "smote"],
		"owner": {
			"reputation": 22966,
			"user_id": 3304471,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://i.stack.imgur.com/nwm0H.jpg?s=256&g=1",
			"display_name": "jazzurro",
			"link": "https://stackoverflow.com/users/3304471/jazzurro"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676567927,
		"creation_date": 1676556681,
		"last_edit_date": 1676567927,
		"question_id": 75473466,
		"link": "https://stackoverflow.com/questions/75473466/how-to-run-glmer-with-smote-and-resampling",
		"title": "How to run GLMER with SMOTE and resampling",
		"body": "<p>I want to create GLMER models with the SMOTE algorithm and resampling. This means that I need to create a recipe with <code>step_smote()</code> and use <code>fit_resamples()</code>. After reading <a href=\"https://github.com/tidymodels/multilevelmod/issues/16\" rel=\"nofollow noreferrer\">this post</a>, and <a href=\"https://github.com/tidymodels/multilevelmod/issues/4\" rel=\"nofollow noreferrer\">this post</a>, I learned that I need to use <code>add_model()</code> and <code>add_variable()</code> in order to create a workflow object, and that <code>add_recipe()</code> cannot be used in this process. This means I cannot use <code>step_smote()</code>. The first link addresses this limitation. Now the question is how I can use the SMOTE algorithm in this situation. In addition, I want to use a few other <code>step_***()</code> functions such as <code>step_dummy()</code> and <code>step_rm()</code>. In short, I want to use a recipe and cross validation in GLMER modeling processes. Is there any way to make this happen? I decided to use the example in <a href=\"https://juliasilge.com/blog/himalayan-climbing/\" rel=\"nofollow noreferrer\">this post</a> so that everyone can reproduce the same situation. Note that solutions do not have to be in tidymodels ways.</p>\n<pre><code>library(tidyverse)\nlibrary(tidymodels)\nlibrary(themis)\n\n# I use data from https://juliasilge.com/blog/himalayan-climbing/\nmembers &lt;- read_csv(&quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-22/members.csv&quot;)\n\n# These are the same processes from the post above.\nmembers_df &lt;- members %&gt;%\n  filter(season != &quot;Unknown&quot;, !is.na(sex), !is.na(citizenship)) %&gt;%\n  select(peak_id, year, season, sex, age, citizenship, hired, success, died) %&gt;%\n  mutate(died = case_when(died ~ &quot;died&quot;, TRUE ~ &quot;survived&quot;)) %&gt;%\n  mutate_if(is.character, factor) %&gt;%\n  mutate_if(is.logical, as.integer)\n\n# Since the dataset is large, I subset it here for this question.\nset.seed(386)\nbind_rows(filter(members_df, died == &quot;died&quot;),\n          filter(members_df, died == &quot;survived&quot;) %&gt;% sample_n(2000)) -&gt; members_df\n\n# Create data sets\nset.seed(123)\nmembers_split &lt;- initial_split(members_df, strata = died)\nmembers_train &lt;- training(members_split)\nmembers_test &lt;- testing(members_split)\n\n# Create CV folds\nset.seed(123)\nmembers_folds &lt;- vfold_cv(members_train, v = 10, repeats = 5, strata = died)\n\n# Here I wanna use glmer. Create model specification\nlogistic_reg() %&gt;% \n  set_engine(&quot;glmer&quot;, family = binomial,\n             control = glmerControl(optimizer = &quot;bobyqa&quot;,\n                                    optCtrl = list(maxfun = 2e5))) %&gt;% \n  set_mode(&quot;classification&quot;) -&gt; members_spec\n\n# As far as I learned from these links, I cannot use a recipe in order to run GLMER. But I create a recipe, anyway.\n# The key is that I want to apply SMOTE algorithm to glmer modeling in tidymodels ways.\n\nrecipe(died ~ ., data = members_train) %&gt;%\n  step_rm(citizenship) %&gt;%\n  step_impute_median(age) %&gt;%\n  step_other(peak_id) %&gt;%\n  step_dummy(all_nominal(), -died) %&gt;%\n  step_smote(died) -&gt; members_recipe\n\n# This works as long as users do not have to use the recipe package.\n# This is addressed in https://github.com/tidymodels/multilevelmod/issues/4\n\nworkflow() %&gt;% \n  add_model(spec = members_spec,\n            formula = died ~ year + season + sex + age + (1|peak_id)) %&gt;% \n  add_variables(outcomes = died,\n                predictors = c(year, season, sex, age, peak_id)) -&gt; members_workflow \n\n# This is the WRONG way.\nworkflow() %&gt;% \nadd_model(spec = members_spec,\n          formula = died ~ year + season + sex + age + (1|peak_id)) %&gt;% \nadd_recipe(members_recipe) -&gt; wrong_workflow\n\n# This is another WRONG way. This causes an error message.\nworkflow() %&gt;% \n  add_model(spec = members_spec,\n            formula = died ~ year + season + sex + age + (1|peak_id)) %&gt;%\n  add_variables(outcomes = died,\n                predictors = c(year, season, sex, age, peak_id)) %&gt;% \n  add_recipe(members_recipe) \n\n# Ideally, the workflow object here includes a recipe. But can we make it?\nset.seed(777)\nfit_resamples(object = wrong_workflow, # This workflow object needs to include a recipe\n              resamples = members_folds,\n              control = control_resamples(save_pred = TRUE, save_workflow = TRUE)) -&gt; members_res\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "split"],
		"owner": {
			"reputation": 350,
			"user_id": 12799222,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0c4686985519b6ca5d664dc64c92cd0d?s=256&d=identicon&r=PG&f=1",
			"display_name": "takeITeasy",
			"link": "https://stackoverflow.com/users/12799222/takeiteasy"
		},
		"is_answered": true,
		"view_count": 65,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 61693706,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676567809,
		"creation_date": 1589011843,
		"last_edit_date": 1676567809,
		"question_id": 61693669,
		"link": "https://stackoverflow.com/questions/61693669/split-data-frame-by-string-pattern-in-a-column",
		"title": "Split data.frame by string pattern in a column",
		"body": "<p>Similar to <a href=\"https://stackoverflow.com/questions/11402088/split-data-frame-by-value#11402170\">Split data.frame by value</a> I want to split a df by value. In my case the value is not always exactly the same. I tried this but did not succed:</p>\n\n<pre><code>df &lt;- data.frame(var1 = c(\"ab\", 1, 2, 3, \"ac\", 1, 2, 3, 4, 5, 6, \"ad\", 1, 2), var2 = 1:14)\n</code></pre>\n\n<p>I want to split by a*. It should look like this:</p>\n\n<pre><code>ab 1\n1 2\n2 3\n3 4\n\nac 5\n1 6\n2 7\n3 8\n4 9\n5 10\n6 11\n\nad 12\n1 13\n2 14\n</code></pre>\n\n<p>I tried this to get it</p>\n\n<pre><code>df[,1] == \"a*\"\n#it shows all over 0\n\n#I would do sth. like that\n#split(df, cumsum(df[,1] == \"a*\"))\n\n</code></pre>\n\n<p>I think the <code>*</code> is wrong. But how do I say R, that varying values come after a? </p>\n"
	}, {
		"tags": ["r", "geospatial", "r-raster"],
		"owner": {
			"reputation": 2619,
			"user_id": 69834,
			"user_type": "registered",
			"accept_rate": 60,
			"profile_image": "https://i.stack.imgur.com/u6CP4.jpg?s=256&g=1",
			"display_name": "Mark Henry",
			"link": "https://stackoverflow.com/users/69834/mark-henry"
		},
		"is_answered": true,
		"view_count": 291,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 68608971,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676567567,
		"creation_date": 1627722026,
		"question_id": 68600651,
		"link": "https://stackoverflow.com/questions/68600651/calculations-with-rasters-that-are-a-bit-different-in-dimensions-and-resolution",
		"title": "calculations with rasters that are a bit different in dimensions and resolution",
		"body": "<p>I would like to multiply the two rasters (in R) but they do not match exactly. What are my options to be able to multiply the rasters?</p>\n<pre><code>&gt; veg_g\nclass      : RasterLayer \ndimensions : 2416, 2807, 6781712  (nrow, ncol, ncell)\nresolution : 0.25, 0.25  (x, y)\nextent     : 109067.2, 109769, 533016.5, 533620.5  (xmin, xmax, ymin, ymax)\ncrs        : +proj=sterea +lat_0=52.1561605555556 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs \nsource     : memory\nnames      : layer \nvalues     : 0, 1  (min, max)\n\n&gt; garden_5mplus\nclass      : RasterLayer \ndimensions : 2416, 2804, 6774464  (nrow, ncol, ncell)\nresolution : 0.2502728, 0.2500402  (x, y)\nextent     : 109067.3, 109769.1, 533016.4, 533620.5  (xmin, xmax, ymin, ymax)\ncrs        : +proj=sterea +lat_0=52.1561605555556 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs \nsource     : memory\nnames      : BBOXrs_rAHN3_05m_DSM \nvalues     : 0, 1  (min, max)\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "ggalluvial"],
		"owner": {
			"reputation": 1653,
			"user_id": 17077978,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/d3d06835e4973cb35b82dd3472f3f9bb?s=256&d=identicon&r=PG",
			"display_name": "RobertoT",
			"link": "https://stackoverflow.com/users/17077978/robertot"
		},
		"is_answered": true,
		"view_count": 30,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75475627,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676567129,
		"creation_date": 1676466472,
		"last_edit_date": 1676565292,
		"question_id": 75460259,
		"link": "https://stackoverflow.com/questions/75460259/working-with-ggalluvial-ggsankey-library-with-missing-combinations-and-dropouts",
		"title": "Working with ggalluvial ggsankey library with missing combinations and dropouts",
		"body": "<p>I'm trying to represent the movements of patients between several treatment groups measured in 3 different years. However, there're dropouts where some patients from 1st year are missing in the 2nd year or there are patients in the 2nd year who weren't in the 1st. Same for 3rd year. I have a label called &quot;none&quot; for these combinations, but I don't want it to be in the plot.</p>\n<p>An example plot with only 2 years:\n<a href=\"https://i.stack.imgur.com/e2ZBv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e2ZBv.png\" alt=\"Plot with 'none' values\" /></a></p>\n<p><strong>EDIT</strong></p>\n<p>I have tried with geom_sankey as well (<a href=\"https://rdrr.io/github/davidsjoberg/ggsankey/man/geom_sankey.html\" rel=\"nofollow noreferrer\">https://rdrr.io/github/davidsjoberg/ggsankey/man/geom_sankey.html</a>).\nAlthough it is more accurate to what I'm looking for. I don't know how to omit the stratum groups without labels (NA). In this case, I'm using my full data, not a dummy example. I can't share it but I can try to create an example if needed. This is the code I've tried:</p>\n<pre><code>data = bind_rows(data_2015,data_2017,data_2019) %&gt;% \n  select(sip, Year, Grp) %&gt;%\n  mutate(Grp = factor(Grp), Year = factor(Year)) %&gt;%\n  arrange(sip) %&gt;% \n  pivot_wider(names_from = Year, values_from = Grp)\n\ndf_sankey = data %&gt;% make_long(`2015`,`2017`,`2019`)\n\nggplot(df_sankey, aes(x = x, \n               next_x = next_x, \n               node = node, \n               next_node = next_node,\n               fill = factor(node),\n               label = node,\n               color=factor(node) )) +\n  geom_sankey(flow.alpha = 0.5, node.color = 1) +\n  geom_sankey_label(size = 3.5, color = 1, fill = &quot;white&quot;) +\n  scale_fill_viridis_d() +\n  scale_colour_viridis_d() +\n  theme_sankey(base_size = 16) +\n  theme(legend.position = &quot;none&quot;) + xlab('')\n</code></pre>\n<p>Figure:</p>\n<p><a href=\"https://i.stack.imgur.com/mzVET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzVET.png\" alt=\"Geom_sankey() image\" /></a></p>\n<p>Any idea how to omit the missing groups every year as stratum (without omitting them in the alluvium) will be super helpful. Thanks!</p>\n"
	}, {
		"tags": ["r", "bookdown"],
		"owner": {
			"reputation": 547,
			"user_id": 6515902,
			"user_type": "registered",
			"accept_rate": 0,
			"profile_image": "https://graph.facebook.com/10208910981508281/picture?type=large",
			"display_name": "Lyndon Sundmark",
			"link": "https://stackoverflow.com/users/6515902/lyndon-sundmark"
		},
		"is_answered": true,
		"view_count": 6011,
		"down_vote_count": 0,
		"up_vote_count": 14,
		"answer_count": 1,
		"score": 14,
		"last_activity_date": 1676567051,
		"creation_date": 1490649413,
		"question_id": 43056648,
		"link": "https://stackoverflow.com/questions/43056648/r-bookdown-cover-page-and-appendix",
		"title": "R bookdown - cover page and appendix",
		"body": "<p>I have written a draft book in R Markdown.</p>\n\n<p>Two questions:</p>\n\n<ol>\n<li><p>Is it possible to include a 'cover page' with graphic and text in the index.rmd file so that the rendering in bookdown- shows a cover page prior to the title page?</p></li>\n<li><p>I have an appendix in the book which cover some miscellaneous thoughts and comments. Is there a way of telling bookdown not to label it as 'Chapter 11 -Appendix' but rather just Appendix?</p></li>\n</ol>\n\n<p>thanks</p>\n"
	}, {
		"tags": ["r", "dataframe", "summarization"],
		"owner": {
			"reputation": 23,
			"user_id": 21212447,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7BN-cgtLu6bJ321yzXxcTVXsUXU0Fn90N-4k3h=k-s256",
			"display_name": "johntitor",
			"link": "https://stackoverflow.com/users/21212447/johntitor"
		},
		"is_answered": true,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 75474035,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676566634,
		"creation_date": 1676558617,
		"last_edit_date": 1676566634,
		"question_id": 75473878,
		"link": "https://stackoverflow.com/questions/75473878/summarize-consecutive-years-by-group-based-on-specific-conditions",
		"title": "Summarize consecutive years by group based on specific conditions",
		"body": "<p>I have a dataset with three columns country, years, and growth. I want to identify periods when a country experienced &gt;=6% growth for 3 or more years, alongside another column with the mean growth during that period.</p>\n<p>I need to create a data frame like: Albania 1999-2001, 0.133 (namely country, period, and mean_growth columns), etc.</p>\n<p>I filtered the original data frame to show the years where growth was &gt;= 0.06. Here's one country:</p>\n<pre><code>  country cow_code years growth\n 1 Albania      339 1999  0.158 \n 2 Albania      339 2000  0.106 \n 3 Albania      339 2001  0.136 \n 4 Albania      339 2003  0.123 \n 5 Albania      339 2004  0.0930\n 6 Albania      339 2006  0.228 \n 7 Albania      339 2007  0.238 \n 8 Albania      339 2008  0.178 \n 9 Albania      339 2010  0.0744\n10 Albania      339 2018  0.0825\n11 Albania      339 2019  0.137 \n12 Albania      339 2021  0.181 \n</code></pre>\n<p>I want to produce something like this for all the countries that are in my original dataframe:</p>\n<pre><code>   country    period mean_growth\n 1 Albania 1999-2001       0.133\n 2 Albania 2006-2008       0.215 \n</code></pre>\n<p>Any clue how I can do this?</p>\n"
	}, {
		"tags": ["r", "dataframe", "statistics", "bioinformatics"],
		"owner": {
			"reputation": 23,
			"user_id": 17287588,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJzmwDDk8N2qsbAGmvRou27liyyEXefRLaZOy4z5=k-s256",
			"display_name": "margo",
			"link": "https://stackoverflow.com/users/17287588/margo"
		},
		"is_answered": false,
		"view_count": 76,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676566162,
		"creation_date": 1658253617,
		"last_edit_date": 1658397350,
		"question_id": 73041571,
		"link": "https://stackoverflow.com/questions/73041571/finding-peaks-within-a-data-frame-in-r",
		"title": "Finding peaks within a data frame in R",
		"body": "<p>I am trying to analyse some biological data within R. I have a data frame that contains a window for positions on a dna sequence that I want to analyse. For example, 237-1437. I have a count of files which contains the position and a count. For each window, I want to analyse each position in the count file and look for significant peaks in counts. Does anyone know how to do this?</p>\n<p>The count file looks like this and is within a data frame labelled <code>df2</code>:</p>\n<pre><code>V1    V2    V3   \ngene  1     6\ngene  2     0\ngene  3     0\ngene  4     10\n....\n</code></pre>\n<p>The data frame which contains the window looks like this and is labelled <code>df</code>:</p>\n<pre><code>seqnames    start    end    strand   window_end   \ngene        65       1237   +        1437\ngene        1262     2134   +        2334\ngene        2178     4511   +        4711\n</code></pre>\n<p>I want the output to produce a list of significant peaks.</p>\n"
	}, {
		"tags": ["r", "shiny", "shinyjs", "reactable", "shinymodules"],
		"owner": {
			"reputation": 719,
			"user_id": 3193927,
			"user_type": "registered",
			"accept_rate": 79,
			"profile_image": "https://i.stack.imgur.com/R8gE1.jpg?s=256&g=1",
			"display_name": "CallumH",
			"link": "https://stackoverflow.com/users/3193927/callumh"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676566005,
		"creation_date": 1676566005,
		"question_id": 75475439,
		"link": "https://stackoverflow.com/questions/75475439/how-to-return-the-filtered-rows-in-a-reactable-table-in-a-shiny-app-module",
		"title": "How to return the filtered rows in a reactable table in a Shiny app module",
		"body": "<p>I am looking for some help please to develop a solution to return the filtered rows in a reactable table in a Shiny app module.</p>\n<p>I am looking to identify which rows are the subset of mtcars after the columns have been filtered with free text in the filter fields. The closest solution that I have found is at  <a href=\"https://github.com/glin/reactable/issues/104#issuecomment-1262273788\" rel=\"nofollow noreferrer\">https://github.com/glin/reactable/issues/104#issuecomment-1262273788</a>, however, I just can\u2019t get it to sing inside a Shiny module.</p>\n<p>I have placed calls to the <code>ns()</code> function in the jsCode string where I believe they should be, but can\u2019t get the <code>verbatimTextOutput</code> 'out' element to show which rows, by index, are selected.</p>\n<p>Any help would be appreciated. TIA</p>\n<pre><code>library(shiny)\nlibrary(reactable)\nlibrary(shinyjs)\n\nfirecastUI &lt;- function(id) {\n  ns &lt;- NS(id)\n  jsCode &lt;- paste('shinyjs.getSortedData = function() {\n  try {\n    var idx = Reactable.getInstance(&quot;', ns('a_table'),'&quot;).sortedFlatRows.map(x =&gt; x.index + 1);\n    Shiny.onInputChange(&quot;', ns('sorted_data'),'&quot;, idx);\n  } catch {}\n}')\n  \n  tagList(\n    useShinyjs(),\n    extendShinyjs(text = jsCode, functions = &quot;getSortedData&quot;),\n    reactableOutput(ns('a_table')),\n    br(),\n    verbatimTextOutput(ns(&quot;out&quot;))\n  )\n}\n\nfirecastServer &lt;- function(id) {\n  moduleServer(\n    id,\n    function(input, output, session) {\n      \n      output$a_table &lt;- renderReactable({\n        reactable(\n          data = mtcars,\n          filterable = TRUE\n        )\n      })\n      \n      observe({\n        invalidateLater(100)\n        js$getSortedData()\n      })\n      \n      output$out &lt;- renderPrint({\n        input$sorted_data\n      })\n    }\n  )\n}\n\n\nui &lt;- fluidPage(\n  firecastUI('fire')\n)\n\nserver &lt;- function(input, output, session) {\n  firecastServer('fire')\n}\n\nshinyApp(ui, server)\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1,
			"user_id": 21124458,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/e1c563b2b6cfd20b832856016ab7f9ba?s=256&d=identicon&r=PG",
			"display_name": "Eliaschf",
			"link": "https://stackoverflow.com/users/21124458/eliaschf"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676565946,
		"creation_date": 1676561679,
		"question_id": 75474530,
		"link": "https://stackoverflow.com/questions/75474530/overlay-2-dataframes-on-the-same-graph-using-r",
		"title": "Overlay 2 dataframes on the same graph using R",
		"body": "<p>I would like to overlay the points from two different dataframes on the same graph but I can't seem to achieve it.</p>\n<p>I know that I need to combine the 2 ggplot() but I don't know which method to use.</p>\n<pre><code>  ggplot(grid) + \nggtitle(&quot;top+bot&quot;) +\naes(x, y) + \ngeom_point(shape=15, color = &quot;blue&quot;, size = 2, alpha = (grid$z/op)) +\nscale_x_continuous(name= &quot;length (m)&quot;, breaks=seq(0, max(fullgrid[,&quot;x&quot;]), step)) +\nscale_y_continuous(name= &quot;width (mm)&quot;, breaks=seq(0, max(fullgrid[,&quot;y&quot;]), 100)) +\nexpand_limits(x = 0, y = 0) +\ncoord_cartesian(expand = FALSE) +\ntheme(plot.title = element_text(size=10, hjust = 0.5), axis.title.x = element_text(size=10), axis.text.x= element_text(angle=30, hjust=1), axis.title.y = element_text(size=10), axis.text.y= element_text(angle=30, hjust=1))\n\n  ggplot(def) + \nggtitle(&quot;top+bot&quot;) +\n        \ngeom_rect(data = def , aes(xmin = xbegc, xmax = xendc, ymin = ybegc, ymax =yendc ), \n                  alpha = 8) \n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "trendline"],
		"owner": {
			"reputation": 1,
			"user_id": 10588885,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6c3c773376244d8d6d1a4878c549937b?s=256&d=identicon&r=PG&f=1",
			"display_name": "Scott",
			"link": "https://stackoverflow.com/users/10588885/scott"
		},
		"is_answered": false,
		"view_count": 20,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676565277,
		"creation_date": 1676565235,
		"last_edit_date": 1676565277,
		"question_id": 75475291,
		"link": "https://stackoverflow.com/questions/75475291/how-do-i-get-a-trendline-to-appear-on-my-scatter-plot-in-ggplot",
		"title": "How do I get a trendline to appear on my scatter plot in ggplot?",
		"body": "<p>I'm having trouble getting a trend line to appear with on a scatter plot of data structured the following way:</p>\n<pre><code>cohort count\n  &lt;chr&gt;  &lt;int&gt;\n1 1989       5\n2 1990       7\n3 1991       4\n4 1992       4\n5 1993       8\n6 1994       7\n</code></pre>\n<p>This is the code I used to produce the plot:</p>\n<pre><code>ggplot(bipoc, aes(x = cohort, y = count)) +\n    geom_point() +\n    geom_smooth(method = 'lm') +\n    theme_classic()\n</code></pre>\n"
	}, {
		"tags": ["r", "shiny", "leaflet", "googleway"],
		"owner": {
			"reputation": 61,
			"user_id": 19393798,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJzjw2i0PLBJkp41wyXgJgrvwQvNy6xs2Y1iF4LV=k-s256",
			"display_name": "Carlo Soares",
			"link": "https://stackoverflow.com/users/19393798/carlo-soares"
		},
		"is_answered": true,
		"view_count": 19,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75475132,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676564453,
		"creation_date": 1676562570,
		"question_id": 75474716,
		"link": "https://stackoverflow.com/questions/75474716/the-map-generated-by-the-googleway-package-is-not-updated-after-pressing-the-oth",
		"title": "The map generated by the googleway package is not updated after pressing the other tabPanel",
		"body": "<p>The code below generates two maps, one being generated by the <code>googleway</code> package and the other by the <code>leaflet</code> package. See in the image that a region is selected in <code>selectInput</code> and automatically two maps are generated. If I change my <code>selectInput</code> with another option, the map automatically updates the new locations. This is working fine. The problem is when I go to the other <code>tabPanel</code>, that is &quot;Distance between locations&quot;, and I try to choose another region to showe the map again, only the map generated in the <code>leaflet</code>updates, the map generated by <code>googleway</code> does not, this is strange. Any help on this problem?</p>\n<pre><code>library(shiny)\nlibrary(shinythemes)\nlibrary(googleway)\nlibrary(shinyjs)\nlibrary(dplyr)\nlibrary(leaflet)\n\nset_key(&quot;API KEY&quot;)\n\ndf1&lt;-structure(list(ETEs = c(&quot;Location1&quot;, &quot;Location2&quot;, \n                             &quot;Location3&quot;, &quot;Location4&quot;, &quot;Location5&quot;, &quot;Location6&quot;, \n                             &quot;Location7&quot;, &quot;Location8&quot;), Latitude = c(-22.8851078223344, \n                                                                     -22.8315940282463, -22.9269302273894, -22.7168354545552, -22.4049856273179, \n                                                                     -23.6335639883851, -23.8650940097111, -22.2258061474773), \n                    Longitude = c(-48.4939312250395,-48.4298167144681, -48.4594335076124, -48.5783308965308, \n                                  -48.1690878117765,-49.3218749756598, -48.0149391697704, -48.7246763738941), \n                    Region = c(&quot;Centro-Oeste Paulista&quot;, &quot;Centro-Oeste Paulista&quot;, &quot;Centro-Oeste Paulista&quot;, &quot;Centro-Oeste Paulista&quot;, &quot;Nordeste Paulista&quot;,\n                               &quot;Nordeste Paulista&quot;, &quot;Nordeste Paulista&quot;, &quot;Nordeste Paulista&quot;)), row.names = c(NA, -8L), class = &quot;data.frame&quot;)\n\n\nfunction.test&lt;-function(df1,selected_regions){\n\n  df_filtered &lt;- df1 %&gt;% \n    filter(Region %in% selected_regions)\n  \n  plot1&lt;-google_map() %&gt;%\n    add_markers(data = df_filtered, lat = &quot;Latitude&quot;, lon = &quot;Longitude&quot;, info_window = df_filtered$ETEs)%&gt;%\n    clear_traffic() %&gt;%\n    clear_polylines() %&gt;%\n    clear_markers() %&gt;%\n    add_traffic() \n  \n  plot2&lt;- leaflet() %&gt;%\n    addMarkers(data = df_filtered, lat = ~Latitude, lng = ~Longitude) \n  \n  \n  return(list(\n    &quot;Plot1&quot; = plot1,\n    &quot;Plot2&quot; = plot2\n  ))\n}\n\n\nui &lt;- fluidPage(\n  \n  useShinyjs(), \n  \n  shiny::navbarPage(theme = shinytheme(&quot;flatly&quot;), collapsible = TRUE,\n                    br(),\n                    tabPanel(&quot;&quot;,\n                             sidebarLayout(\n                               sidebarPanel(\n                                 \n                                 selectizeInput(&quot;hours&quot;,\n                                                label = h5(&quot;Choose the region:&quot;), choices = NULL,\n                                                multiple = TRUE,\n                                                options = list(maxItems = 1))),\n                               \n                               \n                               mainPanel(\n                                 tabsetPanel(      \n                                   tabPanel(&quot;Map&quot;,google_mapOutput(outputId = &quot;mapWarsaw1&quot;,width = &quot;80%&quot;, height = &quot;400&quot;),leafletOutput(outputId = &quot;mapWarsaw2&quot;, width = &quot;80%&quot;, height = &quot;400&quot;)),\n                                   tabPanel(&quot;Distance between locations&quot;))\n                               )\n                             )\n                    )\n  ))\n\n\nserver &lt;- function(input, output,session) {\n  \n  df1_reactive &lt;- reactive(function.test(df1, input$hours))\n  \n  observe({\n    updateSelectizeInput(session, &quot;hours&quot;,\n                         choices = unique(df1$Region)\n    )\n  })\n  \n  output$mapWarsaw1 &lt;- renderGoogle_map({\n    req(input$hours)\n    df1_reactive()[[1]]\n  })\n  \n  output$mapWarsaw2 &lt;- renderLeaflet({\n    req(input$hours)\n    df1_reactive()[[2]]\n  })\n\n}\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n<p><strong>Map OK</strong>\n<a href=\"https://i.stack.imgur.com/WqZaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WqZaA.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Map after press <code>tabPanel Distance between locations</code> and try to generate the maps again</strong>\n<a href=\"https://i.stack.imgur.com/6mkAS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6mkAS.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "strsplit"],
		"owner": {
			"reputation": 375,
			"user_id": 9159589,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/kGkkD.jpg?s=256&g=1",
			"display_name": "Phil Smith",
			"link": "https://stackoverflow.com/users/9159589/phil-smith"
		},
		"is_answered": true,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75475077,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676564258,
		"creation_date": 1676563892,
		"question_id": 75474995,
		"link": "https://stackoverflow.com/questions/75474995/r-split-a-title-phrase-into-sub-phrases-of-a-given-maximum-length",
		"title": "R Split a title phrase into sub-phrases of a given maximum length",
		"body": "<p>I have an R data frame where the columns have names such as the following:</p>\n<p><code>&quot;Goods excluding food purchased from stores and energy\\nLast = 1.8&quot;</code></p>\n<p><code>&quot;Books and reading material (excluding textbooks)\\nLast = 136.1&quot;</code></p>\n<p><code>&quot;Spectator entertainment (excluding video and audio subscription services)\\nLast = -13.5&quot;</code></p>\n<p>There are a large number of columns. I want to insert newline characters where necessary, between words, so that these names consist of parts that are no longer than some given maximum, say MaxLen=18. And I want the last part, starting with the word &quot;Last&quot;, to be on a separate line. In the three examples, the desired output is:</p>\n<p><code>&quot;Goods excluding\\nfood purchased\\nfrom stores and\\nenergy\\nLast = 1.8&quot;</code></p>\n<p><code>&quot;Books and reading\\nmaterial\\n(excluding\\ntextbooks)\\nLast = 136.1&quot;</code></p>\n<p><code>&quot;Spectator\\nentertainment\\n(excluding video\\nand audio\\nsubscription\\nservices)\\nLast = -13.5&quot;</code></p>\n<p>I have been trying to accomplish this with strsplit(), but without success. The parentheses and '=' sign may be part of my problem. The &quot;\\nLast = &quot; portion is the same for all names.</p>\n<p>Any suggestions much appreciated.</p>\n"
	}, {
		"tags": ["r", "foreach", "error-handling", "ncdf4"],
		"owner": {
			"reputation": 43,
			"user_id": 7662012,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0c78e9f0f75bb0bacdd153628f7a1bfe?s=256&d=identicon&r=PG&f=1",
			"display_name": "Hai nguyen",
			"link": "https://stackoverflow.com/users/7662012/hai-nguyen"
		},
		"is_answered": true,
		"view_count": 808,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"accepted_answer_id": 54594628,
		"answer_count": 2,
		"score": 2,
		"last_activity_date": 1676563948,
		"creation_date": 1523292857,
		"last_edit_date": 1523297966,
		"question_id": 49737931,
		"link": "https://stackoverflow.com/questions/49737931/error-in-task-1-failed-error-returned-from-c-call-using-ncvar-get-ncdf4",
		"title": "Error in { : task 1 failed - &quot;error returned from C call&quot; using ncvar_get (ncdf4 package) within foreach loop",
		"body": "<p>I am trying to extract data from a .nc file. Since there are 7 variables in my file, I want to loop the ncvar_get function through all 7 using foreach. </p>\n\n<p>Here is my code:</p>\n\n<pre><code> # EXTRACTING CLIMATE DATA FROM NETCDF4 FILE\n\nlibrary(dplyr)\nlibrary(data.table)\nlibrary(lubridate)\nlibrary(ncdf4)\nlibrary(parallel)\nlibrary(foreach)\nlibrary(doParallel)\n\n# SET WORKING DIRECTORY\nsetwd('/storage/hpc/data/htnb4d/RIPS/UW_climate_data/')\n\n# SETTING UP\ncores &lt;- detectCores()\ncl &lt;- makeCluster(cores) \nregisterDoParallel(cl)\n\n# READING INPUT FILE\ninfile &lt;- nc_open(\"force_SERC_8th.1979_2016.nc\")\nvars &lt;- attributes(infile$var)$names\nclimvars &lt;- vars[1:7]\n\n# EXTRACTING INFORMATION OF STUDY DOMAIN:\ntab &lt;- read.csv('SDGridArea.csv', header = T)\npoint &lt;- sort(unique(tab$PointID)) #6013 points in the study area\n\n# EXTRACTING DATA (P, TMAX, TMIN, LW, SW AND RH):\nclusterEvalQ(cl, {\n  library(ncdf4)\n})\nclusterExport(cl, c('infile','climvars','point'))\nforeach(i = climvars) %dopar% {\n   climvar &lt;- ncvar_get(infile, varid = i) # all data points 13650 points\n   dim &lt;- dim(climvar)\n   climMX &lt;- aperm(climvar,c(3,2,1))\n   dim(climMX) &lt;- c(dim[3],dim[1]*dim[2])\n   climdt &lt;- data.frame(climMX[,point]) #getting 6013 points in the study area\n   write.table(climdt,paste0('SD',i,'daily.csv'), sep = ',', row.names = F)\n}\nstopCluster(cl)\n</code></pre>\n\n<p>And the error is:</p>\n\n<pre><code>Error in { : task 1 failed - \"error returned from C call\"\nCalls: %dopar% -&gt; &lt;Anonymous&gt;\nExecution halted\n</code></pre>\n\n<p>Could you please explain what is wrong with this code? I assume it has something to do with the fact that the cluster couldn't find out which variable to get from the file, since 'error returned from C call' usually comes from ncvar_get varid argument. </p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 11,
			"user_id": 13962244,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bdb935fbbea8de3284fb1f4b2634bb3a?s=256&d=identicon&r=PG&f=1",
			"display_name": "Andreas",
			"link": "https://stackoverflow.com/users/13962244/andreas"
		},
		"is_answered": false,
		"view_count": 312,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676563887,
		"creation_date": 1595237598,
		"last_edit_date": 1676563887,
		"question_id": 62992536,
		"link": "https://stackoverflow.com/questions/62992536/create-legend-to-ggplot2-line-plot",
		"title": "Create legend to ggplot2 line plot",
		"body": "<p>I have some questions about legends and axis in ggplot2.</p>\n<ol>\n<li>I want to plot two lines in the same graph and want to add a legend (group 1 and group 2) with the used linetypes and points.</li>\n<li>Is there a possibility, to start the X-axis (R) at the origin? I know that a bar chart would actually be the correct choice, but I want to use a line chart for content reasons.\nThere is my code:</li>\n</ol>\n<pre><code>set.seed(1234)\ndata &lt;- data.frame(\n  X = sample(1:6),\n  Y = sample(1:6))\ndim=c(&quot;R&quot;,&quot;I&quot;,&quot;A&quot;,&quot;S&quot;,&quot;E&quot;,&quot;C&quot;)\ndatadim&lt;-cbind(dim,data)\ndatadim$dim &lt;- factor(datadim$dim,levels = c(&quot;R&quot;,&quot;I&quot;,&quot;A&quot;,&quot;S&quot;,&quot;E&quot;,&quot;C&quot;))\n\n#Plot erzeugen\n\nggplot(data=datadim, aes(x=dim, group=2))+\n  geom_line(aes(y=X),linetype=1, size=1)+\n  geom_point(aes(y=X), size=2, shape=1)+\n  geom_line(aes(y=Y),linetype=2, size=1)+\n  geom_point(aes(y=Y), size=2, shape=4)+\n  labs(x=&quot;&quot;, y=&quot;Int&quot;)+\n  scale_y_continuous(limits=c(0, 6), breaks = seq(0, 6, by=0.5))+\n  geom_rangeframe()+\n  theme_classic()\n</code></pre>\n<p>Thank you very much!</p>\n"
	}, {
		"tags": ["r", "dictionary", "heat"],
		"owner": {
			"reputation": 11,
			"user_id": 3663547,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "user3663547",
			"link": "https://stackoverflow.com/users/3663547/user3663547"
		},
		"is_answered": false,
		"view_count": 10279,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676563746,
		"creation_date": 1432811037,
		"question_id": 30504769,
		"link": "https://stackoverflow.com/questions/30504769/changing-color-of-heatmap-in-r",
		"title": "Changing color of heatmap in R",
		"body": "<p>I have a file that contains the cluster results. I created a heatmap  in R by the following code.How to change the color of heatmap to red and green</p>\n\n<pre><code>nba &lt;- read.csv(\"E:/clus.arff\", sep=\",\")\nnba_heatmap &lt;- heatmap(nba_matrix, Rowv=NA, Colv=NA, col = cm.colors(256), scale=\"column\", margins=c(5,10))\n</code></pre>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr", "rowsum"],
		"owner": {
			"reputation": 1,
			"user_id": 21212971,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/76029296386173ebe86399b64f55e5bd?s=256&d=identicon&r=PG",
			"display_name": "Clay Pettit",
			"link": "https://stackoverflow.com/users/21212971/clay-pettit"
		},
		"is_answered": false,
		"view_count": 29,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676563738,
		"creation_date": 1676563492,
		"last_edit_date": 1676563738,
		"question_id": 75474916,
		"link": "https://stackoverflow.com/questions/75474916/rowsums-adding-new-column-to-dataframe-but-not-adding-the-values",
		"title": "rowSums adding new column to dataframe but not adding the values",
		"body": "<p>I have a table that I'm trying to add multiple columns together in a new column. I've tried simple rowSums in different forms and it will create the new column but the values don't add.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>col1</th>\n<th>col2</th>\n<th>col3</th>\n<th>col4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10</td>\n<td>25</td>\n<td>15</td>\n<td>25</td>\n</tr>\n<tr>\n<td>99</td>\n<td>42</td>\n<td>20</td>\n<td>35</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I've tried</p>\n<pre><code>df$col5 &lt;- rowSums(df[c(&quot;col1&quot;,&quot;col2&quot;,&quot;col3&quot;,col4&quot;)])\n</code></pre>\n<p>and</p>\n<pre><code>df &lt;- df %&gt;% mutate(col5 = rowSums(select(.,&quot;col1&quot;,&quot;col2&quot;,&quot;col3&quot;,col4&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>df &lt;- df %&gt;% mutate(col5 = sum(c_across(col1:col4)\n</code></pre>\n<p>But each time it returns</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>col1</th>\n<th>col2</th>\n<th>col3</th>\n<th>col4</th>\n<th>col5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10</td>\n<td>25</td>\n<td>15</td>\n<td>25</td>\n<td><em>NA</em></td>\n</tr>\n<tr>\n<td>99</td>\n<td>42</td>\n<td>20</td>\n<td>35</td>\n<td><em>NA</em></td>\n</tr>\n</tbody>\n</table>\n</div>"
	}, {
		"tags": ["r", "date", "lubridate", "zoo"],
		"owner": {
			"reputation": 1,
			"user_id": 21110020,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6eKXc8xqcLFTL88cFl3U9aOSF_0ghIu4iPWNc11qA=k-s256",
			"display_name": "amaru1886",
			"link": "https://stackoverflow.com/users/21110020/amaru1886"
		},
		"is_answered": true,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 2,
		"score": 0,
		"last_activity_date": 1676563591,
		"creation_date": 1676544424,
		"last_edit_date": 1676559676,
		"question_id": 75471148,
		"link": "https://stackoverflow.com/questions/75471148/a-function-that-will-spit-out-the-quarters-to-the-year-3000-etc",
		"title": "A Function that will spit out the quarters to the year 3000 etc",
		"body": "<p>I need to create some code that will allow my team to have a never ending supply of the yearly quarters. i need a function that will spit out for example q1 2020 or q4 in the year 2500.</p>\n<p>the code i have come up with so far and comments made by manager</p>\n<p><a href=\"https://i.stack.imgur.com/aZlWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZlWi.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 1,
			"user_id": 21228107,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp78HdLZcMLvxKbtxpfycVO5TI76Hq1rPjh1uiax=k-s256",
			"display_name": "TXXXX",
			"link": "https://stackoverflow.com/users/21228107/txxxx"
		},
		"is_answered": false,
		"view_count": 24,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"closed_date": 1676563607,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676563404,
		"creation_date": 1676562982,
		"last_edit_date": 1676563185,
		"question_id": 75474810,
		"link": "https://stackoverflow.com/questions/75474810/ggplot2-does-not-display-legend",
		"closed_reason": "Duplicate",
		"title": "ggplot2 does not display legend",
		"body": "<p>I am trying to display legend with R ggplotfor the scatter plot with several datapoints. What I tired is this:</p>\n<pre><code>p1 &lt;- ggplot()+\n  geom_line(data=df2, aes(y = C, x=time), color = &quot;red&quot;) + \n  geom_line(data=df2,aes(y = TU, x=time), color=&quot;steelblue&quot;) +\n  geom_line(data=df2,aes(y = TN, x=time), color=&quot;purple&quot;) +\n  geom_line(data=df2,aes(y = CD, x=time), color=&quot;green&quot;) \np1 &lt;- p1 + legend(x='top',legend=c('C', 'TU', 'TN', 'CD'), fill=c(&quot;red&quot;,&quot;steelblue&quot;,&quot;purple&quot;,&quot;green&quot;))\n</code></pre>\n<p>df2 looks like:</p>\n<pre><code>time C TU TN CD\n1     3 5  6  7\n5     6 7  8  9\n9     8 9  10 3\n</code></pre>\n<p>Could you help me?</p>\n<p>Also, I tried this</p>\n<pre><code>p1 &lt;- p1 + scale_color_manual(name='Compound Name',\n                     breaks=c('C', 'TU', 'TN', 'CD'),\n                     values=c('C'='red', 'TU'='steelblue', 'TN'='purple', 'CD'='green'))\n</code></pre>\n<p>It did not display legend. What am I doing wrong? Thank you.</p>\n"
	}, {
		"tags": ["r", "dataframe", "if-statement", "dplyr", "tidyr"],
		"owner": {
			"reputation": 57,
			"user_id": 17621438,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhGjxqBMEYW77Id7wH0RQjkW-I5anwV8XMTBm-6=k-s256",
			"display_name": "Ryan Gary",
			"link": "https://stackoverflow.com/users/17621438/ryan-gary"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676563319,
		"creation_date": 1676563319,
		"question_id": 75474873,
		"link": "https://stackoverflow.com/questions/75474873/classifying-change-based-on-date-and-section-in-a-dataframe",
		"title": "Classifying change based on date and section in a dataframe",
		"body": "<p>I have a dataframe that looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date</th>\n<th>Tag</th>\n<th>Section</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1/21/22</td>\n<td>001</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1/22/22</td>\n<td>001</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1/23/22</td>\n<td>001</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1/21/22</td>\n<td>002</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1/22/22</td>\n<td>002</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1/23/22</td>\n<td>002</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The dataframe has already been grouped by Tag number and date from oldest to newest. My objective is to see if the object with the tag number is moving or staying in the same section, moving up sections or moving down sections between dates. In this case moving from 1 to 2 would be moving up and moving from 2 to 1 would be down.</p>\n<p>A new column could have no movement for the first observation of the tag it is in but would have movement for the next two dates. All tag numbers are unique values. I have been thinking about dplyr statement or and if statement but have not been able to come up with anything.</p>\n"
	}, {
		"tags": ["r", "dataframe"],
		"owner": {
			"reputation": 1,
			"user_id": 21227842,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/efb7903fae33d1afb7d4f6bdb9598b0d?s=256&d=identicon&r=PG&f=1",
			"display_name": "minKN",
			"link": "https://stackoverflow.com/users/21227842/minkn"
		},
		"is_answered": true,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"closed_date": 1676563634,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676563269,
		"creation_date": 1676562785,
		"last_edit_date": 1676563005,
		"question_id": 75474760,
		"link": "https://stackoverflow.com/questions/75474760/how-to-remove-accession-from-the-gene-id-in-the-data-frame-in-r",
		"closed_reason": "Duplicate",
		"title": "How to remove accession from the gene id in the data frame in R?",
		"body": "<p>How to remove the accession and leave only the name of the gene in the data frame? For example in &quot;gb|AAV85982.1|ARO:3000535|macB&quot; I would like to keep only macB.</p>\n<p>This is how my data frame looks like</p>\n<pre><code>gene                                 n       freq\ngb|ADZ12699.1|ARO:3005091|RanA       21  7.1917808\ngb|AAV85982.1|ARO:3000535|macB       19  6.5068493\ngb|APB03214.1|ARO:3003980|tetA(58)   17  5.8219178\n</code></pre>\n<p>And I'd like to have something like this</p>\n<pre><code>gene       n       freq\nRanA       21  7.1917808\nmacB       19  6.5068493\ntetA(58)   17  5.8219178\n</code></pre>\n<p>I know about substr() function but I am not sure how to apply it in this case.</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr"],
		"owner": {
			"reputation": 2102,
			"user_id": 10924836,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/df7e641f7022d2f7216d3d7bc44fe73c?s=256&d=identicon&r=PG&f=1",
			"display_name": "silent_hunter",
			"link": "https://stackoverflow.com/users/10924836/silent-hunter"
		},
		"is_answered": true,
		"view_count": 33,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75474288,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676562808,
		"creation_date": 1676560289,
		"last_edit_date": 1676562808,
		"question_id": 75474231,
		"link": "https://stackoverflow.com/questions/75474231/updating-table-with-custom-numbers",
		"title": "Updating table with custom numbers",
		"body": "<p>Below is my dataset, which contains four columns id, year, quarter, and price.</p>\n<pre><code>df &lt;- data.frame(id = c(1,2,1,2),\n                 year = c(2010,2010,2011,2011),\n                 quarter = c(&quot;2010-q1&quot;,&quot;2010-q2&quot;,&quot;2011-q1&quot;,&quot;2011-q2&quot;),\n                 price = c(10,50,10,50))\n</code></pre>\n<p>Now I want to expand this dataset for 2012 and 2013. First, I want to <strong>copy rows</strong> for 2010 and 2011 and paste them below, and after that, replace these values for years and quarters with 2012 and 2013 and also quarters with 2012-q1,2012-q2,2013-q1 and 2013-q2.\nSo can anybody help me with how to solve this and prepare the table as the table below?</p>\n<p><a href=\"https://i.stack.imgur.com/x7Kco.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x7Kco.jpg\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "statistics"],
		"owner": {
			"reputation": 1,
			"user_id": 21225973,
			"user_type": "registered",
			"profile_image": "https://graph.facebook.com/6087596394635657/picture?type=large",
			"display_name": "Felix Barth",
			"link": "https://stackoverflow.com/users/21225973/felix-barth"
		},
		"is_answered": false,
		"view_count": 32,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676562763,
		"creation_date": 1676543841,
		"last_edit_date": 1676562763,
		"question_id": 75471030,
		"link": "https://stackoverflow.com/questions/75471030/creating-a-rolling-three-year-average-new-variable-in-my-r-dataset",
		"title": "Creating a rolling three year average new variable in my R dataset?",
		"body": "<p>I need to do a term paper with R (never did it before) and I have the following problem that I cannot solve.</p>\n<p>I have a dataset with all countries of all years since 1950 (so one row (observation) is one country in one year, the next row is the same country one year later and so on). Now I need to construct a new variable, which is filled with the average value of the previous three years of a given variable.</p>\n<p>Specifically it is about the democracy level of a country. So I have the variable of the democracy level of  a country for a year T, and I need a new variable, which indicates the &quot;democracy growth&quot; of the previous three years T(-3,0).</p>\n<p>How can I construct this new variable?</p>\n<p><a href=\"https://i.stack.imgur.com/7dDsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7dDsC.png\" alt=\"enter image description here\" /></a></p>\n<p>As I said I never used R before, but I need to use <code>mutate()</code> and then I need to address year-3, year-2, year-1 and divide it by 3. But how to I address the previous three years? <code>Case_when</code> or something?</p>\n"
	}, {
		"tags": ["r", "dplyr", "tidyr"],
		"owner": {
			"reputation": 2101,
			"user_id": 843419,
			"user_type": "registered",
			"accept_rate": 60,
			"profile_image": "https://www.gravatar.com/avatar/43afaab079362c39975d5395e98b1c10?s=256&d=identicon&r=PG",
			"display_name": "gregmacfarlane",
			"link": "https://stackoverflow.com/users/843419/gregmacfarlane"
		},
		"is_answered": true,
		"view_count": 10011,
		"down_vote_count": 0,
		"up_vote_count": 9,
		"answer_count": 3,
		"score": 9,
		"last_activity_date": 1676562578,
		"creation_date": 1426621931,
		"question_id": 29108431,
		"link": "https://stackoverflow.com/questions/29108431/dplyr-cross-tab-with-missing-values",
		"title": "dplyr cross tab with missing values",
		"body": "<p>I would like to make a cross tab in R using <code>dplyr</code>. I have good reasons for not just using the base <code>table()</code> command.</p>\n\n<pre><code>table(mtcars$cyl, mtcars$gear)\n     3  4  5\n  4  1  8  2\n  6  2  4  1\n  8 12  0  2\n\nlibrary(dplyr)\nlibrary(tidyr)\nmtcars %&gt;% \n  group_by(cyl, gear) %&gt;%\n  tally() %&gt;%\n  spread(gear, n, fill = 0)\nSource: local data frame [3 x 4]\n\n  cyl  3 4 5\n1   4  1 8 2\n2   6  2 4 1\n3   8 12 0 2\n</code></pre>\n\n<p>This is all well and good. But it seems to fall apart when there are missing values in the <code>group_by()</code> variables.</p>\n\n<pre><code>mtcars %&gt;%\n  mutate(\n    cyl = ifelse(cyl &gt; 6, NA, cyl),\n    gear = ifelse(gear &gt; 4, NA, gear)\n  ) %&gt;%\n  group_by(cyl, gear) %&gt;%\n  tally()\nSource: local data frame [8 x 3]\nGroups: cyl\n\n  cyl gear  n\n1   4    3  1\n2   4    4  8\n3   4   NA  2\n4   6    3  2\n5   6    4  4\n6   6   NA  1\n7  NA    3 12\n8  NA   NA  2\n\n# DITTO # %&gt;%\n  spread(gear, n)\nError in if (any(names2(x) == \"\")) { : \n  missing value where TRUE/FALSE needed\n</code></pre>\n\n<p>I guess what I would like is for a <code>NA</code> column like when you do <code>table(..., useNA = \"always\")</code>. Any tips?</p>\n"
	}, {
		"tags": ["r", "dataframe", "dplyr"],
		"owner": {
			"reputation": 355,
			"user_id": 6054334,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/0ef80d68fb70b0a3ba29c0ec1111e052?s=256&d=identicon&r=PG&f=1",
			"display_name": "marc",
			"link": "https://stackoverflow.com/users/6054334/marc"
		},
		"is_answered": true,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75474544,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676562367,
		"creation_date": 1676561303,
		"last_edit_date": 1676562301,
		"question_id": 75474447,
		"link": "https://stackoverflow.com/questions/75474447/modify-a-value-conditional-on-group-and-other-values-in-the-group-using-dplyr",
		"title": "Modify a value conditional on group and other values in the group using dplyr",
		"body": "<p>I have data to the form (<code>df1</code>):</p>\n<pre><code>df1 &lt;- data.frame(id = rep( c('id_1', 'id_2') , c(3,3)),\n                  item = c('item_1', 'item_2', 'item_3') ,\n                  time_1 = c( 1:3 , 2:3 , 1) , time_2 = c( 1:3 , 1, 3 , 1)) \n</code></pre>\n<pre><code>    id   item time_1 time_2 = expected result to replace time_1\n1 id_1 item_1      1      1\n2 id_1 item_2      2      2\n3 id_1 item_3      3      3\n4 id_2 item_1      2      1\n5 id_2 item_2      3      3\n6 id_2 item_3      1      1\n</code></pre>\n<p>The grouping variable is <code>id</code>. I wish to check that <code>item_1</code> has the lowest time (<code>time_1</code>). If not, I shall assign the lowest time to it. Such as for <code>item_1</code> for <code>id_2</code> which is assigned 1 instead of 2.</p>\n<p>I found a way to do it by creating an extra variable (<code>min</code>) and <code>ifelse</code>:</p>\n<pre><code> df1 %&gt;%\n  group_by( id ) %&gt;%\n  mutate( min_ = min( time_1 ) ) %&gt;%\n  mutate( time_1 = ifelse( ( item == 'item_1' ) &amp; ( time_1 != min_ )  , min_ , time_1 ) )\n</code></pre>\n<p>I found however this method a bit brutal, and it may not use dplyr potential to deal with data manipulation. Does anybody know a dplyr solution to this?</p>\n"
	}, {
		"tags": ["r", "svg", "shiny", "htmltools"],
		"owner": {
			"reputation": 125,
			"user_id": 7621453,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/97e64b2a8b17c70e3c60f15b19b9cba4?s=256&d=identicon&r=PG&f=1",
			"display_name": "Wardiam",
			"link": "https://stackoverflow.com/users/7621453/wardiam"
		},
		"is_answered": true,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75473898,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676561809,
		"creation_date": 1676557783,
		"last_edit_date": 1676561809,
		"question_id": 75473693,
		"link": "https://stackoverflow.com/questions/75473693/how-to-display-a-svg-image-in-shiny",
		"title": "How to display a SVG image in shiny",
		"body": "<p>I would like to display in my web application an SVG image that I have hosted in the <code>images</code> folder. First I tried to display it with a tag but it didn't work:</p>\n<pre><code>ui &lt;- fluidPage(\n  tags$img(src = &quot;./images/SVG_Logo.svg&quot;, width = &quot;99px&quot;)\n)\n</code></pre>\n<p>Then I used the <code>rsvg</code> and <code>htmltools</code> packages:</p>\n<pre><code>library(shiny)\nlibrary(htmltools)\nlibrary(rsvg)\n\n#Load SVG image\nmiLogo &lt;- rsvg_svg(&quot;./images/SVG_Logo.svg&quot;, width = 99)\nmiLogo_html &lt;- as.character(miLogo)\n\nui &lt;- fluidPage(\n  HTML(miLogo_html)\n)\n\nserver &lt;- function(input, output, session) {\n\n}\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n<p>But I couldn't get it to work either. In both cases the browser displays this:</p>\n<p><a href=\"https://i.stack.imgur.com/VFF1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFF1t.png\" alt=\"SVG Doesn't Work\" /></a></p>\n<p>But if I replace the source path for example by: <a href=\"https://upload.wikimedia.org/wikipedia/commons/4/4f/SVG_Logo.svg\" rel=\"nofollow noreferrer\">https://upload.wikimedia.org/wikipedia/commons/4/4f/SVG_Logo.svg</a></p>\n<p><a href=\"https://i.stack.imgur.com/T5plk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T5plk.png\" alt=\"SVG_OK\" /></a></p>\n<p>It works correctly</p>\n<p>Could someone help me, please?</p>\n<p>Best regards,<br />\nWardiam</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 475,
			"user_id": 18090706,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/467ac6f050d6974027141337d657873f?s=256&d=identicon&r=PG",
			"display_name": "melolili",
			"link": "https://stackoverflow.com/users/18090706/melolili"
		},
		"is_answered": false,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676561702,
		"creation_date": 1676559331,
		"last_edit_date": 1676559912,
		"question_id": 75474040,
		"link": "https://stackoverflow.com/questions/75474040/replace-row-names-with-the-column-value-of-another-data-frame-based-on-column-ma",
		"title": "Replace row names with the column value of another data frame based on column matches",
		"body": "<p>I want to replace the row names of <code>meth.kirp.cpg</code> with <code>anno$V1</code> if the existing row names matches <code>anno$V2</code>.</p>\n<pre><code>library(tidyverse)\n\nrownames(meth.kirp.cpg) &lt;- meth.kirp.cpg %&gt;% \n  rowwise() %&gt;% \n  mutate(out = anno$V1[str_which(colnames(meth.kirp.cpg), anno$V2)])\n</code></pre>\n<p>Traceback:</p>\n<pre><code>Error in `mutate()`:\n\u2139 In argument: `out = anno$V1[str_which(rownames(meth.kirp.cpg),\n  anno$V2)]`.\n\u2139 In row 1.\nCaused by error in `str_detect()`:\n! Can't recycle `string` (size 142513) to match `pattern` (size 365860).\nRun `rlang::last_error()` to see where the error occurred.\n</code></pre>\n<p>Example data:</p>\n<p><code>meth.kirp.cpg</code></p>\n<pre><code>&gt; dput(meth.kirp.cpg[1:100,1:2])\nstructure(list(TCGA.2K.A9WE.01A = c(0.461440642939772, 0.143910373119058, \n0.847164847154162, 0.737361955793681, 0.716794733144112, 0.351877113536983, \n0.248986769373366, 0.0121360989202765, 0.876303885229884, 0.944311384947134, \n0.0490407302658151, 0.0200484962577958, 0.0623434271852525, 0.489865398138095, \n0.920994933496615, 0.92663932531651, 0.0149191766670711, 0.884749685210921, \n0.446591784140497, 0.91113228700911, 0.912199953863369, 0.908167409366654, \n0.386721526377863, 0.0386737340626713, 0.0347492896507038, 0.98309370597552, \n0.0176080612232509, 0.91878387167279, 0.743683318738873, 0.939148492241393, \n0.722471943330892, 0.613143449419421, 0.0111202783577944, 0.843823786705695, \n0.836431557867031, 0.390282953982417, 0.027408710286304, 0.0222349236137297, \n0.657221610108816, 0.861848830221141, 0.0433751011272091, 0.0281247935879252, \n0.938960776959358, 0.919825831744144, 0.922071582222369, 0.874732275907705, \n0.0287898761495033, 0.0266947996996682, 0.922915821025777, 0.95009866012662, \n0.964858875373814, 0.106451342824246, 0.406100902807456, 0.0421684244823044, \n0.0341277368595181, 0.805451068725895, 0.147595746750675, 0.602617067494429, \n0.90660866745333, 0.922313274809095, 0.462291286891102, 0.502857899902497, \n0.0292904155423265, 0.835117565787527, 0.146789494933407, 0.06805696389495, \n0.970563583145203, 0.0379479981289824, 0.058526761439653, 0.938993650169269, \n0.44761099556807, 0.558961729061086, 0.939778576056268, 0.0728795533192928, \n0.812084345787681, 0.899377654465699, 0.940111049552295, 0.838186810388758, \n0.715121288990262, 0.897506380407565, 0.0929678061732199, 0.99024632582796, \n0.055583745670494, 0.835146654988372, 0.973309086845447, 0.651216797099359, \n0.0218535991986461, 0.0999671036378156, 0.790540668893094, 0.980591855409854, \n0.567883806155822, 0.774816434396113, 0.904434807209845, 0.16641097147085, \n0.0102686285230525, 0.65243489007093, 0.917594420539083, 0.0147831247626457, \n0.844679485594683, 0.65566679452182), TCGA.2Z.A9J1.01A = c(0.595894468074615, \n0.0807243779293262, 0.867305510246114, 0.70680600651273, 0.217862460492399, \n0.169408257004071, 0.173115013795265, 0.0108902025634162, 0.813866558997356, \n0.938576461648791, 0.0426568318037534, 0.0133187057875756, 0.0540543120983417, \n0.317547629906197, 0.89911570032979, 0.525131175543627, 0.0152198596492253, \n0.586968687135673, 0.49896100615873, 0.946718072906056, 0.859306039060091, \n0.91185524112895, 0.28077646371254, 0.0413484993379312, 0.169193526857136, \n0.941230054689418, 0.0164701153466769, 0.928402415411224, 0.736184540407898, \n0.946288965623826, 0.312150292032857, 0.403171876971832, 0.0091246246912222, \n0.535149883791691, 0.801041308364712, 0.171664264695538, 0.022737572168221, \n0.0164834707992085, 0.34399568227201, 0.690016503202975, 0.0390842331750004, \n0.0270854886242561, 0.888936631403145, 0.911902815624012, 0.858247513475469, \n0.877113632682254, 0.0342892379505875, 0.0387268488822914, 0.922299785913074, \n0.926130065834329, 0.975692332236198, 0.105415153493416, 0.127593519059119, \n0.0540003798276299, 0.030980833881057, 0.914299941557146, 0.0512267439881511, \n0.307325891435045, 0.941037265659174, 0.927078967007025, 0.48873418258592, \n0.259006924115841, 0.0278764868641079, 0.87768067729952, 0.302640875302654, \n0.0706384569300761, 0.968762634771395, 0.0364352674378962, 0.0441231506131831, \n0.8307385629478, 0.242575477196221, 0.513439830376976, 0.932449172188782, \n0.0526229004254996, 0.81314353054328, 0.778591104943176, 0.95668645045373, \n0.453172059602829, 0.250129171963381, 0.863470213940097, 0.0994627135023581, \n0.989489689575077, 0.0472116225581592, 0.911407225108748, 0.825189076107663, \n0.578029414148402, 0.018058167343065, 0.0855852777154159, 0.819733395638372, \n0.988287891473147, 0.255899615791521, 0.643359326354994, 0.491979154678761, \n0.0978562004864199, 0.0105671614378101, 0.48897100984416, 0.9024550858788, \n0.0131702158217202, 0.81328537816321, 0.85890307119103)), row.names = c(&quot;cg00000029&quot;, \n&quot;cg00000165&quot;, &quot;cg00000236&quot;, &quot;cg00000289&quot;, &quot;cg00000292&quot;, &quot;cg00000321&quot;, \n&quot;cg00000363&quot;, &quot;cg00000622&quot;, &quot;cg00000658&quot;, &quot;cg00000721&quot;, &quot;cg00000734&quot;, \n&quot;cg00000769&quot;, &quot;cg00000905&quot;, &quot;cg00000924&quot;, &quot;cg00000948&quot;, &quot;cg00000957&quot;, \n&quot;cg00001245&quot;, &quot;cg00001249&quot;, &quot;cg00001261&quot;, &quot;cg00001349&quot;, &quot;cg00001364&quot;, \n&quot;cg00001446&quot;, &quot;cg00001510&quot;, &quot;cg00001582&quot;, &quot;cg00001583&quot;, &quot;cg00001687&quot;, \n&quot;cg00001747&quot;, &quot;cg00001791&quot;, &quot;cg00001809&quot;, &quot;cg00001854&quot;, &quot;cg00001874&quot;, \n&quot;cg00002033&quot;, &quot;cg00002116&quot;, &quot;cg00002145&quot;, &quot;cg00002190&quot;, &quot;cg00002224&quot;, \n&quot;cg00002236&quot;, &quot;cg00002406&quot;, &quot;cg00002426&quot;, &quot;cg00002449&quot;, &quot;cg00002464&quot;, \n&quot;cg00002490&quot;, &quot;cg00002531&quot;, &quot;cg00002591&quot;, &quot;cg00002593&quot;, &quot;cg00002597&quot;, \n&quot;cg00002660&quot;, &quot;cg00002719&quot;, &quot;cg00002769&quot;, &quot;cg00002808&quot;, &quot;cg00002809&quot;, \n&quot;cg00002810&quot;, &quot;cg00002837&quot;, &quot;cg00003091&quot;, &quot;cg00003173&quot;, &quot;cg00003181&quot;, \n&quot;cg00003287&quot;, &quot;cg00003345&quot;, &quot;cg00003513&quot;, &quot;cg00003529&quot;, &quot;cg00003578&quot;, \n&quot;cg00003625&quot;, &quot;cg00003784&quot;, &quot;cg00003969&quot;, &quot;cg00003994&quot;, &quot;cg00004055&quot;, \n&quot;cg00004067&quot;, &quot;cg00004072&quot;, &quot;cg00004082&quot;, &quot;cg00004089&quot;, &quot;cg00004105&quot;, \n&quot;cg00004121&quot;, &quot;cg00004192&quot;, &quot;cg00004207&quot;, &quot;cg00004209&quot;, &quot;cg00004429&quot;, \n&quot;cg00004533&quot;, &quot;cg00004562&quot;, &quot;cg00004608&quot;, &quot;cg00004773&quot;, &quot;cg00004818&quot;, \n&quot;cg00004883&quot;, &quot;cg00004939&quot;, &quot;cg00004963&quot;, &quot;cg00004979&quot;, &quot;cg00004996&quot;, \n&quot;cg00005010&quot;, &quot;cg00005040&quot;, &quot;cg00005072&quot;, &quot;cg00005083&quot;, &quot;cg00005112&quot;, \n&quot;cg00005166&quot;, &quot;cg00005215&quot;, &quot;cg00005297&quot;, &quot;cg00005306&quot;, &quot;cg00005390&quot;, \n&quot;cg00005437&quot;, &quot;cg00005543&quot;, &quot;cg00005617&quot;, &quot;cg00005619&quot;), class = &quot;data.frame&quot;)\n</code></pre>\n<p><code>anno</code></p>\n<pre><code>&gt; dput(anno[1:100,])\nstructure(list(V1 = c(&quot;TSPY4&quot;, &quot;TTTY14&quot;, &quot;TMSB4Y&quot;, &quot;TBL1Y&quot;, &quot;TMSB4Y&quot;, \n&quot;TSPY4&quot;, &quot;RPS4Y2&quot;, &quot;EIF1AY&quot;, &quot;PCDH11Y&quot;, &quot;TBL1Y&quot;, &quot;ZFY&quot;, &quot;FAM197Y2&quot;, \n&quot;TTTY14&quot;, &quot;TSPY4&quot;, &quot;ZFY&quot;, &quot;NLGN4Y&quot;, &quot;EIF1AY&quot;, &quot;TSPY4&quot;, &quot;TBL1Y&quot;, \n&quot;UTY&quot;, &quot;PRKY&quot;, &quot;ZFY&quot;, &quot;CD24&quot;, &quot;PRKY&quot;, &quot;TSPY1&quot;, &quot;CYorf15A&quot;, &quot;TSPY2&quot;, \n&quot;TTTY15&quot;, &quot;RPS4Y2&quot;, &quot;UTY&quot;, &quot;CYorf15A&quot;, &quot;RPS4Y2&quot;, &quot;TSPY2&quot;, &quot;TBL1Y&quot;, \n&quot;TSPY3&quot;, &quot;DDX3Y&quot;, &quot;CYorf15A&quot;, &quot;ZFY&quot;, &quot;RBMY1F&quot;, &quot;DDX3Y&quot;, &quot;RPS4Y2&quot;, \n&quot;ZFY&quot;, &quot;DDX3Y&quot;, &quot;TTTY15&quot;, &quot;BCORL2&quot;, &quot;PCDH11Y&quot;, &quot;KDM5D&quot;, &quot;TTTY14&quot;, \n&quot;EIF1AY&quot;, &quot;DDX3Y&quot;, &quot;LOC100101121&quot;, &quot;CYorf15A&quot;, &quot;TTTY15&quot;, &quot;TSPY1&quot;, \n&quot;TSPY1&quot;, &quot;FAM197Y2&quot;, &quot;TSPY4&quot;, &quot;TMSB4Y&quot;, &quot;DDX3Y&quot;, &quot;TTTY15&quot;, &quot;TTTY20&quot;, \n&quot;NLGN4Y&quot;, &quot;TSPY4&quot;, &quot;CYorf15A&quot;, &quot;RPS4Y2&quot;, &quot;KDM5D&quot;, &quot;RBMY1J&quot;, &quot;EIF1AY&quot;, \n&quot;KDM5D&quot;, &quot;ZFY&quot;, &quot;TGIF2LY&quot;, &quot;HMGN5&quot;, &quot;EBP&quot;, &quot;UBL4A&quot;, &quot;WDR13&quot;, \n&quot;MTM1&quot;, &quot;BCOR&quot;, &quot;ZCCHC12&quot;, &quot;FTHL17&quot;, &quot;PORCN&quot;, &quot;NAA10&quot;, &quot;PCDH11X&quot;, \n&quot;ARSE&quot;, &quot;DOCK11&quot;, &quot;PDK3&quot;, &quot;LONRF3&quot;, &quot;MAGIX&quot;, &quot;PCYT1B&quot;, &quot;SLC6A8&quot;, \n&quot;UBE2A&quot;, &quot;TAF9B&quot;, &quot;STARD8&quot;, &quot;BCOR&quot;, &quot;ZIC3&quot;, &quot;IL1RAPL2&quot;, &quot;TMSB4X&quot;, \n&quot;CLCN5&quot;, &quot;LOC100133957&quot;, &quot;SCML1&quot;, &quot;GNL3L&quot;), V2 = c(&quot;cg00050873&quot;, \n&quot;cg00212031&quot;, &quot;cg00214611&quot;, &quot;cg01707559&quot;, &quot;cg02004872&quot;, &quot;cg02011394&quot;, \n&quot;cg02050847&quot;, &quot;cg02233190&quot;, &quot;cg02494853&quot;, &quot;cg02839557&quot;, &quot;cg02842889&quot;, \n&quot;cg03052502&quot;, &quot;cg03244189&quot;, &quot;cg03443143&quot;, &quot;cg03683899&quot;, &quot;cg03706273&quot;, \n&quot;cg03750315&quot;, &quot;cg04016144&quot;, &quot;cg04042030&quot;, &quot;cg04448376&quot;, &quot;cg04689676&quot;, \n&quot;cg04840163&quot;, &quot;cg05230942&quot;, &quot;cg05480730&quot;, &quot;cg05544622&quot;, &quot;cg05621349&quot;, \n&quot;cg05865243&quot;, &quot;cg05890011&quot;, &quot;cg06322277&quot;, &quot;cg06479204&quot;, &quot;cg07731488&quot;, \n&quot;cg07747963&quot;, &quot;cg08242338&quot;, &quot;cg08921682&quot;, &quot;cg09350919&quot;, &quot;cg09856092&quot;, \n&quot;cg10076560&quot;, &quot;cg10213302&quot;, &quot;cg10267609&quot;, &quot;cg10698069&quot;, &quot;cg10841270&quot;, \n&quot;cg11131351&quot;, &quot;cg14180491&quot;, &quot;cg14741114&quot;, &quot;cg15027426&quot;, &quot;cg15295597&quot;, \n&quot;cg15329860&quot;, &quot;cg15345074&quot;, &quot;cg15422579&quot;, &quot;cg15429127&quot;, &quot;cg15682806&quot;, \n&quot;cg15682993&quot;, &quot;cg15746461&quot;, &quot;cg15810474&quot;, &quot;cg15935877&quot;, &quot;cg17834650&quot;, \n&quot;cg17837162&quot;, &quot;cg18032798&quot;, &quot;cg18077436&quot;, &quot;cg25032547&quot;, &quot;cg25071634&quot;, \n&quot;cg25518695&quot;, &quot;cg25705492&quot;, &quot;cg25756647&quot;, &quot;cg26058907&quot;, &quot;cg26517491&quot;, \n&quot;cg26983430&quot;, &quot;cg26983535&quot;, &quot;cg27049643&quot;, &quot;cg27433982&quot;, &quot;cg27539833&quot;, \n&quot;cg00008945&quot;, &quot;cg00011200&quot;, &quot;cg00011891&quot;, &quot;cg00014152&quot;, &quot;cg00016522&quot;, \n&quot;cg00016934&quot;, &quot;cg00018261&quot;, &quot;cg00021786&quot;, &quot;cg00026186&quot;, &quot;cg00072288&quot;, \n&quot;cg00072839&quot;, &quot;cg00074638&quot;, &quot;cg00112256&quot;, &quot;cg00114625&quot;, &quot;cg00114913&quot;, \n&quot;cg00116709&quot;, &quot;cg00139317&quot;, &quot;cg00140085&quot;, &quot;cg00142683&quot;, &quot;cg00192980&quot;, \n&quot;cg00200463&quot;, &quot;cg00206414&quot;, &quot;cg00240113&quot;, &quot;cg00241296&quot;, &quot;cg00241907&quot;, \n&quot;cg00264378&quot;, &quot;cg00265812&quot;, &quot;cg00266918&quot;, &quot;cg00360365&quot;)), row.names = c(1L, \n2L, 4L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 16L, 17L, 18L, \n20L, 21L, 23L, 25L, 27L, 29L, 31L, 34L, 35L, 36L, 37L, 38L, 39L, \n40L, 41L, 42L, 43L, 45L, 47L, 48L, 50L, 51L, 52L, 54L, 56L, 57L, \n58L, 61L, 64L, 65L, 66L, 67L, 68L, 69L, 70L, 72L, 73L, 74L, 75L, \n76L, 77L, 78L, 79L, 80L, 82L, 83L, 85L, 86L, 87L, 88L, 89L, 91L, \n92L, 93L, 94L, 95L, 96L, 97L, 98L, 99L, 100L, 101L, 102L, 103L, \n104L, 105L, 106L, 107L, 108L, 109L, 110L, 111L, 112L, 113L, 114L, \n115L, 116L, 117L, 118L, 119L, 120L, 122L, 123L, 124L, 125L), class = &quot;data.frame&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "highcharts", "r-highcharter"],
		"owner": {
			"reputation": 192,
			"user_id": 9999316,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/c094d98aa7838c90c3030987cada71dc?s=256&d=identicon&r=PG&f=1",
			"display_name": "Roelof Waaijman",
			"link": "https://stackoverflow.com/users/9999316/roelof-waaijman"
		},
		"is_answered": false,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676561548,
		"creation_date": 1676561548,
		"question_id": 75474505,
		"link": "https://stackoverflow.com/questions/75474505/tooltip-missing-value-in-maps-highcharts-not-working-with-r",
		"title": "Tooltip missing value in maps highcharts not working (with R)",
		"body": "<p>When creating a map in R with highcharter, I would like to include a tooltip for missing values. To be sure that nullFormat is recognized I included also a datalabel for missing values and this works.</p>\n<p>So nullFormat <strong>datalabels is working</strong>.</p>\n<p>But nullFormat for a <strong>tooltip is not working</strong>.</p>\n<pre><code>require(dplyr)\n\nmapdata &lt;- get_data_from_map(download_map_data(&quot;custom/usa-and-canada&quot;))\n\nglimpse(mapdata)\n\ndata_fake &lt;- mapdata |&gt;\n  select(code = `hc-a2`) |&gt;\n  mutate(value = 1e5 * abs(rt(nrow(mapdata), df = 10)))\n\n# value NT on not available\ndata_fake$value[data_fake$code == &quot;AZ&quot;] &lt;- NA\n\nglimpse(data_fake)\n\n\nhighchart(type = &quot;map&quot;) |&gt;\n  hc_chart(map = download_map_data(&quot;custom/usa-and-canada&quot;)) |&gt;\n  hc_add_series(\n    data_fake\n    , joinBy = c(&quot;hc-a2&quot;, &quot;code&quot;)\n    , name = &quot;Fake data&quot;\n    , dataLabels = list(enabled = TRUE, format = &quot;{point.name}&quot;, nullFormat = &quot;N/A&quot;)\n  ) |&gt;\n  hc_colorAxis(auxpar = NULL) |&gt;\n  hc_tooltip(valueDecimals = 0, nullFormat = &quot;Missing data&quot;)\n</code></pre>\n"
	}, {
		"tags": ["r", "xlconnect"],
		"owner": {
			"reputation": 3,
			"user_id": 17252051,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/79c06c6fc1099bba10429f05645a865a?s=256&d=identicon&r=PG",
			"display_name": "Marcel",
			"link": "https://stackoverflow.com/users/17252051/marcel"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676561368,
		"creation_date": 1676518271,
		"last_edit_date": 1676561368,
		"question_id": 75467581,
		"link": "https://stackoverflow.com/questions/75467581/error-in-write-xlsx-at-r-error-java-lang-outofmemoryerror-gc-overhead-lim",
		"title": "Error in write.xlsx at R - &quot;Error... java.lang.OutOfMemoryError: GC overhead limit exceeded&quot;",
		"body": "<p>I\u00b4m facing this error when I try to run <code>write.xlsx</code> in R:</p>\n<pre><code>Error in .jcall(row[[ir]], &quot;Lorg/apache/poi/ss/usermodel/Cell;&quot;, &quot;createCell&quot;,  : \n  java.lang.OutOfMemoryError: GC overhead limit exceeded\n</code></pre>\n<p>After I tryied to run the code below that I found in my researches:</p>\n<pre><code>options(java.parameters = &quot;-Xmx4g&quot; )\nlibrary(XLConnect)\n</code></pre>\n<p>But when I run again the <code>write.xlsx</code> the following message appears:</p>\n<pre><code>Error in createWorkbook(type = ext) : \n  java.lang.OutOfMemoryError: GC overhead limit exceeded\n</code></pre>\n<p>My database has 31357 rows and 75 columns and my RSTudio is the 2022.12.0 version.</p>\n<p>Can anyone help me?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 11,
			"user_id": 10419087,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/37f101eec239a5cdaace62e6f0501818?s=256&d=identicon&r=PG&f=1",
			"display_name": "Shibly",
			"link": "https://stackoverflow.com/users/10419087/shibly"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676561324,
		"creation_date": 1676561324,
		"question_id": 75474451,
		"link": "https://stackoverflow.com/questions/75474451/r-progranmming-4-1-1-automatically-uninstalled-by-windows-10",
		"title": "R progranmming 4.1.1 automatically uninstalled by windows 10",
		"body": "<p>For some reason the R programming 4.1.1 is automatically uninstalled by Windows 10 and it is replaced by R 4.2.2.</p>\n<p>I tried to keep both 4.1.1 and 4.2.2 at the same time but for some reason the 4.1.1 is kept being uninstalled by Windows.</p>\n<p>If I run the R.Net application in VB.Net 2017 with R 4.2.2, I get an error in the following line:\n<code>REngine.SetEnvironmentVariables()</code></p>\n<p>The error message is:'Object reference not set to an instance of an object.'</p>\n<p>I added strings in the SetEnvironmentVariables such as\n<code>Dim rhome As String = &quot;C:\\Program Files\\R\\R-4.2.2&quot;</code>\n<code>Dim rpath As String = &quot;C:\\Program Files\\R\\R-4.2.2\\bin\\x64&quot;</code>\n<code>REngine.SetEnvironmentVariables(rhome, rpath)</code>\n<code>Dim Rstat As REngine = REngine.GetInstance()</code></p>\n<p>but it keeps giving me the following error message in the next line (Dim Rstat As REngine = REngine.GetInstance()`): 'This 32-bit process failed to load the library R.dll. Native error message is 'The handle is invalid'</p>\n<p>Can anyone help me by</p>\n<ol>\n<li>How to prevent windows patch automatically uninstall R 4.1.1.</li>\n<li>Work a solution with R 4.2.2 to prevent getting the above error messages.</li>\n</ol>\n<p>Thanks</p>\n<p>If I run the R.Net application in VB.Net 2017 with R 4.2.2, I get an error in the following line:\n<code>REngine.SetEnvironmentVariables()</code></p>\n<p>The error message is:'Object reference not set to an instance of an object.'</p>\n<p>I added strings in the SetEnvironmentVariables such as\n<code>Dim rhome As String = &quot;C:\\Program Files\\R\\R-4.2.2&quot;</code>\n<code>Dim rpath As String = &quot;C:\\Program Files\\R\\R-4.2.2\\bin\\x64&quot;</code>\n<code>REngine.SetEnvironmentVariables(rhome, rpath)</code>\n<code>Dim Rstat As REngine = REngine.GetInstance()</code></p>\n<p>but it keeps giving me the following error message in the next line (Dim Rstat As REngine = REngine.GetInstance()`): 'This 32-bit process failed to load the library R.dll. Native error message is 'The handle is invalid'</p>\n<p>Can anyone help me by</p>\n<ol>\n<li>How to prevent windows patch automatically uninstall R 4.1.1.</li>\n<li>Work a solution with R 4.2.2 to prevent getting the above error messages.</li>\n</ol>\n<p>Thanks</p>\n"
	}, {
		"tags": ["r", "dataframe", "pivot", "tidyverse", "tidyr"],
		"owner": {
			"reputation": 135,
			"user_id": 8280054,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5a02b19f0eae6064c5839897833add34?s=256&d=identicon&r=PG&f=1",
			"display_name": "Tricker Macedonia",
			"link": "https://stackoverflow.com/users/8280054/tricker-macedonia"
		},
		"is_answered": true,
		"view_count": 21,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75474358,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676561254,
		"creation_date": 1676559763,
		"last_edit_date": 1676561194,
		"question_id": 75474127,
		"link": "https://stackoverflow.com/questions/75474127/transform-data-from-long-to-wide",
		"title": "Transform data from long to wide",
		"body": "<p>I have the following data frame:</p>\n<pre><code>df &lt;- data.frame(\n  timestamp = c(1675930826.3839524, 1675930826.3839593, 1675930826.3839765, 1675930826.388385, 1675930826.3884094, 1675930826.3884153),\n  label = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\n  value = c(1.996, 0.404, 4.941, 1.996, 0.404, 4.941)\n)\n</code></pre>\n<p>Basically, the data are in cycles, first A, then B and finally C. So Instead of having them in three separate rows, I want to produce this output:</p>\n<pre><code>timestamp          A      B      C\n1675930826.3839524 1.996  0.404  4.941\n1675930826.388385  1.996  0.404  4.941 \n</code></pre>\n<p>I would like to <strong>have the timestamp of A</strong> and then add the A, B, and C values. I tried this to solve my problem:</p>\n<pre><code>df %&gt;% \n  pivot_wider(names_from = label, values_from = value) %&gt;% \n  pivot_longer(cols = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), names_to = &quot;label&quot;, values_to = &quot;value&quot;) %&gt;% \n  arrange(timestamp) %&gt;% \n  select(timestamp, A, B, C)\n</code></pre>\n"
	}, {
		"tags": ["css", "r", "shiny", "shinyjs"],
		"owner": {
			"reputation": 33,
			"user_id": 16901517,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/dVek0.png?s=256&g=1",
			"display_name": "Dev Nocz",
			"link": "https://stackoverflow.com/users/16901517/dev-nocz"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676561220,
		"creation_date": 1676561220,
		"question_id": 75474426,
		"link": "https://stackoverflow.com/questions/75474426/redirect-console-log-to-verbatimtextoutput-and-autoscroll-to-the-bottom-with-cus",
		"title": "redirect console log to verbatimTextOutput and autoscroll to the bottom with custom css",
		"body": "<p>given a verbatimTextOutput(&quot;consoleOutput&quot;) in the ui of a shiny app, what is needed to redirect the console log output to the verbatimTextOutput, autoscroll to the bottom when a new message is sent and use a custom css file?</p>\n"
	}, {
		"tags": ["r", "r-markdown", "kable"],
		"owner": {
			"reputation": 69,
			"user_id": 14132599,
			"user_type": "registered",
			"profile_image": "https://lh4.googleusercontent.com/-qIripMiW_rQ/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckCMnZkNic0UT9a0uaDyMfBudVLHA/photo.jpg?sz=256",
			"display_name": "Michael Clauss",
			"link": "https://stackoverflow.com/users/14132599/michael-clauss"
		},
		"is_answered": false,
		"view_count": 25,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676561215,
		"creation_date": 1676475903,
		"last_edit_date": 1676561215,
		"question_id": 75462197,
		"link": "https://stackoverflow.com/questions/75462197/angling-entire-cell-in-r-markdown",
		"title": "Angling entire cell in R Markdown",
		"body": "<p><a href=\"https://i.stack.imgur.com/SIVQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SIVQr.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/ci6t4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ci6t4.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm trying to make a table where the entire header column is at an angle -- not just the text, but the cell itself. I've found the code for angling the text, but nothing that would angle the cell itself. Below is the code I'm starting with:</p>\n<pre><code>---\noutput: pdf_document\n---\n\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(dplyr)\n\ndf &lt;- data.frame(\n  Long_Column_Name = 1:5,\n  Different_Column_Name= 5:9,\n  Third_Column_Name = 10:14\n)\n\ndf %&gt;%\n  kable(align='c',linesep='') %&gt;%\n  row_spec(0,angle=45) %&gt;%\n  column_spec(1,background='#CCCCFF',include_thead=TRUE)\n\n</code></pre>\n<p>Attached images shows what's produced from this code compared with an approximation of the output I want; the text in the headers is angled, but the cells are still rectangular and matching the rows below. Ideally the cells in the row would themselves be angled at 45 degrees to match the text. Is there a way to accomplish this?</p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 25,
			"user_id": 20511527,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/450ccc82cd8756776fe1406408d6882f?s=256&d=identicon&r=PG",
			"display_name": "Ankita",
			"link": "https://stackoverflow.com/users/20511527/ankita"
		},
		"is_answered": false,
		"view_count": 15,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676561191,
		"creation_date": 1676561191,
		"question_id": 75474419,
		"link": "https://stackoverflow.com/questions/75474419/how-to-add-suffix-at-the-end-of-specific-column-names-in-r-based-on-the-unique-v",
		"title": "How to add suffix at the end of specific column names in R based on the unique values in the row",
		"body": "<p>my row &quot;x&quot; has values &quot;0&quot; and &quot;1&quot;.\nI want to have two column names with the unique values of &quot;x&quot; as suffix</p>\n<p>For eg: mean0, mean1</p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 430,
			"user_id": 4768667,
			"user_type": "registered",
			"accept_rate": 100,
			"profile_image": "https://www.gravatar.com/avatar/5e1b5982e7d51acbb093a93ae06e6f8e?s=256&d=identicon&r=PG&f=1",
			"display_name": "mfalco",
			"link": "https://stackoverflow.com/users/4768667/mfalco"
		},
		"is_answered": false,
		"view_count": 14,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676561085,
		"creation_date": 1676560065,
		"question_id": 75474185,
		"link": "https://stackoverflow.com/questions/75474185/add-custom-spacing-or-gaps-between-bars-in-barplot-ggplot",
		"title": "Add custom spacing or gaps between bars in barplot ggplot",
		"body": "<p>Is there a way to add custom spacing between bars in a barplot using ggplot function <code>geom_col()</code>?</p>\n<p>I want to recreate something like this but in ggplot:</p>\n<pre><code>x &lt;- c(2, 4, 7, 5)\nbarplot(x, space = c(0, 2, 1, 3))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3cUoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3cUoM.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r"],
		"owner": {
			"reputation": 1,
			"user_id": 16439392,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/6d23aae5f6726cc25ad95a79d772b4b6?s=256&d=identicon&r=PG&f=1",
			"display_name": "statslover",
			"link": "https://stackoverflow.com/users/16439392/statslover"
		},
		"is_answered": false,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676560965,
		"creation_date": 1676542570,
		"last_edit_date": 1676560965,
		"question_id": 75470773,
		"link": "https://stackoverflow.com/questions/75470773/error-in-samplen2diffmeansdelta-4-sigma-2-5-alpha-0-05-power-0-9",
		"title": "Error in sampleN2diffmeans(delta = 4, sigma = 2.5, alpha = 0.05, power = 0.9, : could not find function &quot;sampleN2diffmeans&quot;",
		"body": "<pre class=\"lang-r prettyprint-override\"><code>Error in sampleN2diffmeans(delta = 4, sigma = 2.5, alpha = 0.05, power = 0.9,  : \n  could not find function &quot;sampleN2diffmeans&quot;\n</code></pre>\n<p>Uploaded packages are <code>pwr</code> and <code>rpact</code>.</p>\n<p>Are there any alternative for this?</p>\n"
	}, {
		"tags": ["r", "highcharts"],
		"owner": {
			"reputation": 41,
			"user_id": 3338118,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/?s=256&d=identicon&r=PG&f=1",
			"display_name": "Shashivydyula",
			"link": "https://stackoverflow.com/users/3338118/shashivydyula"
		},
		"is_answered": true,
		"view_count": 31,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75474368,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676560932,
		"creation_date": 1676412178,
		"question_id": 75453670,
		"link": "https://stackoverflow.com/questions/75453670/how-to-plot-multiple-y-axis-values-with-highchart-r",
		"title": "How to plot multiple y axis values with highchart R?",
		"body": "<p>I have data set as example below:</p>\n<pre><code>emissions&lt;-structure(\n  list(\n    name = c(\n      &quot;China&quot;,\n      &quot;United States of America&quot;,\n      &quot;India&quot;,\n      &quot;Russia&quot;,\n      &quot;Japan&quot;,\n      &quot;China&quot;,\n      &quot;United States of America&quot;,\n      &quot;India&quot;,\n      &quot;Russia&quot;,\n      &quot;Japan&quot;,\n      &quot;China&quot;,\n      &quot;United States of America&quot;,\n      &quot;India&quot;,\n      &quot;Russia&quot;,\n      &quot;Japan&quot;\n    ),\n    iso = c(\n      &quot;CHN&quot;,\n      &quot;USA&quot;,\n      &quot;IND&quot;,\n      &quot;RUS&quot;,\n      &quot;JPN&quot;,\n      &quot;CHN&quot;,\n      &quot;USA&quot;,\n      &quot;IND&quot;,\n      &quot;RUS&quot;,\n      &quot;JPN&quot;,\n      &quot;CHN&quot;,\n      &quot;USA&quot;,\n      &quot;IND&quot;,\n      &quot;RUS&quot;,\n      &quot;JPN&quot;\n    ),\n    year = c(\n      2019,\n      2019,\n      2019,\n      2019,\n      2019,\n      2020,\n      2020,\n      2020,\n      2020,\n      2020,\n      2021,\n      2021,\n      2021,\n      2021,\n      2021\n    ),\n    total = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    coal = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    oil = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    gas = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    cement = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    flaring = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    other = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10),\n    per_capita = c(100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10, 100,\n              75, 50, 25, 10)\n  ),\n  row.names = c(NA,-15L),\n  class = c(&quot;data.table&quot;,\n            &quot;data.frame&quot;)\n)\n</code></pre>\n<p>The sample I provided is an example and I have data (emissions) of 230+ countries since 1750. I am trying to plot a line graph that depicts the emissions of each category (coal, oil, gas, cement, flaring, other) for the past 10 years (from 2012 to 2022) with a line graph.</p>\n<p>I am unable to figure out how to achieve this. Any help will be greatly appreciated.</p>\n<p>Thank you.</p>\n"
	}, {
		"tags": ["r", "uuid"],
		"owner": {
			"reputation": 11,
			"user_id": 21227574,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp7fUPZGaggUoozTBZdbJZP2Qc7ajoXDhTNVyow8=k-s256",
			"display_name": "Max Mason",
			"link": "https://stackoverflow.com/users/21227574/max-mason"
		},
		"is_answered": false,
		"view_count": 18,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676560075,
		"creation_date": 1676559162,
		"last_edit_date": 1676560075,
		"question_id": 75474020,
		"link": "https://stackoverflow.com/questions/75474020/applying-unique-ids-uuid-to-environment-objects-in-a-list-preserving-name-an",
		"title": "applying unique id&#39;s (uuid) to environment objects in a list; preserving name and random-ness",
		"body": "<p>I have a list of environment objects (R6) with a large number of associated parameters associated with each (&gt;50 parameters for each &quot;individual&quot;; i.e. sex, weight, height, etc).  The objects are stored in a list in order to loop over individuals in a model.</p>\n<p>As part of the model, I want to add new individuals to the list periodically.  My issue is that at some point I need to index the &quot;individuals'&quot; numeric position within the list to populate output of the model.</p>\n<p>My solution so far has been to assign random ID numbers to each individual at its creation, then save the &quot;individual&quot; object and its associated name to the list, allowing me to index the position in the list using <code>which()</code>.</p>\n<p>for example.</p>\n<pre><code>individual1 &lt;- newobject$new(1)      \n</code></pre>\n<p>create unique objects at the start using the R6 constructor</p>\n<pre><code>individual2 &lt;- newobject$new(1)      #a 2nd object\n\npopulation &lt;- tibble::lst(individual1, individual2)       \n</code></pre>\n<p>add both objects to an initial list</p>\n<p>at this point, <code>names(population) returns &quot;individual1&quot;, &quot;individual2&quot;</code></p>\n<p>next, within a for loop, I want to generate new individuals and assign random names because the process which triggers this loop is variable and random.  I do not want to pull from a list of prenamed items</p>\n<pre><code>newindividuals &lt;- 5\nfor(i in 1:newindividuals){\n\nnew &lt;- newobject$new(1)            \nassign(UUIDgenerate(), new)        \npopulation &lt;- c(population, tibble::lst(randomID))\n\n}\n</code></pre>\n<p>create a new object, rename it with a random id (package uuid) and then append it to the popualtion list.</p>\n<p>the desired end result is that the new population will return:</p>\n<pre><code>names(population)\n&quot;indiviual1&quot; &quot;individual2&quot; &quot;kneslkfk-69inf-flknsek53234-lkdfj&quot;  \n</code></pre>\n<p>the 2 objects alreday named in the list, AND the new random alphanumeric identifier created in the loop above.</p>\n<p>Finally:</p>\n<p>I'd like to index the position of the individual within the list</p>\n<p>something like:</p>\n<pre><code>which(population == individual2)\n</code></pre>\n<p>returns: 2</p>\n<p>I have tried to pipe the operation and I have tried to assign the random id within a list command</p>\n<pre><code>assign(UUIDgenerate(), new) %&gt;% c(population, tibble::lst(.)) -&gt; population\n</code></pre>\n<p>This pipe does not work because the dot cannot refer to this type of enviornment object?\nWithout the dot notation population appends the object, but not the name.</p>\n<p>I have also tried to assign it without dyplr piping</p>\n<pre><code>population &lt;- c(population, (tibble::lst(assign(UUIDgenerate(), new))))\n</code></pre>\n<p>this appends the object to the list but makes the name\n&quot;assign(UUIDgnereate(), new)&quot;\nwhich is not desireable....</p>\n<p>as for indexing the posittion within the list, which(), match(), and Position() have proved fruitless, presumable becaes the data type is a list of environments, rather than integers.  I am hopeful that using the names stored to the list, I will be able to reference the position using a placeholder in a loop...</p>\n<p>ie</p>\n<pre><code>for(i in population){\n   do things\n   Position(i)\n}\n\nwill return position &quot;3&quot; when i = &quot;kneslkfk-69inf-flknsek53234-lkdfj&quot;\n</code></pre>\n<p>I hope this is clear enough, it is hard to produce data for testing due to the complex nature of the larger model.</p>\n<p>but simply my aims are twofold:</p>\n<ol>\n<li>save the random generated name of an environment object to a list</li>\n<li>index the numeric position of that new object within the list.</li>\n</ol>\n"
	}, {
		"tags": ["r", "ggplot2", "gridextra", "ggbreak"],
		"owner": {
			"reputation": 275,
			"user_id": 20917815,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/Zriku.jpg?s=256&g=1",
			"display_name": "BestGirl",
			"link": "https://stackoverflow.com/users/20917815/bestgirl"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676560065,
		"creation_date": 1676560065,
		"question_id": 75474184,
		"link": "https://stackoverflow.com/questions/75474184/gridextramarrangegrob-disregards-ggbreakscale-y-break",
		"title": "gridExtra::marrangegrob() disregards ggbreak::scale_y_break()",
		"body": "<p>I'm creating multiple <code>ggplot2</code> plots with a &quot;broken&quot; Y axis using <code>ggbreak::scale_y_break</code>, and exporting these to a single PDF document using <code>gridExtra::marrangegrob()</code> and <code>ggsave()</code>. It turns out that when saving, the broken Y axis is in fact ignored. Here is some synthetic sample code:</p>\n<pre><code>library(tidyverse)\nsuppressMessages(library(ggbreak))\nlibrary(gridExtra)\n\nd &lt;- tibble(val = c(rep(1, 10000), rep(2, 100), rep(3, 50)))\n\nplt &lt;- d |&gt; ggplot(mapping = aes(x = val)) + \n    geom_histogram(bins = 3, color = &quot;white&quot;) + theme_light() + \n    scale_y_break(breaks = c(150, 9950))\n\nplt\n\nplts &lt;- list(plt, plt)\nggsave(filename = &quot;test.pdf&quot;, plot = marrangeGrob(grobs = plts, nrow = 1, ncol = 1))\n</code></pre>\n<p>The plot <code>plt</code> looks as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/yzIdG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzIdG.png\" alt=\"enter image description here\" /></a></p>\n<p>In the PDF, however, it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/ACiab.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACiab.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong? Is this a bug, and if so, in which of the involved packages? Thanks!</p>\n"
	}, {
		"tags": ["r", "dplyr", "tidyr"],
		"owner": {
			"reputation": 3,
			"user_id": 17723611,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/bc616cbb4b8d4d86a5f1fec1f5bfc665?s=256&d=identicon&r=PG&f=1",
			"display_name": "eco01",
			"link": "https://stackoverflow.com/users/17723611/eco01"
		},
		"is_answered": false,
		"view_count": 13,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676560055,
		"creation_date": 1676537091,
		"last_edit_date": 1676560055,
		"question_id": 75469722,
		"link": "https://stackoverflow.com/questions/75469722/filling-nas-for-a-value-in-a-column-leaving-out-a-single-row-unchanged",
		"title": "Filling NAs for a value in a column, leaving out a single row unchanged",
		"body": "<p>I used <code>fill()</code> to replace NAs in my variable called 'values', works all good, but now I want it to leave one row unchanged. I don't want to use <code>group_by()</code>, just <code>!</code>. I'm not sure how to insert it within the fill function.</p>\n<p>Here is a sample dataframe I created:</p>\n<pre><code>y &lt;- data.frame(values=c(2,2,NA,5,NA,NA,3,3),\n                groups=c(&quot;A1&quot;,&quot;A1&quot;,&quot;A1&quot;,&quot;A2&quot;,&quot;A2&quot;,&quot;A3&quot;,&quot;B1&quot;,&quot;B1&quot;)\n)\n</code></pre>\n<p>This is the output of the df:</p>\n<pre><code>  values groups\n1      2     A1\n2      2     A1\n3     NA     A1\n4      5     A2\n5     NA     A2\n6     NA     A3\n7      3     B1\n8      3     B1\n</code></pre>\n<p>Then I run the fill function:</p>\n<pre><code>y %&gt;%\n  group_by(groups) %&gt;%\n  fill(values, .direction = 'down')\n</code></pre>\n<p>Here's the output, but I want the line 6 to stay NA, using <code>!</code> only.</p>\n<pre><code>  values groups\n1      2     A1\n2      2     A1\n3      2     A1\n4      5     A2\n5      5     A2\n**6      5     A3**\n7      3     B1\n8      3     B1\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2", "scatter-plot", "geom-bar"],
		"owner": {
			"reputation": 1,
			"user_id": 21124592,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/b5bf2f0f55fdb18f97deba5dda09e4ea?s=256&d=identicon&r=PG",
			"display_name": "GonGas",
			"link": "https://stackoverflow.com/users/21124592/gongas"
		},
		"is_answered": false,
		"view_count": 37,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676559853,
		"creation_date": 1676460119,
		"last_edit_date": 1676559853,
		"question_id": 75459048,
		"link": "https://stackoverflow.com/questions/75459048/how-to-merge-a-stacked-barchart-with-a-point-plot-in-the-same-plot",
		"title": "How to merge a stacked barchart with a point plot in the same plot?",
		"body": "<p>I have this graph.\n<img src=\"https://i.stack.imgur.com/lzwsV.png\" alt=\"enter image description here\" /></p>\n<p>And i want to merge it with this one.<img src=\"https://i.stack.imgur.com/qeIFQ.png\" alt=\"enter image description here\" /></p>\n<p>This is what I have tried.</p>\n<pre><code>freq &lt;- read_excel(&quot;mg_freq_MFD.xlsx&quot;)\nmed &lt;- read_excel(&quot;mg_med_MFD.xlsx&quot;)\nfreq$lookup &lt;- freq$vlookup\nfreq$lookup &lt;- gsub(&quot;|[^|]+$&quot;, &quot;&quot;, freq$lookup)\nfreq$esc &lt;- freq$vlookup\nfreq$esc &lt;- gsub(&quot;_[^_]+$&quot;, &quot;&quot;, freq$esc)\nmed$lookup &lt;- med$vlookup\nmed$lookup &lt;- gsub(&quot;|[^|]+$&quot;, &quot;&quot;, med$lookup)\nmed$esc &lt;- med$vlookup\nmed$esc &lt;- gsub(&quot;_[^_]+$&quot;, &quot;&quot;, med$esc)\ntotal=20\ndb&lt;- data.frame(x=1:3,\n                y=c(5.5, 6.5,9.7))\nescala&lt;-c(&quot;4&quot;,&quot;3&quot;,&quot;2&quot;,&quot;1&quot;)\ntituloQ6&lt;-titulo[titulo$Var==&quot;Q6&quot;, &quot;Titulo&quot;]\nQ6&lt;-freq[freq$esc==&quot;Entrevista_final|1|ii|1|esc_Q6&quot;,c(&quot;var&quot;,&quot;mod&quot;,&quot;PERCENT&quot;)]\nQ6med&lt;-med[med$esc==&quot;Entrevista_final|1|ii|1|Q6&quot;,c(&quot;var&quot;,&quot;mean&quot;)]\n\nggplot(Q6, aes(x=var, y=PERCENT,fill = factor(x=mod, levels = escala)))+\n  geom_bar(stat = &quot;identity&quot;, position = &quot;stack&quot;, width =.5, color=&quot;red3&quot;)+\n  scale_fill_manual(values = c(&quot;4&quot;=&quot;white&quot;,&quot;3&quot;=&quot;#fe5f5f&quot;,&quot;2&quot;=&quot;red&quot;,&quot;1&quot;=&quot;red3&quot;))+\n  scale_y_continuous(labels = scales::percent)+\n  geom_text(aes(label=sprintf(PERCENT,fmt=&quot;%1.0f&quot;)),\n            position = position_stack(vjust=0.5))+\n  theme_classic()+\n  ggtitle(tituloQ6)+\n  labs(x=&quot;&quot;,\n       y=NULL,\n       caption = (paste(&quot;n= &quot;, total)))+\n  guides(y=&quot;none&quot;)+\n  theme(legend.title = element_blank())+\n  geom_point(data=Q6med, x=var, y=mean)\n</code></pre>\n<p>But i get an error on the factor.</p>\n<pre><code>Error in `geom_point()`:\n! Problem while computing aesthetics.\n\u2139 Error occurred in the 3rd layer.\nCaused by error in `factor()`:\n! object 'mod' not found\nBacktrace:\n  1. base (local) `&lt;fn&gt;`(x)\n 17. base::factor(x = mod, levels = escala)\nError in geom_point(data = Q6med, x = var, y = mean) :\n\u2139 Error occurred in the 3rd layer.\nCaused by error in `factor()`:\n! object 'mod' not found\n</code></pre>\n<pre class=\"lang-r prettyprint-override\"><code>structure(list(vlookup = c(&quot;Entrevista_final|1|Q3_nova|0|C1|1&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C1|2&quot;, &quot;Entrevista_final|1|Q3_nova|0|C3|1&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C3|4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C3|2&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C3|3&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|2018&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_1|2020&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|1993&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_1|2015&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|2016&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_1|1996&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|99&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_1|2017&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|2004&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_1|2019&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|2002&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_1|2021&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_2|99&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|C4_2|2018&quot;), cruza1 = c(&quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;), \n    mod1 = c(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, \n    &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;), cruza2 = c(&quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;), mod2 = c(&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, \n    &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;\n    ), var = c(&quot;C1&quot;, &quot;C1&quot;, &quot;C3&quot;, &quot;C3&quot;, &quot;C3&quot;, &quot;C3&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, \n    &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_1&quot;, \n    &quot;C4_1&quot;, &quot;C4_1&quot;, &quot;C4_2&quot;, &quot;C4_2&quot;), mod = c(&quot;1&quot;, &quot;2&quot;, &quot;1&quot;, &quot;4&quot;, \n    &quot;2&quot;, &quot;3&quot;, &quot;2018&quot;, &quot;2020&quot;, &quot;1993&quot;, &quot;2015&quot;, &quot;2016&quot;, &quot;1996&quot;, \n    &quot;99&quot;, &quot;2017&quot;, &quot;2004&quot;, &quot;2019&quot;, &quot;2002&quot;, &quot;2021&quot;, &quot;99&quot;, &quot;2018&quot;\n    ), pop_extrapolada = c(22, 17, 32, 3, 3, 1, 4, 10, 1, 1, \n    2, 1, 2, 2, 1, 4, 1, 10, 2, 3), PERCENT = c(56.4102564102564, \n    43.5897435897436, 82.051282051282, 7.69230769230769, 7.69230769230769, \n    2.56410256410256, 10.2564102564103, 25.6410256410256, 2.56410256410256, \n    2.56410256410256, 5.12820512820513, 2.56410256410256, 5.12820512820513, \n    5.12820512820513, 2.56410256410256, 10.2564102564103, 2.56410256410256, \n    25.6410256410256, 15.3846153846154, 23.0769230769231), count = c(22, \n    17, 32, 3, 3, 1, 4, 10, 1, 1, 2, 1, 2, 2, 1, 4, 1, 10, 2, \n    3), BA = c(39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, \n    39, 39, 39, 39, 39, 39, 13, 13), StdErr = c(0.0795074974876938, \n    0.0795074974876938, 0.0615313285518115, 0.0427252055542318, \n    0.0427252055542318, 0.0253433535020364, 0.0486447864199686, \n    0.0700118062133025, 0.0253433535020364, 0.0253433535020364, \n    0.0353661791821834, 0.0253433535020364, 0.0353661791821834, \n    0.0353661791821834, 0.0253433535020364, 0.0486447864199686, \n    0.0253433535020364, 0.0700118062133025, 0.100484337629983, \n    0.117340426124568), LowerCLMean = c(0.407774134748444, 0.279569006543315, \n    0.699529312635895, 0, 0, 0, 0.00691824151210088, 0.118752349327158, \n    0, 0, 0, 0, 0, 0, 0, 0.00691824151210088, 0, 0.118752349327158, \n    0, 0), UpperCLMean = c(0.720430993456685, 0.592225865251556, \n    0.941496328389746, 0.160929799423163, 0.160929799423163, \n    0.0754713784093646, 0.198209963616104, 0.394068163493355, \n    0.0754713784093646, 0.0754713784093646, 0.120819383213079, \n    0.0754713784093646, 0.120819383213079, 0.120819383213079, \n    0.0754713784093646, 0.198209963616104, 0.0754713784093646, \n    0.394068163493355, 0.352798149154327, 0.463095108198593), \n    ME = c(15.6328429354121, 15.6328429354121, 12.0983507876925, \n    8.40067225000863, 8.40067225000863, 4.9830352768339, 9.56458610520017, \n    13.7657907083098, 4.9830352768339, 4.9830352768339, 6.95373319310279, \n    4.9830352768339, 6.95373319310279, 6.95373319310279, 4.9830352768339, \n    9.56458610520017, 4.9830352768339, 13.7657907083098, NA, \n    NA), StdDev = c(4.55932029745697, 4.03560271072923, 5.42183783041485, \n    1.72749876078217, 1.72749876078217, 1, 1.99211042289525, \n    3.1247047104581, 1, 1, 1.41235641966466, 1, 1.41235641966466, \n    1.41235641966466, 1, 1.99211042289525, 1, 3.1247047104581, \n    1.40830867828517, 1.71755640373177), lookup = c(&quot;Entrevista_final|1|Q3_nova|0|C1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C3|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C3|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C3|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C3|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_1|&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4_2|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4_2|&quot;), esc = c(&quot;Entrevista_final|1|Q3&quot;, \n    &quot;Entrevista_final|1|Q3&quot;, &quot;Entrevista_final|1|Q3&quot;, &quot;Entrevista_final|1|Q3&quot;, \n    &quot;Entrevista_final|1|Q3&quot;, &quot;Entrevista_final|1|Q3&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, &quot;Entrevista_final|1|Q3_nova|0|C4&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|C4&quot;)), row.names = c(NA, -20L\n), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n<pre class=\"lang-r prettyprint-override\"><code>structure(list(vlookup = c(&quot;Entrevista_final|1|Q3_nova|.|Q6_1&quot;, \n&quot;Entrevista_final|1|Q3_nova|.|Q6_2&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q6_3&quot;, \n&quot;Entrevista_final|1|Q3_nova|.|Q9_1&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9_2&quot;, \n&quot;Entrevista_final|1|Q3_nova|.|Q9_3&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9_4&quot;, \n&quot;Entrevista_final|1|Q3_nova|.|Q9_5&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9_6&quot;, \n&quot;Entrevista_final|1|Q3_nova|.|Q9_7&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9_8&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|Q6_1&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q6_2&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|Q6_3&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q9_1&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|Q9_2&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q9_3&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|Q9_4&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q9_5&quot;, \n&quot;Entrevista_final|1|Q3_nova|0|Q9_6&quot;), cruza1 = c(&quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, \n&quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;, &quot;Entrevista_final&quot;), \n    mod1 = c(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, \n    &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;), cruza2 = c(&quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, &quot;Q3_nova&quot;, \n    &quot;Q3_nova&quot;), mod2 = c(&quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, \n    &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;\n    ), var = c(&quot;Q6_1&quot;, &quot;Q6_2&quot;, &quot;Q6_3&quot;, &quot;Q9_1&quot;, &quot;Q9_2&quot;, &quot;Q9_3&quot;, \n    &quot;Q9_4&quot;, &quot;Q9_5&quot;, &quot;Q9_6&quot;, &quot;Q9_7&quot;, &quot;Q9_8&quot;, &quot;Q6_1&quot;, &quot;Q6_2&quot;, &quot;Q6_3&quot;, \n    &quot;Q9_1&quot;, &quot;Q9_2&quot;, &quot;Q9_3&quot;, &quot;Q9_4&quot;, &quot;Q9_5&quot;, &quot;Q9_6&quot;), mean = c(5.69767441860465, \n    7.18604651162791, 6.81395348837209, 6.325, 6.65, 7.68292682926829, \n    8.41463414634146, 8.07142857142857, 8.14634146341463, 8.59523809523809, \n    8.54761904761905, 6.61538461538461, 6.94871794871795, 6.43589743589744, \n    6.72222222222222, 6.75675675675676, 8.44736842105263, 8.23684210526316, \n    8.44736842105263, 8.57894736842105), ba = c(43, 43, 43, 40, \n    40, 41, 41, 42, 41, 42, 42, 39, 39, 39, 36, 37, 38, 38, 38, \n    38), N = c(43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 39, \n    39, 39, 39, 39, 39, 39, 39, 39), StdErr = c(0.470914185560204, \n    0.410281576101709, 0.416835766228631, 0.521900205807444, \n    0.402892230805839, 0.391375466555417, 0.269664126081159, \n    0.268409952413896, 0.304135230479118, 0.316349111010602, \n    0.250470946520814, 0.400365075596811, 0.407435440466744, \n    0.349722774823449, 0.426532227843502, 0.307106063412623, \n    0.290287995830448, 0.289658029819206, 0.240601576847107, \n    0.257153023503742), LowerCLMean = c(4.77203852970105, 6.37957987882874, \n    5.9946205378507, 5.29900543427478, 5.85799052940539, 6.91360135641181, \n    7.88453734944423, 7.54379718753762, 7.54850383690226, 7.97340904610116, \n    8.0552828750472, 5.82842110058807, 6.14784579920957, 5.7484818728014, \n    5.88370991085601, 6.1530446667685, 7.87675025833957, 7.66744195540224, \n    7.97440181971579, 8.07346251229383), UpperCLMean = c(6.62331030750825, \n    7.99251314442708, 7.63328643889348, 7.35099456572522, 7.4420094705946, \n    8.45225230212478, 8.94473094323869, 8.59905995531952, 8.74417908992701, \n    9.21706714437503, 9.0399552201909, 7.40234813018116, 7.74959009822633, \n    7.12331299899347, 7.56073453358844, 7.36046884674501, 9.0179865837657, \n    8.80624225512407, 8.92033502238947, 9.08443222454828), media_sem_fe = c(5.69767441860465, \n    7.18604651162791, 6.81395348837209, 6.325, 6.65, 7.68292682926829, \n    8.41463414634146, 8.07142857142857, 8.14634146341463, 8.59523809523809, \n    8.54761904761905, 6.61538461538461, 6.94871794871795, 6.43589743589744, \n    6.72222222222222, 6.75675675675676, 8.44736842105263, 8.23684210526316, \n    8.44736842105263, 8.57894736842105), ME = c(0.925635888903602, \n    0.806466632799168, 0.819332950521389, 1.02599456572522, 0.792009470594609, \n    0.769325472856485, 0.530096796897231, 0.527631383890947, \n    0.597837626512375, 0.62182904913694, 0.49233617257185, 0.786963514796548, \n    0.800872149508378, 0.687415563096039, 0.838512311366217, \n    0.60371208998826, 0.570618162713064, 0.569400149860914, 0.47296660133684, \n    0.505484856127225), lookup = c(&quot;Entrevista_final|1|Q3_nova|.|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|&quot;, &quot;Entrevista_final|1|Q3_nova|.|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|&quot;, &quot;Entrevista_final|1|Q3_nova|.|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|&quot;, &quot;Entrevista_final|1|Q3_nova|.|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|&quot;, &quot;Entrevista_final|1|Q3_nova|.|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|&quot;, &quot;Entrevista_final|1|Q3_nova|.|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|&quot;, &quot;Entrevista_final|1|Q3_nova|0|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|&quot;, &quot;Entrevista_final|1|Q3_nova|0|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|&quot;, &quot;Entrevista_final|1|Q3_nova|0|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|&quot;, &quot;Entrevista_final|1|Q3_nova|0|&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|&quot;), esc = c(&quot;Entrevista_final|1|Q3_nova|.|Q6&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|Q6&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q6&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, &quot;Entrevista_final|1|Q3_nova|.|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|Q6&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q6&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|Q6&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|Q9&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|Q9&quot;, &quot;Entrevista_final|1|Q3_nova|0|Q9&quot;, \n    &quot;Entrevista_final|1|Q3_nova|0|Q9&quot;)), row.names = c(NA, -20L\n), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n</code></pre>\n<p>How can i solve this?</p>\n"
	}, {
		"tags": ["r", "hadoop", "hive", "cloudera"],
		"owner": {
			"reputation": 311,
			"user_id": 13005699,
			"user_type": "registered",
			"profile_image": "https://i.stack.imgur.com/zLMDl.png?s=256&g=1",
			"display_name": "Ray",
			"link": "https://stackoverflow.com/users/13005699/ray"
		},
		"is_answered": false,
		"view_count": 17,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676559818,
		"creation_date": 1676544709,
		"last_edit_date": 1676559818,
		"question_id": 75471203,
		"link": "https://stackoverflow.com/questions/75471203/setting-hivevar-in-the-r-script-does-not-work-while-retrieving-data-from-the-dat",
		"title": "Setting hivevar in the r script does not work while retrieving data from the data lake",
		"body": "<p>I am trying to retrieve data from the data lake using HiveQL, but from RStudio. To connect R to the data lake, a dbGetQuery is used. For example, the following code extracts columns Date, A and B (where A and B are some columns in a dummy table xyz)</p>\n<p>xyz table entries:</p>\n<pre><code>A  B\n1  2\n2  0\n3  5\n9  11 \n</code></pre>\n<pre><code>Data &lt;- dbGetQuery(con,&quot;Select from_unixtime(unix_timestamp(current_date, 'yyyyMMdd'),'yyyy-MM-dd') as Date,\nA,  -- some column\nB from xyz &quot;) # some column\n</code></pre>\n<p>The above code works fine and the result must be, for example.</p>\n<pre><code>Data\n-------------------\nDate       A  B\n2023-02-16 1  2\n2023-02-16 2  0\n2023-02-16 3  5\n2023-02-16 9  11\n</code></pre>\n<p>The following code works fine, when run in Hue:</p>\n<pre><code>set hivevar:YearMonthDay  = '20230216'  ;\nselect \n          substring(${hivevar:YearMonthDay},1,4) || '-' || substring(${hivevar:YearMonthDay},5,2) || '-' || substring(${hivevar:YearMonthDay},7,2) as Date,\nA,\nB from xyz\n</code></pre>\n<p>When the same is run through RStudio using dbGetQuery:</p>\n<pre><code>Data &lt;- dbGetQuery(con,&quot;set hivevar:YearMonthDay  = '20230216'  ;\nselect \n          substring(${hivevar:YearMonthDay},1,4) || '-' || substring(${hivevar:YearMonthDay},5,2) || '-' || substring(${hivevar:YearMonthDay},7,2) as Date,\nA,\nB from xyz &quot;)\n</code></pre>\n<p>the following error occurs:</p>\n<pre><code>Error in dbSendQuery(conn, statement, ...) : \n  Unable to retrieve JDBC result set\n  JDBC ERROR: [Cloudera][JDBC](11300) a resultset was expected but not generated from query \u201eset hivevar:JahrMonatTag  = '20230216'  ;&quot;\n</code></pre>\n<p>I understand that the set hivevar is not working and setting it that way is wrong. How to overcome this issue in the R code without using unixtimestamp?</p>\n"
	}, {
		"tags": ["r", "xgboost", "alpha"],
		"owner": {
			"reputation": 1,
			"user_id": 17446342,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/29a70487746732173b7eed37bd6da84d?s=256&d=identicon&r=PG",
			"display_name": "Duchelle KEPSU ",
			"link": "https://stackoverflow.com/users/17446342/duchelle-kepsu"
		},
		"is_answered": false,
		"view_count": 10,
		"down_vote_count": 1,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": -1,
		"last_activity_date": 1676559758,
		"creation_date": 1676552195,
		"last_edit_date": 1676559758,
		"question_id": 75472621,
		"link": "https://stackoverflow.com/questions/75472621/i-am-implementing-xgboost-linear-regression-model-with-r-with-the-gridsearch-me",
		"title": "i am implementing xgboost linear regression model with R, with the gridsearch method, but i have an error that i don&#39;t know how to solve it",
		"body": "<p>i have choose to use the nrounds, lambda, gamma and eta for hyperparameters, and when the gridsearch finished i obtained the optimal parameter with a value of &quot;o&quot; ( zero) for the alpha parameter, but when i want to train the best model with this optimum parameters, i have this error that i don't know why or my alpha has the value zero</p>\n<p><a href=\"https://i.stack.imgur.com/rPEtl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rPEtl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pQ1RA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pQ1RA.png\" alt=\"enter image description here\" /></a></p>\n"
	}, {
		"tags": ["r", "cox-regression", "timed-events"],
		"owner": {
			"reputation": 13,
			"user_id": 20660562,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/064e107d17f7e2a0c58d3cb8517a5f37?s=256&d=identicon&r=PG",
			"display_name": "mumber1",
			"link": "https://stackoverflow.com/users/20660562/mumber1"
		},
		"is_answered": false,
		"view_count": 16,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676559642,
		"creation_date": 1676558826,
		"last_edit_date": 1676559642,
		"question_id": 75473927,
		"link": "https://stackoverflow.com/questions/75473927/cox-analysis-time-dependant-r",
		"title": "cox analysis time dependant R",
		"body": "<p>I create my table to make an analysis cox survival time-dependant (with t start and t stop for each ID)</p>\n<p>my variable dependant is death and my variable independent is a score</p>\n<p>So i look the document R about this type of analysis but when i run the code to have an HR and confidence interval my sample is multiple by 2 ( like they considered all my row as a sample)</p>\n<p>I'm wondering if the following code is right to make analysis survival time dependant</p>\n<pre><code>coxph(Surv(tStart, tStop, DEATH) ~ score ,\n        data =df_timedep, cluster = ID)\n</code></pre>\n<p>Do you know if it's ok with this code ?</p>\n"
	}, {
		"tags": ["r", "insert", "mean", "rbind"],
		"owner": {
			"reputation": 1,
			"user_id": 21227123,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5Va0XBJsUCzA9qXqT2ywGkromJ5WFM9gTzSQxnUg=k-s256",
			"display_name": "Nicky Bondi Dreyer",
			"link": "https://stackoverflow.com/users/21227123/nicky-bondi-dreyer"
		},
		"is_answered": false,
		"view_count": 11,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676559074,
		"creation_date": 1676558747,
		"last_edit_date": 1676559074,
		"question_id": 75473905,
		"link": "https://stackoverflow.com/questions/75473905/how-to-add-in-rows-in-data-frame-x-to-reflect-rows-data-frame-y-in-r",
		"title": "How to add in rows in data frame x to reflect rows data frame y in R",
		"body": "<p>I'm trying to combine two data frames which have the same headings (Species, Age, n , kill.total, Contribution), and then need to calculate the average for Species*Age for the contribution.</p>\n<p>Where:</p>\n<p>Species is  Species killed<br />\nAge is Age of Species killed<br />\nn is total number of kills for a species of a particular age class  kill.total is total number of kills made per season<br />\nContribution is n/kill.total</p>\n<pre><code>`Lion.diet.all.Age &lt;- do.call(&quot;rbind&quot;, list(Diet.1, Diet.2)) \n\nLion.diet.all.Age.Table = aggregate(Contribution ~ Species*Age, data = Lion.diet.all.Age, \n                                FUN = function(x) c(mean = mean(x), sd = std.error(x)))`\n</code></pre>\n<p>However, since not all the same species/ same age classes of each species were killed each season when I calculate the average contribution, it given me an incorrect value.</p>\n<p>e.g., Season 1:</p>\n<pre><code>`Species &lt;-c(&quot;Buffalo&quot;, &quot;Buffalo&quot;, &quot;Impala&quot;, &quot;Impala&quot;, &quot;Impala&quot;, &quot;Kudu&quot;)\nAge &lt;-c(&quot;Adult&quot;, &quot;Juvenile&quot;, &quot;Adult&quot;, &quot;Sub-adult&quot;, &quot;Juvenile&quot;, &quot;Adult&quot;)\nn&lt;- c(2,5,10,3,11,4)\nkill.total&lt;- c(35,35,35,35,35,35)\n\nDiet.1 &lt;- data.frame(Species, Age, n, kill.total)\n\nDiet.1$Contribution = (Diet.1$n/kill.total)*100`\n</code></pre>\n<p>Season 2:</p>\n<p>` Species &lt;-c(&quot;Buffalo&quot;, &quot;Eland&quot;, &quot;Impala&quot;, &quot;Impala&quot;, &quot;Impala&quot;, &quot;Zebra&quot;, &quot;Wildebeest&quot;, &quot;Wildebeest&quot;)\nAge &lt;-c(&quot;Adult&quot;,&quot;Adult&quot;, &quot;Sub-adult&quot;, &quot;Juvenile&quot;,&quot;Neonate&quot;, &quot;Neonate&quot;, &quot;Juvenile&quot;, &quot;Neonate&quot;)\nn&lt;- c(1,2,5,9,11,12,10,9)\nkill.total&lt;- c(59,59,59,59,59,59,59,59)</p>\n<pre><code>Diet.2 &lt;- data.frame(Species, Age, n, kill.total)\n\nDiet.2$Contribution = (Diet.2$n/kill.total)*100`\n</code></pre>\n<p>Using the above two seasons,</p>\n<p><code> Lion.diet.all.Age &lt;- do.call(&quot;rbind&quot;, list(Diet.1, Diet.2))</code></p>\n<p>Output:</p>\n<pre><code>  Species       Age  n kill.total Contribution\n</code></pre>\n<p>1     Buffalo     Adult  2         35     5.714286\n2     Buffalo  Juvenile  5         35    14.285714\n3      Impala     Adult 10         35    28.571429\n4      Impala Sub-adult  3         35     8.571429\n5      Impala  Juvenile 11         35    31.428571\n6        Kudu     Adult  4         35    11.428571\n7     Buffalo     Adult  1         59     1.694915\n8       Eland     Adult  2         59     3.389831\n9      Impala Sub-adult  5         59     8.474576\n10     Impala  Juvenile  9         59    15.254237\n11     Impala   Neonate 11         59    18.644068\n12      Zebra   Neonate 12         59    20.338983\n13 Wildebeest  Juvenile 10         59    16.949153\n14 Wildebeest   Neonate  9         59    15.254237</p>\n<p><code> Lion.diet.all.Age.Table = aggregate(Contribution ~ Species*Age, data = Lion.diet.all.Age,  FUN = function(x) c(mean = mean(x), sd = std.error(x)))</code></p>\n<p>Output:\nSpecies       Age Contribution.mean Contribution.sd\n1     Buffalo     Adult        3.70460048      2.00968523\n2       Eland     Adult        3.38983051              NA\n3      Impala     Adult       28.57142857              NA\n4        Kudu     Adult       11.42857143              NA\n5     Buffalo  Juvenile       14.28571429              NA\n6      Impala  Juvenile       23.34140436      8.08716707\n7  Wildebeest  Juvenile       16.94915254              NA\n8      Impala   Neonate       18.64406780              NA\n9  Wildebeest   Neonate       15.25423729              NA\n10      Zebra   Neonate       20.33898305              NA\n11     Impala Sub-adult        8.52300242      0.04842615</p>\n<p>However, since the species are not the same for both seasons, the averages are not correct.\ni.e., mean(Eland Adult) should equal '(0/35 + 2/59)/2*100 = 1.69' but the above output gives me 3.38.</p>\n<p>How do I tell R to repeat Eland Adult (and all other species*ages) across both seasons and make Contribution = 0 so that I get the correct average values?</p>\n<p>I am using a much larger dataset where each data frame (Diet.1, Diet.2,...) is created from a subset of data from my input .csv file, therefore I cannot manually input all the Species*Age rows.</p>\n"
	}, {
		"tags": ["r", "large-data", "plm", "ff"],
		"owner": {
			"reputation": 11,
			"user_id": 16273127,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ghr-oWTNnEERiLBxLeaOzaBmCnoCoXoCm-OBF70Ww=k-s256",
			"display_name": "Luiza Rodrigues",
			"link": "https://stackoverflow.com/users/16273127/luiza-rodrigues"
		},
		"is_answered": false,
		"view_count": 5,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676559029,
		"creation_date": 1676559029,
		"question_id": 75473986,
		"link": "https://stackoverflow.com/questions/75473986/can-i-use-biglm-and-or-ff-packages-for-random-effects-estimation-in-r",
		"title": "Can i use biglm and/or ff packages for random effects estimation in R?",
		"body": "<p>I have a very large panel in R, tryed to perform a plm regression and received the error &quot;cannot allocate vector of size 11 Gb&quot;. I found out that regression in chunks could be a solution and tryed to use <a href=\"https://cran.r-project.org/web/packages/biglm/index.html\" rel=\"nofollow noreferrer\">biglm</a> and/or ff packages.</p>\n<p>My question is: <strong>can I use biglm and/or ff packages to make a random effects estimation</strong>?</p>\n<p>Using Wooldridge data and the <a href=\"https://stackoverflow.com/questions/49033016/plm-or-lme4-for-random-and-fixed-effects-model-on-panel-data\">nice example given by Gilles San Martin</a>, i used the following:</p>\n<pre><code>#install.packages(c(&quot;wooldridge&quot;, &quot;plm&quot;, &quot;stargazer&quot;, &quot;lme4&quot;,&quot;biglm&quot;), dependencies = TRUE)  library(wooldridge) \nlibrary(plm) \nlibrary(lme4)\nlibrary(biglm)\n\ndata(wagepan)\nformula&lt;-lwage ~ educ + black + hisp + exper+I(exper^2)+ married + union + factor(year)\n</code></pre>\n<p>First, i made the OLS regressions using three different packages:</p>\n<pre><code>Pooled.ols &lt;- plm(formula, data = wagepan, index=c(&quot;nr&quot;,&quot;year&quot;), model=&quot;pooling&quot;)\n\nPooled.ols.lm &lt;- lm(formula, data = wagepan)\n\nPooled.OLS.biglm&lt;- bigglm(formula,data=wagepan, chunksize=10, sandwich=TRUE)\n</code></pre>\n<p>Then I made the random effects regressions:</p>\n<pre><code>random.effects &lt;- plm(formula, data = wagepan, index = c(&quot;nr&quot;,&quot;year&quot;) , model = &quot;random&quot;) \n\nrandom.effects.lme4 &lt;- lmer(lwage ~ educ + black + hisp + exper + I(exper^2) + married + \n                              union + factor(year) + (1|nr), data = wagepan) \n</code></pre>\n<p>I was not able to put the biglm regression inside stargazer table, but i did the following:</p>\n<pre><code>stargazer::stargazer(Pooled.ols,Pooled.ols.lm,random.effects,random.effects.lme4, type=&quot;text&quot;,\n                     column.labels=c(&quot;OLS pooled PLM&quot;,&quot;OLS Pooled LM&quot;,&quot;Random Effects PLM&quot;,&quot;Ra ndomEffects Lme4&quot;), \n                     dep.var.labels = c(&quot;log(wage)&quot;), keep.stat=c(&quot;n&quot;),\n                     keep=c(&quot;edu&quot;,&quot;bla&quot;,&quot;his&quot;,&quot;exp&quot;,&quot;marr&quot;,&quot;union&quot;), align = TRUE, digits = 4)\n\nsummary(Pooled.OLS.biglm)\n</code></pre>\n<pre><code>================================================================================\n                                     Dependent variable:                        \n             -------------------------------------------------------------------\n                                          log(wage)                             \n                 panel           OLS            panel              linear       \n                 linear                         linear          mixed-effects   \n             OLS pooled PLM OLS Pooled LM Random Effects PLM Random Effects Lme4\n                  (1)            (2)             (3)                 (4)        \n--------------------------------------------------------------------------------\neduc           0.0913***      0.0913***       0.0919***           0.0919***     \n                (0.0052)      (0.0052)         (0.0107)           (0.0108)      \n                                                                                \nblack          -0.1392***    -0.1392***       -0.1394***         -0.1394***     \n                (0.0236)      (0.0236)         (0.0477)           (0.0485)      \n                                                                                \nhisp             0.0160        0.0160           0.0217             0.0218       \n                (0.0208)      (0.0208)         (0.0426)           (0.0433)      \n                                                                                \nexper          0.0672***      0.0672***       0.1058***           0.1060***     \n                (0.0137)      (0.0137)         (0.0154)           (0.0155)      \n                                                                                \nI(exper2)      -0.0024***    -0.0024***       -0.0047***         -0.0047***     \n                (0.0008)      (0.0008)         (0.0007)           (0.0007)      \n                                                                                \nmarried        0.1083***      0.1083***       0.0640***           0.0635***     \n                (0.0157)      (0.0157)         (0.0168)           (0.0168)      \n                                                                                \nunion          0.1825***      0.1825***       0.1061***           0.1053***     \n                (0.0172)      (0.0172)         (0.0179)           (0.0179)      \n                                                                                \n--------------------------------------------------------------------------------\nObservations     4,360          4,360           4,360               4,360       \n================================================================================\nNote:                                                *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01\n\n&gt;summary(Pooled.OLS.biglm)\nLarge data regression model: bigglm(formula, data = wagepan, chunksize = 10, sandwich = TRUE)\nSample size =  4360 \nfailed to converge after 15  iterations\n                    Coef    (95%     CI)     SE      p\n(Intercept)       0.0921 -0.0666  0.2507 0.0793 0.2458\neduc              0.0913  0.0808  0.1019 0.0053 0.0000\nblack            -0.1392 -0.1882 -0.0902 0.0245 0.0000\nhisp              0.0160 -0.0234  0.0554 0.0197 0.4158\nexper             0.0672  0.0407  0.0938 0.0133 0.0000\nI(exper^2)       -0.0024 -0.0039 -0.0009 0.0008 0.0017\nmarried           0.1083  0.0778  0.1387 0.0152 0.0000\nunion             0.1825  0.1500  0.2150 0.0163 0.0000\nfactor(year)1981  0.0583 -0.0057  0.1224 0.0320 0.0686\nfactor(year)1982  0.0628 -0.0055  0.1310 0.0341 0.0659\nfactor(year)1983  0.0620 -0.0107  0.1347 0.0364 0.0882\nfactor(year)1984  0.0905  0.0084  0.1725 0.0410 0.0275\nfactor(year)1985  0.1092  0.0215  0.1970 0.0439 0.0128\nfactor(year)1986  0.1420  0.0478  0.2361 0.0471 0.0026\nfactor(year)1987  0.1738  0.0759  0.2718 0.0490 0.0004\nSandwich (model-robust) standard errors\n</code></pre>\n<p>One can easily see that &quot;Pooled.OLS.biglm&quot; is similar to &quot;Pooled.ols&quot; and &quot;Pooled.OLS.biglm&quot; (except for p). That's good.</p>\n<p>How can I make random effects estimation using biglm? Or, if this is not possible, how can I use ff package to be able to deal with plm and large datasets?</p>\n"
	}, {
		"tags": ["r", "shiny", "rhandsontable"],
		"owner": {
			"reputation": 1,
			"user_id": 18398445,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJwTtfif9ohGZbae-seQQfCI_5qMSS-tYaCYa66z=k-s256",
			"display_name": "Yann",
			"link": "https://stackoverflow.com/users/18398445/yann"
		},
		"is_answered": false,
		"view_count": 9,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676558974,
		"creation_date": 1676558974,
		"question_id": 75473970,
		"link": "https://stackoverflow.com/questions/75473970/render-r-handsontable-in-r-shiny-with-a-function",
		"title": "Render R handsontable in r shiny with a function",
		"body": "<p>In this code I create a table with r handsontable when I click on the run button.\nWhat I am tring to do is to make a function to retreive the data from the table and display them when I click on extract button.\nI want to do it with a function because it is part of a bigger app that work with different function.</p>\n<p>Code:</p>\n<pre><code>ui= fluidPage( tabPanel(\n  title = &quot;test&quot;,\n  titlePanel(&quot;test&quot;),\n  sidebarLayout(\n    sidebarPanel(\n      title = &quot;Inputs&quot;,\n      br(),\n      actionButton(&quot;run_button&quot;, &quot;Run Analysis&quot;, icon = icon(&quot;play&quot;))\n    ),\n    mainPanel(\n      \n      tabsetPanel(\n        tabPanel(\n          title = &quot;test parameters&quot;,\n          # Extract button\n          rHandsontableOutput(&quot;table_1&quot;),\n          actionButton(&quot;extract&quot;, &quot;Extract Table&quot;)),\n        tabPanel(\n          title = &quot;View test parameters&quot;,\n          tableOutput(&quot;table_2&quot;)\n        )\n      )\n    )\n  )\n))\n\ntab &lt;- function(dd){\n  \n  dd=values[[&quot;ddd&quot;]]\n  head(dd)\n}\n\n\n\nserver &lt;- function(input, output,session){\n  \n  values &lt;-reactiveValues()\n  \n  observeEvent(input$extract,\n               {\n                 if (!is.null(input$plot_1))\n                 {\n                   #Convert to R object\n                   dd&lt;-hot_to_r(input$plot_1)\n                   values[[&quot;ddd&quot;]] &lt;- dd\n                   View(values[[&quot;ddd&quot;]])\n                 }\n               }\n  )\n  \n  ######Test params plot \n  table_1 &lt;- eventReactive(input$run_button,{\n    \n    DF = data.frame(Parameters = c(&quot;test&quot;,&quot;testee&quot;),\n                    Desirability = rep(NA_integer_),\n                    Importance = rep(NA_integer_),\n                    stringsAsFactors = FALSE)\n    \n    rhandsontable(DF, width = 600, height = 300)\n    \n  })\n  output$table_1 &lt;- renderRHandsontable(table_1())\n\n  #####View test param plot\n  table_2 &lt;- eventReactive(input$run_button,{\n    tab(values[[&quot;ddd&quot;]])\n  })\n  output$table_2 &lt;- renderTable(table_2())\n  \n}\n\nshinyApp(ui = ui, server = server)\n</code></pre>\n"
	}, {
		"tags": ["r", "hash", "memoization", "memoise"],
		"owner": {
			"reputation": 80,
			"user_id": 9808337,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/034dc1e34cb6577da78d4d526fada1bd?s=256&d=identicon&r=PG&f=1",
			"display_name": "Abdirizak",
			"link": "https://stackoverflow.com/users/9808337/abdirizak"
		},
		"is_answered": true,
		"view_count": 23,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"accepted_answer_id": 75473888,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676558684,
		"creation_date": 1676539397,
		"last_edit_date": 1676558088,
		"question_id": 75470140,
		"link": "https://stackoverflow.com/questions/75470140/retrieve-memoised-object-using-readrds-and-hash",
		"title": "Retrieve memoised Object using readRDS() and hash",
		"body": "<p>Consider the following code:</p>\n<pre><code>library(cachem)\nlibrary(memoise)\n\ncache.dir &lt;- &quot;/Users/abcd/Desktop/temp_cache/&quot;\ncache &lt;- cachem::cache_disk(dir = cache.dir, max_size = 1024^2)\n\nfun &lt;- function (x) {x^2}\n\nfun.memo &lt;- memoise(f = fun, cache = cache)\n\nres.1 &lt;- fun.memo(x = 2)\nres.2 &lt;- fun.memo(x = 3)\n</code></pre>\n<p>So far so good. I can compute <code>fun.memo</code> once and retrieve its results later by calling it again.</p>\n<p>Now I have the following &quot;problem&quot;: I have a lengthy script with several memoised function calls. At the end I just want to further process the output of the last function call, which depends on the output of memoised function calls further up in the script. Now it would be nice if I can somehow retrieve the memoised objects directly from the .rds file in <code>cache.dir</code>. This would avoid the lengthy script on top (not for performance reasons [memoise], but to avoid lengthy code). I am thinking about something like:</p>\n<pre><code>setwd(cache.dir)\nres.y &lt;- readRDS(paste0(my.hash.1, &quot;.rds&quot;))\nres.z &lt;- readRDS(paste0(my.hash.2, &quot;.rds&quot;))\n</code></pre>\n<p>However, I can't generate those hashes in the filenames again:</p>\n<pre><code>rlang::hash(x = res.1)\nrlang::hash(x = res.2)\n\nrlang::hash(x = fun)\nrlang::hash(x = fun.memo)\n</code></pre>\n<p>all yield different hashes. It seems that the hash generated within memoise is not the hash that gets written into the .rds filename.</p>\n<p>I know that retrieving the objects like that is sub-optimal since then it is not clear what arguments they resulted from. Still it would be nice to avoid the lengthy code on top. Of course, I could wrap all the preceding code into a function or a script and <code>source()</code> it, but that's not the point here. Any advice?</p>\n"
	}, {
		"tags": ["r", "regression", "prediction", "cox-regression"],
		"owner": {
			"reputation": 13,
			"user_id": 19240492,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/221cd59913e3e17c089a13b34c9f6b85?s=256&d=identicon&r=PG",
			"display_name": "Leen",
			"link": "https://stackoverflow.com/users/19240492/leen"
		},
		"is_answered": false,
		"view_count": 9,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"answer_count": 0,
		"score": 0,
		"last_activity_date": 1676558431,
		"creation_date": 1676556251,
		"last_edit_date": 1676558431,
		"question_id": 75473382,
		"link": "https://stackoverflow.com/questions/75473382/error-relating-to-number-of-rows-using-basehaz-in-prediction-modelling",
		"title": "Error relating to number of rows using basehaz in prediction modelling?",
		"body": "<p>I am developing a prediction model using 524 records with complete data.</p>\n<p>This code below is a sample where everything runs smoothly- I cannot share the data I am using as it is protected but I am using the same code.</p>\n<pre><code>test1 &lt;- list(time=c(4,3,1,1,2,2,3),\n              status=c(1,1,1,0,0,1,0),\n              x=c(0,2,1,1,1,0,0),\n              sex=c(0,0,0,0,1,1,1))\n\na&lt;-coxph(Surv(time, status) ~ x + sex, test1,x=TRUE)\n\nb&lt;-basehaz(a,FALSE)\n\nexp(-b$hazard[test1$time])^exp(a$coef[1]*test1$x+a$coef[2]*test1$sex)\n\n</code></pre>\n<p>In that last line of code, <code>exp(-b$hazard[test1$time])</code> returns 518 results while</p>\n<p><code>exp(a$coef[1]*test1$x+a$coef[2]*test1$sex)</code> returns 524</p>\n<p><code>-b$hazard</code> alone = 518 results and <code>test1$time</code> alone= 524</p>\n<p>If I run the entire thing 518 results show, with the warning message:<br />\n&quot;In exp(-b$hazard[complete$DF.Days_ACCT_followup])^exp(a$coef[1] *  :\nlonger object length is not a multiple of shorter object length&quot;</p>\n<p>I cannot figure out why this is happening, and would appreciate any help.</p>\n"
	}, {
		"tags": ["r", "polynomials"],
		"owner": {
			"reputation": 11,
			"user_id": 15490023,
			"user_type": "registered",
			"profile_image": "https://www.gravatar.com/avatar/5aad5a33f1b7d10604efbd531f6b54db?s=256&d=identicon&r=PG&f=1",
			"display_name": "Previller",
			"link": "https://stackoverflow.com/users/15490023/previller"
		},
		"is_answered": false,
		"view_count": 59,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 1,
		"score": 1,
		"last_activity_date": 1676558283,
		"creation_date": 1676518239,
		"last_edit_date": 1676558283,
		"question_id": 75467576,
		"link": "https://stackoverflow.com/questions/75467576/addition-of-polynomials-with-2-variables",
		"title": "Addition of Polynomials with 2 variables",
		"body": "<p>Function:</p>\n<pre><code>(x^3 - 3*x^2 - 2*x + 7) + (y^2 + 2*y)\n</code></pre>\n<p>Output on Wolfram (which I understand):</p>\n<pre><code>x^3 - 3 x^2 - 2 x + y^2 + 2 y + 7\n</code></pre>\n<p>Output of the code in R: (using the <code>polynomial</code> function in package <code>polynom</code>)</p>\n<pre><code>7 - 2*x^2 + x^3\n</code></pre>\n<p>R code:</p>\n<pre><code>library(polynom)\n\np &lt;- polynomial(c(7,-2,-3, 1))\nq &lt;- polynomial(c(0, 2, 1))\np + q\n</code></pre>\n<p>Entered the code as above in R.</p>\n"
	}, {
		"tags": ["r", "dataframe", "join", "merge", "match"],
		"owner": {
			"reputation": 13,
			"user_id": 20732515,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5PXa8IDt9p10pxssDQ6att2ftR_s7240aWrv-D=k-s256",
			"display_name": "user20732515",
			"link": "https://stackoverflow.com/users/20732515/user20732515"
		},
		"is_answered": false,
		"view_count": 40,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 2,
		"score": 1,
		"last_activity_date": 1676558190,
		"creation_date": 1676555008,
		"last_edit_date": 1676556375,
		"question_id": 75473134,
		"link": "https://stackoverflow.com/questions/75473134/how-to-merge-two-file-in-r-with-the-same-column",
		"title": "How to merge two file in R with the same column?",
		"body": "<p>I want to merge two file in R with the same column <code>ID</code> as below:</p>\n<p>File1:</p>\n<pre><code>ID          feature1      feature2       feature3\nA,B,C       1             100            150\nD,F         2             200            500\nG,R         2             200            600\nH           6             500            800\nS           8             600            700\n</code></pre>\n<p>File2:</p>\n<pre class=\"lang-r prettyprint-override\"><code>ID     feature4    feature5\nA      5           4\nF      6           7\nG      4           3\nH      8           2\nP      2           1\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>  ID          feature1      feature2       feature3     ID     feature4    feature5\n  A,B,C        1              100            150         A          5           4\n  D,F          2              200            500         F          6           7\n  G,R          2              200            600         G          4           3\n  H            6              500            800         H          8           2\n  S            8              600            700         *          *           *\n  *            *               *             *           P          2           1\n</code></pre>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 5923,
			"user_id": 3788557,
			"user_type": "registered",
			"accept_rate": 46,
			"profile_image": "https://www.gravatar.com/avatar/eae41f7bfe2ad0a49a43fb7efe41c1d4?s=256&d=identicon&r=PG&f=1",
			"display_name": "runningbirds",
			"link": "https://stackoverflow.com/users/3788557/runningbirds"
		},
		"is_answered": true,
		"view_count": 6980,
		"down_vote_count": 0,
		"up_vote_count": 8,
		"accepted_answer_id": 53532354,
		"answer_count": 4,
		"score": 8,
		"last_activity_date": 1676557626,
		"creation_date": 1543468059,
		"question_id": 53532217,
		"link": "https://stackoverflow.com/questions/53532217/how-to-expand-ggplot-y-axis-limits-to-include-maximum-value",
		"title": "How to expand ggplot y axis limits to include maximum value",
		"body": "<p>Often in plots the Y axis value label is chopped off below the max value being plotted.  </p>\n\n<pre><code>For example:\n\nlibrary(tidyverse)\nmtcars %&gt;% ggplot(aes(x=mpg, y = hp))+geom_point()\n</code></pre>\n\n<p>I know of scale_y_continous - but I can't figure out a smart way to do this.  Maybe I'm just overthinking things.    I don't wish to mess up the 'smart' breaks that are generated automatically.     </p>\n\n<p>I might try to go about this manually...</p>\n\n<pre><code>  mtcars  %&gt;% ggplot(aes(x=mpg, y=hp, color=as.factor(carb)))+geom_point()  + scale_y_continuous(limits = c(0,375))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wQ3id.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wQ3id.png\" alt=\"enter image description here\"></a></p>\n\n<p>But this doesn't work like I mentioned above because of the 'smart breaks'.  Is there anyway for me to extend the default break interval to 1 more, so that in this case it would be 400?  Of course I would want this to be flexible for whatever dataset I am working with.  </p>\n"
	}, {
		"tags": ["r", "ggplot2"],
		"owner": {
			"reputation": 317,
			"user_id": 835554,
			"user_type": "registered",
			"accept_rate": 60,
			"profile_image": "https://www.gravatar.com/avatar/c327fc18f1049e3cfb76989e76071add?s=256&d=identicon&r=PG",
			"display_name": "caddymob",
			"link": "https://stackoverflow.com/users/835554/caddymob"
		},
		"is_answered": true,
		"view_count": 15036,
		"down_vote_count": 0,
		"up_vote_count": 7,
		"accepted_answer_id": 13260706,
		"answer_count": 4,
		"score": 7,
		"last_activity_date": 1676557572,
		"creation_date": 1352241888,
		"question_id": 13260626,
		"link": "https://stackoverflow.com/questions/13260626/selecting-data-frame-columns-to-plot-in-ggplot2",
		"title": "Selecting data frame columns to plot in ggplot2",
		"body": "<p>I have a big table of data with ~150 columns. I need to make a series of histograms out of about 1/3rd of them. Rather than putting 50 lines of the same plot command in my script, I want to loop over a list telling me which columns to use. Here is a test dataset to illustrate:</p>\n\n<pre><code>d &lt;- data.frame(c(rep(\"A\",5), rep(\"B\",5)),\n                sample(c(1:10), 10, replace=TRUE),     \n                sample(c(1:10), 10, replace=TRUE),     \n                sample(c(1:10), 10, replace=TRUE),     \n                sample(c(1:10), 10, replace=TRUE),     \n                sample(c(1:10), 10, replace=TRUE))\n\ncolnames(d) &lt;- c(\"col1\",\"col2\",\"col3\",\"col4\",\"col5\",\"col6\" )\n\n\nggplot(data=d, aes(col2, fill= col1)) + geom_density(alpha = 0.5)\n</code></pre>\n\n<p>So, rather than writing this a 50 times and replacing the <code>aes()</code> values, I really want to do something more like this...</p>\n\n<pre><code>cols_to_plot &lt;- c(\"col2\",\"col4\",\"col6\")\n\nfor (i in length(cols_to_plot)) {\n  ggplot(data=d, aes(cols_to_plot[i], fill= col1)) + geom_density(alpha = 0.5)\n\n} \n</code></pre>\n\n<p>But of course, this doesn't work... Is there a way to do this kind of thing? </p>\n\n<p>Thanks!</p>\n"
	}, {
		"tags": ["r", "dplyr", "max"],
		"owner": {
			"reputation": 1254,
			"user_id": 11161683,
			"user_type": "registered",
			"profile_image": "https://lh6.googleusercontent.com/-jkFTmS-S6uY/AAAAAAAAAAI/AAAAAAAAAJE/BFyUTFdD9D8/photo.jpg?sz=256",
			"display_name": "Dekike",
			"link": "https://stackoverflow.com/users/11161683/dekike"
		},
		"is_answered": true,
		"view_count": 22,
		"down_vote_count": 0,
		"up_vote_count": 0,
		"accepted_answer_id": 75472021,
		"answer_count": 1,
		"score": 0,
		"last_activity_date": 1676557385,
		"creation_date": 1676546675,
		"last_edit_date": 1676557385,
		"question_id": 75471570,
		"link": "https://stackoverflow.com/questions/75471570/how-to-indicate-a-higher-hierarchy-level-using-dplyr",
		"title": "How to indicate a higher hierarchy level using dplyr?",
		"body": "<p>I have a dataframe (<code>df</code>) in which each row represents the start (<code>Start</code>) and the end (<code>End</code>) of a specific habitat (<code>Habitat</code>) within a transect (<code>Transect</code>) and site (<code>Site</code>) in meters. It is important to note that the length of the transects varies within and among sites. As an example:</p>\n<pre><code>df &lt;- data.frame(Site = c(&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;),\n                 Transect = c(1,1,1,1,2,2,2,2,2,1,1,1,1,2,2,2,2),\n                 Habitat = c(&quot;X&quot;,&quot;Y&quot;,&quot;X&quot;,&quot;Z&quot;,&quot;Z&quot;,&quot;Y&quot;,&quot;X&quot;,&quot;Z&quot;,&quot;X&quot;,&quot;X&quot;,&quot;Z&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;),\n                 Start=c(0,2.8,3.4,5,0,1.5,5,8,12,0,2,5,7.5,0,4,8,12),\n                 End=c(2.8,3.4,5,10,1.5,5,8,12,15,2,5,7.5,20,4,8,12,15))\n\ndf\n\n  Site Transect Habitat Start  End\n1     A        1       X   0.0  2.8  # Habitat `X` is between the meters 0 and 2.8\n2     A        1       Y   2.8  3.4  # Habitat `Y` is between the meters 2.8 and 3.4\n3     A        1       X   3.4  5.0  # Habitat `X` is between the meters 3.4 and 5.0\n4     A        1       Z   5.0 10.0  # Habitat `Z` is between the meters 5 and 10.0\n5     A        2       Z   0.0  1.5\n6     A        2       Y   1.5  5.0\n7     A        2       X   5.0  8.0\n8     A        2       Z   8.0 12.0\n9     A        2       X  12.0 15.0\n10    B        1       X   0.0  2.0\n11    B        1       Z   2.0  5.0\n12    B        1       X   5.0  7.5\n13    B        1       Y   7.5 20.0\n14    B        2       Z   0.0  4.0\n15    B        2       X   4.0  8.0\n16    B        2       Y   8.0 12.0\n17    B        2       Z  12.0 15.0\n</code></pre>\n<p>In this example, for instance, habitat <code>X</code> is twice in the transect <code>1</code> in site <code>A</code>. Also, we can observe that the total length of transects <code>1</code> and <code>2</code> in site <code>A</code> are 10 and 15 m, respectively. In site <code>B</code>, the total length of the transects <code>1</code> and <code>2</code> are <code>20</code> and <code>15</code> meters, respectively.</p>\n<p>What I want is to calculate per <code>Site</code> and <code>Transect</code> the percentage that each <code>Habitat</code> represents with respect to all the habitats presented in terms of meters. For example, in transect <code>1</code> and site <code>A</code> habitat <code>X</code> represents 4.4 meters of a total length of 10 meters for transect <code>1</code>. In site <code>A</code> and transect <code>2</code>, habitat <code>X</code> has 6 meters from a total length of 15 meters for transect <code>B</code>.</p>\n<p>To this aim, the first thing I do is to calculate the length (<code>Length</code>) in meters of each habitat record (=row)</p>\n<pre><code>df$Length &lt;- df$End - df$Start\n</code></pre>\n<p>Then, what I want is to calculate by site and transect the percentage that the meters of an habitat represents with respect the rest of habitats and the total length of the transect. I tried this:</p>\n<pre><code>df2 &lt;- as.data.frame(df %&gt;% group_by(Site, Transect, Habitat) %&gt;% summarise(Porcentage = (sum(Length)/max(End))*100))\n\n</code></pre>\n<p>I want to change <code>max(End)</code> to another expression that represents the total length OF THE TRANSECT. Right now <code>max(End)</code> represents the last meter (<code>End</code>) in which a specific habitat was present. How can I include in the code above &quot;maximum value of <code>End</code>&quot; but within of a specific <code>Site</code> and <code>Transect</code>, but not for a specific <code>Habitat</code>.</p>\n<p>How can I do it? My desired output would be this:</p>\n<pre><code>   Site Transect Habitat Percentage\n1     A        1       X       44.0\n2     A        1       Y        6.0\n3     A        1       Z       50.0\n4     A        2       X       40.0\n5     A        2       Y       23.3\n6     A        2       Z       36.7\n7     B        1       X       22.5\n8     B        1       Y       62.5\n9     B        1       Z       15.0\n10    B        2       X       26.7\n11    B        2       Y       26.7\n12    B        2       Z       46.7\n</code></pre>\n<p>Does anyone know how to do it?</p>\n<p>Thanks in advance!</p>\n"
	}, {
		"tags": ["r", "function", "replace"],
		"owner": {
			"reputation": 41,
			"user_id": 17452435,
			"user_type": "registered",
			"profile_image": "https://lh3.googleusercontent.com/a/AATXAJzY_Te3aW7wdS4A2OD-LZfD2kdH8pqpGS9JlD5D=k-s256",
			"display_name": "jaykay",
			"link": "https://stackoverflow.com/users/17452435/jaykay"
		},
		"is_answered": true,
		"view_count": 27,
		"down_vote_count": 0,
		"up_vote_count": 2,
		"answer_count": 1,
		"score": 2,
		"last_activity_date": 1676557274,
		"creation_date": 1676555176,
		"question_id": 75473166,
		"link": "https://stackoverflow.com/questions/75473166/r-function-to-to-search-and-replace-text-in-a-column",
		"title": "R function to to search and replace text in a column",
		"body": "<p>#I'm seeking to write code that takes a column with character values (e.g. ALA3=VAL20) and converts it to a specific single letter corresponding to that three letter code (e.g. A3=V20). I attempted using the following function, but seem to be having trouble:</p>\n<pre><code>    substitute_codes &lt;- function(data, col_name) {\n  # Create a dictionary of the code substitutions\n  code_dict &lt;- c(&quot;ALA&quot; = &quot;A&quot;, &quot;ARG&quot; = &quot;R&quot;, &quot;ASN&quot; = &quot;N&quot;, &quot;ASP&quot; = &quot;D&quot;,\n                 &quot;CYS&quot; = &quot;C&quot;, &quot;GLU&quot; = &quot;E&quot;, &quot;GLN&quot; = &quot;Q&quot;, &quot;GLY&quot; = &quot;G&quot;,\n                 &quot;HIS&quot; = &quot;H&quot;, &quot;ILE&quot; = &quot;I&quot;, &quot;LEU&quot; = &quot;L&quot;, &quot;LYS&quot; = &quot;K&quot;,\n                 &quot;MET&quot; = &quot;M&quot;, &quot;PHE&quot; = &quot;F&quot;, &quot;PRO&quot; = &quot;P&quot;, &quot;SER&quot; = &quot;S&quot;,\n                 &quot;THR&quot; = &quot;T&quot;, &quot;TRP&quot; = &quot;W&quot;, &quot;TYR&quot; = &quot;Y&quot;, &quot;VAL&quot; = &quot;V&quot;)\n  \n  # Apply the substitutions using gsub()\n  data[[col_name]] &lt;- gsub(paste(names(code_dict), collapse = &quot;|&quot;), \n                           paste(code_dict, collapse = &quot;&quot;), \n                           data[[col_name]])\n  \n  return(data)\n}\n\n</code></pre>\n<p>But I get results like the following from ALA3=VAL20 to  ARNDCEQGHILKMFPSTWYV3=ARNDCEQGHILKMFPSTWYV20</p>\n"
	}, {
		"tags": ["r", "command-line", "quarto"],
		"owner": {
			"reputation": 173,
			"user_id": 12307860,
			"user_type": "registered",
			"profile_image": "https://lh5.googleusercontent.com/-hAfz0OSPUCA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdWDeSxJt9g8P5SZimF_BRnJ9vC8A/photo.jpg?sz=256",
			"display_name": "James Crumpler",
			"link": "https://stackoverflow.com/users/12307860/james-crumpler"
		},
		"is_answered": false,
		"view_count": 45,
		"down_vote_count": 0,
		"up_vote_count": 1,
		"answer_count": 0,
		"score": 1,
		"last_activity_date": 1676557174,
		"creation_date": 1676495655,
		"last_edit_date": 1676557174,
		"question_id": 75465493,
		"link": "https://stackoverflow.com/questions/75465493/quarto-render-with-cmd-file",
		"title": "Quarto render with .cmd file",
		"body": "<p>Wrote a previous question related to rendering a quarto document with a .cmd file (<a href=\"https://stackoverflow.com/questions/73532189/quarto-render-broken-from-bat-cmd-file\">quarto_render broken from .bat / .cmd file</a>), but with the recent updates to RStudio, the pathing has changed as well as the commands needed for rendering a quarto doc as html, and I am once again stuck.</p>\n<p>Much like before, this is a multi-step process, though I think I have a better understanding, thanks to the previous responses. For one thing, learned that the quarto render executable is from RStudio, not from R, which means updates to the RStudio IDE have a greater impact on the rendering process than R language updates.</p>\n<p><strong>RStudio version</strong></p>\n<blockquote>\n<p>(RStudio 2022.12.0+353 &quot;Elsbeth Geranium&quot; Release (..., 2022-12-03) for Windows Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) RStudio/2022.12.0+353 Chrome/102.0.5005.167 Electron/19.1.3 Safari/537.36)</p>\n</blockquote>\n<p><strong>R Version</strong> (4.2.2)</p>\n<p><strong>File 1 - test_doc.qmd</strong></p>\n<ul>\n<li>Create a new .qmd document (I called mine test_doc.qmd).</li>\n<li>Set to an output of html, and kept default YAML and other text. No modifications.</li>\n</ul>\n<p><strong>File 2 - test.cmd</strong></p>\n<p>After running the first two lines in the command prompt, and PAUSE the Error output is written below.  This is a vexing error, since I've tried various iterations of the code below to account for this error, but then keep getting other error messages</p>\n<pre><code>{Command Prompt}\n\nD:\nD:\\&gt;&quot;D:\\Program Files\\RStudio\\resources\\app\\bin\\quarto\\bin\\quarto.exe&quot; render &quot;C:\\Users\\%usernmae%\\OneDrive - ...\\Projects\\Test\\test_doc.qmd&quot; PAUSE\n\nERROR: Error executing 'Rscript': program not found\n\nUnable to locate an installed version of R.\nInstall R from https://cloud.r-project.org/\n</code></pre>\n<p>Results of Quarto Check in RStudio Terminal</p>\n<pre><code>[&gt;] Checking Quarto installation......OK\n      Version: 1.2.269\n      Path: d:\\Program Files\\RStudio\\resources\\app\\bin\\quarto\\bin\n      CodePage: 1252\n\n[&gt;] Checking basic markdown render....OK\n\n[&gt;] Checking Python 3 installation....(None)\n\n      Unable to locate an installed version of Python 3.\n      Install Python 3 from https://www.python.org/downloads/\n\n[&gt;] Checking R installation...........OK\n      Version: 4.2.2\n      Path: D:/Program Files/R/R-4.2.2\n      LibPaths:\n        - D:/Program Files/R/R-4.2.2/library\n      rmarkdown: 2.20\n\n[&gt;] Checking Knitr engine render......OK\n</code></pre>\n<p>Results of Quarto Check in Command Prompt</p>\n<pre><code>{Command Prompt}\nD:\\&gt;&quot;D:\\Program Files\\RStudio\\resources\\app\\bin\\quarto\\bin\\quarto.exe&quot; check\n\n[&gt;] Checking Quarto installation......OK\n      Version: 1.2.269\n      Path: D:\\Program Files\\RStudio\\resources\\app\\bin\\quarto\\bin\n      CodePage: 1252\n\n[&gt;] Checking basic markdown render....OK\n\n[&gt;] Checking Python 3 installation....(None)\n\n      Unable to locate an installed version of Python 3.\n      Install Python 3 from https://www.python.org/downloads/\n\n[&gt;] Checking R installation...........(None)\n\n      Unable to locate an installed version of R.\n      Install R from https://cloud.r-project.org/\n</code></pre>\n<p>Although, there is an install of 4.2.2 located in the D drive as well...</p>\n<p>and <code>quarto.exe --help</code> in RStudio Terminal</p>\n<pre><code>quarto.exe --help\n\n  Usage:   quarto\n  Version: 1.2.269\n\n  Description:\n\n    Quarto CLI\n\n  Options:\n\n    -h, --help     - Show this help.\n    -V, --version  - Show the version number for this program.\n\n  Commands:\n\n    render          [input] [args...]     - Render files or projects to various document types.\n    preview         [file] [args...]      - Render and preview a document or website project.\n    serve           [input]               - Serve a Shiny interactive document.\n    create          [type] [commands...]  - Create a Quarto project or extension\n    create-project  [dir]                 - Create a project for rendering multiple documents\n    convert         &lt;input&gt;               - Convert documents to alternate representations.\n    pandoc          [args...]             - Run the version of Pandoc embedded within Quarto.\n    run             [script] [args...]    - Run a TypeScript, R, Python, or Lua script.\n    add             &lt;extension&gt;           - Add an extension to this folder or project\n    install         [target...]           - Installs an extension or global dependency.\n    publish         [provider] [path]     - Publish a document or project. Available providers include:\n    check           [target]              - Verify correct functioning of Quarto installation.\n    help            [command]             - Show this help or the help of a sub-command.\n\n</code></pre>\n<p>Results in Command Prompt</p>\n<pre><code>{Command Prompt}\nD:\\&gt;&quot;D:\\Program Files\\RStudio\\resources\\app\\bin\\quarto\\bin\\quarto.exe&quot; --help\n\n  Usage:   quarto\n  Version: 1.2.269\n\n  Description:\n\n    Quarto CLI\n\n  Options:\n\n    -h, --help     - Show this help.\n    -V, --version  - Show the version number for this program.\n\n  Commands:\n\n    render          [input] [args...]     - Render files or projects to various document types.\n    preview         [file] [args...]      - Render and preview a document or website project.\n    serve           [input]               - Serve a Shiny interactive document.\n    create          [type] [commands...]  - Create a Quarto project or extension\n    create-project  [dir]                 - Create a project for rendering multiple documents\n    convert         &lt;input&gt;               - Convert documents to alternate representations.\n    pandoc          [args...]             - Run the version of Pandoc embedded within Quarto.\n    run             [script] [args...]    - Run a TypeScript, R, Python, or Lua script.\n    add             &lt;extension&gt;           - Add an extension to this folder or project\n    install         [target...]           - Installs an extension or global dependency.\n    publish         [provider] [path]     - Publish a document or project. Available providers include:\n    check           [target]              - Verify correct functioning of Quarto installation.\n    help            [command]             - Show this help or the help of a sub-command.\n</code></pre>\n<p>Needless to say, any help with this would be greatly appreciated.  Have tried variations on the theme above, but am really struggling with figuring this process out.  Thank you for the assist!</p>\n"
	}]
}